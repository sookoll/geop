{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/geop/components/bookmark/Bookmark.styl?cf8c","webpack:///./src/app.styl?8df7","webpack:///./src/geop/components/map/MapEngine.styl?70a6","webpack:///./src/geop/components/sidebar/SideBar.styl?04e2","webpack:///./src/geop/components/geocache/Filter.styl?60aa","webpack:///./src/geop/components/geocache/Geotrip.styl?be7b","webpack:///./src/geop/components/geocache/Geocache.styl?dbef","webpack:///./src/geop/components/osmedit/OSMEdit.styl?b9cc","webpack:///./src/geop/components/layer/LayerManager.styl?1171","webpack:///./src/geop/components/search/Search.styl?888a","webpack:///./src/geop/components/header/Header.styl","webpack:///./src/geop/components/settings/Info.styl?5243","webpack:///./src/geop/components/settings/Config.styl?22eb","webpack:///./src/geop/components/scaleline/ScaleLine.styl?f942","webpack:///./src/geop/components/mouseposition/MousePosition.styl?4223","webpack:///./src/geop/components/statusbar/StatusBar.styl?9e89","webpack:///./src/geop/components/toolbar/Compass.styl?1fbf","webpack:///./src/geop/components/geolocation/GeoLocation.styl?4d53","webpack:///./src/geop/components/toolbar/ToolBar.styl?5f4c","webpack:///./src/geop/components/contextmenu/ContextMenu.styl?0776","webpack:///./src/geop/components/measure/Measure.styl?b1ab","webpack:///./src/geop/components/featureinfo/Tooltip.styl?7626","webpack:///./src/geop/components/featureinfo/Popup.styl?f8b4","webpack:///./src/geop/Geop.styl?516e","webpack:///./src/geop/utilities/b64encode.js","webpack:///./src/geop/utilities/util.js","webpack:///./src/geop/utilities/permalink.js","webpack:///./src/config/settings.js","webpack:///./src/config/layers.js","webpack:///./src/geop/utilities/store.js","webpack:///./src/geop/Component.js","webpack:///./src/geop/utilities/translate.js","webpack:///./src/geop/utilities/log.js","webpack:///./src/geop/components/bookmark/Bookmark.js","webpack:///./src/geop/utilities/session.js","webpack:///./src/geop/components/layer/StyleBuilder.js","webpack:///./src/geop/components/layer/LayerCreator.js","webpack:///./src/geop/components/map/MapEngine.js","webpack:///./src/geop/components/sidebar/Sidebar.js","webpack:///./src/geop/components/geocache/GeocacheLoader.js","webpack:///./src/geop/components/geocache/Filter.js","webpack:///./src/geop/components/geocache/Geotrip.js","webpack:///./src/geop/components/geocache/GeopeitusJSON.js","webpack:///./src/geop/components/geocache/GeocacheGPX.js","webpack:///./src/geop/components/geocache/Geocache.js","webpack:///./src/geop/components/osmedit/OSMEdit.js","webpack:///./src/geop/components/layer/WMSLayer.js","webpack:///./src/geop/components/layer/GPXFormat.js","webpack:///./src/geop/utilities/xml2.js","webpack:///./src/geop/components/layer/FileLayer.js","webpack:///./src/geop/components/layer/UrlLayer.js","webpack:///./src/geop/components/layer/LayerManager.js","webpack:///./src/config/coordinate.js","webpack:///./src/geop/Provider.js","webpack:///./src/geop/components/search/Coordinate.js","webpack:///./src/geop/components/search/Nominatim.js","webpack:///./src/geop/components/search/Feature.js","webpack:///./src/geop/components/search/Search.js","webpack:///./src/geop/components/header/Header.js","webpack:///./src/geop/components/settings/Info.js","webpack:///./src/geop/components/settings/Config.js","webpack:///./src/geop/components/settings/SettingsBar.js","webpack:///./src/geop/components/scaleline/ScaleLine.js","webpack:///./src/geop/components/fullscreen/FullScreen.js","webpack:///./src/geop/components/mouseposition/MousePosition.js","webpack:///./src/geop/components/statusbar/StatusBar.js","webpack:///./src/geop/components/toolbar/Zoom.js","webpack:///./src/geop/components/toolbar/Compass.js","webpack:///./src/geop/components/geolocation/GeoLocation.js","webpack:///./src/geop/components/toolbar/ToolBar.js","webpack:///./src/geop/components/contextmenu/ContextMenu.js","webpack:///./src/geop/components/streetview/StreetView.js","webpack:///./src/geop/components/measure/Measure.js","webpack:///./src/geop/components/featureinfo/Tooltip.js","webpack:///./src/geop/components/featureinfo/Popup.js","webpack:///./src/geop/Geop.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","parentHotUpdateCallback","window","hotAvailableFilesMap","hotRequestedFilesMap","hotUpdate","hotWaitingFiles","hotChunksLoading","hotUpdateDownloaded","hotAddUpdateChunk","hotCurrentChildModule","hotApplyOnUpdate","hotCurrentHash","hotRequestTimeout","hotCurrentModuleData","hotCurrentParents","hotCurrentParentsTemp","hotCreateModule","hot","_acceptedDependencies","_declinedDependencies","_selfAccepted","_selfDeclined","_disposeHandlers","_main","active","accept","dep","callback","undefined","decline","dispose","addDisposeHandler","removeDisposeHandler","idx","indexOf","check","hotCheck","hotApply","status","l","hotStatus","hotStatusHandlers","addStatusHandler","removeStatusHandler","hotSetStatus","newStatus","hotDeferred","hotUpdateNewHash","hotWaitingFilesMap","toModuleId","id","Error","requestTimeout","Promise","resolve","reject","XMLHttpRequest","request","requestPath","p","open","timeout","send","err","onreadystatechange","readyState","update","JSON","parse","responseText","e","then","c","h","promise","hotEnsureUpdateChunk","head","document","getElementsByTagName","script","createElement","charset","src","appendChild","hotDownloadUpdateChunk","deferred","outdatedModules","options","cb","module","getAffectedStuff","updateModuleId","outdatedDependencies","queue","slice","map","chain","queueItem","pop","installedModules","type","parents","parentId","parent","concat","addAllToSet","a","b","item","appliedUpdate","warnUnexpectedRequire","console","warn","abortError","doApply","doDispose","chainInfo","join","onDeclined","ignoreDeclined","onUnaccepted","ignoreUnaccepted","onAccepted","onDisposed","outdatedSelfAcceptedModules","errorHandler","keys","forEach","hotDisposeChunk","dependency","moduleOutdatedDependencies","disposeHandlers","children","child","error","callbacks","onErrored","dependencyId","ignoreErrored","err2","originalError","0","exports","me","fn","ObjectFactory","name","configurable","enumerable","get","set","value","defineProperty","finishChunkLoading","t","mode","hotCreateRequire","m","d","getter","o","r","Symbol","toStringTag","__esModule","ns","create","key","bind","n","object","property","jsonpArray","oldJsonpFunction","content","hmr","transform","insertInto","locals","newContent","b64encode","str","aBytes","nMod3","sB64Enc","nLen","nUint24","nIdx","String","fromCharCode","uint6ToB64","substr","base64EncArr","sDOMStr","nChr","nStrLen","nArrLen","nMapIdx","charCodeAt","Uint8Array","nChrIdx","strToUTF8Arr","nUint6","noSleep","NoSleep","debugStore","copy","el","style","position","left","body","select","successful","execCommand","removeChild","gpxExport","fset","createEvent","initMouseEvent","setAttribute","dispatchEvent","file","GPX","writeFeatures","enableNoSleep","enable","removeEventListener","radToDeg","rad","Math","PI","degToRad","deg","scaleFactor","lonlat","cos","parseSearch","search","replace","decodeURIComponent","parseURL","href","match","protocol","host","hostname","port","pathname","hash","query","uid","random","toString","hexToRgbA","hex","test","substring","split","formatLength","line","getLength","round","formatArea","polygon","area","getArea","formatTime","time","Date","month","getMonth","day","getDate","getFullYear","deepCopy","json","stringify","shouldUpdate","state","oldURL","newURL","events","parseHash","parsed","parts","newHash","assign","k","buildHash","history","pushState","onchange","viewConfToPermalink","center","zoom","parseInt","rotation","baseLayer","app","locale","layerManager","searchEnabled","locateEnabled","mouseCoordinates","settings","tooltip","featureInfo","scaleLine","streetView","measureTool","fullScreen","mousePosition","geoLocation","shareState","shareOnlyTripFeatures","settingsTabOpen","debug","debugFile","extent","projection","minZoom","maxZoom","clustered","apiUrls","streetview","ideditor","nominatim","jsonstore","qrcode","geocache","authUrl","downloadUrl","page","geojson","gpx","gpxActive","gpxAll","cacheUrl","radiusStyle","maxResolution","radius","newCacheDays","waypointMaxResolution","overviewMinResolution","exportFileName","mapping","fstatusJSON","1","2","fstatusGPX","Geocache","Geocache Found","Geocache Owner","Tavaline aare","Multiaare","Veebikaamera","Virtuaalne aare","Sündmusaare","Asukohata (tagurpidi) aare","Mõistatusaare","Kirjakastiaare","KusMaLäen","container","mikro","väike","normaalne","suur","muu","filter","fstatus","newCache","styles","base","text","class","font","textBaseline","fill","color","stroke","width","overview","Geocache|Traditional Cache","Geocache|Multi-cache","Geocache|Webcam Cache","Geocache|Virtual Cache","Geocache|Event Cache","Geocache|Locationless Cache","Geocache|Unknown Cache","Geocache|Letterbox Hybrid","Geocache|Whereigo Cache","Waypoint|Parking Area","Waypoint|Reference Point","Waypoint|Stages of a Multicache","Waypoint|Physical Stage","Waypoint|Virtual Stage","Waypoint|Final Location","Waypoint|Trailhead","Not Found","Found","Owner","New Cache","layers","baseLayers","osm","title","url","crossOrigin","photo","imagerySet","makaart","minResolution","params","LAYERS","TILED","FORMAT","VERSION","tileSize","gutter","mapkaart","opacity","maorto","okaart","overlays","storeAvailable","indexedDB","getAppState","_ref","regeneratorRuntime","mark","_callee","storageConf","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","val","wrap","_context","prev","next","iterator","done","sent","t0","return","finish","stop","this","_x","arguments","setState","permanent","handler","getState","listener","clearState","clear","Component","target","_classCallCheck","components","append","render","_this","destroy","remove","store","texts","initLocale","log","msg","miniToastr","success","info","setTimeout","init","Bookmark","Bookmark_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","$","modal","bookmarks","bookmark","getPermalink","on","preventDefault","share","openModal","currentTarget","stopPropagation","delete","closest","find","onPermalinkChange","permalink","reloadApp","html","_this2","catch","appState","xhr","abort","ajax","crossDomain","JSONP","pack","formatState","dataType","contentType","ok","fail","statusText","message","_this3","location","origin","bookmarkUrl","attr","QRious","element","size","_get","_toConsumableArray","_defineProperty","app_bookmarks","app_bookmark_loaded","layer_layers","layer","features","f","geocache_trip_ids","layer_overlays","getBookmarkState","unpack","initConf","conf","storageState","bookmarkState","t1","appConf","mapConf","layersConf","_x2","buildOLStyle","olStyle","Stroke","Fill","Circle","RegularShape","Icon","Text","image","getDefaultStyle","Style","createStyle","feature","resolution","Array","isArray","dataProjection","sources","XYZ","TileWMS","ImageWMS","Bing","Vector","formats","GeoJSONFormat","GroupLayer","LayerGroup","ImageLayer","opts","LayerCreator_classCallCheck","source","LayerCreator_possibleConstructorReturn","LayerCreator_getPrototypeOf","LayerImage","TileLayer","sourceOpts","projExtent","getProjection","getExtent","startResolution","getWidth","resolutions","range","ii","pow","tileGrid","TileGrid","LayerTile","FeatureLayer","readFeatures","featureProjection","updateWhileAnimating","updateWhileInteracting","LayerVector","createLayer","layerConf","arr","inputConf","visible","setVisible","layerType","icon","setMinResolution","setMaxResolution","setOpacity","proj4","defs","register","setExtent","MapEngine","MapEngine_classCallCheck","MapEngine_possibleConstructorReturn","MapEngine_getPrototypeOf","format","activeBaseLayer","controls","overlay","permalinkToViewConf","createBaseLayers","baselayer","createLayers","createOverlays","getLayers","storeLayers","layerId","updateStore","view","viewConf","getView","animate","fromLonLat","duration","createMap","getResolution","toLonLat","getCenter","getZoom","getRotation","setPermalink","isNaN","Number","Map","querySelector","moveTolerance","pixelRatio","View","activeBaseLayerId","_this4","addBaseLayer","_this5","addLayer","_this6","addOverlay","group","getArray","getLayer","collection","writeFeaturesObject","getSource","getFeatures","setTarget","MapEngine_get","Sidebar","Sidebar_classCallCheck","Sidebar_possibleConstructorReturn","Sidebar_getPrototypeOf","shadow","trigger","activeComponent","renderComponents","props","openSidebar","closeSidebar","addClass","removeClass","tabTarget","contentTarget","instances","plug","tab","btnTextVisible","GeocacheLoader","GeocacheLoader_classCallCheck","GeocacheLoader_possibleConstructorReturn","GeocacheLoader_getPrototypeOf","cacheConf","trim","prop","keyCode","txt","addCaches","fixme","circle","Filter","Filter_classCallCheck","Filter_possibleConstructorReturn","Filter_getPrototypeOf","createConf","buildPropertyList","renderFilter","is","forEachFeature","values","getProperties","getChecked","count","valid","checked","serializeArray","len","Geotrip","Geotrip_classCallCheck","Geotrip_possibleConstructorReturn","Geotrip_getPrototypeOf","routeLayer","Collection","loadState","getGeometry","Point","initEvents","renderTrip","setMap","getCoordinates","coords","coord","addFeature","Feature","LineString","Sortable","draggable","handle","onUpdate","reorderTrip","getId","zoomTo","clearTrip","export","order","_loop","insertAt","each","li","reorderCollection","ids","getTripFeaturesFromGroup","clone","proj","factory","geom","distance","trimLine","lineSliceAlong","coordinates","setCoordinates","geometry","dx","dy","atan2","shape","points","rotateWithView","angle","getLastCoordinate","GeopeitusJSON","formatFeatures","today","unset","date","testDate","setId","GeocacheGPX","wpt","cacheData","user","owner","difficulty","terrain","Geocache_classCallCheck","Geocache_possibleConstructorReturn","Geocache_getPrototypeOf","styleCache","styleConfig","currentUser","listenLayers","featureCount","sidebar","getComponent","scaleF","layersPick","checkLayer","registerLayer","isGeopeitusJSON","geopeitusJSON","isCacheGPX","geocacheGPX","stat","setStyle","styleGeocache","geotrip","inTrip","styleType","overviewStyle","def","zIndex","OSMEdit","OSMEdit_classCallCheck","OSMEdit_possibleConstructorReturn","OSMEdit_getPrototypeOf","isRow","WMSLayer","WMSLayer_classCallCheck","WMSLayer_possibleConstructorReturn","WMSLayer_getPrototypeOf","layer_conf","layer_conf_params","parsedURL","querystring","urlComponents","SRS","srs","WMSLayer_get","NAMESPACE_URIS","LINK_PARSERS","makeStructureNS","makeObjectPropertySetter","readString","GPX_PARSERS","rte","makeArrayPusher","node","objectStack","pushParseAndPop","flatCoordinates","layoutOptions","RTE_PARSERS","layout","applyLayoutOptions","transformWithOptions","setProperties","trk","ends","TRK_PARSERS","MultiLineString","WPT_PARSERS","appendCoordinate","xml2js","xml","obj","nodeType","attributes","attribute","nodeName","nodeValue","hasChildNodes","subitem","childNodes","old","ele","readDecimal","readDateTime","magvar","geoidheight","cmt","desc","link","parseLink","sym","fix","sat","readNonNegativeInteger","hdop","vdop","pdop","ageofdgpsdata","dgpsid","extensions","parseExtensions","number","rtept","RTEPT_PARSERS","rteValues","trkseg","parseNode","TRKSEG_PARSERS","trkpt","TRKPT_PARSERS","trkValues","GPXFormat","GPXFormat_classCallCheck","GPXFormat_possibleConstructorReturn","GPXFormat_getPrototypeOf","includes","namespaceURI","localName","getReadOptions","handleReadExtensions_","getAttribute","parseFloat","hasZ","hasM","GeometryLayout","XY","stride","XYZM","XYM","FileLayer","FileLayer_classCallCheck","FileLayer_possibleConstructorReturn","FileLayer_getPrototypeOf","File","FileReader","FileList","Blob","fileTypes","kml","KMLFormat","addDragNDrop","files","filename","ext","toLowerCase","reader","onload","readAsText","added","getInteractions","DragAndDrop","dragAndDropInteraction","formatConstructors","addInteraction","randomColor","getRandomColor","luminosity","UrlLayer","UrlLayer_classCallCheck","UrlLayer_possibleConstructorReturn","UrlLayer_getPrototypeOf","bbox","loadFeaturesFromUrl","addMarker","fitTo","fit","padding","trip","caches","properties","markers","cacheLayer","extend","markerLayer","coordString","LayerManager","LayerManager_classCallCheck","LayerManager_possibleConstructorReturn","LayerManager_getPrototypeOf","handlers","wms","urlLayer","baseLayerId","changeBaseLayer","LayerManager_get","toggleLayer","removeLayer","layerVisible","getVisible","renderLayerGroup","dropdown","groupId","_map","dividerAdded","config_coordinate","regexp","srid","srname","matches","Provider","Coordinate","Coordinate_classCallCheck","Coordinate_possibleConstructorReturn","Coordinate_getPrototypeOf","mgrs","toPoint","results","toGeoJSON","provider","Nominatim_classCallCheck","Nominatim_possibleConstructorReturn","Nominatim_getPrototypeOf","geocode","q","countrycodes","context","boundingbox","place_id","display_name","lon","lat","Feature_classCallCheck","Feature_possibleConstructorReturn","Feature_getPrototypeOf","searchFeatures","getAllFeatures","RegExp","VectorLayer","jsonFeature","writeFeatureObject","Search","Search_classCallCheck","Search_possibleConstructorReturn","Search_getPrototypeOf","providers","CoordinateProvider","FeatureProvider","NominatimProvider","Search_get","resultsEl","toggleClass","transformExtent","htmlArr","handleFeatures","counter","searchStart","some","finally","searchEnd","Header","Header_classCallCheck","Header_possibleConstructorReturn","Header_getPrototypeOf","lyrmngr","Info","Info_classCallCheck","Info_possibleConstructorReturn","Info_getPrototypeOf","Config","Config_classCallCheck","Config_possibleConstructorReturn","Config_getPrototypeOf","deferredPrompt","addEventListener","disable","logs","blob","saveAs","show","hide","prompt","userChoice","choiceResult","outcome","SettingsBar","SettingsBar_classCallCheck","SettingsBar_possibleConstructorReturn","SettingsBar_getPrototypeOf","ScaleLine","ScaleLine_classCallCheck","ScaleLine_possibleConstructorReturn","ScaleLine_getPrototypeOf","control","ScaleLineControl","className","addControl","FullScreen","FullScreen_classCallCheck","FullScreen_possibleConstructorReturn","FullScreen_getPrototypeOf","toggle","toggleState","fullscreenEnabled","webkitFullscreenEnabled","msFullscreenEnabled","mozFullScreenEnabled","off","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","MousePosition","MousePosition_classCallCheck","MousePosition_possibleConstructorReturn","MousePosition_getPrototypeOf","animationEl","coordFormats","coordinateFormat","coordinate","toStringHDMS","forward","lock","lastCoord","Overlay","positioning","onclick","clicked","onClick","createMarker","onBtnClick","closeOnClick","activate","setProjection","setCoordinateFormat","MousePositionControl","undefinedHTML","removeControl","un","readFeature","setPosition","StatusBar","StatusBar_classCallCheck","StatusBar_possibleConstructorReturn","StatusBar_getPrototypeOf","fullscreen","scaleline","mouseposition","Zoom","Zoom_classCallCheck","Zoom_possibleConstructorReturn","Zoom_getPrototypeOf","elPlus","elMinus","anchor","Compass","Compass_classCallCheck","Compass_possibleConstructorReturn","Compass_getPrototypeOf","removed","rotateIcon","viewRotation","fadeOut","css","-webkit-transform","-moz-transform","GeoLocation","GeoLocation_classCallCheck","GeoLocation_possibleConstructorReturn","GeoLocation_getPrototypeOf","track","locator","Geolocation","trackingOptions","enableHighAccuracy","maximumAge","isFirst","lastPosition","lastHeading","updateView","disableTracking","geopLocator","navigator","geolocation","addFeatures","positionChanged","headingChanged","accuracyChanged","speedChanged","errorText","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","setTracking","getPosition","setCenter","setZoom","heading","getHeading","getAccuracy","speed","getSpeed","getSize","sin","getCenterWithHeading","setRotation","positionStyle","trackingStyle","trackStyle","lineDash","accuracyStyle","getImage","ToolBar","ToolBar_classCallCheck","ToolBar_possibleConstructorReturn","ToolBar_getPrototypeOf","compass","ContextMenu","ContextMenu_classCallCheck","ContextMenu_possibleConstructorReturn","ContextMenu_getPrototypeOf","items","autoPan","autoPanMargin","offset","popover","getViewport","getEventCoordinate","forEachFeatureAtPixel","getEventPixel","getContent","popContent","definition","onShow","tip","onHide","cont","placement","animation","template","StreetView","StreetView_classCallCheck","StreetView_possibleConstructorReturn","StreetView_getPrototypeOf","formatted","reverse","click","Measure","Measure_classCallCheck","Measure_possibleConstructorReturn","Measure_getPrototypeOf","measureType","snapTolerance","snapFeatures","drawing","sketch","measureLine","interaction","snap","modify","Modify","insertVertexCondition","never","always","deleteCondition","doubleClick","onmodify","mousemoved","reset","setGeometry","enableClick","DoubleClickZoom","setActive","MultiPoint","alert","coord2","getCoordinateByAngleDistance","updateCircleResults","Polygon","g","coord1","removeInteraction","disableClick","getSnappedCoordinate","getCoordinatesDistance","setRadius","updateResults","Snap","needle","haystack","tolerance","calculatePxDistance","c1","c2","p1","getPixelFromCoordinate","p2","bearing","R","brng","asin","abs","sqrt","Tooltip","Tooltip_classCallCheck","Tooltip_possibleConstructorReturn","Tooltip_getPrototypeOf","tooltipVisible","currentFeature","stopEvent","dragging","pixel","originalEvent","hit","hasFeatureAtPixel","getTarget","cursor","getType","Popup","Popup_classCallCheck","Popup_getPrototypeOf","infoStore","geomTypes","linestrings","polygons","Popup_assertThisInitialized","removeFeature","Geop","method","output","toISOString","arg","_typeof","cache","translations","contextmenu","header","statusbar","toolbar","measure","popup","__webpack_exports__","reload","serviceWorker","registration","onupdatefound","controller","installingWorker","installing","onstatechange","initServiceWorker","URL","event"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n \t\tif (null) script.crossOrigin = null;\n \t\thead.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\t}\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"10887ee1e4270685e1dd\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(\"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tfor(var chunkId in installedChunks)\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\t/*globals chunkId */\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (!module || module.hot._selfAccepted) continue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted\n \t\t\t)\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Not in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\thotCurrentHash = hotUpdateNewHash;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = [moduleId];\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([388,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Bookmark.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Bookmark.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Bookmark.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js!../node_modules/stylus-loader/index.js!./app.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js!../node_modules/stylus-loader/index.js!./app.styl\", function() {\n\t\tvar newContent = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js!../node_modules/stylus-loader/index.js!./app.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./MapEngine.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./MapEngine.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./MapEngine.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./SideBar.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./SideBar.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./SideBar.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Filter.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Filter.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Filter.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Geotrip.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Geotrip.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Geotrip.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Geocache.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Geocache.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Geocache.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./OSMEdit.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./OSMEdit.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./OSMEdit.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./LayerManager.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./LayerManager.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./LayerManager.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Search.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Search.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Search.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Header.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Header.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Header.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Info.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Info.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Info.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Config.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Config.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Config.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ScaleLine.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ScaleLine.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ScaleLine.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./MousePosition.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./MousePosition.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./MousePosition.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./StatusBar.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./StatusBar.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./StatusBar.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Compass.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Compass.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Compass.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./GeoLocation.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./GeoLocation.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./GeoLocation.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ToolBar.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ToolBar.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ToolBar.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ContextMenu.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ContextMenu.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./ContextMenu.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Measure.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Measure.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Measure.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Tooltip.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Tooltip.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Tooltip.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Popup.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Popup.styl\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/stylus-loader/index.js!./Popup.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/stylus-loader/index.js!./Geop.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/stylus-loader/index.js!./Geop.styl\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/stylus-loader/index.js!./Geop.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nexport function b64encode (str) {\n  return base64EncArr(strToUTF8Arr(str))\n}\n\n/* Base64 string to array encoding */\nfunction uint6ToB64 (nUint6) {\n  return nUint6 < 26 ?\n    nUint6 + 65 : nUint6 < 52 ?\n    nUint6 + 71 : nUint6 < 62 ?\n    nUint6 - 4 : nUint6 === 62 ?\n    43 : nUint6 === 63 ?\n    47 : 65\n}\nfunction base64EncArr (aBytes) {\n  let nMod3 = 2,\n    sB64Enc = ''\n\n  for (let nLen = aBytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {\n    nMod3 = nIdx % 3\n    if (nIdx > 0 && (nIdx * 4 / 3) % 76 === 0) {\n      sB64Enc += \"\\r\\n\"\n    }\n    nUint24 |= aBytes[nIdx] << (16 >>> nMod3 & 24)\n    if (nMod3 === 2 || aBytes.length - nIdx === 1) {\n      sB64Enc += String.fromCharCode(\n        uint6ToB64(nUint24 >>> 18 & 63),\n        uint6ToB64(nUint24 >>> 12 & 63),\n        uint6ToB64(nUint24 >>> 6 & 63),\n        uint6ToB64(nUint24 & 63)\n      )\n      nUint24 = 0\n    }\n  }\n  return sB64Enc.substr(0, sB64Enc.length - 2 + nMod3) +\n    (nMod3 === 2 ? '' : nMod3 === 1 ? '=' : '==')\n}\nfunction strToUTF8Arr (sDOMStr) {\n  let aBytes, nChr, nStrLen = sDOMStr.length,\n    nArrLen = 0\n  /* mapping... */\n  for (let nMapIdx = 0; nMapIdx < nStrLen; nMapIdx++) {\n    nChr = sDOMStr.charCodeAt(nMapIdx)\n    nArrLen += nChr < 0x80 ? 1 : nChr < 0x800 ? 2 : nChr < 0x10000 ? 3 : nChr < 0x200000 ? 4 : nChr < 0x4000000 ? 5 : 6\n  }\n  aBytes = new Uint8Array(nArrLen)\n  /* transcription... */\n  for (let nIdx = 0, nChrIdx = 0; nIdx < nArrLen; nChrIdx++) {\n    nChr = sDOMStr.charCodeAt(nChrIdx)\n    if (nChr < 128) {\n      /* one byte */\n      aBytes[nIdx++] = nChr\n    } else if (nChr < 0x800) {\n      /* two bytes */\n      aBytes[nIdx++] = 192 + (nChr >>> 6)\n      aBytes[nIdx++] = 128 + (nChr & 63)\n    } else if (nChr < 0x10000) {\n      /* three bytes */\n      aBytes[nIdx++] = 224 + (nChr >>> 12)\n      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63)\n      aBytes[nIdx++] = 128 + (nChr & 63)\n    } else if (nChr < 0x200000) {\n      /* four bytes */\n      aBytes[nIdx++] = 240 + (nChr >>> 18)\n      aBytes[nIdx++] = 128 + (nChr >>> 12 & 63)\n      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63)\n      aBytes[nIdx++] = 128 + (nChr & 63)\n    } else if (nChr < 0x4000000) {\n      /* five bytes */\n      aBytes[nIdx++] = 248 + (nChr >>> 24)\n      aBytes[nIdx++] = 128 + (nChr >>> 18 & 63)\n      aBytes[nIdx++] = 128 + (nChr >>> 12 & 63)\n      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63)\n      aBytes[nIdx++] = 128 + (nChr & 63)\n    } else /* if (nChr <= 0x7fffffff) */ {\n      /* six bytes */\n      aBytes[nIdx++] = 252 + /* (nChr >>> 32) is not possible in ECMAScript! So...: */ (nChr / 1073741824);\n      aBytes[nIdx++] = 128 + (nChr >>> 24 & 63)\n      aBytes[nIdx++] = 128 + (nChr >>> 18 & 63)\n      aBytes[nIdx++] = 128 + (nChr >>> 12 & 63)\n      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63)\n      aBytes[nIdx++] = 128 + (nChr & 63)\n    }\n  }\n  return aBytes\n}\n","import NoSleep from 'nosleep.js'\nimport randomColor from 'randomcolor'\nimport { getLength, getArea} from 'ol/sphere'\nimport GPX from 'ol/format/GPX'\nimport { b64encode } from './b64encode'\n\nconst noSleep = new NoSleep()\nconst debugStore = []\n\nexport function initServiceWorker () {\n  // Check for Service Worker browser support\n  if ('serviceWorker' in navigator === false) {\n    console.log('Service worker is not supported');\n    return false;\n  }\n  // Logic to load our produced `sw.js`\n  navigator.serviceWorker.register('sw.js')\n    .then(function(registration) {\n      registration.onupdatefound = function() {\n        if (navigator.serviceWorker.controller) {\n          var installingWorker = registration.installing;\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n                break;\n              case 'redundant':\n                throw new Error('The installing service worker became redundant.');\n              default:\n                // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function(e) {\n      console.error('Error during service worker registration:', e);\n    });\n}\n\nexport function copy (str) {\n  return new Promise((resolve, reject) => {\n    try {\n      const el = document.createElement('textarea')\n      el.value = str\n      el.style.position = 'absolute'\n      el.style.left = '-9999px'\n      document.body.appendChild(el)\n      el.select()\n      const successful = document.execCommand('copy')\n      document.body.removeChild(el)\n      if (successful) {\n        resolve()\n      } else {\n        reject(Error(successful))\n      }\n    } catch (err) {\n      reject(err)\n    }\n  })\n}\n\nexport function gpxExport (fn, fset) {\n  const string = new GPX().writeFeatures(fset)\n  const base64 = b64encode('<?xml version=\"1.0\" encoding=\"utf-8\"?>' + string)\n  file(fn, 'data:text/gpx+xml;base64,' + base64)\n}\nfunction file (fn, data) {\n  const e = document.createEvent('MouseEvent')\n  const a = document.createElement('a')\n  e.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n  a.setAttribute('href', data)\n  a.setAttribute('download', fn)\n  a.dispatchEvent(e)\n  return false\n}\n\nexport function initDebug () {\n  // overwrite console.log, info and error\n  ['debug', 'error', 'info'].forEach(method => {\n    console[method + '_'] = console[method]\n    console[method] = function () {\n      const dt = new Date().toISOString()\n      let output = dt\n      for (let i = 0, len = arguments.length; i < len; i++) {\n        const arg = arguments[i]\n        output += ' ' + typeof arg\n        if (\n          typeof arg === \"object\" &&\n          typeof JSON === \"object\" &&\n          typeof JSON.stringify === \"function\"\n        ) {\n          const cache = []\n          output += ' ' + JSON.stringify(arg, (key, value) => {\n            if (typeof value === 'object' && value !== null) {\n              if (cache.indexOf(value) !== -1) {\n                // Duplicate reference found\n                try {\n                  // If this value does not reference a parent it can be deduped\n                  return JSON.parse(JSON.stringify(value))\n                } catch (error) {\n                  // discard key if value cannot be deduped\n                  return\n                }\n              }\n              // Store value in our collection\n              cache.push(value)\n            }\n            return value\n          })\n        } else {\n          output += ' ' + arg\n        }\n      }\n      debugStore.push(output)\n      console[method + '_'].apply(undefined, arguments)\n    }\n  })\n}\n\nexport function getDebugStore () {\n  return debugStore\n}\n\nfunction enableNoSleep() {\n  noSleep.enable()\n  document.removeEventListener('click', enableNoSleep, false)\n}\n\nexport function enableScreenLock () {\n  document.addEventListener('click', enableNoSleep, false)\n}\n\nexport function disableScreenLock () {\n  noSleep.disable()\n}\n\n// convert radians to degrees\nexport function radToDeg (rad) {\n  return rad * 360 / (Math.PI * 2);\n}\n\n// convert degrees to radians\nexport function degToRad (deg) {\n  return deg * Math.PI * 2 / 360;\n}\n\nexport function scaleFactor (lonlat) {\n  return (1 / Math.cos(degToRad(lonlat[1])))\n}\n\n// parse search\nfunction parseSearch (search) {\n  if (search && search.length > 1) {\n    try {\n      return JSON.parse('{\"' + search.slice(1).replace(/&/g, '\",\"').replace(/=/g,'\":\"') + '\"}', function (key, value) {\n        return key === '' ? value : decodeURIComponent(value)\n      })\n    } catch (err) {\n      return null\n    }\n  }\n}\n\n// parse url\nexport function parseURL (href) {\n  const match = href.match(/^(?:(https?:)\\/\\/)?(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/)\n  return match && {\n    href: href,\n    protocol: match[1],\n    host: match[2],\n    hostname: match[3],\n    port: match[4],\n    pathname: match[5],\n    search: match[6],\n    hash: match[7],\n    query: parseSearch(match[6])\n  }\n}\n\nexport function validURL (href) {\n  const match = href.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g)\n  return (match !== null)\n}\n\nexport function constructURL (parsedURL) {\n  const querystring = Object.keys(parsedURL.query).map(item => {\n    return item + '=' + parsedURL.query[item]\n  }).join('&')\n  return parsedURL.protocol + '//' + parsedURL.host + parsedURL.pathname + '?' + querystring;\n}\n\nexport function uid () {\n  return Math.random().toString(36).substr(2, 10)\n}\n\nexport function getRandomColor (conf) {\n  return randomColor(conf)\n}\n\nexport function hexToRgbA (hex, a) {\n  let c\n  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {\n    c = hex.substring(1).split('')\n    if (c.length === 3) {\n      c = [c[0], c[0], c[1], c[1], c[2], c[2]]\n    }\n    c = '0x' + c.join('')\n    return 'rgba(' + [(c>>16)&255, (c>>8)&255, c&255].join(',') + ',' + a + ')'\n  }\n  throw new Error('Bad Hex')\n}\n\nexport function formatLength (line) {\n  const length = getLength(line)\n  if (length > 10000) {\n    return `${(Math.round(length / 1000 * 100) / 100)} km`\n  } else {\n    return `${(Math.round(length * 100) / 100)} m`\n  }\n}\n\nexport function formatArea (polygon) {\n  const area = getArea(polygon)\n  if (area > 1000000) {\n    return `${(Math.round(area / 1000000 * 100) / 100)} km<sup>2</sup>`\n  } else {\n    return `${(Math.round(area * 100) / 100)} m<sup>2</sup>`\n  }\n}\n\nexport function formatTime (time) {\n  const d = new Date(time)\n  let month = (1 + d.getMonth()).toString()\n  month = month.length > 1 ? month : '0' + month\n  let day = d.getDate().toString()\n  day = day.length > 1 ? day : '0' + day\n  return d.getFullYear() + '.' + month + '.' + day\n}\n\n// LZW-compress a string\nexport function compress (s) {\n  var dict = {};\n  var data = (s + \"\").split(\"\");\n  var out = [];\n  var currChar;\n  var phrase = data[0];\n  var code = 256;\n  for (var i=1; i<data.length; i++) {\n    currChar=data[i];\n    if (dict['_' + phrase + currChar] != null) {\n      phrase += currChar;\n    }\n    else {\n      out.push(phrase.length > 1 ? dict['_'+phrase] : phrase.charCodeAt(0));\n      dict['_' + phrase + currChar] = code;\n      code++;\n      phrase=currChar;\n    }\n  }\n  out.push(phrase.length > 1 ? dict['_'+phrase] : phrase.charCodeAt(0));\n  for (i=0; i<out.length; i++) {\n    out[i] = String.fromCharCode(out[i]);\n  }\n  return out.join(\"\");\n}\n\n// Decompress an LZW-encoded string\nexport function decompress (s) {\n  var dict = {};\n  var data = (s + \"\").split(\"\");\n  var currChar = data[0];\n  var oldPhrase = currChar;\n  var out = [currChar];\n  var code = 256;\n  var phrase;\n  for (var i=1; i<data.length; i++) {\n    var currCode = data[i].charCodeAt(0);\n    if (currCode < 256) {\n      phrase = data[i];\n    }\n    else {\n      phrase = dict['_'+currCode] ? dict['_'+currCode] : (oldPhrase + currChar);\n    }\n    out.push(phrase);\n    currChar = phrase.charAt(0);\n    dict['_'+code] = oldPhrase + currChar;\n    code++;\n    oldPhrase = phrase;\n  }\n  return out.join(\"\");\n}\n\nexport function deepCopy (json) {\n  return JSON.parse(JSON.stringify(json))\n}\n","import {parseURL} from 'Utilities/util'\n\nlet shouldUpdate = true\nconst state = {\n  oldURL: null,\n  newURL: null,\n  hash: null\n}\nconst events = []\n\nexport function activatePermalink () {\n  // current state\n  state.newURL = parseURL(document.URL)\n  state.hash = parseHash(parseURL(document.URL).hash)\n  // init listener\n  window.addEventListener('hashchange', event => {\n    state.oldURL = state.newURL\n    state.newURL = parseURL(event.newURL)\n    state.hash = parseHash(state.newURL.hash)\n    events.forEach(fn => {\n      fn(state.hash)\n    })\n    shouldUpdate = false\n  }, false)\n}\n\nfunction parseHash (hash) {\n  const parsed = {}\n  if (hash) {\n    hash.slice(1).split('&').forEach(item => {\n      const parts = item.split('=')\n      parsed[parts[0]] = parts[1]\n    })\n  }\n  return parsed\n}\n\nfunction buildHash (data) {\n  return '#' + Object.keys(data).map(key => {\n    return key + '=' + data[key]\n  }).join('&')\n}\n\nexport function get (id) {\n  return id ? state.hash[id] : state.hash\n}\n\nexport function set (data) {\n  if (!shouldUpdate) {\n    shouldUpdate = true\n    return\n  }\n  let value\n  if (!data) {\n    state.hash = data\n    value = ' '\n  } else {\n    const newHash = Object.assign(state.hash, data)\n    Object.keys(newHash).forEach(k => {\n      if (newHash[k] === null || typeof newHash[k] === 'undefined') {\n        delete newHash[k]\n      }\n    })\n    state.hash = newHash\n    value = buildHash(state.hash)\n  }\n  window.history.pushState(state.hash, 'geop', value)\n}\n\nexport function onchange (cb) {\n  events.push(cb)\n}\n\nexport function viewConfToPermalink (data) {\n  return [\n    Math.round(data.center[1] * 100000) / 100000,\n    Math.round(data.center[0] * 100000) / 100000,\n    Math.round(data.zoom * 100) / 100,\n    parseInt(data.rotation),\n    data.baseLayer\n  ].join('-')\n}\n","export const app = {\n  locale: 'et',// app locale\n  layerManager: true,\n  searchEnabled: true,\n  locateEnabled: true,\n  mouseCoordinates: true,\n  settings: true,\n  tooltip: true,\n  featureInfo: true,\n  scaleLine: true,\n  streetView: true,\n  measureTool: true,\n  fullScreen: true,\n  mousePosition: true,\n  geoLocation: true,\n  shareState: true,\n  shareOnlyTripFeatures: true,// keep only features on trip\n  settingsTabOpen: 'settings-tab',// active tab on sidebar\n  debug: false,// collect all console debug, info and error into downloadable file\n  debugFile: 'geop_debug.log'\n}\nexport const map = {\n  el: '#map',\n  center: [25.5, 58.5],\n  zoom: 7,\n  rotation: 0,\n  extent: [21, 57, 29, 60],\n  projection: 'EPSG:3857',\n  baseLayer: 'osm',\n  minZoom: 0,\n  maxZoom: 20,\n  clustered: false\n}\nexport const apiUrls = {\n  streetview: 'https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=',\n  ideditor: 'https://www.openstreetmap.org/edit?editor=id#background=custom:http://tiles.maaamet.ee/tm/tms/1.0.0/foto@GMC/{z}/{x}/{-y}.png&map=',\n  nominatim: 'https://nominatim.openstreetmap.org',\n  jsonstore: 'https://www.jsonstore.io/4d04eefd7ed4c19866cefcf038d0bebe95786bf33f0e60fdfbd8a554e6ae2670',\n  qrcode: 'http://api.qrserver.com/v1/create-qr-code/?size=150x150&data='\n}\nexport const geocache = {\n  authUrl: 'http://geopeitus.ee',\n  downloadUrl: {\n    page: 'http://www.geopeitus.ee/index.php?p=300',\n    geojson: 'http://www.geopeitus.ee/index.php?p=301&status[]=1&format=2',\n    gpx: {\n      gpxActive: 'http://www.geopeitus.ee/index.php?p=301&status[]=1&gname=1&format=1',\n      gpxAll: 'http://www.geopeitus.ee/index.php?p=301&status[]=1&status[]=2&status[]=3&gname=1&format=1'\n    }\n  },\n  cacheUrl: 'http://geopeitus.ee/aare/',\n  radiusStyle: {\n    maxResolution: 30,\n    radius: 160\n  },\n  newCacheDays: 30,\n  waypointMaxResolution: 10,\n  overviewMinResolution: 100,\n  exportFileName: 'geop.gpx',\n  mapping: {\n    fstatusJSON: {\n      '0': 'Not Found',\n      '1': 'Found',\n      '2': 'Owner'\n    },\n    fstatusGPX: {\n      'Geocache': 'Not Found',\n      'Geocache Found': 'Found',\n      'Geocache Owner': 'Owner'\n    },\n    type: {\n      'Tavaline aare': 'Geocache|Traditional Cache',\n      'Multiaare': 'Geocache|Multi-cache',\n      'Veebikaamera': 'Geocache|Webcam Cache',\n      'Virtuaalne aare': 'Geocache|Virtual Cache',\n      'Sündmusaare': 'Geocache|Event Cache',\n      'Asukohata (tagurpidi) aare': 'Geocache|Locationless Cache',\n      'Mõistatusaare': 'Geocache|Unknown Cache',\n      'Kirjakastiaare': 'Geocache|Letterbox Hybrid',\n      'KusMaLäen': 'Geocache|Whereigo Cache'\n    },\n    container: {\n      'mikro': 'Micro',\n      'väike': 'Small',\n      'normaalne': 'Regular',\n      'suur': 'Large',\n      'muu': 'Unknown'\n    }\n  },\n  filter: {\n    fstatus: 'fstatusGPX',\n    type: 'type',\n    status: ['Available', 'Unavailable', 'Archived'],\n    newCache: ['New Cache']\n  },\n  styles: {\n    base: {\n      text: '\\uf3c5',\n      class: 'fas fa-map-marker-alt',\n      font: '900 16px \"Font Awesome 5 Free\"',\n      textBaseline: 'middle',\n      fill: {\n        color: '#aaa'\n      },\n      stroke: {\n        color: '#fff',\n        width: 4\n      }\n    },\n    overview: {\n      text: '\\uf111',\n      class: 'fa fa-circle',\n      font: '900 8px \"Font Awesome 5 Free\"',\n      stroke: {\n        color: '#fff',\n        width: 2\n      }\n    },\n    text: {\n      'Geocache|Traditional Cache': {\n        text: '\\uf1b2',\n        class: 'fa fa-cube',\n        font: '900 13px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Multi-cache': {\n        text: '\\uf1b3',\n        class: 'fa fa-cubes',\n        font: '900 16px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Webcam Cache': {\n        text: '\\uf030',\n        class: 'fa fa-camera',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Virtual Cache': {\n        text: '\\uf1eb',\n        class: 'fa fa-wifi',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Event Cache': {\n        text: '\\uf274',\n        class: 'fa fa-calendar-check-o',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Locationless Cache': {\n        text: '\\uf021',\n        class: 'fa fa-refresh',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Unknown Cache': {\n        text: '\\uf059',\n        class: 'fa fa-question-circle',\n        font: '900 13px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Letterbox Hybrid': {\n        text: '\\uf0e0',\n        class: 'fa fa-envelope',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Geocache|Whereigo Cache': {\n        text: '\\uf0a9',\n        class: 'fa fa-arrow-circle-right',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Parking Area': {\n        text: '\\uf540',\n        class: 'fas fa-parking',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Reference Point': {\n        text: '\\uf358',\n        class: 'far fa-arrow-alt-circle-down',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Stages of a Multicache': {\n        text: '\\uf055',\n        class: 'fas fa-plus-circle',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Physical Stage': {\n        text: '\\uf055',\n        class: 'fas fa-plus-circle',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Virtual Stage': {\n        text: '\\uf055',\n        class: 'fas fa-plus-circle',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Final Location': {\n        text: '\\uf057',\n        class: 'far fa-times-circle',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      },\n      'Waypoint|Trailhead': {\n        text: '\\uf6ec',\n        class: 'far fa-hiking',\n        font: '900 12px \"Font Awesome 5 Free\"'\n      }\n    },\n    color: {// leidmata - 0, leitud - 1, minu - 2\n      'Not Found': {\n        fill: {\n          color: '#444'\n        }\n      },\n      'Found': {\n        fill: {\n          color: '#4c9900'\n        }\n      },\n      'Owner': {\n        fill: {\n          color: 'red'\n        }\n      }\n    },\n    newCache: {\n      'New Cache': {\n        stroke: {\n          color: '#ffff00',\n          width: 4\n        }\n      }\n    },\n    radiusStyle: {\n      fill: {\n        color: 'rgba(255, 0, 0, 0.1)'\n      }\n    }\n  }\n}\n","export const layers = {\n  baseLayers: {\n    osm: {\n      type: 'XYZ',\n      title: 'OSM',\n      url: 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      projection: 'EPSG:3857',\n      crossOrigin: null\n    },\n    photo: {\n      type: 'Bing',\n      title: 'Aerial',\n      key: 'AozX0lfGO2nv-11kPOU6_BKWeJwgfAcyFQAXAwXQmnQtSJahtmYj8ZJ3JAzk36Z4',\n      projection: 'EPSG:3857',\n      imagerySet: 'AerialWithLabels',\n      maxZoom: 19\n    },\n    makaart: {\n      type: 'Group',\n      title: 'Map',\n      projection: 'EPSG:3301',\n      layers: [{\n        type: 'XYZ',\n        projection: 'EPSG:3857',\n        url: 'https://tiles.maaamet.ee/tm/tms/1.0.0/kaart@GMC/{z}/{x}/{-y}.png',\n        minResolution: 0.5,\n        crossOrigin: null\n      }, {\n        type: 'TileWMS',\n        url: 'http://kaart.maaamet.ee/wms/kaart',\n        params: {\n          LAYERS: 'MA-KAART',\n          TILED: true,\n          FORMAT: 'image/png',\n          VERSION: '1.1.1'\n        },\n        maxResolution: 0.75,\n        tileSize: 1024,\n        gutter: 20,\n        crossOrigin: null\n      }]\n    },\n    mapkaart: {\n      type: 'Group',\n      title: 'Topo',\n      projection: 'EPSG:3301',\n      layers: [{\n        type: 'XYZ',\n        projection: 'EPSG:3857',\n        url: 'https://tiles.maaamet.ee/tm/tms/1.0.0/kaart@GMC/{z}/{x}/{-y}.png',\n        minResolution: 7.1,\n        crossOrigin: null\n      }, {\n        type: 'XYZ',\n        url: 'https://tiles.maaamet.ee/tm/tms/1.0.0/reljeef@LEST/{z}/{x}/{-y}.png',\n        minResolution: 7.1,\n        crossOrigin: null,\n        opacity: 0.5\n      }, {\n        type: 'XYZ',\n        url: 'https://tiles.maaamet.ee/tm/tms/1.0.0/epk_vv@LEST/{z}/{x}/{-y}.png',\n        minResolution: 0.5,\n        maxResolution: 7.1,\n        crossOrigin: null\n      }, {\n        type: 'TileWMS',\n        url: 'http://kaart.maaamet.ee/wms/alus',\n        params: {\n          LAYERS: 'pohi_vv',\n          TILED: true,\n          FORMAT: 'image/png',\n          VERSION: '1.1.1'\n        },\n        maxResolution: 0.75,\n        tileSize: 1024,\n        gutter: 20,\n        crossOrigin: null\n      }]\n    },\n    maorto : {\n      type: 'Group',\n      title: 'Aerial Estonia',\n      projection: 'EPSG:3301',\n      layers: [{\n        type: 'XYZ',\n        projection: 'EPSG:3857',\n        url: 'https://tiles.maaamet.ee/tm/tms/1.0.0/foto@GMC/{z}/{x}/{-y}.png',\n        minResolution: 0.5,\n        crossOrigin: null\n      }, {\n        type: 'TileWMS',\n        url: 'http://kaart.maaamet.ee/wms/fotokaart',\n        params: {\n          LAYERS: 'EESTIFOTO',\n          TILED: true,\n          FORMAT: 'image/png',\n          VERSION: '1.1.1'\n        },\n        maxResolution: 0.75,\n        tileSize: 1024,\n        gutter: 20,\n        crossOrigin: null\n      }]\n    },\n    okaart: {\n      type: 'XYZ',\n      title: 'O-kaart',\n      url: 'https://okaart.osport.ee/{z}/{x}/{y}.png',\n      projection: 'EPSG:3857',\n      crossOrigin: null\n    }\n  },\n  layers: [],\n  overlays: []\n}\n","import { get, set, keys, clear } from 'idb-keyval'\nimport { deepCopy } from './util'\n\nconst state = {}\nconst events = {}\nlet storeAvailable = !!window.indexedDB;\n\nexport function getAppState () {\n  return new Promise((resolve, reject) => {\n    if (storeAvailable) {\n      try {\n        keys().then(async (keys) => {\n          const storageConf = {}\n          for (const key of keys) {\n            const val = await get(key)\n            if (typeof(val) !== 'undefined' && val !== null) {\n              storageConf[key] = val\n            }\n          }\n          resolve(deepCopy(storageConf))\n        })\n      } catch (e) {\n        reject(e)\n      }\n    } else {\n      reject(new Error ('Storage is not available'))\n    }\n  })\n}\n\nexport function setState (item, value, permanent = false) {\n  state[item] = value\n  // local storage\n  if (permanent && storeAvailable) {\n    set(item, value).then(() => {\n      // events\n      if (item in events) {\n        events[item].forEach(handler => handler(state[item]))\n      }\n    })\n  } else {\n    // events\n    if (item in events) {\n      events[item].forEach(handler => handler(state[item]))\n    }\n  }\n}\n\nexport function getState (item) {\n  return state[item]\n}\n\nexport function onchange (item, listener) {\n  if (!(item in events)) {\n    events[item] = []\n  }\n  if (events[item].indexOf(listener) === -1) {\n    events[item].push(listener)\n  }\n}\n\nexport function clearState () {\n  clear()\n}\n","class Component {\n  constructor(target) {\n    // set target and element\n    this.target = target\n    this.el = null\n    // state\n    this.state = {}\n    // call create\n    this.create()\n    // child components\n    this.components = {}\n  }\n  create () {\n    if (this.target && this.el) {\n      this.target.append(this.el)\n      this.render()\n    }\n  }\n  render () {\n\n  }\n  renderComponents () {\n\n  }\n  getComponent (key) {\n    return this.components[key]\n  }\n  getEl () {\n    return this.el\n  }\n  set (name, value) {\n    this.state[name] = value\n  }\n  get (name) {\n    return this.state[name]\n  }\n  destroy () {\n    Object.keys(this.components).forEach(c => this.components[c].destroy())\n    this.components = {}\n    this.el.remove()\n  }\n}\n\nexport default Component\n","import { setState } from 'Utilities/store'\n\nconst store = {\n  locale: null,\n  texts: {}\n}\n\nexport function initLocale (locale, texts) {\n  if (locale && locale in texts) {\n    store.texts = texts\n    store.locale = locale\n  }\n  setState('app/locale', store.locale, true)\n}\n\nexport function changeLocale (locale) {\n  initLocale(locale, store.texts)\n}\n\nexport function t (key) {\n  return (key in store.texts[store.locale]) ? store.texts[store.locale][key] : key\n}\n\nexport function getLocales () {\n  return Object.keys(store.texts)\n}\n\nexport function getLocale () {\n  return store.locale\n}\n","import miniToastr from 'mini-toastr'\n\nconst timeout = 4000\n\n// init\nminiToastr.init({\n  timeout\n})\n\nfunction success (msg, cb) {\n  miniToastr.success(msg, '', undefined, cb)\n}\n\nfunction info (msg, cb) {\n  miniToastr.info(msg, '', undefined, cb)\n}\n\nfunction warn (msg, cb) {\n  miniToastr.warn(msg, '', undefined, cb)\n}\n\nfunction error (msg, cb) {\n  miniToastr.error(msg, '', undefined, cb)\n}\n\nexport default function log (type, msg, cb) {\n  switch (type) {\n    case 'success':\n      success(msg)\n      break\n    case 'info':\n      info(msg)\n      break\n    case 'warning':\n      warn(msg)\n      break\n    case 'error':\n      error(msg)\n      break\n  }\n  if (typeof cb === 'function') {\n    setTimeout(cb, timeout)\n  }\n}\n","import Component from 'Geop/Component'\nimport { apiUrls } from 'Conf/settings'\nimport { getSessionState } from 'Utilities/session'\nimport { getState, setState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport { copy, uid, deepCopy } from 'Utilities/util'\nimport { get as getPermalink, onchange as onPermalinkChange } from 'Utilities/permalink'\nimport log from 'Utilities/log'\nimport { reloadApp } from 'Root'\nimport $ from 'jquery'\nimport JSONP from 'jsonpack'\nimport QRious from 'qrious'\nimport './Bookmark.styl'\n\n/**\n * handle jsonstore.io\n * Get all: https://www.jsonstore.io/4d04eefd7ed4c19866cefcf038d0bebe95786bf33f0e60fdfbd8a554e6ae2670/\n * Delete all: copy these to console and run\n * fetch('https://www.jsonstore.io/4d04eefd7ed4c19866cefcf038d0bebe95786bf33f0e60fdfbd8a554e6ae2670/')\n *   .then(function(response){return response.json() })\n *   .then(function(data) { window.jsonstoredata = data });\n * Object.keys(jsonstoredata.result).forEach(key => {\n *   fetch('https://www.jsonstore.io/4d04eefd7ed4c19866cefcf038d0bebe95786bf33f0e60fdfbd8a554e6ae2670/', {\n *     method: 'DELETE'\n *   })\n * })\n */\nclass Bookmark extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <div class=\"btn-group float-right\" id=\"bookmark\"></div>\n    `)\n    this.modal = $('#modal_bookmark')\n    this.state = {\n      bookmarks: getState('app/bookmarks') || [],\n      bookmark: getPermalink('b')\n    }\n\n    this.create()\n    this.el.on('click', 'button.share', e => {\n      e.preventDefault()\n      this.share()\n    })\n    this.el.on('click', 'li', e => {\n      e.preventDefault()\n      this.openModal($(e.currentTarget).data('id'))\n    })\n    this.el.on('click', 'li .tools a.remove', e => {\n      e.preventDefault()\n      e.stopPropagation()\n      this.delete($(e.currentTarget).closest('li').data('id'))\n    })\n    this.modal.on('click', 'button.copy', e => {\n      this.copy($(e.target).closest('.modal').find('input').val())\n    })\n    onPermalinkChange(permalink => {\n      if (this.state.bookmark !== permalink.b) {\n        reloadApp()\n      }\n    })\n  }\n  render () {\n    if (!this.modal || this.modal.length === 0) {\n      this.modal = $(`\n        <div class=\"modal fade\"\n          id=\"modal_bookmark\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h4 class=\"modal-title\">${t('Share bookmark')}</h4>\n                <button type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body text-muted\">\n                <div class=\"input-group mb-5\">\n                  <input type=\"text\" class=\"form-control\" name=\"bookmark\" readonly>\n                  <div class=\"input-group-append\">\n                    <button class=\"btn btn-secondary copy\" type=\"button\">\n                      <i class=\"far fa-clone\"></i>\n                    </button>\n                    <a class=\"btn btn-secondary go\" href=\"#\" target=\"_blank\">\n                      <i class=\"fas fa-link\"></i>\n                    </a>\n                  </div>\n                </div>\n                <div class=\"mb-5 text-center display-4\">\n                  ${t('or')}\n                </div>\n                <div class=\"mb-5 text-center\">\n                  <canvas class=\"rounded mx-auto d-block img-thumbnail\"></canvas>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `)\n      $('body').append(this.modal)\n    }\n    this.el.html(`\n      <div class=\"btn-group dropup\">\n        <button type=\"button\" class=\"btn btn-secondary share\" title=\"${t('Share')}\">\n          <i class=\"fas fa-share-alt\"></i>\n        </button>\n        <button ${this.state.bookmarks.length ? '' : 'disabled'}\n          type=\"button\"\n          class=\"btn btn-secondary dropdown-toggle dropdown-toggle-split\"\n          data-toggle=\"dropdown\">\n        </button>\n        <div class=\"dropdown-menu dropdown-menu-right\">\n          ${this.state.bookmarks.map((bookmark) => {\n            return `\n            <li\n              class=\"dropdown-item\"\n              data-id=\"${bookmark}\">\n              <i class=\"fas fa-star\"></i>\n              ${bookmark}\n              <div class=\"tools\">\n                <a href=\"#\" class=\"remove\">\n                  <i class=\"fa fa-times\"></i>\n                </a>\n              </div>\n            </li>`\n          }).join('')}\n        </div>\n      </div>\n    `)\n  }\n  //https://dev.to/bauripalash/building-a-simple-url-shortener-with-just-html-and-javascript-16o4\n  share () {\n    const debug = getState('app/debug')\n    getSessionState()\n      .then(appState => {\n        setBookmarkState(appState)\n          .then(bookmark => {\n            this.state.bookmarks.push(bookmark)\n            setState('app/bookmarks', this.state.bookmarks, true)\n            this.render()\n            this.openModal(bookmark)\n            if (debug) {\n              console.debug('Bookmark saved: ' + bookmark)\n            }\n          })\n          .catch(e => {\n            log('error', t(e.message))\n            if (debug) {\n              console.error('Bookmark error [setBookmarkState]: ' + JSON.stringify(e))\n            }\n          })\n      })\n      .catch(e => {\n        log('error', t(e.message))\n        if (debug) {\n          console.error('Bookmark error [getSessionState]: ' + JSON.stringify(e))\n        }\n      })\n  }\n  copy (content) {\n    copy(content)\n      .then(() => {\n        log('success', `${t('URL')} ${content} ${t('copied to clipboard')}`)\n      })\n      .catch(() => {\n        log('error', t('Unable to copy to clipboard'))\n      })\n  }\n  delete (bookmark) {\n    const debug = getState('app/debug')\n    deleteBookmarkState(bookmark)\n      .then(() => {\n        this.state.bookmarks = this.state.bookmarks.filter(item => item !== bookmark)\n        setState('app/bookmarks', this.state.bookmarks, true)\n        this.render()\n        log('success', `${t('Bookmark deleted!')}`)\n        if (debug) {\n          console.debug('Bookmark deleted: ' + bookmark)\n        }\n      })\n      .catch(e => {\n        log('error', t(e.message))\n        if (debug) {\n          console.error('Bookmark error [deleteBookmarkState]: ' + JSON.stringify(e))\n        }\n      })\n  }\n  bookmarkUrl (hash) {\n    return window.location.origin + window.location.pathname + '#b=' + hash\n  }\n  openModal (bookmark) {\n    this.modal.find('input').val(this.bookmarkUrl(bookmark))\n    this.modal.find('a.go').attr('href', this.bookmarkUrl(bookmark))\n    const qr = new QRious({\n      element: this.modal.find('canvas')[0],\n      size: 200\n    })\n    qr.value = this.bookmarkUrl(bookmark)\n    this.modal.modal()\n  }\n  destroy () {\n    this.modal.modal('dispose')\n    this.modal.remove()\n    this.modal = null\n    super.destroy()\n  }\n}\n\nlet xhr = null\n\nfunction formatState (type = 'down', data = {}, hash = null) {\n  let state = {}\n  switch (type) {\n    case 'up':\n      state = deepCopy(\n        Object.assign(\n          {}, ...Object.keys(data).map(k => ({[k.replace(/\\//g, '_')]: data[k]}))\n        )\n      )\n      if ('app_bookmarks' in state) {\n        delete state.app_bookmarks\n      }\n      if ('app_bookmark_loaded' in state) {\n        delete state.app_bookmark_loaded\n      }\n      if (getState('app/shareOnlyTripFeatures') && 'geocache_trip_ids' in state) {\n        state.layer_layers && state.layer_layers.forEach(layer => {\n          layer.features = layer.features.filter(f => state.geocache_trip_ids.indexOf(f.id) > -1)\n        })\n        state.layer_overlays && state.layer_overlays.forEach(layer => {\n          layer.features = layer.features.filter(f => state.geocache_trip_ids.indexOf(f.id) > -1)\n        })\n      }\n      break\n    case 'down':\n      state = deepCopy(\n        Object.assign(\n          {}, ...Object.keys(data).map(k => ({[k.replace(/_/g, '/')]: data[k]}))\n        )\n      )\n      if (hash) {\n        state['app/bookmark/loaded'] = hash\n      }\n      break\n    default:\n      state = data\n  }\n  return state\n}\n\nfunction setBookmarkState (data) {\n  return new Promise((resolve, reject) => {\n    if (xhr && typeof xhr.abort === 'function') {\n      xhr.abort()\n    }\n    const hash = uid()\n\n    xhr = $.ajax({\n      type : 'POST',\n      crossDomain : true,\n      url : apiUrls.jsonstore + '/' + hash,\n      data: JSON.stringify({\n        state: JSON.stringify(JSONP.pack(formatState('up', data)))\n      }),\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    })\n    .done(data => {\n      if (data && data.ok) {\n        resolve(hash)\n      } else {\n        reject(new Error('Unable to save bookmark'))\n      }\n    })\n    .fail(request => {\n      if (request.statusText === 'abort') {\n        resolve(null)\n      } else {\n        reject(new Error('Unable to save bookmark'))\n      }\n    })\n  })\n}\n\nexport function getBookmarkState (hash) {\n  return new Promise((resolve, reject) => {\n    if (xhr && typeof xhr.abort === 'function') {\n      xhr.abort()\n    }\n    xhr = $.ajax({\n      type : 'GET',\n      crossDomain : true,\n      url : apiUrls.jsonstore + '/' + hash,\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    })\n    .done(data => {\n      if (data && data.ok && data.result && data.result.state) {\n        const state = formatState('down', JSONP.unpack(data.result.state), hash)\n        resolve(state)\n      } else {\n        reject(new Error('Unable to load bookmark'))\n      }\n    })\n    .fail(request => {\n      if (request.statusText === 'abort') {\n        resolve(null)\n      } else {\n        reject(new Error('Unable to load bookmark'))\n      }\n    })\n  })\n}\n\nfunction deleteBookmarkState (hash) {\n  return new Promise((resolve, reject) => {\n    if (xhr && typeof xhr.abort === 'function') {\n      xhr.abort()\n    }\n    xhr = $.ajax({\n      type : 'DELETE',\n      crossDomain : true,\n      url : apiUrls.jsonstore + '/' + hash,\n      dataType: 'json',\n      contentType: 'application/json; charset=utf-8'\n    })\n    .done(data => {\n      if (data && data.ok) {\n        resolve()\n      } else {\n        reject(new Error('Unable to delete bookmark'))\n      }\n    })\n    .fail(request => {\n      if (request.statusText === 'abort') {\n        resolve(null)\n      } else {\n        reject(new Error('Unable to delete bookmark'))\n      }\n    })\n  })\n}\n\nexport default Bookmark\n","import { get as getPermalink } from 'Utilities/permalink'\nimport { app as appConf, map as mapConf } from 'Conf/settings'\nimport { layers as layersConf } from 'Conf/layers'\nimport { getAppState, clearState, setState } from './store'\nimport { getBookmarkState } from 'Components/bookmark/Bookmark'\n\n/**\n * Init conf - merge static conf with saved store\n */\nexport function initConf () {\n  return new Promise(async (resolve, reject) => {\n    const conf = {}\n    const permalink = getPermalink('b')\n    let storageState\n    let bookmarkState\n    try {\n      storageState = await getAppState()\n      bookmarkState = permalink && permalink.length ?\n        await getBookmarkState(permalink) : {}\n    } catch (e) {\n      storageState = {}\n      bookmarkState = {}\n    }\n    Object.keys(appConf).forEach(key => {\n      conf['app/' + key] = appConf[key]\n    })\n    Object.keys(mapConf).forEach(key => {\n      conf['map/' + key] = mapConf[key]\n    })\n    Object.keys(layersConf).forEach(key => {\n      conf['layer/' + key] = layersConf[key]\n    })\n    const state = Object.assign({}, conf, storageState, bookmarkState)\n    // disable bookmarks if not supported\n    if (!'onhashchange' in window) {\n      state['app/shareState'] = false\n    }\n    // set state\n    Object.keys(state).forEach(key => {\n      setState(key, state[key])\n    })\n    resolve(state)\n  })\n}\n\nexport function clear () {\n  clearState()\n}\n\nexport function getSessionState () {\n  return new Promise((resolve, reject) => {\n    getAppState()\n      .then(resolve)\n      .catch(reject)\n  })\n}\n","import Fill from 'ol/style/Fill'\nimport Stroke from 'ol/style/Stroke'\nimport Circle from 'ol/style/Circle'\nimport Icon from 'ol/style/Icon'\nimport Text from 'ol/style/Text'\nimport Style from 'ol/style/Style'\nimport RegularShape from 'ol/style/RegularShape'\n\nfunction getDefaultStyle () {\n  const style = {\n    fill: new Fill({\n      color: 'rgba(255,255,255,0.4)'\n    }),\n    stroke: new Stroke({\n      color: '#3399CC',\n      width: 2\n    })\n  }\n  style.image = new Circle({\n    fill: style.fill,\n    stroke: style.stroke,\n    radius: 5\n  })\n  return style\n}\n\nfunction buildOLStyle (style) {\n  let olStyle = {}\n  if (style) {\n    Object.keys(style).forEach((key) => {\n      switch (key) {\n        case 'stroke':\n          olStyle[key] = new Stroke(style[key])\n          break\n        case 'fill':\n          olStyle[key] = new Fill(style[key])\n          break\n        case 'image':\n        case 'circle':\n          olStyle['image'] = new Circle({\n            fill: style[key].fill && new Fill(style[key].fill),\n            stroke: style[key].stroke && new Stroke(style[key].stroke),\n            radius: style[key].radius || 5\n          })\n          break\n        case 'shape':\n          if (style[key].fill) {\n            style[key].fill = new Fill(style[key].fill)\n          }\n          if (style[key].stroke) {\n            style[key].stroke = new Stroke(style[key].stroke)\n          }\n          olStyle['image'] = new RegularShape(style[key])\n          break\n        case 'icon':\n          olStyle['image'] = new Icon(style[key])\n          break\n        case 'text':\n          if (style[key].fill) {\n            style[key].fill = new Fill(style[key].fill)\n          }\n          if (style[key].stroke) {\n            style[key].stroke = new Stroke(style[key].stroke)\n          }\n          olStyle[key] = new Text(style[key])\n          break\n        // zIndex, geometry\n        default:\n          olStyle[key] = style[key]\n      }\n    }, this)\n  } else {\n    olStyle = getDefaultStyle()\n  }\n  return new Style(olStyle)\n}\n\nexport function createStyle (conf) {\n  if (typeof conf === 'function') {\n    return (feature, resolution) => {\n      return conf(feature, resolution, buildOLStyle)\n    }\n  } else if (Array.isArray(conf)) {\n    return conf.map((style) => {\n      return buildOLStyle(style)\n    })\n  } else {\n    return buildOLStyle(conf)\n  }\n}\n","import LayerGroup from 'ol/layer/Group'\nimport LayerImage from 'ol/layer/Image'\nimport LayerTile from 'ol/layer/Tile'\nimport LayerVector from 'ol/layer/Vector'\nimport XYZ from 'ol/source/XYZ'\nimport TileWMS from 'ol/source/TileWMS'\nimport ImageWMS from 'ol/source/ImageWMS'\nimport Bing from 'ol/source/BingMaps'\nimport Vector from 'ol/source/Vector'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport { get as getProjection } from 'ol/proj'\nimport { getWidth } from 'ol/extent'\nimport TileGrid from 'ol/tilegrid/TileGrid'\nimport { createStyle } from './StyleBuilder'\nimport range from 'lodash/range'\nimport { getState } from 'Utilities/store'\nimport { map as mapConf } from 'Conf/settings'\nimport { uid, deepCopy } from 'Utilities/util'\n\nexport const dataProjection = 'EPSG:4326'\n\nconst sources = {\n  XYZ,\n  TileWMS,\n  ImageWMS,\n  Bing,\n  Vector\n}\nconst formats = {\n  geojson: new GeoJSONFormat()\n}\n\nclass GroupLayer extends LayerGroup {}\nclass ImageLayer extends LayerImage {\n  constructor (opts) {\n    const options = {\n      source: new sources[opts.type](opts)\n    }\n    super(options)\n  }\n}\nclass TileLayer extends LayerTile {\n  constructor (opts) {\n    const sourceOpts = {}\n    if (opts.tileSize && opts.tileSize !== 256) {\n      const projExtent = getProjection(opts.projection).getExtent()\n      const startResolution = getWidth(projExtent) / opts.tileSize\n      const resolutions = range(mapConf.minZoom, mapConf.maxZoom + 1)\n      for (let i = 0, ii = resolutions.length; i < ii; ++i) {\n        resolutions[i] = startResolution / Math.pow(2, i)\n      }\n      sourceOpts.tileGrid = new TileGrid({\n        extent: projExtent,\n        resolutions: resolutions,\n        tileSize: [opts.tileSize, opts.tileSize]\n      })\n    }\n    const options = {\n      source: new sources[opts.type](Object.assign({}, opts, sourceOpts))\n    }\n    super(options)\n  }\n}\nclass FeatureLayer extends LayerVector {\n  constructor (opts) {\n    const features = opts.features ?\n      formats.geojson.readFeatures(opts, {\n        dataProjection: dataProjection,\n        featureProjection: getState('map/projection')\n      }) : []\n    const options = {\n      source: new Vector({\n        features\n      }),\n      style: createStyle(opts.style),\n      updateWhileAnimating: opts.updateWhileAnimating,\n      updateWhileInteracting: opts.updateWhileInteracting\n    }\n    super(options)\n  }\n}\n\nexport function createLayer (layerConf) {\n  let layer\n  switch (layerConf.type) {\n    case 'Group':\n      const arr = layerConf.layers.map(conf => {\n        const inputConf = deepCopy(conf)\n        // add projection to sublayer\n        if (!inputConf.projection) {\n          inputConf.projection = layerConf.projection\n        }\n        return createLayer(inputConf)\n      })\n      // group should be visible, if not specified\n      if (typeof layerConf.visible === 'undefined') {\n        layerConf.visible = true\n      }\n      layer = new GroupLayer({\n        layers: arr\n      })\n      break\n    case 'XYZ':\n    case 'TileWMS':\n    case 'Bing':\n      layer = new TileLayer(deepCopy(layerConf))\n      break\n    case 'ImageWMS':\n      layer = new ImageLayer(deepCopy(layerConf))\n      break\n    case 'FeatureCollection':// can not use deepcopy, it remove style function\n      layer = new FeatureLayer(layerConf)\n      break\n  }\n  return set(layer, layerConf)\n}\n\nfunction set (layer, layerConf) {\n  if (typeof layerConf.visible === 'boolean') {\n    layer.setVisible(layerConf.visible)\n  }\n  if (typeof layerConf.id === 'undefined') {\n    layerConf.id = uid()\n  }\n  layer.set('id', layerConf.id)\n  if (layerConf.title) {\n    layer.set('title', layerConf.title)\n  }\n  if (layerConf.layerType) {\n    layer.set('type', layerConf.type)\n  }\n  if (layerConf.icon) {\n    layer.set('icon', layerConf.icon)\n  }\n  if (layerConf.minResolution) {\n    layer.setMinResolution(layerConf.minResolution)\n  }\n  if (layerConf.maxResolution) {\n    layer.setMaxResolution(layerConf.maxResolution)\n  }\n  if (typeof layerConf.opacity !== 'undefined') {\n    layer.setOpacity(layerConf.opacity)\n  }\n  layer.set('conf', layerConf)\n  return layer\n}\n","import Component from 'Geop/Component'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport { getState, setState, onchange } from 'Utilities/store'\nimport { degToRad, radToDeg } from 'Utilities/util'\nimport {\n  get as getPermalink,\n  set as setPermalink,\n  onchange as onPermalinkChange,\n  viewConfToPermalink\n} from 'Utilities/permalink'\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport { get as getProjection, fromLonLat, toLonLat } from 'ol/proj'\nimport { register } from 'ol/proj/proj4'\nimport proj4 from 'proj4'\nimport $ from 'jquery'\nimport 'ol/ol.css'\nimport './MapEngine.styl'\n\nproj4.defs(\"EPSG:3301\", \"+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\")\nproj4.defs(\"EPSG:32634\", \"+proj=utm +zone=34 +datum=WGS84 +units=m +no_defs\")\nproj4.defs(\"EPSG:32635\", \"+proj=utm +zone=35 +datum=WGS84 +units=m +no_defs\")\nregister(proj4)\ngetProjection('EPSG:3301').setExtent([40500, 5993000, 1064500, 7017000])\n\nclass MapEngine extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<div id=\"${getState('map/el').slice(1)}\"></div>`)\n    this.create()\n    this.map = null\n    this.layers = {\n      base: createLayer({\n        type: 'Group',\n        layers: []\n      }),\n      layers: createLayer({\n        type: 'Group',\n        layers: []\n      }),\n      overlays: createLayer({\n        type: 'Group',\n        layers: []\n      })\n    }\n    this.format = {\n      geojson: new GeoJSONFormat()\n    }\n    this.activeBaseLayer = null\n    this.geoLocation = null\n    this.controls = {\n      mouseCoordinates : null\n    }\n    this.overlay = null\n    this.shouldUpdate = true\n    // permalink\n    const permalink = this.permalinkToViewConf(getPermalink('view'))\n    this.createBaseLayers(getState('layer/baseLayers'), permalink ? permalink.baselayer : null)\n    this.createLayers(getState('layer/layers'))\n    this.createOverlays(getState('layer/overlays'))\n    // set to store\n    setState('map/layer/base', this.layers.base.getLayers())\n    setState('map/layer/layers', this.layers.layers.getLayers())\n    setState('map/layer/overlays', this.layers.overlays.getLayers())\n    setState('map/baseLayer', this.activeBaseLayer.get('id'), true)\n    // que for map\n    setState('map/que', [])\n    // listen layers change\n    this.layers.layers.getLayers().on('add', () => {\n      this.storeLayers('layers')\n    })\n    this.layers.layers.getLayers().on('remove', () => {\n      this.storeLayers('layers')\n    })\n    // listen overlays change\n    this.layers.overlays.getLayers().on('add', () => {\n      this.storeLayers('overlays')\n    })\n    this.layers.overlays.getLayers().on('remove', () => {\n      this.storeLayers('overlays')\n    })\n    // listen when feature has added or removed\n    onchange('layerchange', layerId => {\n      this.updateStore(layerId)\n    })\n    // listen permalink change\n    onPermalinkChange(permalink => {\n      if (permalink.view) {\n        const viewConf = this.permalinkToViewConf(permalink.view)\n        if (viewConf) {\n          this.map.getView().animate({\n            center: fromLonLat(viewConf.center, getState('map/projection')),\n            zoom: viewConf.zoom,\n            rotation: degToRad(viewConf.rotation),\n            duration: 500\n          })\n        }\n      }\n    })\n  }\n\n  init () {\n    // permalink\n    const permalink = this.permalinkToViewConf(getPermalink('view'))\n    this.map = this.createMap(permalink)\n    setState('map', this.map)\n    this.map.on('moveend', (e) => {\n      const view = e.map.getView()\n      setState('map/resolution', view.getResolution())\n      setState('map/center', toLonLat(view.getCenter()), true)\n      setState('map/zoom', view.getZoom(), true)\n      setState('map/rotation', radToDeg(view.getRotation()), true)\n      setPermalink({\n        view: viewConfToPermalink({\n          center: toLonLat(view.getCenter()),\n          zoom: view.getZoom(),\n          rotation: radToDeg(view.getRotation()),\n          baseLayer: getState('map/baseLayer')\n        })\n      })\n    })\n    // run que\n    const que = getState('map/que')\n    que.forEach(item => {\n      if (typeof item === 'function') {\n        item(this.map)\n      }\n    })\n  }\n  permalinkToViewConf (permalink) {\n    const parts = permalink ? permalink.split('-') : []\n    return {\n      center: (!isNaN(parts[1]) && !isNaN(parts[0])) ? [Number(parts[1]), Number(parts[0])] : getState('map/center'),\n      zoom: !isNaN(parts[2]) ? Number(parts[2]) : getState('map/zoom'),\n      rotation: !isNaN(parts[3]) ? Number(parts[3]) : getState('map/rotation'),\n      baselayer: parts[4] || getState('map/baseLayer')\n    }\n  }\n  createMap (viewConf) {\n    return new Map({\n      layers: Object.keys(this.layers).map(i => this.layers[i]),\n      controls: [],\n      target: document.querySelector(getState('map/el')),\n      moveTolerance: 2,\n      pixelRatio: 2,\n      view: new View({\n        projection: getState('map/projection'),\n        center: fromLonLat(viewConf.center, getState('map/projection')),\n        zoom: viewConf.zoom,\n        rotation: degToRad(viewConf.rotation),\n        maxZoom: getState('map/maxZoom'),\n        minZoom: getState('map/minZoom')\n      })\n    })\n  }\n\n  createBaseLayers (layers, activeBaseLayerId) {\n    Object.keys(layers).forEach(id => {\n      layers[id].visible = (id === activeBaseLayerId)\n      layers[id].id = id\n      const layer = createLayer(layers[id])\n      this.addBaseLayer(layer)\n      if (layers[id].visible) {\n        this.activeBaseLayer = layer\n      }\n    })\n  }\n  createLayers (layers) {\n    layers.forEach(layer => {\n      this.addLayer(createLayer(layer))\n    })\n  }\n  createOverlays (layers) {\n    layers.forEach(layer => {\n      this.addOverlay(createLayer(layer))\n    })\n  }\n  addBaseLayer (layer) {\n    this.layers.base.getLayers().push(layer)\n  }\n  addLayer (layer) {\n    this.layers.layers.getLayers().push(layer)\n  }\n  addOverlay (layer) {\n    this.layers.overlays.getLayers().push(layer)\n  }\n  getLayer (group, id = null) {\n    if (group in this.layers) {\n      if (!id) {\n        return this.layers[group]\n      } else {\n        const layers = this.layers[group].getLayers().getArray().filter(layer => {\n          return layer.get('id') === id\n        })\n        return layers[0]\n      }\n    }\n  }\n  storeLayers (group) {\n    const layerConfs = this.layers[group].getLayers().getArray().map(layer => {\n      return layer.get('conf')\n    })\n    setState('layer/' + group, layerConfs, true)\n  }\n  updateStore (layerId) {\n    let layer = this.getLayer('overlays', layerId)\n    if (layer) {\n      const conf = layer.get('conf')\n      if (conf.type === 'FeatureCollection') {\n        const collection = this.format.geojson.writeFeaturesObject(layer.getSource().getFeatures(), {\n          featureProjection: getState('map/projection'),\n          dataProjection: 'EPSG:4326'\n        })\n        conf.features = collection.features\n        layer.set('conf', conf)\n      }\n      this.storeLayers('overlays')\n      return\n    }\n  }\n  destroy () {\n    this.map.setTarget(null)\n    this.map = null\n    super.destroy()\n  }\n}\n\nexport default MapEngine\n","import { t } from 'Utilities/translate'\nimport Component from 'Geop/Component'\nimport { uid } from 'Utilities/util'\nimport $ from 'jquery'\nimport './SideBar.styl'\n\nclass Sidebar extends Component {\n  constructor (opts) {\n    if (!opts.target) {\n      opts.target = $('body')\n    }\n    super(opts.target)\n    this.id = 'sidebar-' + uid()\n    this.el = $(`<nav id=\"${this.id}\" class=\"sidebar bg-light p-3\"></nav>`)\n    this.shadow = $(`<div id=\"${this.id}-shadow\" class=\"sidebar-shadow\"></div>`)\n    this.state = {\n      trigger: opts.trigger,\n      position: opts.position,\n      shadow: opts.shadow,\n      active: opts.activeComponent\n    }\n    this.trigger = opts.trigger\n    this.create()\n    this.components = this.renderComponents(this.el.find(' > ul'), this.el.find('> div'), opts.components, opts.props)\n  }\n  create () {\n    if (this.target && this.el) {\n      this.target.append(this.el)\n      this.target.append(this.el)\n      if (this.state.shadow) {\n        this.target.append(this.shadow)\n      }\n      this.render()\n    }\n  }\n  render () {\n    this.el.html(`\n      <button type=\"button\" class=\"close\" aria-label=\"${t('Close')}\">\n        <i class=\"fa fa-times\"></i>\n      </button>\n      <ul class=\"nav nav-pills mb-3\" role=\"tablist\"></ul>\n      <div class=\"tab-content\"></div>\n    `)\n    this.trigger.on('click', e => {\n      this.openSidebar()\n    })\n    this.el.on('click', '> button', e => {\n      this.closeSidebar()\n    })\n    this.shadow.on('click', e => {\n      this.closeSidebar()\n    })\n  }\n  openSidebar () {\n    this.el.addClass('active')\n    this.shadow.addClass('active')\n  }\n  closeSidebar () {\n    this.el.removeClass('active')\n    this.shadow.removeClass('active')\n  }\n  renderComponents (tabTarget, contentTarget, components, props) {\n    const instances = {}\n    Object.keys(components).forEach((i) => {\n      const plug = new components[i](contentTarget, props)\n      const tab = $(`\n        <li class=\"nav-item\">\n          <a class=\"nav-link ${this.state.active === plug.id ? 'active' : ''}\"\n            data-toggle=\"pill\"\n            href=\"#${plug.id}\"\n            role=\"tab\"\n            aria-controls=\"${plug.id}\">\n            ${plug.icon ? `<i class=\"${plug.icon}\"></i>` : ''}\n            <span class=\"${plug.btnTextVisible ? '' : 'd-none d-sm-inline-block'}\">${t(i)}</span>\n          </a>\n        </li>\n      `)\n      plug.set('tab', tab)\n      tabTarget.append(tab)\n      instances[i] = plug\n    })\n    return instances\n  }\n}\n\nexport default Sidebar\n","import { geocache as cacheConf } from 'Conf/settings'\nimport { t } from 'Utilities/translate'\nimport log from 'Utilities/log'\nimport { getState } from 'Utilities/store'\nimport { uid, hexToRgbA } from 'Utilities/util'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport Component from 'Geop/Component'\nimport $ from 'jquery'\n\nclass GeocacheLoader extends Component {\n  constructor (target) {\n    super(target)\n    this.id = 'tab-loader'\n    this.icon = 'fa fa-cloud-download-alt'\n    this.el = $(`\n      <div\n        class=\"tab-pane fade show active\"\n        id=\"${this.id}\"\n        role=\"tabpanel\">\n      </div>\n    `)\n    this.create()\n  }\n  render () {\n    this.el.html(`\n      <ul class=\"list-group mb-3\">\n        <li class=\"list-group-item\">\n          <span class=\"badge badge-pill badge-secondary\">1</span>\n          ${t('Go to')}\n          <a href=\"${cacheConf.authUrl}\" target=\"geopeitus\">geopeitus.ee</a>\n          ${t('and log in')},\n        </li>\n        <li class=\"list-group-item\">\n          <span class=\"badge badge-pill badge-secondary\">2</span>\n          ${t('download GPX from')}\n          <a href=\"${cacheConf.downloadUrl.page}\" target=\"geopeitus\">${t('here')}</a>\n          ${t('and drop it on map or import file from layers menu')}\n          <div class=\"alert alert-light\" role=\"alert\">\n            ${t('Quick links')}<br/>\n            ${Object.keys(cacheConf.downloadUrl.gpx).map(key => {\n              return `<a href=\"${cacheConf.downloadUrl.gpx[key]}\" target=\"geopeitus\">${t(key)}</a>`\n            }).join('<br/>')}\n          </div>\n        </li>\n        <li class=\"list-group-item\">\n          <span class=\"badge badge-pill badge-secondary\">3</span>\n          ${t('or open')}\n          <a href=\"${cacheConf.downloadUrl.geojson}\" target=\"geopeitus\">link</a>\n          ${t('and copy page content to textbox below')}\n        </li>\n      </ul>\n      <div class=\"mb-3\">\n        <textarea class=\"form-control\" rows=\"6\"></textarea>\n      </div>\n      <button disabled\n        type=\"button\"\n        class=\"btn btn-secondary confirm\">\n        ${t('Add geocaches to map')}\n      </button>\n    `)\n    this.el.find('textarea').on('input', e => {\n      const val = this.el.find('textarea').val().trim()\n      this.el.find('button.confirm').prop('disabled', val.length === 0)\n    })\n    this.el.find('textarea').on('keyup', e => {\n      if (e.keyCode === 13) {\n        const txt = this.el.find('textarea')\n        this.addCaches(txt.val().trim())\n        txt.val('').trigger('input')\n      }\n    })\n    this.el.on('click', 'button.confirm', e => {\n      const txt = this.el.find('textarea')\n      this.addCaches(txt.val().trim())\n      txt.val('').trigger('input')\n    })\n  }\n  addCaches (content) {\n    let json = null\n    content = this.fixme(content)\n    const debug = getState('app/debug')\n    try {\n      json = JSON.parse(content)\n      if (json.type !== 'FeatureCollection' || !json.features) {\n        throw new Error('Not valid GeoJSON')\n      }\n    } catch (e) {\n      log('error', t(e.message))\n      if (debug) {\n        console.debug('GeocacheLoader.addCaches: error ' + JSON.stringify(e))\n      }\n    }\n    if (json) {\n      const layer = this.createLayer(json)\n      getState('map/layer/layers').push(layer)\n      log('success', `${t('Added')} ${json.features.length} ${t('features')}`)\n      if (debug) {\n        console.debug('GeocacheLoader.addCaches: added ' + json.features.length)\n      }\n    }\n  }\n  fixme (content) {\n    // FIXME: temporary hack to fix known json false\n    return content.replace('\"NAVY\"', 'NAVY')\n  }\n  createLayer (geojson) {\n    const color = '#000000'\n    geojson.features && geojson.features.forEach(f => {\n      f.id = uid()\n    })\n    const conf = {\n      type: 'FeatureCollection',\n      id: uid(),\n      title: 'Geocaches',\n      features: geojson.features,\n      style: {\n        stroke: {\n          color: color,\n          width: 2\n        },\n        fill: {\n          color: hexToRgbA(color, 0.5)\n        },\n        circle: {\n          stroke: {\n            color: color\n          },\n          fill: {\n            color: hexToRgbA(color, 0.3)\n          },\n          radius: 5\n        }\n      }\n    }\n    return createLayer(conf)\n  }\n}\n\nexport default GeocacheLoader\n","import { geocache as cacheConf } from 'Conf/settings'\nimport { t } from 'Utilities/translate'\nimport { setState } from 'Utilities/store'\nimport Component from 'Geop/Component'\nimport $ from 'jquery'\nimport './Filter.styl'\n\nclass Filter extends Component {\n  constructor (target, props) {\n    super(target)\n    this.id = 'tab-filter'\n    this.icon = 'fa fa-filter'\n    this.btnTextVisible = true\n    this.el = $(`\n      <div\n        class=\"tab-pane fade\"\n        id=\"${this.id}\"\n        role=\"tabpanel\">\n      </div>\n    `)\n    this.state = {\n      tab: null,\n      conf: this.createConf(),\n      layers: props.collection,\n      filter: {}\n    }\n    this.create()\n    this.state.layers.on('add', e => this.render())\n    this.state.layers.on('remove', e => this.render())\n  }\n  render () {\n    this.state.filter = this.buildPropertyList(this.state.layers)\n    this.el.html(`\n      <ul class=\"list-group mb-3\">\n      ${Object.keys(this.state.filter).length ?\n        this.renderFilter(this.state.filter) :\n        `<li class=\"list-group-item\">\n          <i class=\"fas fa-plus\"></i>\n          ${t('Add caches to map')}\n        </li>`}\n      </ul>\n    `)\n    this.el.find('input[data-filter]').on('change', e => {\n      e.stopPropagation()\n      this.filter()\n    })\n    this.el.find('input[name=radiusStyle]').on('change', e => {\n      e.stopPropagation()\n      const visible = $(e.target).is(':checked')\n      this.state.layers.forEach(l => {\n        l.getSource().forEachFeature(f => {\n          f.set('radiusVisible', visible)\n        })\n      })\n      this.filter()\n    })\n  }\n  renderFilter (filter) {\n    return `\n      <li class=\"list-group-item\">\n        <label>\n          <input type=\"checkbox\" name=\"radiusStyle\" value=\"0\"> ${t('Show 160m radius')}\n        </label>\n      </li>\n      ${Object.keys(filter).map(group => {\n        const list = Object.keys(filter[group]).map(item => {\n          return `<label>\n            <input type=\"checkbox\" name=\"${group}\" data-filter=\"${group}\" value=\"${item}\">\n            ${t(filter[group][item])}\n          </label>`\n        })\n        return '<li class=\"list-group-item\">' + list.join('') + '</li>'\n      }).join('')}`\n  }\n  createConf () {\n    const conf = {}\n    Object.keys(cacheConf.filter).forEach(f => {\n      if (typeof cacheConf.filter[f] === 'string') {\n        conf[f] = Object.values(cacheConf.mapping[cacheConf.filter[f]])\n      } else {\n        conf[f] = cacheConf.filter[f]\n      }\n    })\n    return conf\n  }\n  buildPropertyList (layers) {\n    let filter = {}\n    layers.getArray().forEach(l => {\n      l.getSource().forEachFeature(f => {\n        const props = f.getProperties()\n        Object.keys(props).forEach(i => {\n          if (i in this.state.conf) {\n            if (!filter[i]) {\n              filter[i] = {}\n            }\n            if (this.state.conf[i].indexOf(props[i]) > -1 && !filter[i][props[i]]) {\n              filter[i][props[i]] = props[i]\n            }\n          }\n        })\n      })\n    })\n    Object.keys(filter).forEach(f => {\n      if (Object.keys(filter[f]).length === 0) {\n        delete filter[f]\n      }\n    })\n    return filter\n  }\n  filter () {\n    const params = this.getChecked()\n    this.state.layers.forEach(l => {\n      l.getSource().forEachFeature(f => {\n        if (params.count) {\n          const props = f.getProperties()\n          const valid = Object.keys(params.query).filter(i => {\n            return (i in props && params.query[i].indexOf(props[i]) > -1)\n          })\n          f.set('hidden', valid.length !== Object.keys(params.query).length)\n        } else {\n          f.set('hidden', false)\n        }\n      })\n    })\n    setState('geocache/filter', params)\n  }\n  getChecked () {\n    const checked = this.el.find('input[data-filter]').serializeArray()\n    const params = {\n      query: {},\n      count: 0\n    }\n    for (let i = 0, len = checked.length; i < len; i++) {\n      if (!params.query[checked[i].name]) {\n        params.query[checked[i].name] = []\n      }\n      if (params.query[checked[i].name].indexOf(checked[i].value) === -1) {\n        params.query[checked[i].name].push(checked[i].value)\n        params.count++\n      }\n    }\n    return params\n  }\n}\n\nexport default Filter\n","import { geocache as cacheConf } from 'Conf/settings'\nimport { t } from 'Utilities/translate'\nimport { getState, setState } from 'Utilities/store'\nimport { gpxExport } from 'Utilities/util'\nimport Component from 'Geop/Component'\nimport Collection from 'ol/Collection'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport Sortable from 'sortablejs'\nimport Point from 'ol/geom/Point'\nimport LineString from 'ol/geom/LineString'\nimport Feature from 'ol/Feature'\nimport { getLength } from 'ol/sphere'\nimport lineSliceAlong from '@turf/line-slice-along'\nimport $ from 'jquery'\nimport './Geotrip.styl'\n\nclass Geotrip extends Component {\n  constructor (target, props) {\n    super(target)\n    this.id = 'tab-geotrip'\n    this.icon = 'fa fa-thumbtack'\n    this.btnTextVisible = true\n    this.el = $(`\n      <div\n        class=\"tab-pane fade\"\n        id=\"${this.id}\"\n        role=\"tabpanel\">\n      </div>\n    `)\n    this.state = {\n      tab: null,\n      routeLayer: null,\n      layers: getState('map/layer/layers'),\n      collection: new Collection()\n    }\n    setState('geocache/trip', this.state.collection)\n    getState('map/layer/layers').on('remove', e => {\n      this.loadState()\n    })\n    getState('map/layer/overlays').on('remove', e => {\n      this.loadState()\n    })\n    this.state.collection.on('add', e => {\n      // allow only points\n      if (e.element.getGeometry() instanceof Point) {\n        e.element.set('_inGeotrip', true)\n        this.render()\n      } else {\n        this.state.collection.remove(e.element)\n      }\n    })\n    this.state.collection.on('remove', e => {\n      e.element.set('_inGeotrip', false)\n      this.render()\n    })\n    this.create()\n    this.initEvents()\n    const map = getState('map')\n    if (map) {\n      this.loadState()\n    } else {\n      const que = getState('map/que')\n      que.push(map => {\n        this.loadState()\n      })\n    }\n  }\n  render () {\n    this.el.html(`\n      <ul class=\"list-group mb-3\">\n      ${this.state.collection.getLength() ?\n        this.renderTrip(this.state.collection) :\n        `<li class=\"list-group-item\">\n          <i class=\"fas fa-plus\"></i>\n          ${t('Add features from map')}\n        </li>`}\n      </ul>\n      ${this.state.collection.getLength() ?\n        `<div class=\"btn-group float-right\" role=\"group\">\n          <a role=\"button\" class=\"btn btn-secondary export\" title=\"${t('Download')}\">\n            <i class=\"fas fa-download\"></i> GPX\n          </a>\n          <button type=\"button\" class=\"btn btn-secondary clear\" title=\"${t('Clear trip')}\">\n            <i class=\"fas fa-trash\"></i>\n          </button>\n        </div>` : ''}\n    `)\n    this.state.tab && this.state.tab.find('span').html(this.state.collection.getLength() || t('Geotrip'))\n    if (this.state.collection.getLength()) {\n      // route\n      if (!this.state.routeLayer) {\n        this.state.routeLayer = this.createLayer()\n        this.state.routeLayer.setMap(getState('map'))\n      }\n      this.state.routeLayer.getSource().clear()\n      const fset = this.state.collection.getArray().map(f => f.getGeometry().getCoordinates())\n      const coords = []\n      if (fset.length > 1) {\n        for (let i = 0, len = fset.length; i < len; i++) {\n          if (i !== len - 1) {\n            coords[i] = [fset[i], fset[i + 1]]\n          } else {\n            coords[i - 1][1] = fset[i]\n          }\n        }\n        coords.forEach(coord => {\n          this.state.routeLayer.getSource().addFeature(new Feature(new LineString(coord)))\n        })\n      }\n      // sortable\n      Sortable.create(this.el.find('ul')[0], {\n        draggable: 'li.sort-item',\n        handle: '.badge',\n        onUpdate: e => {\n          this.reorderTrip()\n          this.render()\n        }\n      })\n      setState('geocache/trip/ids', this.state.collection.getArray().map(f => f.getId()), true)\n    }\n  }\n  renderTrip (collection) {\n    return collection.getArray().map((f, i) => {\n      return `\n        <li class=\"list-group-item sort-item\" data-id=\"${f.getId()}\">\n          <button type=\"button\" class=\"close\" aria-label=\"${t('Close')}\">\n            <i class=\"fa fa-times\"></i>\n          </button>\n          <span class=\"badge badge-pill badge-primary\">${i+1}</span>\n          <a href=\"#\">${t(f.get('name'))}</a>\n        </li>`\n    }).join('')\n  }\n  initEvents () {\n    // remove element\n    this.el.on('click', 'li button.close', e => {\n      this.remove($(e.currentTarget).closest('li').data('id'))\n    })\n    // zoom to\n    this.el.on('click', 'li a', e => {\n      e.preventDefault()\n      this.zoomTo($(e.currentTarget).closest('li').data('id'))\n    })\n    // clear trip\n    this.el.on('click', 'button.clear', e => {\n      this.clearTrip()\n    })\n    // export trip\n    this.el.on('click', 'a.export', e => {\n      e.preventDefault()\n      this.export()\n    });\n    // share trip\n    this.el.on('click', 'button.share', e => {\n      this.share()\n    })\n  }\n  reorderCollection (collection, order) {\n    for (let i = 0, len = order.length; i < len; i++) {\n      const feature = collection.getArray().filter(f => f.getId() === order[i])\n      if (feature && feature[0]) {\n        collection.remove(feature[0])\n        collection.insertAt(i, feature[0])\n      }\n    }\n  }\n  reorderTrip () {\n    const order = []\n    this.el.find('li.sort-item').each((i, li) => {\n      order.push($(li).data('id'))\n    })\n    this.reorderCollection(this.state.collection, order)\n  }\n  loadState () {\n    const ids = getState('geocache/trip/ids')\n    this.clearTrip()\n    if (ids) {\n      this.getTripFeaturesFromGroup(getState('map/layer/layers'), ids, this.state.collection)\n      this.getTripFeaturesFromGroup(getState('map/layer/overlays'), ids, this.state.collection)\n      this.reorderCollection(this.state.collection, ids)\n    }\n  }\n  getTripFeaturesFromGroup (group, test, target) {\n    group.getArray()\n      .filter(l => {\n        return (l.get('conf') && l.get('conf').type === 'FeatureCollection')\n      })\n      .forEach(l => {\n        l.getSource().forEachFeature(f => {\n          if (test.indexOf(f.getId()) > -1) {\n            target.push(f)\n          }\n        })\n      })\n  }\n  clearTrip () {\n    this.state.routeLayer && this.state.routeLayer.getSource().clear()\n    this.state.collection.clear()\n  }\n  remove (id) {\n    const feature = this.state.collection.getArray().filter(f => f.getId() === id)\n    if (feature && feature[0]) {\n      this.state.collection.remove(feature[0])\n    }\n  }\n  zoomTo (id) {\n    const feature = this.state.collection.getArray().filter(f => f.getId() === id)\n    if (feature && feature[0]) {\n      getState('map').getView().animate({\n        center: feature[0].getGeometry().getCoordinates(),\n        zoom: 15,\n        duration: 500\n      })\n    }\n  }\n  export () {\n    const features = this.state.collection.getArray().map(f => {\n      const clone = f.clone()\n      clone.getGeometry().transform(getState('map/projection'), 'EPSG:4326')\n      return clone\n    })\n    if (features.length > 1) {\n      let coords = []\n      this.state.routeLayer.getSource().getFeatures().forEach(f => {\n        const clone = f.clone()\n        coords = coords.concat(clone.getGeometry().getCoordinates())\n      })\n      features.push(new Feature(new LineString(coords).transform(getState('map/projection'), 'EPSG:4326')))\n    }\n    gpxExport(cacheConf.exportFileName, features)\n  }\n  createLayer () {\n    const view = getState('map').getView()\n    const proj = getState('map/projection')\n    return createLayer({\n      type: 'FeatureCollection',\n      title: 'Route',\n      updateWhileAnimating: true,\n      updateWhileInteracting: true,\n      style: (feature, resolution, factory) => {\n        const geom = feature.getGeometry()\n        const distance = (6 * view.getResolution()) / 1000\n        const length = getLength(geom) / 1000\n        const clone = geom.clone().transform(proj, 'EPSG:4326')\n        if (length - (2 * distance) > distance) {\n          const trimLine = lineSliceAlong({\n            type: 'LineString',\n            coordinates: clone.getCoordinates()\n          }, distance, length - (distance * 1.5))\n          clone.setCoordinates(trimLine.geometry.coordinates)\n          clone.transform('EPSG:4326', proj)\n          const coords = clone.getCoordinates()\n          const dx = coords[coords.length - 1][0] - coords[coords.length - 2][0]\n          const dy = coords[coords.length - 1][1] - coords[coords.length - 2][1]\n          const rotation = Math.atan2(dy, dx)\n          return [\n            factory({\n              stroke: {\n                color: 'white',\n                width: 5\n              },\n              geometry: clone\n            }),\n            factory({\n              stroke: {\n                color: 'rgba(0, 0, 0, 0.6)',\n                width: 3\n              },\n              geometry: clone\n            }),\n            factory({\n              shape: {\n                fill: {\n                  color: 'rgba(0, 0, 0, 0.6)'\n                },\n                stroke: {\n                  color: 'white',\n                  width: 1\n                },\n                points: 3,\n                radius: 8,\n                rotateWithView: true,\n                rotation: -rotation,\n                angle: 33\n              },\n              geometry: new Point(clone.getLastCoordinate())\n            })\n          ]\n        }\n        return null\n      }\n    })\n  }\n}\n\nexport default Geotrip\n","export default {\n  test: feature => {\n    return (\n      feature.get('fstatus') &&\n      typeof feature.get('type') !== 'undefined' &&\n      feature.get('date_hidden')\n    )\n  },\n  formatFeatures: opts => {\n    const today = new Date()\n    opts.features.forEach(feature => {\n      // id\n      // type\n      feature.set('type', opts.mapping.type[feature.get('type')] || feature.get('type'))\n      feature.set('isCache', feature.get('type').substring(0, 8) === 'Geocache')\n      // fstatus\n      feature.set('fstatus', opts.mapping.fstatusJSON[feature.get('fstatus')] || feature.get('fstatus'))\n      // status ? currently not available\n      feature.set('status', 'Available')\n      // time\n      feature.set('time', feature.get('date_hidden'))\n      feature.unset('date_hidden')\n      // name\n      // url\n      feature.set('url', opts.url + feature.get('id'))\n      // owner\n      feature.set('owner', feature.get('user_id'))\n      feature.unset('user_id')\n      // container\n      feature.set('container', opts.mapping.container[feature.get('size')] || feature.get('size'))\n      feature.unset('size')\n      // difficulty\n      // terrain\n      // new cache\n      const date = new Date(feature.get('date_hidden'))\n      const testDate = new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate() + opts.newCacheDays\n      )\n      const newCache = (feature.get('fstatus') === 'Not Found' && testDate > today) ? 'New Cache' : null\n      if (!feature.get('newCache')) {\n        feature.set('newCache', newCache)\n      }\n      // id\n      if (!feature.getId()) {\n        feature.setId(opts.uid())\n      }\n    })\n  }\n}\n","export default {\n  test: feature => {\n    return (feature.get('wpt') && feature.get('wpt')['groundspeak:cache'])\n  },\n  formatFeatures: opts => {\n    const today = new Date()\n    opts.features.forEach(feature => {\n      const wpt = feature.get('wpt')\n      feature.unset('wpt')\n      feature.unset('extensionsNode_')\n      if (wpt['groundspeak:cache']) {\n        const cacheData = {}\n        Object.keys(wpt['groundspeak:cache']).forEach(i => {\n          if (i !== '_text') {\n            cacheData[i.replace('groundspeak:', '')] = wpt['groundspeak:cache'][i]['_text'] ?\n              wpt['groundspeak:cache'][i]['_text'] : wpt['groundspeak:cache'][i]\n          }\n        })\n        // id\n        feature.set('id', cacheData['@id'])\n        // type\n        feature.set('isCache', feature.get('type').substring(0, 8) === 'Geocache')\n        // fstatus\n        let fstatus = feature.get('sym')\n        if (opts.user && opts.user === cacheData.owner) {\n          fstatus = 'Geocache Owner'\n        }\n        feature.set('fstatus', opts.mapping.fstatusGPX[fstatus] || fstatus)\n        feature.unset('sym')\n        // status\n        let status = cacheData['@available'] === 'True' ? 'Available' : 'Unavailable'\n        if (cacheData['@archived'] === 'True') {\n          status = 'Archived'\n        }\n        feature.set('status', status)\n        // time\n        feature.set('time', wpt.time['_text'])\n        // name\n        feature.set('name', cacheData.name)\n        // url\n        feature.set('url', wpt.url['_text'])\n        // owner\n        feature.set('owner', cacheData.owner)\n        // container\n        feature.set('container', cacheData.container)\n        // difficulty\n        feature.set('difficulty', cacheData.difficulty)\n        // terrain\n        feature.set('terrain', cacheData.terrain)\n        // new cache\n        const date = new Date(feature.get('time'))\n        const testDate = new Date(\n          date.getFullYear(),\n          date.getMonth(),\n          date.getDate() + opts.newCacheDays\n        )\n        const newCache = (feature.get('fstatus') === 'Not Found' && testDate > today) ? 'New Cache' : null\n        feature.set('newCache', newCache)\n      } else {\n        // assume waypoint\n        // name\n        feature.set('name', feature.get('type'))\n        // url\n        feature.set('url', wpt.url['_text'])\n      }\n      if (!feature.getId()) {\n        feature.setId(opts.uid())\n      }\n    })\n  }\n}\n","import { geocache as cacheConf } from 'Conf/settings'\nimport { t } from 'Utilities/translate'\nimport { uid, scaleFactor, formatTime, hexToRgbA, deepCopy } from 'Utilities/util'\nimport { getState, setState, onchange } from 'Utilities/store'\nimport { toLonLat } from 'ol/proj'\nimport Component from 'Geop/Component'\nimport Sidebar from 'Components/sidebar/Sidebar'\nimport GeocacheLoader from './GeocacheLoader'\nimport Filter from './Filter'\nimport Geotrip from './Geotrip'\nimport { createStyle } from 'Components/layer/StyleBuilder'\nimport Circle from 'ol/geom/Circle'\nimport Collection from 'ol/Collection'\nimport geopeitusJSON from './GeopeitusJSON'\nimport geocacheGPX from './GeocacheGPX'\n//import geocacheGPX from './GeocacheGPX'\nimport './Geocache.styl'\nimport $ from 'jquery'\n\nclass Geocache extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <div id=\"geocache\" class=\"btn-group\">\n        <button\n          class=\"btn btn-secondary\"\n          title=\"${t('Caches')}\">\n          <i class=\"fa fa-cube\"></i>\n          <span>${t('Caches')}</span>\n        </button>\n      </div>\n    `)\n    this.state = {\n      layers: new Collection(),\n      styleCache: {},\n      styleConfig: cacheConf.styles,\n      currentUser: getState('app/account')\n    }\n    const listenLayers = e => {\n      let featureCount = 0\n      this.state.layers.forEach(layer => {\n        featureCount += layer.getSource().getFeatures().filter(f => {\n          return (f.get('isCache') && !f.get('hidden'))\n        }).length\n      })\n      this.el.find('button > span').html(featureCount || t('Caches'))\n      this.sidebar.getComponent('Filter').get('tab').find('span').html(featureCount || t('Filter'))\n    }\n    this.state.layers.on('add', listenLayers)\n    this.state.layers.on('remove', listenLayers)\n    onchange('geocache/filter', listenLayers)\n    // radiusStyle geometry function\n    this.state.styleConfig.radiusStyle.geometry = feature => {\n      const coordinates = feature.getGeometry().getCoordinates()\n      const lonlat = toLonLat(coordinates)\n      const scaleF = scaleFactor(lonlat)\n      return new Circle(coordinates, (cacheConf.radiusStyle.radius * scaleF))\n    }\n    this.create()\n    this.sidebar = new Sidebar({\n      target: $('#geop'),\n      trigger: this.el.find('button'),\n      position: 'left',\n      components: {\n        GeocacheLoader,\n        Filter,\n        Geotrip\n      },\n      activeComponent: 'tab-loader',\n      shadow: false,\n      props: {\n        collection: this.state.layers\n      }\n    })\n    this.layersPick()\n  }\n  layersPick () {\n    const layers = getState('map/layer/layers')\n    layers.forEach(layer => {\n      if(this.checkLayer(layer)) {\n        this.registerLayer(layer)\n      }\n    })\n    layers.on('add', e => {\n      if(this.checkLayer(e.element)) {\n        this.registerLayer(e.element)\n      }\n    })\n    layers.on('remove', e => {\n      this.state.layers.remove(e.element)\n    })\n  }\n  checkLayer (layer) {\n    const features = layer.getSource().getFeatures ?\n      layer.getSource().getFeatures() : false\n    if (features && features[0]) {\n      const isGeopeitusJSON = geopeitusJSON.test(features[0])\n      const isCacheGPX = geocacheGPX.test(features[0])\n      if (isCacheGPX) {\n        layer.set('_cacheFormatParser', geocacheGPX)\n      } else if (isGeopeitusJSON) {\n        layer.set('_cacheFormatParser', geopeitusJSON)\n      }\n      return (isGeopeitusJSON || isCacheGPX)\n    }\n    return false\n  }\n  registerLayer (layer) {\n    const stat = {\n      'Not Found': 'far fa-square',\n      'Found': 'far fa-check-square',\n      'Owner': 'fas fa-user'\n    }\n    layer.get('_cacheFormatParser').formatFeatures({\n      features: layer.getSource().getFeatures(),\n      newCacheDays: cacheConf.newCacheDays,\n      mapping: cacheConf.mapping,\n      user: this.state.currentUser,\n      uid: uid,\n      url: cacheConf.cacheUrl,\n      date: formatTime\n    })\n    layer.setStyle((feature, resolution) => this.styleGeocache(feature, resolution))\n    layer.set('_featureInfo', {\n      title: f => {\n        const geotrip = getState('geocache/trip')\n        const inTrip = geotrip && geotrip.getArray().indexOf(f) > -1\n        const styleType = this.state.styleConfig.text[f.get('type')]\n        if (f.get('isCache')) {\n          return `\n            <i class=\"${styleType ? styleType.class : this.state.styleConfig.base.class} ${f.get('status') !== 'Available' ? 'unavailable' : ''}\"></i>\n            <a href=\"${f.get('url')}\" target=\"_blank\" class=\"${f.get('status') === 'Archived' ? 'archived' : ''}\">${t(f.get('name'))}</a>\n            <a href=\"#\" class=\"tools cache-toggle float-right\" data-id=\"${f.getId()}\" title=\"${t('Add to geotrip')}\">\n              <i class=\"fas ${inTrip ? 'fa-minus-square' : 'fa-thumbtack'}\"></i>\n            </a>`\n        } else {\n          return `\n            <i class=\"${styleType ? styleType.class : this.state.styleConfig.base.class}\"></i>\n            <a href=\"${f.get('url')}\" target=\"_blank\">${t(f.get('name'))}</a>\n            <a href=\"#\" class=\"cache-toggle\" data-id=\"${f.getId()}\" title=\"${t('Add to geotrip')}\">\n              <i class=\"fas ${inTrip ? 'fa-minus-square' : 'fa-thumbtack'}\"></i>\n            </a>`\n        }\n      },\n      content: f => {\n        const styleType = this.state.styleConfig.text[f.get('type')]\n        if (f.get('isCache')) {\n          return `\n            <p class=\"text-muted metadata\">\n              <i class=\"fas fa-clock\"></i> ${formatTime(f.get('time'))}<br/>\n              <i class=\"fa fa-user\"></i> ${f.get('owner')}<br/>\n              <i class=\"${styleType ? styleType.class : this.state.styleConfig.base.class}\"></i>\n              ${t(f.get('type'))}<br/>\n              <i class=\"fa fa-chart-area\"></i> ${f.get('terrain')}\n              <i class=\"fa fa-star ml-2\"></i> ${f.get('difficulty')}\n              <i class=\"fa fa-expand-arrows-alt ml-2\"></i> ${t(f.get('container'))}<br/>\n              ${f.get('cmt') ? `<i class=\"fa fa-hand-point-right\"></i> ${f.get('cmt')}` : ''}\n            </p>\n            <p>\n              <i class=\"${stat[f.get('fstatus')]}\"></i> ${t(f.get('fstatus'))}\n            </p>`\n        } else {\n          return `\n            <p>\n              ${f.get('desc')}\n            </p>`\n        }\n      }\n    })\n    this.state.layers.push(layer)\n    // run for onchange events\n    setState('geocache/loadend', this.state.layers.getLength())\n    if (getState('app/debug')) {\n      console.debug('Geocache.registerLayer: ' + layer.get('id') + ', ' + layer.get('title'))\n    }\n  }\n  styleGeocache (feature, resolution) {\n    const type = feature.get('type')\n    const fstatus = feature.get('fstatus')\n    const newCache = feature.get('newCache')\n    const status = feature.get('status')\n    const overviewStyle = resolution > cacheConf.overviewMinResolution\n    const hash = type + fstatus + newCache + status + overviewStyle\n    if (!feature.get('_inGeotrip') && !feature.get('isCache') && resolution > cacheConf.waypointMaxResolution) {\n      return null\n    }\n    if (!feature.get('_inGeotrip') && feature.get('hidden')) {\n      return null\n    }\n    if (!this.state.styleCache[hash]) {\n      const definition = !overviewStyle ?\n        Object.assign(\n          {},\n          this.state.styleConfig.base,\n          this.state.styleConfig.text[type],\n          this.state.styleConfig.color[fstatus],\n          this.state.styleConfig.newCache[newCache] || {}\n        ) :\n        Object.assign(\n          {},\n          this.state.styleConfig.base,\n          this.state.styleConfig.overview,\n          this.state.styleConfig.color[fstatus],\n          this.state.styleConfig.newCache[newCache] || {}\n        )\n      // deep copy for remove references\n      const def = deepCopy(definition)\n      if (status !== 'Available') {\n        if (def.fill) {\n          def.fill.color = hexToRgbA(def.fill.color, 0.5)\n        }\n        if (def.stroke) {\n          def.stroke.color = hexToRgbA(def.stroke.color, 0.7)\n        }\n      }\n      this.state.styleCache[hash] = createStyle({\n        text: def,\n        zIndex: feature.get('isCache') ? 2 : 1\n      }, true)\n    }\n    if (feature.get('isCache') && feature.get('radiusVisible') && resolution <= cacheConf.radiusStyle.maxResolution) {\n      if (!this.state.styleCache.radiusStyle) {\n        this.state.styleCache.radiusStyle = createStyle(\n          this.state.styleConfig.radiusStyle,\n          true\n        )\n      }\n      return [\n        this.state.styleCache[hash],\n        this.state.styleCache.radiusStyle\n      ]\n    }\n    return [this.state.styleCache[hash]]\n  }\n}\n\nexport default Geocache\n","import {apiUrls} from 'Conf/settings'\nimport {getState} from 'Utilities/store'\nimport {t} from 'Utilities/translate'\nimport Component from 'Geop/Component'\nimport {toLonLat} from 'ol/proj'\nimport './OSMEdit.styl'\nimport $ from 'jquery'\n\nclass OSMEdit extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <a href=\"#\" id=\"osm-edit\" title=\"${t('Edit OSM here')}\">\n        <i class=\"fa fa-edit\"></i>\n      </a>\n    `)\n    this.isRow = false\n    // create is called from parent\n  }\n  render () {\n    this.el.on('click', e => {\n      e.preventDefault()\n      const center = toLonLat(getState('map/view/center'))\n      const zoom = getState('map/view/zoom')\n      window.open(apiUrls.ideditor + zoom + '/' + center[1] + '/' + center[0])\n    })\n  }\n}\n\nexport default OSMEdit\n","import { t } from 'Utilities/translate'\nimport { validURL, parseURL, constructURL, uid } from 'Utilities/util'\nimport { getState } from 'Utilities/store'\nimport log from 'Utilities/log'\nimport Component from 'Geop/Component'\nimport { createLayer } from './LayerCreator'\nimport $ from 'jquery'\n\nclass WMSLayer extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<li />`)\n    this.modal = $('#modal_wmslayer')\n    this.isRow = true\n    this.layer_conf = {\n        type: 'TileWMS',\n        url: null,\n        projection: 'EPSG:3301',\n        gutter: 20,\n        crossOrigin: null\n    }\n    this.layer_conf_params = {\n        LAYERS: null,\n        TILED: true,\n        FORMAT: 'image/png',\n        VERSION: '1.1.1'\n    }\n    this.state = {\n      layers: getState('map/layer/layers')\n    }\n    // create is called from parent\n  }\n  render () {\n    if (!this.modal || this.modal.length === 0) {\n      this.modal = $(`\n        <div class=\"modal fade\"\n          id=\"modal_wmslayer\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-hidden=\"true\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h4 class=\"modal-title\">${t('Add WMS layer')}</h4>\n                <button type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div class=\"modal-body text-muted\">\n                ${t('Insert WMS v.1.1.1 URL with LAYERS and SRS parameters')}\n                <textarea class=\"form-control\" rows=\"3\"></textarea>\n                <div class=\"small examples\">\n                  <b>Näited:</b><br>\n                  <a href=\"http://kaart.maaamet.ee/wms/alus?layers=TOPOYKSUS_6569,TOPOYKSUS_7793&SRS=EPSG:3301&title=Kataster\">\n                    katastrikaart\n                  </a>\n                </div>\n              </div>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary confirm\">${t('Add')}</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      `)\n      this.modal.on('click', 'button.confirm', e => {\n        e.preventDefault()\n        const layer = this.createLayer(this.modal.find('textarea').val().trim())\n        if (layer) {\n          this.state.layers.push(layer)\n          this.modal.find('textarea').val('')\n          this.modal.modal('hide')\n        }\n      })\n      this.modal.on('click', '.examples a', e => {\n        e.preventDefault()\n        this.modal.find('textarea').val(e.target.href)\n      })\n      $('body').append(this.modal)\n    }\n    this.el.html(`\n      <a href=\"#\"\n        id=\"add-wms-layer\"\n        class=\"dropdown-item\"\n        data-toggle=\"modal\"\n        data-target=\"#modal_wmslayer\">\n        <i class=\"fa fa-plus\"></i>\n        ${t('Add WMS layer')}\n      </a>\n    `)\n  }\n  createLayer (url) {\n    const debug = getState('app/debug')\n    const urlComponents = parseURL(url)\n    if (validURL(url) && urlComponents.query) {\n      const conf = Object.assign({}, this.layer_conf)\n      conf.params = Object.assign({}, this.layer_conf_params)\n      if (urlComponents.query.LAYERS || urlComponents.query.layers) {\n        conf.params.LAYERS = urlComponents.query.LAYERS || urlComponents.query.layers\n        delete urlComponents.query.LAYERS\n        delete urlComponents.query.layers\n      } else {\n        log('error', t('Missing LAYERS parameter'))\n        if (debug) {\n          console.error(`WMSLayer.createLayer: Missing LAYERS parameter - ${url}`)\n        }\n        return\n      }\n      if (urlComponents.query.SRS || urlComponents.query.srs) {\n        conf.projection = urlComponents.query.srs || urlComponents.query.SRS\n        delete urlComponents.query.SRS\n        delete urlComponents.query.srs\n      } else {\n        log('error', t('Missing SRS parameter'))\n        if (debug) {\n          console.error(`WMSLayer.createLayer: Missing SRS parameter - ${url}`)\n        }\n        return\n      }\n      conf.url = constructURL(urlComponents)\n      conf.id = uid()\n      conf.title = urlComponents.query.title || conf.params.LAYERS\n      return createLayer(conf)\n    } else {\n      log('error', t('URL is not valid WMS resource!'))\n      if (debug) {\n        console.error(`WMSLayer.createLayer: URL is not valid WMS resource! - ${url}`)\n      }\n    }\n    return null\n  }\n  destroy () {\n    this.modal.modal('dispose')\n    this.modal.remove()\n    this.modal = null\n    super.destroy()\n  }\n}\n\nexport default WMSLayer\n","import GPX from 'ol/format/GPX'\nimport Point from 'ol/geom/Point'\nimport LineString from 'ol/geom/LineString'\nimport MultiLineString from 'ol/geom/MultiLineString'\nimport Feature from 'ol/Feature'\nimport {transformWithOptions} from 'ol/format/Feature'\nimport GeometryLayout from 'ol/geom/GeometryLayout'\nimport {includes} from 'ol/array'\nimport {makeStructureNS, makeObjectPropertySetter, parseNode, pushParseAndPop,\n  makeArrayPusher} from 'ol/xml'\nimport {readString, readDecimal, readNonNegativeInteger, readDateTime} from 'ol/format/xsd'\nimport xml2js from 'Utilities/xml2'\n\n/**\n * @const\n * @type {Array<null|string>}\n */\nconst NAMESPACE_URIS = [\n  null,\n  'http://www.topografix.com/GPX/1/0',\n  'http://www.topografix.com/GPX/1/1',\n  'http://www.groundspeak.com/cache/1/0'\n]\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst LINK_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'text': makeObjectPropertySetter(readString, 'linkText'),\n    'type': makeObjectPropertySetter(readString, 'linkType')\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst GPX_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'rte': makeArrayPusher(readRte),\n    'trk': makeArrayPusher(readTrk),\n    'wpt': makeArrayPusher(readWpt)\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst WPT_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': makeObjectPropertySetter(readDecimal),\n    'time': makeObjectPropertySetter(readDateTime),\n    'magvar': makeObjectPropertySetter(readDecimal),\n    'geoidheight': makeObjectPropertySetter(readDecimal),\n    'name': makeObjectPropertySetter(readString),\n    'cmt': makeObjectPropertySetter(readString),\n    'desc': makeObjectPropertySetter(readString),\n    'src': makeObjectPropertySetter(readString),\n    'link': parseLink,\n    'sym': makeObjectPropertySetter(readString),\n    'type': makeObjectPropertySetter(readString),\n    'fix': makeObjectPropertySetter(readString),\n    'sat': makeObjectPropertySetter(readNonNegativeInteger),\n    'hdop': makeObjectPropertySetter(readDecimal),\n    'vdop': makeObjectPropertySetter(readDecimal),\n    'pdop': makeObjectPropertySetter(readDecimal),\n    'ageofdgpsdata': makeObjectPropertySetter(readDecimal),\n    'dgpsid': makeObjectPropertySetter(readNonNegativeInteger),\n    'extensions': parseExtensions\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst RTE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'name': makeObjectPropertySetter(readString),\n    'cmt': makeObjectPropertySetter(readString),\n    'desc': makeObjectPropertySetter(readString),\n    'src': makeObjectPropertySetter(readString),\n    'link': parseLink,\n    'number': makeObjectPropertySetter(readNonNegativeInteger),\n    'extensions': parseExtensions,\n    'type': makeObjectPropertySetter(readString),\n    'rtept': parseRtePt\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst TRK_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'name': makeObjectPropertySetter(readString),\n    'cmt': makeObjectPropertySetter(readString),\n    'desc': makeObjectPropertySetter(readString),\n    'src': makeObjectPropertySetter(readString),\n    'link': parseLink,\n    'number': makeObjectPropertySetter(readNonNegativeInteger),\n    'type': makeObjectPropertySetter(readString),\n    'extensions': parseExtensions,\n    'trkseg': parseTrkSeg\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst RTEPT_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': makeObjectPropertySetter(readDecimal),\n    'time': makeObjectPropertySetter(readDateTime)\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst TRKSEG_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'trkpt': parseTrkPt\n  }\n)\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\nconst TRKPT_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ele': makeObjectPropertySetter(readDecimal),\n    'time': makeObjectPropertySetter(readDateTime)\n  }\n)\n\nexport default class GPXFormat extends GPX {\n  constructor (opts = {}) {\n    super(opts)\n  }\n  /**\n   * @inheritDoc\n   */\n  readFeaturesFromNode (node, opts) {\n    if (!includes(NAMESPACE_URIS, node.namespaceURI)) {\n      return []\n    }\n    if (node.localName === 'gpx') {\n      /** @type {Array<Feature>} */\n      const features = pushParseAndPop([], GPX_PARSERS,\n        node, [this.getReadOptions(node, opts)])\n      if (features) {\n        this.handleReadExtensions_(features)\n        return features\n      } else {\n        return []\n      }\n    }\n    return []\n  }\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseLink(node, objectStack) {\n  const values = /** @type {Object} */ (objectStack[objectStack.length - 1])\n  const href = node.getAttribute('href')\n  if (href !== null) {\n    values['link'] = href\n  }\n  parseNode(LINK_PARSERS, node, objectStack)\n}\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseExtensions(node, objectStack) {\n  const values = /** @type {Object} */ (objectStack[objectStack.length - 1])\n  values['extensionsNode_'] = node\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Feature|undefined} Waypoint.\n */\nfunction readWpt(node, objectStack) {\n  const options = /** @type {import(\"./Feature.js\").ReadOptions} */ (objectStack[0])\n  const values = pushParseAndPop({}, WPT_PARSERS, node, objectStack)\n  if (!values) {\n    return undefined\n  }\n  const layoutOptions = /** @type {LayoutOptions} */ ({})\n  const coordinates = appendCoordinate([], layoutOptions, node, values)\n  const layout = applyLayoutOptions(layoutOptions, coordinates)\n  const geometry = new Point(coordinates, layout)\n  transformWithOptions(geometry, false, options)\n  const feature = new Feature(geometry)\n  feature.setProperties(values)\n  feature.set('wpt', xml2js(node))\n  return feature\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {LayoutOptions} layoutOptions Layout options.\n * @param {Element} node Node.\n * @param {!Object} values Values.\n * @return {Array<number>} Flat coordinates.\n */\nfunction appendCoordinate(flatCoordinates, layoutOptions, node, values) {\n  flatCoordinates.push(\n    parseFloat(node.getAttribute('lon')),\n    parseFloat(node.getAttribute('lat')))\n  if ('ele' in values) {\n    flatCoordinates.push(/** @type {number} */ (values['ele']))\n    delete values['ele']\n    layoutOptions.hasZ = true\n  } else {\n    flatCoordinates.push(0)\n  }\n  if ('time' in values) {\n    flatCoordinates.push(/** @type {number} */ (values['time']))\n    delete values['time']\n    layoutOptions.hasM = true\n  } else {\n    flatCoordinates.push(0)\n  }\n  return flatCoordinates\n}\n/**\n * Choose GeometryLayout based on flags in layoutOptions and adjust flatCoordinates\n * and ends arrays by shrinking them accordingly (removing unused zero entries).\n *\n * @param {LayoutOptions} layoutOptions Layout options.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {Array<number>=} ends Ends.\n * @return {GeometryLayout} Layout.\n */\nfunction applyLayoutOptions(layoutOptions, flatCoordinates, ends) {\n  let layout = GeometryLayout.XY\n  let stride = 2\n  if (layoutOptions.hasZ && layoutOptions.hasM) {\n    layout = GeometryLayout.XYZM\n    stride = 4\n  } else if (layoutOptions.hasZ) {\n    layout = GeometryLayout.XYZ\n    stride = 3\n  } else if (layoutOptions.hasM) {\n    layout = GeometryLayout.XYM\n    stride = 3\n  }\n  if (stride !== 4) {\n    for (let i = 0, ii = flatCoordinates.length / 4; i < ii; i++) {\n      flatCoordinates[i * stride] = flatCoordinates[i * 4]\n      flatCoordinates[i * stride + 1] = flatCoordinates[i * 4 + 1]\n      if (layoutOptions.hasZ) {\n        flatCoordinates[i * stride + 2] = flatCoordinates[i * 4 + 2]\n      }\n      if (layoutOptions.hasM) {\n        flatCoordinates[i * stride + 2] = flatCoordinates[i * 4 + 3]\n      }\n    }\n    flatCoordinates.length = flatCoordinates.length / 4 * stride\n    if (ends) {\n      for (let i = 0, ii = ends.length; i < ii; i++) {\n        ends[i] = ends[i] / 4 * stride\n      }\n    }\n  }\n  return layout\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Feature|undefined} Track.\n */\nfunction readRte(node, objectStack) {\n  const options = /** @type {import(\"./Feature.js\").ReadOptions} */ (objectStack[0])\n  const values = pushParseAndPop({\n    'flatCoordinates': [],\n    'layoutOptions': {}\n  }, RTE_PARSERS, node, objectStack)\n  if (!values) {\n    return undefined\n  }\n  const flatCoordinates = /** @type {Array<number>} */\n      (values['flatCoordinates'])\n  delete values['flatCoordinates']\n  const layoutOptions = /** @type {LayoutOptions} */ (values['layoutOptions'])\n  delete values['layoutOptions']\n  const layout = applyLayoutOptions(layoutOptions, flatCoordinates)\n  const geometry = new LineString(flatCoordinates, layout)\n  transformWithOptions(geometry, false, options)\n  const feature = new Feature(geometry)\n  feature.setProperties(values)\n  return feature\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Feature|undefined} Track.\n */\nfunction readTrk(node, objectStack) {\n  const options = /** @type {import(\"./Feature.js\").ReadOptions} */ (objectStack[0]);\n  const values = pushParseAndPop({\n    'flatCoordinates': [],\n    'ends': [],\n    'layoutOptions': {}\n  }, TRK_PARSERS, node, objectStack);\n  if (!values) {\n    return undefined;\n  }\n  const flatCoordinates = /** @type {Array<number>} */\n      (values['flatCoordinates']);\n  delete values['flatCoordinates'];\n  const ends = /** @type {Array<number>} */ (values['ends']);\n  delete values['ends'];\n  const layoutOptions = /** @type {LayoutOptions} */ (values['layoutOptions']);\n  delete values['layoutOptions'];\n  const layout = applyLayoutOptions(layoutOptions, flatCoordinates, ends);\n  const geometry = new MultiLineString(flatCoordinates, layout, ends);\n  transformWithOptions(geometry, false, options);\n  const feature = new Feature(geometry);\n  feature.setProperties(values);\n  return feature;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseRtePt(node, objectStack) {\n  const values = pushParseAndPop({}, RTEPT_PARSERS, node, objectStack);\n  if (values) {\n    const rteValues = /** @type {!Object} */ (objectStack[objectStack.length - 1]);\n    const flatCoordinates = /** @type {Array<number>} */ (rteValues['flatCoordinates']);\n    const layoutOptions = /** @type {LayoutOptions} */ (rteValues['layoutOptions']);\n    appendCoordinate(flatCoordinates, layoutOptions, node, values);\n  }\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseTrkSeg(node, objectStack) {\n  const values = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  parseNode(TRKSEG_PARSERS, node, objectStack);\n  const flatCoordinates = /** @type {Array<number>} */\n      (values['flatCoordinates']);\n  const ends = /** @type {Array<number>} */ (values['ends']);\n  ends.push(flatCoordinates.length);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n */\nfunction parseTrkPt(node, objectStack) {\n  const values = pushParseAndPop({}, TRKPT_PARSERS, node, objectStack);\n  if (values) {\n    const trkValues = /** @type {!Object} */ (objectStack[objectStack.length - 1]);\n    const flatCoordinates = /** @type {Array<number>} */ (trkValues['flatCoordinates']);\n    const layoutOptions = /** @type {LayoutOptions} */ (trkValues['layoutOptions']);\n    appendCoordinate(flatCoordinates, layoutOptions, node, values);\n  }\n}\n","export default function xml2js (xml) {\n  let obj = {}\n  if (xml.nodeType === 1) {\n    for (let j = 0, len = xml.attributes.length; j < len; j++) {\n      const attribute = xml.attributes.item(j)\n      obj['@' + attribute.nodeName] = attribute.nodeValue\n    }\n\n  } else if (xml.nodeType === 3) {\n    return xml.nodeValue.trim()\n  }\n  if (xml.hasChildNodes()) {\n    for (let i = 0, len = xml.childNodes.length, subitem; i < len; i++) {\n      const item = xml.childNodes.item(i)\n      const nodeName = item.nodeName.replace('#', '_')\n      if (typeof obj[nodeName] === 'undefined') {\n        subitem = xml2js(item)\n        if (typeof subitem !== 'string' || subitem.length) {\n          obj[nodeName] = subitem\n        }\n      } else {\n        if (typeof obj[nodeName].push === 'undefined') {\n          const old = obj[nodeName]\n          obj[nodeName] = []\n          if (typeof old !== 'string' || old.length) {\n            obj[nodeName].push(old)\n          }\n        }\n        subitem = xml2js(item)\n        if (typeof subitem !== 'string' || subitem.length) {\n          obj[nodeName].push(subitem)\n        }\n      }\n    }\n  }\n  return obj\n}\n","import { t } from 'Utilities/translate'\nimport { uid, getRandomColor, hexToRgbA } from 'Utilities/util'\nimport { getState } from 'Utilities/store'\nimport log from 'Utilities/log'\nimport { createLayer, dataProjection } from './LayerCreator'\nimport Component from 'Geop/Component'\nimport GPXFormat from './GPXFormat'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport KMLFormat from 'ol/format/KML'\nimport DragAndDrop from 'ol/interaction/DragAndDrop'\nimport $ from 'jquery'\n\nclass FileLayer extends Component {\n  constructor (target) {\n    super(target)\n    if (!window.File || !window.FileReader || !window.FileList || !window.Blob) {\n      return\n    }\n    this.el = $(`<li />`)\n    this.isRow = true\n    this.fileTypes = {\n      gpx: new GPXFormat(),\n      geojson: new GeoJSONFormat(),\n      kml: new KMLFormat()\n    }\n    // alias for geojson\n    this.fileTypes.json = this.fileTypes.geojson\n    this.state = {\n      layers: getState('map/layer/layers')\n    }\n    this.addDragNDrop()\n    // create is called from parent\n  }\n  render () {\n    const debug = getState('app/debug')\n    this.el.html(`\n      <a href=\"#\"\n        id=\"add-file-layer\"\n        class=\"dropdown-item\">\n        <i class=\"fa fa-plus\"></i>\n        ${t('Add File layer')}\n      </a>\n      <input type=\"file\" style=\"display:none;\" />\n    `)\n    this.el.on('click', 'a#add-file-layer', e => {\n      e.preventDefault()\n      e.stopPropagation()\n      $(e.target).closest('li').find('input').trigger('click')\n    })\n    this.el.on('change', 'input', e => {\n      const files = e.target.files\n      if (files && files[0]) {\n        const filename = files[0].name\n        const ext = filename.split('.').pop().toLowerCase()\n        if (ext in this.fileTypes) {\n          if (debug) {\n            console.debug(`FileLayer.render input change: ${filename}`)\n          }\n          const reader = new window.FileReader()\n          reader.onload = (e) => {\n            const parser = this.fileTypes[ext]\n            const features = parser.readFeatures(e.target.result)\n            const conf = this.fileTypes.geojson.writeFeaturesObject(features)\n            conf.title = filename\n            const layer = this.createLayer(conf)\n            if (layer) {\n              this.state.layers.push(layer)\n              log('success', `${t('Added')} ${conf.features.length} ${t('features')}`)\n              if (debug) {\n                console.debug(`FileLayer.render layer created: ${filename}, features: ${conf.features.length}`)\n              }\n            }\n          }\n          reader.readAsText(files[0])\n        } else {\n          log('error', t('Unsupported file type'))\n          if (debug) {\n            console.error(`FileLayer.render Unsupported file type: ${filename}`)\n          }\n        }\n      }\n    })\n  }\n  addDragNDrop () {\n    // add only once to map\n    const map = getState('map')\n    let added = false\n    if (map) {\n      const interactions = map.getInteractions()\n      interactions.forEach(i => {\n        if (i instanceof DragAndDrop) {\n          added = true\n          return\n        }\n      })\n    }\n    if (!added) {\n      const dragAndDropInteraction = new DragAndDrop({\n        projection: dataProjection,\n        formatConstructors: [\n          GPXFormat,\n          GeoJSONFormat,\n          KMLFormat\n        ]\n      })\n      dragAndDropInteraction.on('addfeatures', e => {\n        const conf = this.fileTypes.geojson.writeFeaturesObject(e.features)\n        conf.title = e.file.name\n        const layer = this.createLayer(conf)\n        if (layer) {\n          this.state.layers.push(layer)\n          log('success', `${t('Added')} ${conf.features.length} ${t('features')}`)\n          if (getState('app/debug')) {\n            console.debug(`FileLayer.addDragNDrop layer created: ${e.file.name}, features: ${conf.features.length}`)\n          }\n        }\n      })\n      if (map) {\n        map.addInteraction(dragAndDropInteraction)\n      } else {\n        const que = getState('map/que')\n        que.push(map => {\n          map.addInteraction(dragAndDropInteraction)\n        })\n      }\n    }\n  }\n  createLayer (conf) {\n    if (conf.features.length > 0) {\n      const color = getRandomColor({\n        luminosity: 'dark'\n      })\n      conf.id = uid()\n      conf.features && conf.features.forEach(f => {\n        f.id = uid()\n      })\n      conf.style = {\n        stroke: {\n          color: color,\n          width: 2\n        },\n        fill: {\n          color: hexToRgbA(color, 0.5)\n        },\n        circle: {\n          stroke: {\n            color: color\n          },\n          fill: {\n            color: hexToRgbA(color, 0.3)\n          }\n        }\n      }\n      try {\n        return createLayer(conf)\n      } catch (e) {\n        log('error', t('Error creating layer') + e)\n        if (getState('app/debug')) {\n          console.debug(`FileLayer.addDragNDrop layer created: ${e.file.name}, features: ${conf.features.length}`)\n        }\n      }\n    } else {\n      log('error', t('Empty file'))\n      if (getState('app/debug')) {\n        console.debug(`FileLayer.addDragNDrop empty file: ${conf.title}`)\n      }\n    }\n  }\n}\n\nexport default FileLayer\n","import { t } from 'Utilities/translate'\nimport { uid } from 'Utilities/util'\nimport { getState, setState } from 'Utilities/store'\nimport { get as getPermalink, set as setPermalink } from 'Utilities/permalink'\nimport { createLayer } from './LayerCreator'\nimport Component from 'Geop/Component'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport { extend } from 'ol/extent'\nimport JSONP from 'jsonpack'\n\nclass UrlLayer extends Component {\n  constructor (target) {\n    super(target)\n    this.format = new GeoJSONFormat()\n    this.state = {\n      layers: getState('map/layer/layers')\n    }\n    this.init()\n  }\n  init () {\n    const hash = getPermalink('hash')\n    const view = getPermalink('view')\n    let bbox\n    if (hash) {\n      bbox = this.loadFeaturesFromUrl(hash)\n    }\n    const icon = getPermalink('icon')\n    if (icon) {\n      bbox = this.addMarker(icon)\n    }\n    if (!view && bbox) {\n      const map = getState('map')\n      if (map) {\n        this.fitTo(map, bbox)\n      } else {\n        const que = getState('map/que')\n        que.push(map => {\n          this.fitTo(map, bbox)\n        })\n      }\n    }\n  }\n  fitTo (map, bbox) {\n    map.getView().fit(bbox, {\n      padding: [100, 100, 100, 100],\n      maxZoom: 14,\n      duration: 500\n    })\n  }\n  loadFeaturesFromUrl (hash) {\n    setPermalink({\n      hash: null\n    })\n    const features = JSONP.unpack(decodeURIComponent(hash))\n    if (features && features.length) {\n      const trip = features.map(f => f.id)\n      if (trip && trip.length) {\n        setState('geocache/trip/ids', trip, true)\n      }\n      // separate caches and markers\n      const caches = features.filter(feature => {\n        return (typeof feature.properties.fstatus !== 'undefined')\n      })\n      const markers = features.filter(feature => {\n        return (typeof feature.properties.fstatus === 'undefined')\n      })\n      const bbox = []\n      if (caches.length) {\n        const cacheLayer = this.createLayer('Geocaches', caches)\n        extend(bbox, cacheLayer.getSource().getExtent())\n        this.state.layers.push(cacheLayer)\n      }\n      if (markers.length) {\n        const markerLayer = this.createLayer('Features', markers)\n        extend(bbox, markerLayer.getSource().getExtent())\n        this.state.layers.push(markerLayer)\n      }\n      if (getState('app/debug')) {\n        console.error(`UrlLayer.loadFeaturesFromUrl: caches ${caches.length}, features ${markers.length}`)\n      }\n      return bbox\n    }\n    return null\n  }\n  addMarker (coordString) {\n    const coords = coordString.split('-')\n    if (coords && coords.length === 2) {\n      const feature = {\n        type: 'Feature',\n        id: uid(),\n        geometry: {\n          type: 'Point',\n          coordinates: [Number(coords[1]), Number(coords[0])]\n        },\n        properties: {\n          name: 'Point'\n        }\n      }\n      const layer = this.createLayer('Point', [feature], {\n        text: {\n          text: '\\uf3c5',\n          class: 'fas fa-map-marker-alt',\n          font: '900 24px \"Font Awesome 5 Free\"',\n          textBaseline: 'bottom',\n          fill: {\n            color: '#000'\n          },\n          stroke: {\n            color: '#fff',\n            width: 4\n          }\n        }\n      })\n      const map = getState('map')\n      if (map) {\n        layer.setMap(map)\n      } else {\n        const que = getState('map/que')\n        que.push(map => {\n          layer.setMap(map)\n        })\n      }\n      if (getState('app/debug')) {\n        console.error(`UrlLayer.addMarker: ${coordString}`)\n      }\n      return layer.getSource().getExtent()\n    }\n    return null\n  }\n  createLayer (title, features, style) {\n    return createLayer({\n      type: 'FeatureCollection',\n      id: uid(),\n      title: t(title),\n      features: features,\n      style: style\n    })\n  }\n}\n\nexport default UrlLayer\n","import $ from 'jquery'\nimport { getState, setState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport log from 'Utilities/log'\nimport {\n  set as setPermalink,\n  onchange as onPermalinkChange,\n  viewConfToPermalink\n} from 'Utilities/permalink'\nimport Component from 'Geop/Component'\nimport OSMEdit from 'Components/osmedit/OSMEdit'\nimport WMSLayer from './WMSLayer'\nimport FileLayer from './FileLayer'\nimport UrlLayer from './UrlLayer'\nimport './LayerManager.styl'\n\nclass LayerManager extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<div class=\"btn-group float-right\" id=\"layermanager\"></div>`)\n    this.state = {\n      activeBaseLayer: null,\n      baseLayers: getState('map/layer/base'),\n      layers: getState('map/layer/layers'),\n      overlays: getState('map/layer/overlays'),\n      open: false\n    }\n    this.handlers = {\n      onchange: () => {\n        this.render()\n      }\n    }\n    this.state.baseLayers.forEach(layer => {\n      if (layer.get('id') === getState('map/baseLayer')) {\n        this.state.activeBaseLayer = layer\n      }\n    })\n    this.state.layers.on('add', this.handlers.onchange)\n    this.state.layers.on('remove', this.handlers.onchange)\n    this.state.overlays.on('add', this.handlers.onchange)\n    this.state.overlays.on('remove', this.handlers.onchange)\n    this.create()\n    // do not init here\n    this.components = {\n      osm: OSMEdit,\n      wms: WMSLayer,\n      file: FileLayer\n    }\n    this.renderComponents(this.el.find('.dropdown-menu'))\n    // register layer from url\n    this.urlLayer = new UrlLayer()\n    // listen permalink change\n    onPermalinkChange(permalink => {\n      if (permalink.view) {\n        const baseLayerId = this.permalinkToViewConf(permalink.view)\n        if (baseLayerId) {\n          this.changeBaseLayer(baseLayerId)\n        }\n      }\n    })\n  }\n\n  create () {\n    super.create()\n    // events\n    if (this.target && this.el) {\n      this.el.on('click', '.baselayer', e => {\n        e.preventDefault()\n        e.stopPropagation()\n        const id = $(e.currentTarget).data('id')\n        if (id === this.state.activeBaseLayer.get('id')) {\n          this.toggleLayer('baseLayers', id)\n        } else {\n          if (this.changeBaseLayer(id)) {\n            setPermalink({\n              view: viewConfToPermalink({\n                center: getState('map/center'),\n                zoom: getState('map/zoom'),\n                rotation: getState('map/rotation'),\n                baseLayer: id\n              })\n            })\n          }\n        }\n      })\n      this.el.on('click', '.layer', e => {\n        e.preventDefault()\n        e.stopPropagation()\n        this.toggleLayer($(e.currentTarget).data('group'), $(e.currentTarget).data('id'))\n      })\n      this.el.on('click', '.layer a.fit-layer', e => {\n        e.preventDefault()\n        e.stopPropagation()\n        this.fitTo($(e.currentTarget).closest('.layer').data('group'), $(e.currentTarget).closest('.layer').data('id'))\n      })\n      this.el.on('click', '.layer a.remove-layer', e => {\n        e.preventDefault()\n        e.stopPropagation()\n        this.removeLayer($(e.currentTarget).closest('.layer').data('group'), $(e.currentTarget).closest('.layer').data('id'))\n      })\n    }\n  }\n\n  render () {\n    this.el.html(`\n      <button type=\"button\"\n        class=\"btn btn-secondary toggle-btn dropdown-toggle no-caret\"\n        data-toggle=\"dropdown\"\n        aria-label=\"${t('Layers')}\"\n        aria-expanded=\"false\">\n        <span class=\"display-name d-none d-sm-inline-block\">\n          ${this.state.activeBaseLayer ?\n            t(this.state.activeBaseLayer.get('title')) : t('Layers')}\n        </span>\n        <i class=\"fa fa-layer-group\"></i>\n      </button>\n      <ul class=\"dropdown-menu dropdown-menu-right\">\n        ${this.state.baseLayers.getLength() > 0 ?\n          this.state.baseLayers.getArray().map(layer => {\n            return `\n              <li\n                class=\"dropdown-item baselayer ${this.layerVisible(layer) ? '' : 'disabled'}\"\n                data-id=\"${layer.get('id')}\">\n                <i class=\"far ${layer.getVisible() ? 'fa-dot-circle' : 'fa-circle'}\"></i>\n                ${t(layer.get('title'))}\n              </li>`\n        }).join('') :\n        `<li class=\"dropdown-item disabled\">${t('No baselyers added')}</li>`}\n        ${this.renderLayerGroup('overlays', this.state.overlays)}\n        ${this.renderLayerGroup('layers', this.state.layers)}\n      </ul>`)\n    this.renderComponents(this.el.find('.dropdown-menu'))\n    if (this.state.open) {\n      this.el.find('button.toggle-btn').dropdown('toggle')\n      this.state.open = false\n    }\n  }\n\n  renderLayerGroup (groupId, group) {\n    return group.getLength() > 0 ?\n      `<li class=\"dropdown-divider\"></li>` +\n      group.getArray().map(layer => {\n        return `\n          <li\n            class=\"dropdown-item layer ${this.layerVisible(layer) ? '' : 'disabled'}\"\n            data-group=\"${groupId}\" data-id=\"${layer.get('id')}\">\n            <i class=\"far ${layer.getVisible() ? 'fa-check-square' : 'fa-square'}\"></i>\n            ${t(layer.get('title'))}\n            <div class=\"layer-tools\">\n              <a href=\"#\" class=\"fit-layer\">\n                <i class=\"fa fa-search-plus\"></i>\n              </a>\n              <a href=\"#\" class=\"remove-layer\">\n                <i class=\"fa fa-times\"></i>\n              </a>\n            </div>\n          </li>`\n        }).join('') : ''\n  }\n\n  permalinkToViewConf (permalink) {\n    const parts = permalink ? permalink.split('-') : []\n    return parts[4]\n  }\n\n  layerVisible (layer) {\n    if (layer.minResolution && this._map.getView().getResolution() < layer.minResolution) {\n      return false;\n    }\n    if (layer.maxResolution && this._map.getView().getResolution() > layer.maxResolution) {\n      return false;\n    }\n    return true;\n  }\n\n  changeBaseLayer (id) {\n    const layers = this.state.baseLayers.getArray().filter(l => l.get('id') === id)\n    if (layers.length === 1) {\n      this.state.baseLayers.forEach(layer => {\n        layer.setVisible(false)\n      })\n      layers[0].setVisible(true)\n      this.state.activeBaseLayer = layers[0]\n      setState('map/baseLayer', id, true)\n      //this.state.open = true\n      this.render()\n      return true\n    }\n    return false\n  }\n\n  toggleLayer (groupId, id) {\n    this.state[groupId].forEach(layer => {\n      if (layer.get('id') === id) {\n        layer.setVisible(!layer.getVisible())\n        return\n      }\n    })\n    this.state.open = true\n    this.render()\n  }\n\n  removeLayer (groupId, id) {\n    this.state[groupId].forEach(layer => {\n      if (layer && layer.get('id') === id) {\n        this.state.open = true\n        this.state[groupId].remove(layer)\n        return\n      }\n    })\n  }\n\n  fitTo (groupId, id) {\n    for (let layer of this.state[groupId].getArray()) {\n      if (layer && layer.get('id') === id) {\n        this.state.open = true\n        const bbox = layer.getSource().getExtent ?\n          layer.getSource().getExtent() : layer.getExtent()\n        if (bbox) {\n          getState('map').getView().fit(bbox, {\n            padding: [50, 50, 50, 50],\n            maxZoom: 17,\n            duration: 500\n          })\n        } else {\n          log('error', `${t('Unable to find layer extent')}`)\n          if (getState('app/debug')) {\n            console.error(`LayerManager.fitTo: no bbox ${groupId}, ${id}`)\n          }\n        }\n        break\n      }\n    }\n  }\n\n  renderComponents (target) {\n    let dividerAdded = false\n    Object.keys(this.components).forEach((i) => {\n      const plug = new this.components[i](target)\n      if (plug && plug.isRow && !dividerAdded) {\n        target.append('<div class=\"dropdown-divider\"></div>')\n        dividerAdded = true\n      }\n      plug.create()\n    })\n  }\n\n}\n\nexport default LayerManager\n","export default [\n  {\n    /*\n    * EPSG:32634\n    * North East\n    * 34N;6472665;660394\n    * 34N 6472665,57 660394.45\n    */\n    regexp: /^(34N)[ ,;:]\\s*([0-9]{7}|[0-9]{1,7}[,.]\\d{0,9})[ ,;:]\\s*([0-9]{6}|[0-9]{6}[,.]\\d{0,9})\\s*$/,\n    srid: 'EPSG:32634',\n    srname: 'UTM 34N',\n    get: function (matches) {\n      return [Number(matches[3].replace(',', '.')), Number(matches[2].replace(',', '.'))]\n    }\n  }, {\n    /*\n    * EPSG:32634\n    * East North\n    * 34N;660394;6472665\n    * 34N 660394.45 6472665,57\n    */\n    regexp: /^(34N)[ ,;:]\\s*?([0-9]{6}|[0-9]{6}[,.]\\d{0,9})[ ,;:]\\s*([0-9]{7}|[0-9]{1,7}[,.]\\d{0,9})\\s*$/,\n    srid: 'EPSG:32634',\n    srname: 'UTM 34N',\n    get: function (matches) {\n      return [Number(matches[2].replace(',', '.')), Number(matches[3].replace(',', '.'))]\n    }\n  }, {\n    /*\n    * EPSG:32635\n    * North East\n    * 35N;6472665;660394\n    * 35N 6472665,57 660394.45\n    */\n    regexp: /^(35N)[ ,;:]\\s*([0-9]{7}|[0-9]{1,7}[,.]\\d{0,9})[ ,;:]\\s*([0-9]{6}|[0-9]{6}[,.]\\d{0,9})\\s*$/,\n    srid: 'EPSG:32635',\n    srname: 'UTM 35N',\n    get: function (matches) {\n      return [Number(matches[3].replace(',', '.')), Number(matches[2].replace(',', '.'))]\n    }\n  }, {\n    /*\n    * EPSG:32635\n    * East North\n    * 35N;660394;6472665\n    * 35N 660394.45 6472665,57\n    */\n    regexp: /^(35N)[ ,;:]\\s*?([0-9]{6}|[0-9]{6}[,.]\\d{0,9})[ ,;:]\\s*([0-9]{7}|[0-9]{1,7}[,.]\\d{0,9})\\s*$/,\n    srid: 'EPSG:32635',\n    srname: 'UTM 35N',\n    get: function (matches) {\n      return [Number(matches[2].replace(',', '.')), Number(matches[3].replace(',', '.'))]\n    }\n  }, {\n    /*\n    * MRGS\n    * 35V ME 40 29\n    * 35V ME 40892 29147\n    */\n    regexp: /^\\d{1,2}[^ABIOYZabioyz]\\s?[A-Za-z]{2}\\s?([0-9]+)\\s?([0-9]+)$/,\n    srid: 'mrgs',\n    srname: 'MRGS',\n    get: function (matches) {\n      return matches[0].replace(/\\s/g, '')\n    }\n  }, {\n    /*\n    * EPSG:3301\n    * North East\n    * 6472665;660394\n    * 6472665,57 660394.45\n    */\n    regexp: /^(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\\d{0,9})[ ,;:]\\s*([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\\d{0,9})\\s*$/,\n    srid: 'EPSG:3301',\n    srname: 'L-EST',\n    get: function (matches) {\n      return [Number(matches[2].replace(',', '.')), Number(matches[1].replace(',', '.'))]\n    }\n  }, {\n    /*\n    * EPSG:3301\n    * East North\n    * 660394;6472665\n    * 660394.45 6472665,57\n    */\n    regexp: /^([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\\d{0,9})[ ,;:]\\s*(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\\d{0,9})\\s*$/,\n    srid: 'EPSG:3301',\n    srname: 'L-EST',\n    get: function (matches) {\n      return [Number(matches[1].replace(',', '.')), Number(matches[2].replace(',', '.'))]\n    }\n  }, {\n    /*\n    * EPSG:4326 kkk mm ss.nn\n    * Latitude;Longitude\n    * S 58 23 39 W 26 55 55\n    * 58° 23’ 39\";26° 55’ 55\"\n    * N58'23'39, E26'55'55\n    */\n    regexp: /^([-NS])?\\s*([0-8]\\d?|90)[ ’'°]+([0-9]{2})[ ’']+([0-9]{1,2}[,.]?\\d{1,9})[\"]?[ ,;:]\\s*([-EW])?\\s*([0-1]\\d{0,2}|\\d{2})[ ’'°]+([0-9]{2})[ ’']+([0-9]{1,2}[,.]?\\d{1,9})[\"]?\\s*$/,\n    srid: 'EPSG:4326',\n    srname: 'WGS84 (dms)',\n    get: function (matches) {\n      var coords = [\n        Number(matches[6]) + Number(matches[7]) / 60 + Number(matches[8].replace(',', '.')) / 60 / 60,\n        Number(matches[2]) + Number(matches[3]) / 60 + Number(matches[4].replace(',', '.')) / 60 / 60\n      ]\n      coords[1] = (matches[1] === '-' || matches[1] === 'S') ? -coords[1] : coords[1]\n      coords[0] = (matches[5] === '-' || matches[5] === 'W') ? -coords[0] : coords[0]\n      return coords\n    }\n  }, {\n    /*\n    * EPSG:4326 kkk mm.nnn\n    * Latitude;Longitude\n    * 58 23.39;26 55.55\n    * N58°23.39’ E26°55.55’\n    */\n    regexp: /^([-NS])?\\s*([0-8]\\d?|90)[ .’'°]+([0-9]{1,2}[,.]?\\d{1,18})[’']?[ ,;:]\\s*([-EW])?\\s*([0-1]\\d{0,2}|\\d{2})[ ’'°]+([0-9]{1,2}[,.]?\\d{1,18})[’']?\\s*$/,\n    srid: 'EPSG:4326',\n    srname: 'WGS84 (dm)',\n    get: function (matches) {\n      var coords = [\n        Number(matches[5]) + Number(matches[6].replace(',', '.')) / 60,\n        Number(matches[2]) + Number(matches[3].replace(',', '.')) / 60\n      ]\n      coords[1] = (matches[1] === '-' || matches[1] === 'S') ? -coords[1] : coords[1]\n      coords[0] = (matches[4] === '-' || matches[4] === 'W') ? -coords[0] : coords[0]\n      return coords\n    }\n  }, {\n    /*\n    * EPSG:4326 kk.nnn\n    * Latitude Longitude\n    * 58,345;26.9876\n    * N 58,345:E 26.9876\n    */\n    regexp: /^([-NS])?\\s*([1-8]?\\d(?:[,.]\\d{1,18})?|90(?:\\.0{1,18})?)[’'°]?[ ,;:]\\s*([-EW])?\\s*((?:1[0-7]|[1-9])?\\d(?:[,.]\\d{1,18})?|180(?:\\.0{1,18})?)[’'°]?\\s*$/,\n    srid: 'EPSG:4326',\n    srname: 'WGS84 (d)',\n    get: function (matches) {\n      var coords = [Number(matches[4].replace(',', '.')), Number(matches[2].replace(',', '.'))]\n      coords[1] = (matches[1] === '-' || matches[1] === 'S') ? -coords[1] : coords[1]\n      coords[0] = (matches[3] === '-' || matches[3] === 'W') ? -coords[0] : coords[0]\n      return coords\n    }\n  }\n]\n","import {toLonLat} from 'ol/proj'\nimport {uid} from 'Utilities/util'\n\nclass Provider {\n  clear () {\n    if (this.xhr && typeof this.xhr.abort === 'function') {\n      this.xhr.abort()\n    }\n  }\n  toGeoJSON (data) {\n    data.id = data.id || uid()\n    return {\n      type: 'Feature',\n      id: data.id,\n      geometry: {\n        type: 'Point',\n        coordinates: toLonLat(data.coords, data.srid)\n      },\n      bbox: data.bbox || null,\n      properties: data\n    }\n  }\n}\n\nexport default Provider\n","import formats from 'Conf/coordinate'\nimport Provider from 'Geop/Provider'\nimport {t} from 'Utilities/translate'\nimport mgrs from 'mgrs'\n\nclass Coordinate extends Provider {\n  constructor () {\n    super()\n    this.title = 'Coordinate'\n    this.query = null\n  }\n  test (query) {\n    for (let i = 0, len = formats.length; i < len; i++) {\n      const matches = query.match(formats[i].regexp)\n      if (matches && matches.length > 0) {\n        const obj = {\n          coords: formats[i].get(matches),\n          srid: formats[i].srid,\n          srname: formats[i].srname\n        }\n        // mrgs exeption\n        if (formats[i].srid === 'mrgs') {\n          obj.srid = 'EPSG:4326'\n          obj.coords = mgrs.toPoint(obj.coords)\n        }\n        return obj\n      }\n    }\n    return false\n  }\n\n  find (query) {\n    this.query = query\n    // test coordinates\n    return new Promise((resolve, reject) => {\n      if (query.length < 1) {\n        throw new Error(t('Query string empty, aborting!'))\n      }\n      const test = this.test(query)\n      const results = []\n      if (test && test.srid) {\n        results.push(test)\n      }\n      resolve(this.format(results))\n    })\n  }\n\n  format (data) {\n    return data.map(item => {\n      return this.toGeoJSON({\n        provider: this.title,\n        name: `${item.srname} ${this.query}`,\n        srid: item.srid,\n        coords: item.coords\n      })\n    })\n  }\n}\n\nexport default Coordinate\n","import {apiUrls} from 'Conf/settings'\nimport Provider from 'Geop/Provider'\nimport {t} from 'Utilities/translate'\nimport $ from 'jquery'\n\nclass Coordinate extends Provider {\n  constructor () {\n    super()\n    this.title = 'Addresses'\n    this.xhr = null\n  }\n  test (query) {\n    return (query.length >= 3)\n  }\n\n  find (query) {\n    return new Promise((resolve, reject) => {\n      if (!this.test(query)) {\n        throw new Error(t('Query string too short, aborting!'))\n      }\n      this.geocode(query, (results) => {\n        if (results) {\n          resolve(this.format(results))\n        } else {\n          throw new Error(t('Unable to perform search!'))\n        }\n      })\n    })\n  }\n\n  geocode (query, cb) {\n    if (this.xhr && typeof this.xhr.abort === 'function') {\n      this.xhr.abort()\n    }\n    this.xhr = $.ajax({\n      type : 'GET',\n      crossDomain : true,\n      url : apiUrls.nominatim + '/search/',\n      data: {\n        q: query,\n        countrycodes: 'ee',\n        format: 'json'\n      },\n      dataType: 'json',\n      context: this\n    })\n    .done(cb)\n    .fail(function (request) {\n      cb(null)\n      if (request.statusText === 'abort') {\n        return\n      }\n    })\n  }\n\n  format (data) {\n    return data.map(item => {\n      const bbox = item.boundingbox && item.boundingbox.map(c => Number(c))\n      return this.toGeoJSON({\n        provider: this.title,\n        id: item.place_id,\n        name: item.display_name,\n        srid: 'EPSG:4326',\n        coords: [Number(item.lon), Number(item.lat)],\n        bbox : [bbox[2], bbox[0], bbox[3], bbox[1]]\n      })\n    })\n  }\n}\n\nexport default Coordinate\n","import {getState} from 'Utilities/store'\nimport Provider from 'Geop/Provider'\nimport VectorLayer from 'ol/layer/Vector'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport {t} from 'Utilities/translate'\n\nclass Feature extends Provider {\n  constructor () {\n    super()\n    this.title = 'Features'\n    this.layers = getState('map/layer/layers')\n    this.geojson = new GeoJSONFormat()\n  }\n  test (query) {\n    return (query.length >= 3)\n  }\n\n  find (query) {\n    return new Promise((resolve, reject) => {\n      if (!this.test(query)) {\n        throw new Error(t('Query string too short, aborting!'))\n      }\n      this.searchFeatures(query, (results) => {\n        resolve(results)\n      })\n    })\n  }\n\n  searchFeatures (query, cb) {\n    const fset = this.getAllFeatures()\n    const result = fset.filter(f => {\n      const name = f.get('name')\n      return (name && name.search(new RegExp(query, 'i')) > -1)\n    }).map(f => {\n      return this.format(f)\n    })\n    if (typeof cb === 'function') {\n      cb(result)\n    }\n  }\n\n  getAllFeatures () {\n    let fset = []\n    this.layers.forEach(layer => {\n      if (layer instanceof VectorLayer) {\n        fset = fset.concat(layer.getSource().getFeatures())\n      }\n    })\n    return fset\n  }\n\n  format (feature) {\n    const jsonFeature = this.geojson.writeFeatureObject(feature)\n    jsonFeature.properties.provider = this.title\n    return jsonFeature\n  }\n}\n\nexport default Feature\n","import { t } from 'Utilities/translate'\nimport { getState } from 'Utilities/store'\nimport { uid, hexToRgbA } from 'Utilities/util'\n//import log from 'Utilities/log'\nimport Component from 'Geop/Component'\nimport CoordinateProvider from './Coordinate'\nimport NominatimProvider from './Nominatim'\nimport FeatureProvider from  './Feature'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport { fromLonLat, transformExtent } from 'ol/proj'\nimport $ from 'jquery'\nimport './Search.styl'\n\nclass Search extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <div id=\"search\" class=\"float-right\">\n        <button class=\"btn btn-secondary d-inline-block d-sm-none toggle\" aria-label=\"${t('Search')}\">\n          <i class=\"fa fa-search\"></i>\n        </button>\n        <div class=\"d-none d-sm-block\">\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"${t('Search')}\">\n            <div class=\"input-group-append fill-width\">\n              <button class=\"btn btn-secondary dropdown-toggle no-caret\"\n                type=\"button\"\n                data-toggle=\"dropdown\"\n                aria-expanded=\"true\"\n                disabled>\n                <i class=\"fa fa-search\"></i>\n              </button>\n              <ul class=\"dropdown-menu dropdown-menu-right scrollable-menu\" role=\"menu\"></ul>\n            </span>\n          </div>\n        </div>\n      </div>\n    `)\n    this.state = {\n      results: [],\n      open: false,\n      query: null\n    }\n    this.providers = {\n      coordinates: new CoordinateProvider(),\n      features: new FeatureProvider(),\n      nominatim: new NominatimProvider()\n    }\n    this.format = new GeoJSONFormat({\n      featureProjection: getState('map/projection')\n    })\n    this.create()\n  }\n  create () {\n    super.create()\n    if (this.target && this.el) {\n      this.resultsEl = this.el.find('ul')\n      this.el.on('click', '.toggle', e => {\n        this.el.find('>.toggle').toggleClass('d-none d-inline-block')\n        this.el.find('>div').toggleClass('d-none')\n      })\n      this.el\n        .find('.dropdown-toggle')\n        .on('shown.bs.dropdown', () => {\n          this.state.open = true\n        })\n        .on('hidden.bs.dropdown', () => {\n          this.state.open = false\n        })\n        .on('click', e => {\n          const val = this.el.find('input').val().trim()\n          if (this.query !== val) {\n            this.clear()\n            this.search(val)\n          }\n        })\n      this.el.find('input').on('keyup', e => {\n        const val = $(e.target).val().trim()\n        this.el.find('.dropdown-toggle').prop('disabled', (val.length < 1))\n        // clear\n        if (!val.length) {\n          this.clear()\n        } else if (e.keyCode === 13) {\n          this.clear()\n          this.state.open = true\n          this.search(val)\n        }\n      })\n      this.resultsEl.on('click', '.clear', e => {\n        this.clear()\n        this.el.find('input').val('').trigger('keyup')\n      })\n      this.resultsEl.on('click', 'a', e => {\n        e.preventDefault()\n        e.stopPropagation()\n        const map = getState('map')\n        const id = $(e.currentTarget).attr('data-id')\n        const item = this.state.results.filter(item => {\n          return id === item.id\n        })[0]\n        if (item.bbox) {\n          const bbox = transformExtent(item.bbox, 'EPSG:4326', getState('map/projection'))\n          map.getView().fit(bbox, {\n            padding: [50, 50, 50, 50],\n            maxZoom: 17,\n            duration: 500\n          })\n        } else {\n          map.getView().animate({\n            center: fromLonLat(item.geometry.coordinates),\n            zoom: 15,\n            duration: 500\n          })\n        }\n      })\n    }\n  }\n  render () {\n    let provider = null\n    const htmlArr = []\n    this.state.results.forEach(result => {\n      if (provider !== result.properties.provider) {\n        htmlArr.push(`<li class=\"dropdown-header\">${t(result.properties.provider)}</li>`)\n        provider = result.properties.provider\n      }\n      htmlArr.push(`\n        <li>\n          <a href=\"#\" class=\"dropdown-item\"\n            data-id=\"${result.id}\" data-provider=\"${provider}\">\n            <i class=\"fa fa-map-marker-alt\"></i>\n            ${result.properties.name}\n          </a>\n        </li>`)\n    })\n    if (!htmlArr.length) {\n      htmlArr.push(`\n        <li class=\"dropdown-item\">\n          <i class=\"fa fa-frown\"></i>\n          ${t('No result')}\n        </li>`)\n    }\n    htmlArr.push(`\n      <div class=\"tools text-right\">\n        <button class=\"btn btn-link clear\">\n          <i class=\"fa fa-backspace\"></i>\n        </button>\n        <button class=\"btn btn-link toggle d-inline-block d-sm-none\" aria-label=\"${t('Close')}\">\n          <i class=\"fa fa-times\"></i>\n        </button>\n      </div>`)\n    this.el.find('.dropdown-toggle').dropdown('update')\n    if (this.resultsEl) {\n      this.resultsEl.html(htmlArr.join(''))\n      if (this.state.open) {\n        this.el.find('.dropdown-toggle').dropdown('toggle')\n        this.state.open = false\n      }\n    }\n    this.handleFeatures()\n  }\n  clear () {\n    Object.keys(this.providers).forEach(key => {\n      this.providers[key].clear()\n    })\n    this.state.results = []\n    this.query = null\n    this.render()\n  }\n  search (query) {\n    const debug = getState('app/debug')\n    this.query = query\n    let counter = 0\n    let stop = false\n    this.searchStart()\n    Object.keys(this.providers).some(key => {\n      counter++\n      this.providers[key].find(query)\n        .then((results) => {\n          if (!stop) {\n            this.state.results = this.state.results.concat(results)\n          }\n          if (key === 'coordinates' && results.length) {\n            stop = true\n            counter = 1\n          }\n          if (debug) {\n            console.debug(`Search.search: query: ${query}, results: ${results.length}`)\n          }\n        })\n        .catch(e => {\n          if (debug) {\n            console.error(`Search.search: error: ${JSON.stringify(e)}`)\n          }\n        })\n        .finally(() => {\n          counter--\n          if (counter <= 0) {\n            this.render()\n            this.searchEnd()\n          }\n        })\n    })\n  }\n  searchStart () {\n    this.el.find('.dropdown-toggle i')\n      .removeClass('fa-search')\n      .addClass('fa-spinner fa-pulse')\n  }\n\n  searchEnd () {\n    this.el.find('.dropdown-toggle i')\n      .removeClass('fa-spinner fa-pulse')\n      .addClass('fa-search')\n  }\n\n  handleFeatures () {\n    if (this.state.results && this.state.results.length) {\n      const layer = this.createLayer(this.query, this.state.results)\n      getState('map/layer/overlays').push(layer)\n    }\n  }\n\n  createLayer (title, features) {\n    const color = '#000000'\n    const conf = {\n      type: 'FeatureCollection',\n      id: uid(),\n      title: `${t('Search')}: ${title}`,\n      features: features,\n      style: {\n        stroke: {\n          color: color,\n          width: 2\n        },\n        fill: {\n          color: hexToRgbA(color, 0.5)\n        },\n        circle: {\n          stroke: {\n            color: color\n          },\n          fill: {\n            color: hexToRgbA(color, 0.3)\n          },\n          radius: 5\n        }\n      }\n    }\n    return createLayer(conf)\n  }\n}\nexport default Search\n","import { getState } from 'Utilities/store'\nimport Component from 'Geop/Component'\nimport Geocache from 'Components/geocache/Geocache'\nimport LayerManager from 'Components/layer/LayerManager'\nimport Search from 'Components/search/Search'\nimport $ from 'jquery'\nimport './Header.styl'\n\nclass Header extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<header id=\"header\" class=\"panel-bar\"></header>`)\n    this.create()\n    this.components = {\n      geocache: new Geocache(this.el),\n      lyrmngr: getState('app/layerManager') && new LayerManager(this.el),\n      search: getState('app/searchEnabled') && new Search(this.el)\n    }\n  }\n}\n\nexport default Header\n","import { getState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport Component from 'Geop/Component'\nimport $ from 'jquery'\nimport './Info.styl'\n\nclass Info extends Component {\n  constructor (target) {\n    super(target)\n    this.id = 'info-tab'\n    this.icon = 'fa fa-info-circle'\n    this.el = $(`\n      <div\n        class=\"tab-pane fade ${this.id === getState('app/settingsTabOpen') ? 'show active' : ''}\"\n        id=\"${this.id}\"\n        role=\"tabpanel\">\n      </div>\n    `)\n    this.create()\n  }\n  render () {\n    this.el.html(`\n      <h5>\n        Geop\n        <i class=\"text-muted small\">v1.0.0</i>\n      </h5>\n      <span class=\"attribution small\">\n        <a href=\"http://openstreetmap.org\" >OSM</a> |\n        <a href=\"http://www.maaamet.ee\" >maa-amet</a> |\n        <a href=\"http://sookoll.ee\" >oo</a>\n      </span>\n      <ul>\n        <li>${t('Geop is progressive web application with partial offline support.')}</li>\n        <li>${t('Install it to Your home screen.')}</li>\n        <li>${t('Add any GPX, GeoJSON, KML files or WMS layers to map from layers menu or drag and drop file.')}</li>\n        <li>${t('App will recognize if geocaches are added to map.')}</li>\n        <li>${t('Filter and search caches on map.')}</li>\n        <li>${t('Search and display coordinates in WGS, L-Est, UTM and MGRS system.')}</li>\n        <li>${t('Find streetview link and measure tools from context menu.')}</li>\n        <li>${t('Add caches and map objects to geotrip. Reorder geotrip.')}</li>\n        <li>${t('Navigate to cache with two tracking mode')}</li>\n        <li>${t('Share snapshot of app state via link or QR-code. Download geotrip as GPX-file.')}</li>\n      </ul>\n      <h5>${t('Search coordinates')}</h5>\n      <ul>\n        <li>WGS'84: lat, lon; kk.nnnn; kk° mm.nnn; kk° mm' ss''</li>\n        <li>L-EST'97: x, y; y, x</li>\n        <li>UTM zone 34N: x, y; y, x</li>\n        <li>UTM zone 35N: x, y; y, x</li>\n        <li>MGRS</li>\n      </ul>\n    `)\n  }\n}\n\nexport default Info\n","import {getState, setState, clearState} from 'Utilities/store'\nimport {enableScreenLock, disableScreenLock, getDebugStore} from 'Utilities/util'\nimport {t, getLocale, getLocales, changeLocale} from 'Utilities/translate'\nimport { set as setPermalink } from 'Utilities/permalink'\nimport log from 'Utilities/log'\nimport { reloadApp } from 'Root'\nimport Component from 'Geop/Component'\nimport $ from 'jquery'\nimport saveAs from 'file-saver'\nimport './Config.styl'\n\nclass Config extends Component {\n  constructor (target) {\n    super(target)\n    this.id = 'settings-tab'\n    this.icon = 'fa fa-cog'\n    this.el = $(`\n      <div\n        class=\"tab-pane fade ${this.id === getState('app/settingsTabOpen') ? 'show active' : ''}\"\n        id=\"${this.id}\"\n        role=\"tabpanel\">\n      </div>\n    `)\n    this.create()\n  }\n  create () {\n    if (this.target && this.el) {\n      this.target.append(this.el)\n      this.render()\n    }\n  }\n  render () {\n    this.el.html(`\n      <div class=\"install mb-3\">\n        <button\n          id=\"install\"\n          class=\"btn btn-danger btn-lg btn-block\">\n          <i class=\"fa fa-plus\"></i>\n          ${t('Install app to home screen')}\n        </button>\n        <small class=\"form-text text-muted\">\n          ${t('Install web app to your home screen.')}\n        </small>\n      </div>\n      <h5>${t('Language')}</h5>\n      <div class=\"btn-group\" role=\"group\">\n        ${getLocales().map(locale => {\n          return `\n            <button type=\"button\"\n              class=\"btn btn-outline-primary set-locale-btn ${getLocale() === locale ? 'active' : ''}\"\n              data-locale=\"${locale}\">\n              ${locale}\n            </button>`\n        }).join('')}\n      </div>\n      <small class=\"form-text text-muted mb-3\">\n        ${t('Change language. App will reload after change!')}\n      </small>\n      <h5>${t('Keep awake')}</h5>\n      <div class=\"btn-group-toggle\" data-toggle=\"buttons\">\n        <label class=\"btn btn-outline-secondary\">\n          <input type=\"checkbox\" id=\"settings-awake\" autocomplete=\"off\">\n          <i class=\"fa fa-mobile-alt\"></i>\n          <span>${t('Off')}</span>\n        </label>\n      </div>\n      <small class=\"form-text text-muted mb-3\">\n        ${t('Keep screen on. Use with caution, might train device battery!')}\n      </small>\n      <h5>${t('Account')}</h5>\n      <div class=\"form-group\">\n        <input type=\"text\"\n          class=\"form-control\"\n          id=\"settings-account\"\n          placeholder=\"${t('Username')}\"\n          value=\"${getState('app/account') || ''}\"/>\n      </div>\n      <small class=\"form-text text-muted mb-3\">\n        ${t('Enter geopeitus.ee or geocaching.com username. App will reload after change!')}\n      </small>\n      <h5>${t('Share only geotrip features')}</h5>\n      <div class=\"btn-group\" role=\"group\">\n        <button type=\"button\"\n          class=\"btn btn-outline-primary set-share-btn ${getState('app/shareOnlyTripFeatures') ? 'active' : ''}\"\n          data-share=\"on\">\n          ${t('On')}\n        </button>\n        <button type=\"button\"\n          class=\"btn btn-outline-primary set-share-btn ${getState('app/shareOnlyTripFeatures') ? '' : 'active'}\"\n          data-share=\"off\">\n          ${t('Off')}\n        </button>\n      </div>\n      <small class=\"form-text text-muted mb-3\">\n        ${t('Share only features added to geotrip.')}<br/>\n        ${t('NB! Turning this off and sharing bookmark will store possibly big amount of data in service. It might fail. Use with caution!')}\n      </small>\n      <h5>${t('Reset app')}</h5>\n      <div>\n        <button\n          id=\"settings-reset\"\n          class=\"btn btn-warning\">\n          <i class=\"fa fa-sync-alt\"></i>\n          ${t('Reset')}\n        </button>\n      </div>\n      <small class=\"form-text text-muted mb-3\">\n        ${t('Reset app to default. App will reload!')}\n      </small>\n      <h5>${t('Debug')}</h5>\n      <div class=\"btn-group\" role=\"group\">\n        <button type=\"button\"\n          class=\"btn btn-outline-primary set-debug-btn ${getState('app/debug') ? 'active' : ''}\"\n          data-debug=\"on\">\n          ${t('On')}\n        </button>\n        <button type=\"button\"\n          class=\"btn btn-outline-primary set-debug-btn ${getState('app/debug') ? '' : 'active'}\"\n          data-debug=\"off\">\n          ${t('Off')}\n        </button>\n      </div>\n      <small class=\"form-text text-muted mb-3\">\n        ${t('Debug mode. Will write debug logs into file. App will reload after change!')}\n      </small>\n      ${getState('app/debug') ? `\n      <div class=\"mb-3\">\n        <button\n          id=\"download-log\"\n          class=\"btn btn-danger\">\n          <i class=\"fa fa-download\"></i>\n          ${t('Download debug log')}\n        </button>\n        <input type=\"file\" style=\"display:none;\" />\n      </div>\n      ` : ''}\n    `)\n    // language change\n    this.el.on('click', 'button.set-locale-btn', e => {\n      changeLocale($(e.currentTarget).data('locale'))\n      this.el.find('button.set-locale-btn').removeClass('active')\n      $(e.currentTarget).addClass('active')\n      log('warning', t('Language changed, page will reload!'), () => {\n        reloadApp()\n      })\n      if (getState('app/debug')) {\n        console.debug(`Config.render: Locale changed to ${$(e.currentTarget).data('locale')}`)\n      }\n    })\n    // keep awake\n    this.el.on('change', '#settings-awake', e => {\n      if (e.target.checked) {\n        enableScreenLock()\n        $(e.target).closest('label').find('span').html(t('On'))\n      } else {\n        disableScreenLock()\n        $(e.target).closest('label').find('span').html(t('Off'))\n      }\n      $(e.target).closest('label').toggleClass('btn-outline-secondary btn-success')\n    })\n    // account name\n    this.el.on('blur', '#settings-account', e => {\n      setState('app/account', e.target.value, true)\n      log('warning', t('Account changed, page will reload!'), () => {\n        reloadApp()\n      })\n      if (getState('app/debug')) {\n        console.debug(`Config.render: Account changed to ${e.target.value}`)\n      }\n    })\n    // share change\n    this.el.on('click', 'button.set-share-btn', e => {\n      setState('app/shareOnlyTripFeatures', $(e.currentTarget).data('share') === 'on' ? true : false, true)\n      this.el.find('button.set-share-btn').removeClass('active')\n      $(e.currentTarget).addClass('active')\n    })\n    // reset app\n    this.el.on('click', '#settings-reset', e => {\n      clearState()\n      log('warning', t('App resetted, page will reload!'), () => {\n        setPermalink(null)\n        reloadApp()\n      })\n      if (getState('app/debug')) {\n        console.debug(`Config.render: App resetted`)\n      }\n    })\n    // debug change\n    this.el.on('click', 'button.set-debug-btn', e => {\n      setState('app/debug', $(e.currentTarget).data('debug') === 'on' ? true : false, true)\n      this.el.find('button.set-debug-btn').removeClass('active')\n      $(e.currentTarget).addClass('active')\n      log('warning', t('Debug changed, app will reload!'), () => {\n        reloadApp()\n      })\n      if (getState('app/debug')) {\n        console.debug(`Config.render: Debug changed to ${$(e.currentTarget).data('debug')}`)\n      }\n    })\n    // download debug log file\n    this.el.on('click', '#download-log', e => {\n      const logs = getDebugStore()\n      const blob = new window.Blob([logs.join('\\n')], {type: \"text/plain;charset=utf-8\"})\n      saveAs(blob, getState('app/debugFile'))\n    })\n    let deferredPrompt\n    window.addEventListener('beforeinstallprompt', e => {\n      e.preventDefault()\n      deferredPrompt = e\n      this.el.find('.install').show()\n    })\n    this.el.on('click', '#install', e => {\n      this.el.find('.install').hide()\n      deferredPrompt.prompt()\n      deferredPrompt.userChoice\n        .then(choiceResult => {\n          if (choiceResult.outcome === 'accepted') {\n            if (getState('app/debug')) {\n              console.debug(`Config.render: User accepted the A2HS prompt`)\n            }\n          } else {\n            if (getState('app/debug')) {\n              console.debug(`Config.render: User dismissed the A2HS prompt`)\n            }\n          }\n          deferredPrompt = null\n        })\n    })\n  }\n}\n\nexport default Config\n","import { getState } from 'Utilities/store'\nimport Component from 'Geop/Component'\nimport Sidebar from 'Components/sidebar/Sidebar'\nimport Info from './Info'\nimport Config from './Config'\nimport $ from 'jquery'\n\nclass SettingsBar extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<div class=\"btn-group float-left\" id=\"sidebar-open\"></div>`)\n    this.create()\n    this.sidebar = new Sidebar({\n      target: $('#geop'),\n      trigger: this.el.find('button'),\n      position: 'left',\n      components: {\n        Info,\n        Config\n      },\n      activeComponent: getState('app/settingsTabOpen'),\n      shadow: true\n    })\n  }\n  create () {\n    if (this.target && this.el) {\n      this.target.append(this.el)\n      $('body')\n        .append(this.sidebar)\n        .append(this.shadow)\n      this.render()\n    }\n  }\n  render () {\n    this.el.html(`\n      <button type=\"button\"\n        class=\"btn btn-secondary\">\n        <i class=\"fa fa-ellipsis-h\"></i>\n      </button>\n    `)\n  }\n}\n\nexport default SettingsBar\n","import Component from 'Geop/Component'\nimport {getState} from 'Utilities/store'\nimport ScaleLineControl from 'ol/control/ScaleLine'\nimport $ from 'jquery'\nimport './ScaleLine.styl'\n\nclass ScaleLine extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<span class=\"float-right\" id=\"scale-line\"></span>`)\n    this.state = {\n      control: null\n    }\n    this.create()\n  }\n  render () {\n    if (!this.state.control) {\n      this.state.control = new ScaleLineControl({\n        className: 'ol-scale-line',\n        target: this.el[0]\n      })\n      const map = getState('map')\n      if (map) {\n        map.addControl(this.state.control)\n      } else {\n        const que = getState('map/que')\n        que.push(map => {\n          map.addControl(this.state.control)\n        })\n      }\n    }\n  }\n}\n\nexport default ScaleLine\n","import Component from 'Geop/Component'\nimport {t} from 'Utilities/translate'\nimport $ from 'jquery'\n\nclass FullScreen extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<div class=\"btn-group float-right\" id=\"fullscreen\"></div>`)\n    this.state = {\n      active: false\n    }\n    this.create()\n  }\n  render () {\n    this.el.html(`\n      <button type=\"button\"\n        title=\"${t('Toggle fullscreen')}\"\n        disabled\n        class=\"btn btn-secondary\">\n        <i class=\"fa fa-expand-arrows-alt\"></i>\n      </button>\n    `)\n    if (this.test()) {\n      this.el.find('button').prop('disabled', false)\n      this.el.on('click', 'button', e => {\n        e.preventDefault()\n        this.toggle()\n      })\n      $(document).on(\n        'webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange',\n        e => {\n          this.toggleState()\n        }\n      )\n    }\n  }\n  test () {\n    if (document.fullscreenEnabled ||\n      document.webkitFullscreenEnabled ||\n      document.msFullscreenEnabled ||\n      document.mozFullScreenEnabled) {\n      return true\n    }\n    return false\n  }\n  toggle () {\n    if (!this.state.active) {\n        this.on()\n    } else {\n        this.off()\n    }\n  }\n  toggleState () {\n    if (document.fullscreenElement ||\n      document.msFullscreenElement ||\n      document.mozFullScreenElement ||\n      document.webkitFullscreenElement) {\n      this.state.active = true\n      this.el.find('button').addClass('active')\n    } else {\n      this.state.active = false\n      this.el.find('button').removeClass('active')\n    }\n  }\n  on () {\n    if (document.documentElement.requestFullscreen) {\n      document.documentElement.requestFullscreen()\n    } else if (document.documentElement.msRequestFullscreen) {\n      document.documentElement.msRequestFullscreen()\n    } else if (document.documentElement.mozRequestFullScreen) {\n      document.documentElement.mozRequestFullScreen()\n    } else if (document.documentElement.webkitRequestFullscreen) {\n      document.documentElement.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT)\n    }\n  }\n  off () {\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    }\n  }\n}\n\nexport default FullScreen\n","import Component from 'Geop/Component'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport { getState, setState } from 'Utilities/store'\nimport log from 'Utilities/log'\nimport { t } from 'Utilities/translate'\nimport { copy, hexToRgbA, uid } from 'Utilities/util'\nimport MousePositionControl from 'ol/control/MousePosition'\nimport GeoJSONFormat from 'ol/format/GeoJSON'\nimport Overlay from 'ol/Overlay'\nimport { format, toStringHDMS } from 'ol/coordinate'\nimport mgrs from 'mgrs'\nimport { transform } from 'ol/proj'\nimport $ from 'jquery'\nimport './MousePosition.styl'\n\nclass MousePosition extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <span id=\"mouse-position\" class=\"mouse-position float-left d-none d-sm-block\"></span>\n    `)\n    this.animationEl = $(`\n      <svg width=\"20\" height=\"20\"></svg>`)\n    this.coordFormats = [\n      {\n        projection: 'EPSG:4326',\n        srname: 'WGS',\n        coordinateFormat: (coordinate) => {\n          return format(coordinate, '{y}, {x}', 4)\n        }\n      },\n      {\n        projection: 'EPSG:4326',\n        srname: 'WGS dms',\n        coordinateFormat: (coordinate) => {\n          return toStringHDMS(coordinate, 1)\n        }\n      },\n      {\n        projection: 'EPSG:3301',\n        srname: 'L-EST',\n        coordinateFormat: (coordinate) => {\n          return format(coordinate, '{y}, {x}', 0)\n        }\n      },\n      {\n        projection: 'EPSG:4326',\n        srname: 'MGRS',\n        coordinateFormat: (coordinate) => {\n          return mgrs.forward(coordinate)\n        }\n      }\n    ]\n\n    this.state = {\n      format: 0,\n      control: null,\n      lock: false,\n      lastCoord: null,\n      layer: null,\n      overlay: new Overlay({\n        element: this.animationEl[0],\n        positioning: 'center-center'\n      })\n    }\n    this.handlers = {\n      onclick: e => {\n        this.clicked(e)\n      },\n      animate: e => {\n        this.animate(e)\n      }\n    }\n    this.create()\n    // set contextmenu\n    const contextMenuItems = getState('map/contextmenu')\n    contextMenuItems.push({\n      content: coord => {\n        return `<i class=\"fa fa-map-marker-alt\"></i>\n          ${this.format(coord)}\n          <button class=\"btn btn-link context-item-btn\"><i class=\"far fa-clone\"></i></button>`\n      },\n      onClick: (e, coord) => {\n        this.createMarker(coord)\n      },\n      onBtnClick: (e, coord) => {\n        this.copy(this.format(coord))\n      },\n      closeOnClick: true\n    })\n  }\n  render () {\n    this.el.html(`\n      <div class=\"btn-group dropup float-left\">\n        <button type=\"button\" class=\"btn btn-secondary lock\">\n          <i class=\"fa fa-${this.state.lock ? 'lock' : 'lock-open'}\"></i>\n        </button>\n        <button type=\"button\"\n          class=\"btn btn-secondary dropdown-toggle dropdown-toggle-split\"\n          data-toggle=\"dropdown\">\n        </button>\n        <div class=\"dropdown-menu\">\n          ${this.coordFormats.map((format, i) => {\n            return `\n              <a class=\"dropdown-item\" href=\"#\" data-format=\"${i}\">\n                <i class=\"far ${i === this.state.format ? 'fa-dot-circle' : 'fa-circle'}\"></i>\n                ${format.srname}\n              </a>`\n          }).join('')}\n        </div>\n      </div>\n      <button type=\"button\" class=\"btn btn-link copy float-left\">\n        <i class=\"far fa-clone\"></i>\n        <span>${this.coordFormats[this.state.format].srname}</span>\n      </button>\n    `)\n    this.el.on('click', '.lock', e => {\n      this.state.lock = !this.state.lock\n      this.activate(getState('map'))\n      $(e.currentTarget).find('i').toggleClass('fa-lock fa-lock-open')\n    })\n    this.el.on('click', '.copy', e => {\n      const coords = this.el.find('.coords').html()\n      this.copy(coords)\n    })\n    this.el.on('click', 'a[data-format]', e => {\n      this.state.format = $(e.currentTarget).data('format')\n      this.state.control.setProjection(this.coordFormats[this.state.format].projection)\n      this.state.control.setCoordinateFormat(this.coordFormats[this.state.format].coordinateFormat)\n      this.el.find('a[data-format] i').removeClass('fa-dot-circle').addClass('fa-circle')\n      $(e.currentTarget).find('i').removeClass('fa-circle').addClass('fa-dot-circle')\n      this.el.find('button.copy span').html(this.coordFormats[this.state.format].srname)\n    })\n    if (!this.state.control) {\n      this.state.control = new MousePositionControl({\n        coordinateFormat: this.coordFormats[this.state.format].coordinateFormat,\n        projection: this.coordFormats[this.state.format].projection,\n        className: 'float-left coords',\n        target: this.el[0],\n        undefinedHTML: ''\n      })\n      const map = getState('map')\n      if (map) {\n        this.activate(map)\n      } else {\n        const que = getState('map/que')\n        que.push(map => {\n          this.activate(map)\n        })\n      }\n    }\n  }\n  activate (map) {\n    // activate animation\n    map.addOverlay(this.state.overlay)\n    map.on('singleclick', this.handlers.animate)\n    if (this.state.lock) {\n      map.removeControl(this.state.control)\n      this.el.append('<div class=\"float-left coords\"></div>')\n      map.on('click', this.handlers.onclick)\n    } else {\n      this.el.find('.coords').remove()\n      map.un('click', this.handlers.onclick)\n      map.addControl(this.state.control)\n    }\n  }\n  clicked (e) {\n    this.el.find('.coords').html(this.format(e.coordinate))\n  }\n  copy (content) {\n    copy(content)\n      .then(() => {\n        log('success', `${t('Coordinates')} ${content} ${t('copied to clipboard')}`)\n      })\n      .catch(() => {\n        log('error', t('Unable to copy to clipboard'))\n      })\n  }\n  format (coordinate) {\n    const coord = transform(\n      coordinate,\n      getState('map/projection'),\n      this.coordFormats[this.state.format].projection\n    )\n    return this.coordFormats[this.state.format].coordinateFormat(coord)\n  }\n  createMarker (coordinate) {\n    if (!this.state.layer) {\n      const layerId = getState('layer/mousePositionId')\n      if (layerId) {\n        const layer = getState('map/layer/overlays').getArray().filter(l => l.get('id') === layerId)\n        if (layer && layer[0]) {\n          this.state.layer = layer[0]\n        }\n      }\n      if (!this.state.layer) {\n        this.state.layer = this.createLayer()\n        getState('map/layer/overlays').push(this.state.layer)\n      }\n      setState('layer/mousePositionId', this.state.layer.get('id'), true)\n    }\n    const feature = new GeoJSONFormat().readFeature({\n      type: 'Feature',\n      id: uid(),\n      properties: {\n        name: this.format(coordinate)\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: coordinate\n      }\n    })\n    this.state.layer.getSource().addFeature(feature)\n    setState('layerchange', this.state.layer.get('id'))\n  }\n  createLayer () {\n    const color = '#000000'\n    const conf = {\n      type: 'FeatureCollection',\n      id: uid(),\n      title: 'Features',\n      style: {\n        stroke: {\n          color: color,\n          width: 2\n        },\n        fill: {\n          color: hexToRgbA(color, 0.5)\n        },\n        circle: {\n          stroke: {\n            color: color\n          },\n          fill: {\n            color: hexToRgbA(color, 0.3)\n          }\n        }\n      }\n    }\n    return createLayer(conf)\n  }\n  animate (e) {\n    const coord = e.coordinate\n    this.state.overlay.setPosition(coord)\n    this.animationEl.html(`<circle id=\"map-click-animation\" cx=\"10\" cy=\"10\" r=\"0\" fill=\"#000\" opacity=\"0.5\"/>`)\n    setTimeout(() => {\n      this.state.overlay.setPosition(undefined)\n      this.animationEl.html('')\n    }, 500)\n  }\n}\n\nexport default MousePosition\n","import { getState } from 'Utilities/store'\nimport Component from 'Geop/Component'\nimport SettingsBar from 'Components/settings/SettingsBar'\nimport ScaleLine from 'Components/scaleline/ScaleLine'\nimport FullScreen from 'Components/fullscreen/FullScreen'\nimport MousePosition from 'Components/mouseposition/MousePosition'\nimport Bookmark from 'Components/bookmark/Bookmark'\nimport $ from 'jquery'\nimport './StatusBar.styl'\n\nclass StatusBar extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<footer id=\"statusbar\" class=\"panel-bar\"></footer>`)\n    this.create()\n    this.components = {\n      settings: getState('app/settings') && new SettingsBar(this.el),\n      fullscreen: getState('app/fullScreen') && new FullScreen(this.el),\n      bookmark: getState('app/shareState') && new Bookmark(this.el),\n      scaleline: getState('app/scaleLine') && new ScaleLine(this.el),\n      mouseposition: getState('app/mousePosition') && new MousePosition(this.el)\n    }\n  }\n}\n\nexport default StatusBar\n","import { getState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport Component from 'Geop/Component'\nimport $ from 'jquery'\n\nclass Zoom extends Component {\n  constructor (target) {\n    super(target)\n    this.elPlus = $(`\n      <button class=\"btn btn-link\" title=\"${t('Zoom in')}\"><i class=\"fa fa-plus\"></i></button>\n    `)\n    this.elMinus = $(`\n      <button class=\"btn btn-link\" title=\"${t('Zoom out')}\"><i class=\"fa fa-minus\"></i></button>\n    `)\n    this.create()\n  }\n  create () {\n    if (this.target && this.elPlus) {\n      this.target.append(this.elPlus)\n      this.elPlus.on('click', e => {\n        const view = getState('map').getView()\n        const zoom = view.getZoom() + 1\n        this.zoomTo(view, zoom)\n      })\n    }\n    if (this.target && this.elMinus) {\n      this.target.append(this.elMinus)\n      this.elMinus.on('click', e => {\n        const view = getState('map').getView()\n        const zoom = view.getZoom() - 1\n        this.zoomTo(view, zoom)\n      })\n    }\n\n  }\n  zoomTo (view, zoom) {\n    view.animate({\n      zoom: zoom,\n      duration: 250,\n      anchor: getState('map/anchor') && getState('map/anchor').getCoordinates()\n    })\n  }\n}\n\nexport default Zoom\n","import { t } from 'Utilities/translate'\nimport { getState } from 'Utilities/store'\nimport Component from 'Geop/Component'\nimport $ from 'jquery'\nimport './Compass.styl'\n\nclass Compass extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <button id=\"compass\" class=\"btn btn-link\" title=\"${t('North up!')}\">\n        <i class=\"icon\"></i>\n      </button>\n    `)\n    this.state = {\n      removed: true\n    }\n    const que = getState('map/que')\n    que.push(map => {\n      const view = map.getView()\n      this.rotateIcon(view)\n      view.on('change:rotation', e => {\n        this.rotateIcon(view)\n      })\n    })\n  }\n\n  render () {\n    this.el.on('click', e => {\n      const view = getState('map').getView()\n      view.animate({\n        rotation: 0,\n        duration: 250,\n        anchor: getState('map/anchor') && getState('map/anchor').getCoordinates()\n      })\n    })\n  }\n\n  rotateIcon (view) {\n    const viewRotation = view.getRotation()\n    if (viewRotation !== 0 && this.state.removed) {\n      this.create()\n      this.state.removed = false\n    } else if (viewRotation === 0) {\n      this.el.fadeOut(400, () => {\n        this.el.remove()\n        this.el.show()\n        this.state.removed = true\n      })\n    }\n    this.el.find('.icon').css({\n      '-webkit-transform': `rotate(${viewRotation}rad)`,\n      '-moz-transform': `rotate(${viewRotation}rad)`,\n      'transform': `rotate(${viewRotation}rad)`\n    })\n  }\n}\n\nexport default Compass\n","import Component from 'Geop/Component'\nimport { getState, setState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport { scaleFactor } from 'Utilities/util'\nimport log from 'Utilities/log'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport { createStyle } from 'Components/layer/StyleBuilder'\nimport Point from 'ol/geom/Point'\nimport Circle from 'ol/geom/Circle'\nimport LineString from 'ol/geom/LineString'\nimport Feature from 'ol/Feature'\nimport Geolocation from 'ol/Geolocation'\nimport { toLonLat } from 'ol/proj'\nimport $ from 'jquery'\nimport './GeoLocation.styl'\n\nclass GeoLocation extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <button id=\"geolocation\" class=\"btn btn-link\" disabled title=\"${t('My location')}\">\n        <i class=\"fa fa-location-arrow\"></i>\n      </button>\n    `)\n    this.state = {\n      active: 0,\n      status: ['', 'active', 'tracking'],\n      track: new Feature(new LineString([])),\n      position: new Feature({\n        id: 'position',\n        radius: 0,\n        geometry: new Point([])\n      }),\n      zoom: 16,\n      layer: this.createLayer(),\n      locator: new Geolocation({\n        projection: getState('map/projection'),\n        trackingOptions: {\n          enableHighAccuracy: true,\n          maximumAge: 10000,\n          timeout: 300000\n        }\n      }),\n      isFirst: false,\n      lastPosition: null,\n      lastHeading: null\n    }\n    this.handlers = {\n      updateView: e => {\n        this.updateView(e)\n      },\n      disableTracking: e => {\n        this.disableTracking()\n      }\n    }\n    if (this.test()) {\n      window.geopLocator = this.state.locator\n      this.create()\n      this.init()\n    }\n  }\n  render () {\n    this.el.prop('disabled', false)\n    this.el.on('click', e => {\n      this.state.active = (this.state.active + 1 >= this.state.status.length) ?\n        0 : this.state.active + 1\n      if (this.state.active === 0) {\n        this.disable()\n        $(e.currentTarget).removeClass(this.state.status.join(' '))\n      } else {\n        this.enable()\n        $(e.currentTarget).addClass(this.state.status[this.state.active])\n      }\n    })\n  }\n  test () {\n    return !!navigator.geolocation\n  }\n  init () {\n    this.state.layer.getSource().addFeatures([\n      this.state.track,\n      this.state.position\n    ])\n    this.state.locator.on('change:position', e => {\n      this.positionChanged(e)\n    })\n    this.state.locator.on('change:heading', e => {\n      this.headingChanged(e)\n    })\n    this.state.locator.on('change:accuracy', e => {\n      this.accuracyChanged(e)\n    })\n    this.state.locator.on('change:speed', e => {\n      this.speedChanged(e)\n    })\n    this.state.locator.on('error', e => {\n      this.error(e)\n    })\n  }\n  error (e) {\n    this.disable()\n    this.el.removeClass(this.state.status.join(' '))\n    let errorText = t('Unable to find location.')\n    switch (e.code) {\n      case e.PERMISSION_DENIED:\n        errorText = t('User denied the request for Geolocation.')\n        break\n      case e.POSITION_UNAVAILABLE:\n        errorText = t('Location information is unavailable.')\n        break\n      case e.TIMEOUT:\n        errorText = t('The request to get user location timed out.')\n        break\n      case e.UNKNOWN_ERROR:\n        errorText = t('An unknown error occurred.')\n        break\n    }\n    log('error', errorText)\n    if (getState('app/debug')) {\n      console.error('geolocation error', JSON.stringify(e))\n    }\n  }\n  enable () {\n    const map = getState('map')\n    if (this.state.status[this.state.active] === 'tracking') {\n      // set anchor for zoom tools\n      setState('map/anchor', this.state.position.getGeometry())\n      this.updateView()\n      map.on('pointerdrag', this.handlers.disableTracking)\n      map.render()\n    } else {\n      this.state.isFirst = true\n      this.searchStart()\n      this.state.layer.setMap(map)\n      this.state.locator.setTracking(true)\n    }\n  }\n  disable () {\n    this.disableTracking()\n    this.searchEnd()\n    this.state.locator.setTracking(false)\n    this.state.position.getGeometry().setCoordinates([])\n    this.state.track.getGeometry().setCoordinates([])\n    this.state.layer.setMap(null)\n    this.state.lastPosition = null\n    this.state.lastHeading = null\n    this.state.active = this.state.status.indexOf('')\n  }\n  disableTracking () {\n    const map = getState('map')\n    map.un('pointerdrag', this.handlers.disableTracking)\n    setState('map/anchor', null)\n    this.el.removeClass(this.state.status[this.state.active])\n    this.state.active = this.state.status.indexOf('active')\n  }\n  searchStart () {\n    this.el.find('i')\n      .removeClass('fa-location-arrow')\n      .addClass('fa-spinner fa-pulse')\n  }\n\n  searchEnd () {\n    this.el.find('i')\n      .removeClass('fa-spinner fa-pulse')\n      .addClass('fa-location-arrow')\n  }\n  positionChanged (e) {\n    const coordinate = this.state.locator.getPosition()\n    if (coordinate) {\n      this.state.lastPosition = coordinate\n      this.state.position.getGeometry().setCoordinates(coordinate)\n      this.state.track.getGeometry().appendCoordinate(coordinate)\n      // if first point\n      if (this.state.isFirst === true) {\n        const view = getState('map').getView()\n        view.setCenter(coordinate)\n        view.setZoom(this.state.zoom)\n        this.state.isFirst = false\n        this.searchEnd()\n      }\n    }\n    this.updateView()\n  }\n  headingChanged (e) {\n    const heading = this.state.locator.getHeading()\n    if (typeof heading !== 'undefined') {\n      this.state.lastHeading = heading\n      this.state.position.set('heading', heading)\n    }\n    this.updateView()\n  }\n  accuracyChanged (e) {\n    const radius = this.state.locator.getAccuracy()\n    if (typeof radius !== 'undefined') {\n      this.state.position.set('radius', radius)\n    }\n    this.updateView()\n  }\n  speedChanged (e) {\n    const speed = this.state.locator.getSpeed() || 0\n    this.state.position.set('speed', speed)\n    this.updateView()\n  }\n\n  /**\n   * recenters the view by putting the given coordinates\n   * at 3/4 from the top or the screen\n   */\n  getCenterWithHeading (position, rotation, resolution) {\n    const size = getState('map').getSize()\n    return [\n      position[0] - Math.sin(rotation) * size[1] * resolution * 1 / 4,\n      position[1] + Math.cos(rotation) * size[1] * resolution * 1 / 4\n    ]\n  }\n  updateView () {\n    if (getState('app/debug')) {\n      console.debug(`updateView: ${JSON.stringify(this.state.lastPosition)} ${this.state.lastHeading}`)\n    }\n    if (this.state.status[this.state.active] === 'tracking') {\n      const view = getState('map').getView()\n      if (this.state.lastPosition && this.state.lastHeading) {\n        view.setCenter(this.getCenterWithHeading(this.state.lastPosition, -this.state.lastHeading, view.getResolution()))\n        view.setRotation(-this.state.lastHeading)\n      } else if (this.state.lastPosition) {\n        view.setCenter(this.getCenterWithHeading(this.state.lastPosition, view.getRotation(), view.getResolution()))\n      } else {\n        view.setRotation(-this.state.lastHeading)\n      }\n    }\n  }\n  createLayer () {\n    const positionStyle = createStyle({\n      icon: {\n        src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAyCAMAAABvV9spAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABUFBMVEUAAABpaWkAAAAAAAAA AAAAAAAAAABpaWkAAAAAAAAAAAAAAAAAAAA1NTUAAAAAAAAAAAAAAAAAAAAPDw+4uLje3t709PQP Dw8AAAAAAAAAAAAAAAAAAAAAAAB8fHzv7+98fHwAAAAAAAAAAADAwMD+/v4AAAAAAAAAAACJiYkA AAAmJiby8vLLy8vl5eUAAAD29vZWVlYAAAA5OTn+/v4AAADz8/MAAAAAAADh4eEAAAAAAAC7u7sA AADo6OgAAABbW1v6+voAAAAAAACdnZ339/c9PT3d3d0AAAAAAAAAAACRkZHHx8fh4eH09PQAAAAA AAAAAAAAAAD////6/f7g8Plqt+A0ndUHh8uZzuoNis0AhMqSyujb7vgKicxhs94pmNPy+fwChcr5 /P42ntV0vOLv9/sbkdC43fAEhsvN5/UsmdP5/P2i0uxsuOA5n9bwio4hAAAAU3RSTlMAIx0gEhQT JgIGMzpBTS0mAxYqQpTE6D8pGwQOGC5h3F0kDw2K+yUKI10fNeCTwxnrQRo6/iziFSe6ESF/K8gI RvIFC2XqO7MBBx5dk7ziEBcoCTVzjyoAAAABYktHRFN6Zx0GAAAACXBIWXMAAAFiAAABYgFfJ9BT AAAAB3RJTUUH4gwECRg4eAJxNwAAAYNJREFUOMvt0ls3AlEUwPFNEzO6mIkyU7nUSIN0pUE0zKCL W7VDhO6Rku//5iQ0H8BalrX8H85Z+/dwHvY6AP/9TGPjBsponJgcTjTQzOCeMpnNFovZZJ0eTAwN LGHONjNrdyA67LNzvECYBSe43PMLi4hYLJJjccnjBYIguvhlH15d35RKN9dX6FteMZJ3/EZp1Ye3 d+WP7m7Rt7pG+cElrAfwvvzdPQbWBRdQ0gY+PI748QE3JAo4PoiVsq4KBnkOQtYwVvVcxbA1BEIE a3U912sYESAa22yU9FxqbMai4N6KY1PPTYxvuUHe3sGWnlu4sy3DbmIP208jfWrjXmIXxNB+Ep87 X9p5xuR+SASFMhwc4kt3qN0XPDwwUAqomiwdHWPvtf/21n/t4fGRJGsq2bfISScp/Cx1InEi2Xea zYhylj89O7+4OD875bOymGHTQJzRLnNZT95my3uyuUuNGejAVUXzUjLHyZRXU9ShEqdZJ6MU/P6C wjhZOv3bv/Bv9Q7DpHOEPfXX5AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMi0wNFQxNjoyNDo1 Ni0wNzowMAoLzxUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTItMDRUMTY6MjQ6NTYtMDc6MDB7 VnepAAAAAElFTkSuQmCC'\n      }\n    }, true)\n    const trackingStyle = createStyle({\n      icon: {\n        rotation: 0,\n        rotateWithView: true,\n        src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAyCAMAAABvV9spAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABxVBMVEUAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADn5+fn5+cAAAAAAACioqIAAAAAAAAAAAAAAADt7u7m 8vkAAAAAAAAAAACxsbEAAAAcHBzz9PXT6vUAAAAAAADFxcUAAAAAAAAAAABGRkb4+fq63vEAAAAA AADX19f+//90dHT8/f3J5PMAAAAAAADo6Ojs7e2qqqr8/f3JyclRUVEAAADw8PLq6+tpaWkAAAAA AAAAAADx8fLMzMy9vb0AAAAAAAAAAAA1NTW6urrLy8sAAAAAAAAAAAAAAAAPDw+4uLje3t709PQA AAAAAAB8fHzv7+8AAADAwMD+/v4AAACJiYkAAAAmJiby8vLLy8sAAADl5eX29vZWVlYAAAA5OTn+ /v7z8/Ph4eG7u7sAAADo6OhbW1v6+vqdnZ339/c9PT3d3d2RkZHHx8fh4eH09PQAAAAAAAD///9h s94ChcpGptkAhMovm9Sf0essmdN8wOTA4PL6/f7g8Plqt+A0ndUHh8uZzuoNis2Syujb7vgKicwp mNPy+fz5/P42ntV0vOLv9/sbkdC43fAEhsvN5/X5/P2i0uxsuOA5n9YUwW0GAAAAdXRSTlMAAQID BAYICgsRFAwdop8TIF0HDxws1v0FFyd8Hzfp/RgplQkSIUL1/g0qqv5N/P4VJLzgV/ulW0XBzlxA Pj3EdHg5P0FNd3AOGSYzQpTE6B4uYdwtivsjXRs14JMWw+tBGjr+4rp/K8hG8mXqO7Ndk7ziEChI 22u6AAAAAWJLR0R1qGqY+wAAAAlwSFlzAAABYgAAAWIBXyfQUwAAAAd0SU1FB+IMBAUxJCFfS/cA AAJeSURBVDjL7ZPXUxpRFIfv7rIFMBFFdBc1srKoi22xx5ZEMQErsbCiYu+9HRDF2Huvf292QYTk Le/5Hu6d+ebMuWfO/C5CETAMJzQaAscwlAhGkBRNUySB/WUZrU6nZf7wGE7qdUkfPibp9CQe95iG TjakAKQYkmkNFm+RakwzpWdkpJvSjKnvbXCW4cyZEAhAppljWDxWTGmzsj/lBIM5n7KztNRbOc7q LXwubIVCW5DLW/TRcoywCra8/IKQQkF+nk2wquUYzooWe2HRtqq3iwrtFpFVhox0Li7ZCe+Wlu6G d0qKo92VmSVHGfwCKC8H5SpzSOrsyoNcBUBlVXVNTXVVJUAFpz6q6s9QW1ff0NjYUF9XC1+imhS5 r9+amp3Olhans7np+w9OWQwiSJe7ta29o7MLoKuzo72t1eIiCaSxCp6f3T0AsLenHD3dvR7BqkGk 6Ob7vLB/cHh0dHiwD94+3i2SiNbJ/V44PglFODkGb7+so5HLNzAIp6F3TmFwwOdCgjwEZ+dxfX4G Q7KA/PwwBEIJBGCY9yN37whcJOoLGOl1I98oXAYTdfASRn1obHzi6ihRH11NjI8hi2kSrhP1NUya LEgyT8FNor6BKbOEtLZpuL2L27tbmLZpkeiemYX7h5h9uIfZGbeIKMEwNw+P4agNP8L8nEGgEMtI 8sIiPD2/vL6+PD/B4oIsMayyb9EvLy3DG8tLsl9U9q0EUJQ8/Mrq2vr62uoK75HESAzVbG9wHsem 3b7p8HAbsYxjBEsxRkHy+yXByFBsLLLqvyEpK01bKVL9P+g//8Bv4afHimhpWRsAAAAldEVYdGRh dGU6Y3JlYXRlADIwMTgtMTItMDRUMTI6NDk6MzYtMDc6MDARlu33AAAAJXRFWHRkYXRlOm1vZGlm eQAyMDE4LTEyLTA0VDEyOjQ5OjM2LTA3OjAwYMtVSwAAAABJRU5ErkJggg=='\n      }\n    }, true)\n    const trackStyle = createStyle({\n      stroke: {\n        color: 'rgba(255, 0, 0, 0.5)',\n        width: 3,\n        lineDash: [5, 5]\n      }\n    }, true)\n    const accuracyStyle = createStyle({\n      fill: {\n        color: 'rgba(0, 0, 0, 0.05)'\n      },\n      geometry: feature => {\n        if (feature.get('id') === 'position') {\n          const coordinates = feature.getGeometry().getCoordinates()\n          const lonlat = toLonLat(coordinates)\n          return new Circle(coordinates, (feature.get('radius') * scaleFactor(lonlat)))\n        }\n      }\n    }, true)\n    return createLayer({\n      type: 'FeatureCollection',\n      title: 'Geolocation',\n      style: feature => {\n        const styles = [trackStyle]\n        if (feature.get('id') === 'position') {\n          if (feature.get('radius') > 10 && feature.get('radius') < 5000) {\n            styles.push(accuracyStyle)\n          }\n          if (feature.get('speed') > 1) {\n            styles.push(trackingStyle)\n          } else {\n            styles.push(positionStyle)\n          }\n          if (feature.get('heading')) {\n            trackingStyle.getImage().setRotation(feature.get('heading'))\n          }\n        }\n        return styles\n      }\n    })\n  }\n}\n\nexport default GeoLocation\n","import { getState } from 'Utilities/store'\nimport Component from 'Geop/Component'\nimport Zoom from './Zoom'\nimport Compass from './Compass'\nimport GeoLocation from 'Components/geolocation/GeoLocation'\nimport $ from 'jquery'\nimport './ToolBar.styl'\n\nclass ToolBar extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`<nav id=\"toolbar\" class=\"btn-group-vertical btn-group-lg\"></nav>`)\n    this.create()\n    this.components = {\n      zoom: new Zoom(this.el),\n      geolocation: getState('app/geoLocation') && new GeoLocation(this.el),\n      compass: new Compass(this.el)\n    }\n  }\n}\n\nexport default ToolBar\n","import Component from 'Geop/Component'\nimport {getState, setState} from 'Utilities/store'\nimport Overlay from 'ol/Overlay'\nimport Point from 'ol/geom/Point'\nimport $ from 'jquery'\nimport './ContextMenu.styl'\n\nclass ContextMenu extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $('<div id=\"contextmenu-map\"></div>')\n    let items = getState('map/contextmenu')\n    if (!items) {\n      items = []\n      setState('map/contextmenu', items)\n    }\n    this.state = {\n      overlay: null,\n      items: items\n    }\n    this.create()\n  }\n  render () {\n    this.state.overlay = new Overlay({\n      element: this.el[0],\n      autoPan: true,\n      autoPanMargin: 150,\n      positioning: 'center-center',\n      offset: [0, 0]\n    })\n    const map = getState('map')\n    if (map) {\n      this.init(map)\n    } else {\n      const que = getState('map/que')\n      que.push(map => {\n        this.init(map)\n      })\n    }\n  }\n  init (map) {\n    map.addOverlay(this.state.overlay)\n    map.on('click', e => {\n      this.el.popover('dispose')\n    })\n    map.getViewport().addEventListener('contextmenu', e => {\n      e.preventDefault()\n      let coords = map.getEventCoordinate(e)\n      let content\n      const feature = map.forEachFeatureAtPixel(\n        map.getEventPixel(e),\n        (feature, layer) => [layer, feature]\n      )\n      if (feature && feature[1].getGeometry() instanceof Point) {\n        coords = feature[1].getGeometry().getCoordinates()\n        content = this.getContent(coords)\n      } else {\n        content = this.getContent(coords)\n      }\n      this.open(coords, content)\n    })\n  }\n  open (coord, popContent) {\n    this.el.popover('dispose')\n    this.state.overlay.setPosition(coord)\n    this.el.popover(popContent.definition)\n    // when popover's content is shown\n    this.el.on('shown.bs.popover', e => {\n      popContent.onShow($(e.target).data('bs.popover').tip)\n    })\n    // when popover's content is hidden\n    this.el.on('hidden.bs.popover', popContent.onHide)\n    this.el.popover('show')\n  }\n  getContent (coord) {\n    const content = this.state.items.map((item, i) => {\n      const cont = (typeof item.content === 'function') ? item.content(coord) : item.content\n      return `<li class=\"list-group-item item-${i}\">${cont}</li>`\n    })\n    return {\n      definition: {\n        container: this.el,\n        placement: 'right',\n        animation: false,\n        html: true,\n        content: content.join(''),\n        offset: (this.state.items.length - 1) * 20 + 'px, 0',\n        template: `\n          <div class=\"contextmenu popover\">\n            <div class=\"arrow\"></div>\n            <div class=\"popover-body\"></div>\n          </div>`\n      },\n      'onShow': pop => {\n        $(pop).on('contextmenu', e => {\n          e.stopPropagation()\n        })\n        this.state.items.forEach((item, i) => {\n          if (typeof item.onClick === 'function') {\n            $(pop).on('click', '.item-' + i, e => {\n              e.preventDefault()\n              item.onClick(e, coord)\n              if (item.closeOnClick) {\n                this.el.popover('dispose')\n              }\n            })\n          }\n          if (typeof item.onBtnClick === 'function') {\n            $(pop).on('click', `.item-${i} .context-item-btn`, e => {\n              e.preventDefault()\n              e.stopPropagation()\n              item.onBtnClick(e, coord)\n              if (item.closeOnClick) {\n                this.el.popover('dispose')\n              }\n            })\n          }\n        })\n      },\n      'onHide' : () => {}\n    }\n  }\n}\n\nexport default ContextMenu\n","import { apiUrls } from 'Conf/settings'\nimport { getState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport Component from 'Geop/Component'\nimport { toLonLat } from 'ol/proj'\nimport $ from 'jquery'\n\nclass StreetView extends Component {\n  constructor (target) {\n    super(target)\n    // set contextmenu\n    const contextMenuItems = getState('map/contextmenu')\n    contextMenuItems.push({\n      content: `<i class=\"fa fa-street-view\"></i> ${t('Street view')}`,\n      onClick: (e, coord) => {\n        const formatted = toLonLat(coord).reverse().join(',')\n        $('<a>').attr('href', apiUrls.streetview + formatted).attr('target', '_blank')[0].click()\n      }\n    })\n  }\n}\n\nexport default StreetView\n","import { getState } from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport { uid, degToRad, radToDeg, formatLength, formatArea } from 'Utilities/util'\nimport { createLayer } from 'Components/layer/LayerCreator'\nimport Component from 'Geop/Component'\nimport { createStyle } from 'Components/layer/StyleBuilder'\nimport Feature from 'ol/Feature'\nimport { MultiPoint, LineString, Polygon, Circle } from 'ol/geom'\nimport { Modify, DoubleClickZoom, Snap } from 'ol/interaction'\nimport Collection from 'ol/Collection'\nimport { toLonLat, fromLonLat } from 'ol/proj'\nimport { never, always, doubleClick } from 'ol/events/condition'\nimport { getLength } from 'ol/sphere'\nimport $ from 'jquery'\nimport './Measure.styl'\n\nclass Measure extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $(`\n      <div class=\"alert small alert-warning alert-dismissible measure\" role=\"alert\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n          <i class=\"fa fa-times\"></i>\n        </button>\n        <div class=\"\"></div>\n      </div>\n    `)\n    this.state = {\n      map: null,\n      measureType: null,\n      snapTolerance: 10,\n      snapFeatures: null,\n      layer: null,\n      source: null,\n      drawing: new Feature({\n        geometry: new LineString([])\n      }),\n      circle: new Feature(),\n      sketch: new Feature({\n        geometry: new LineString([])\n      }),\n      measureLine: new LineString([])\n    }\n\n    this.interaction = {\n      snap: null,\n      modify: new Modify({\n        features: new Collection([this.state.drawing]),\n        insertVertexCondition: e => {\n          if (this.state.measureType === 'circle') {\n            return never(e)\n          } else {\n            return always(e)\n          }\n        },\n        deleteCondition: e => {\n          return doubleClick(e)\n        },\n        style: createStyle({\n          circle: {\n            radius: 5,\n            stroke: {\n              color: 'black',\n              width: 1\n            },\n            fill: {\n              color: 'white'\n            }\n          }\n        })\n      })\n    }\n    this.handlers = {\n      onmodify: (e) => {\n        this.onmodify(e)\n      },\n      clicked: (e) => {\n        this.clicked(e)\n      },\n      mousemoved: (e) => {\n        this.mousemoved(e)\n      }\n    }\n    // set contextmenu\n    const contextMenuItems = getState('map/contextmenu')\n    contextMenuItems.push({\n      content: `<i class=\"fa fa-ruler-combined\"></i> ${t('Measure')}\n        <button class=\"btn btn-link context-item-btn\"><i class=\"far fa-dot-circle\"></i></button>`,\n      onClick: (e, coord) => {\n        this.init(coord)\n      },\n      onBtnClick: (e, coord) => {\n        this.init(coord, 'circle')\n      },\n      closeOnClick: true\n    })\n\n  }\n  init (coord, type = 'distance') {\n    if (!this.state.map) {\n      this.state.map = getState('map')\n    }\n    if (!this.state.layer) {\n      this.state.layer = this.createLayer()\n      this.state.source = this.state.layer.getSource()\n      this.state.layer.setMap(this.state.map)\n    }\n    this.reset()\n    this.state.measureType = type\n    this.render()\n    // get all features\n    this.state.snapFeatures = new Collection(this.getAllFeatures())\n    this.state.drawing.getGeometry().setCoordinates([coord])\n    this.state.snapFeatures.push(this.state.drawing)\n    if (type === 'circle') {\n      this.state.circle.setGeometry(new Circle(coord))\n      //this._snapFeatures.push(this._circle);\n      this.state.source.addFeatures([this.state.circle, this.state.drawing, this.state.sketch])\n    } else {\n      this.state.source.addFeatures([this.state.drawing, this.state.sketch])\n    }\n    getState('components/featureInfo') && getState('components/featureInfo').disable()\n    this.enableClick()\n    this.state.map.getInteractions().getArray().forEach(interaction => {\n      if (interaction instanceof DoubleClickZoom) {\n        interaction.setActive(false)\n      }\n    })\n  }\n  createLayer () {\n    const conf = {\n      type: 'FeatureCollection',\n      id: uid(),\n      title: 'Measure',\n      style: [\n        {\n          stroke: {\n            color: 'black',\n            width: 1\n          },\n          fill: {\n            color: 'rgba(255, 255, 255, 0)'\n          }\n        },\n        {\n          circle: {\n            radius: 4,\n            stroke: {\n              color: 'black',\n              width: 1\n            },\n            fill: {\n              color: 'white'\n            }\n          },\n          geometry: feature => {\n            if (feature.getGeometry() instanceof LineString) {\n              var coordinates = feature.getGeometry().getCoordinates()\n              return new MultiPoint(coordinates)\n            }\n          }\n        }\n      ]\n    }\n    return createLayer(conf)\n  }\n  render () {\n    if (this.el) {\n      this.el.alert('close')\n    }\n    let html = ''\n    if (this.state.measureType === 'circle') {\n      html += `\n        <div class=\"form-inline\">\n          <label for=\"angle\">${t('Angle')}: </label>\n          <input type=\"text\" name=\"angle\" class=\"form-control input-sm\" readonly> &deg;\n        </div>\n        <div class=\"form-inline\">\n          <label for=\"radius\">${t('Radius')}: </label>\n          <input type=\"text\" name=\"radius\" class=\"form-control input-sm\" readonly> m\n        </div>`\n    } else {\n      html += `\n        ${t('Length')}: ${t('to finish, click on end')}<br>\n        ${t('Area')}: ${t('to finish, click on beginning')}`\n    }\n    this.el.find('div').html(html)\n    $('body').append(this.el)\n    if (this.state.measureType === 'circle') {\n      this.el.on('focus', 'input', e => {\n        this.interaction.modify.setActive(false)\n      })\n      this.el.on('blur', 'input', e => {\n        const a = this.el.find('input[name=angle]').val()\n        const r = this.el.find('input[name=radius]').val()\n        const coords = this.state.drawing.getGeometry().getCoordinates()\n        const coord2 = this.getCoordinateByAngleDistance(coords[0], Number(a), Number(r))\n        this.state.drawing.getGeometry().setCoordinates([coords[0], coord2])\n        this.interaction.modify.setActive(true)\n      });\n    }\n    this.el.on('closed.bs.alert', () => {\n      this.reset()\n    })\n  }\n  updateResults () {\n    if (this.state.measureType === 'circle') {\n      this.updateCircleResults()\n    } else {\n      const len = formatLength(this.state.drawing.getGeometry())\n      let html = `${t('Length')}: ${len}`\n      const coords = this.state.drawing.getGeometry().getCoordinates()\n      // if closed, calculate area\n      if (coords[0][0] === coords[coords.length - 1][0] && coords[0][1] === coords[coords.length - 1][1]) {\n        const area = formatArea(new Polygon([coords]))\n        html += `<br>${t('Area')}: ${area}`\n      } else {\n        html += `<br>${t('Area')}: ${t('to finish, click on beginning')}`\n      }\n      this.el.find('div').html(html)\n    }\n  }\n  updateCircleResults () {\n    let g = this.state.sketch.getGeometry()\n    let coords = g.getCoordinates()\n    if (coords.length === 0) {\n      g = this.state.drawing.getGeometry()\n      coords = g.getCoordinates()\n    }\n    const coord1 = coords[0]\n    const coord2 = coords[coords.length - 1]\n    let angle = radToDeg(Math.atan2(coord2[0] - coord1[0], coord2[1] - coord1[1]))\n    if (angle < 0) {\n      angle = 360 + angle\n    }\n    const radius = getLength(g)\n    this.el.find('input[name=angle]').val(Math.round((angle + 0.00001) * 100) / 100)\n    this.el.find('input[name=radius]').val(Math.round((radius + 0.00001) * 1000) / 1000)\n  }\n  reset () {\n    this.state.drawing.getGeometry().un('change', this.handlers.onmodify)\n    this.state.map.removeInteraction(this.interaction.modify)\n    this.state.map.removeInteraction(this.interaction.snap)\n    this.state.snapFeatures = null\n    this.disableClick()\n    getState('components/featureInfo') && getState('components/featureInfo').enable()\n    this.state.drawing.getGeometry().setCoordinates([])\n    this.state.sketch.getGeometry().setCoordinates([])\n    if (this.state.measureType === 'circle') {\n      this.state.circle.setGeometry(null)\n    }\n    this.state.source.clear()\n    this.state.map.getInteractions().getArray().forEach(interaction => {\n      if (interaction instanceof DoubleClickZoom) {\n        interaction.setActive(true)\n      }\n    })\n  }\n  enableClick () {\n    this.state.map.on('click', this.handlers.clicked)\n    this.state.map.on('pointermove', this.handlers.mousemoved)\n  }\n  disableClick () {\n    this.state.map.un('click', this.handlers.clicked)\n    this.state.map.un('pointermove', this.handlers.mousemoved)\n  }\n  clicked (e) {\n    this.state.sketch.getGeometry().setCoordinates([])\n    const coords = this.state.drawing.getGeometry().getCoordinates()\n    const coord2 = this.getSnappedCoordinate(\n      e.coordinate,\n      this.state.snapFeatures.getArray(),\n      this.state.snapTolerance\n    )\n    if (this.state.measureType === 'circle') {\n      const coord1 = coords[0]\n      this.state.drawing.getGeometry().setCoordinates([coord1, coord2])\n      this.el.find('input').prop('readonly', false)\n      this.finish()\n    } else {\n      if (coords.length > 1 && coords[0][0] === coord2[0] && coords[0][1] === coord2[1]) {\n        // clicked first\n        coords.push(coord2)\n        this.state.drawing.getGeometry().setCoordinates(coords)\n        this.finish()\n      } else if (coords.length > 1 && coords[coords.length -1][0] === coord2[0] && coords[coords.length -1][1] === coord2[1]) {\n        // clicked last\n        this.finish()\n      } else {\n        coords.push(coord2)\n        this.state.drawing.getGeometry().setCoordinates(coords)\n      }\n    }\n  }\n  onmodify (e) {\n    if (this.state.measureType === 'circle') {\n      const coords = this.state.drawing.getGeometry().getCoordinates()\n      const g = this.state.circle.getGeometry()\n      const r = this.getCoordinatesDistance(coords[0], coords[1])\n      g.setCenter(coords[0])\n      g.setRadius(r)\n    }\n    this.updateResults()\n  }\n  mousemoved (e) {\n    const coords = this.state.drawing.getGeometry().getCoordinates()\n    const coord1 = this.state.measureType === 'circle' ?\n      coords[0] :\n      coords[coords.length - 1]\n    const coord2 = this.getSnappedCoordinate(\n      e.coordinate,\n      this.state.snapFeatures.getArray(),\n      this.state.snapTolerance\n    )\n    this.state.sketch.getGeometry().setCoordinates([coord1, coord2])\n    if (this.state.measureType === 'circle') {\n      const r = this.getCoordinatesDistance(coord1, coord2)\n      this.state.circle.getGeometry().setRadius(r)\n      this.updateCircleResults()\n    } else {\n      const arr = coords.slice(0)\n      arr.push(coord2)\n      this.state.measureLine.setCoordinates(arr)\n      this.el.find('div').html(`\n        ${t('Length')}: ${formatLength(this.state.measureLine)}<br>\n        ${t('Area')}: ${t('to finish, click on beginning')}\n      `)\n    }\n  }\n  finish () {\n    this.disableClick()\n    this.state.sketch.getGeometry().setCoordinates([])\n    this.updateResults()\n    this.state.map.addInteraction(this.interaction.modify)\n    this.interaction.snap = new Snap({features: this.state.snapFeatures})\n    this.state.map.addInteraction(this.interaction.snap)\n    this.state.drawing.getGeometry().on('change', this.handlers.onmodify)\n  }\n  getSnappedCoordinate (needle, haystack, tolerance) {\n    let coord = needle\n    const calculatePxDistance = (c1, c2) => {\n      const p1 = this.state.map.getPixelFromCoordinate(c1)\n      const p2 = this.state.map.getPixelFromCoordinate(c2)\n      return this.getCoordinatesDistance(p1, p2)\n    }\n    for (let i = 0, len = haystack.length; i < len; i++) {\n      const c = haystack[i].getGeometry().getCoordinates()\n      // if point\n      if (c && typeof c[0] === 'number') {\n        const dist = calculatePxDistance(c, needle)\n        if (dist <= tolerance) {\n          coord = c\n          break\n        }\n      } else {\n        const test = c.filter(item => {\n          const dist = calculatePxDistance(item, needle)\n          if (dist <= tolerance) {\n            return true\n          }\n        })\n        if (test.length > 0) {\n          coord = test[0]\n        }\n      }\n    }\n    return coord\n  }\n  getCoordinateByAngleDistance (coord, bearing, distance) {\n    // distance in KM, bearing in degrees\n    const R = 6378137\n    const lonlat = toLonLat(coord)\n    const brng = degToRad(bearing)\n    let lat = degToRad(lonlat[1])\n    let lon = degToRad(lonlat[0])\n    // Do the math magic\n    lat = Math.asin(Math.sin(lat) * Math.cos(distance / R) + Math.cos(lat) * Math.sin(distance / R) * Math.cos(brng))\n    lon += Math.atan2(Math.sin(brng) * Math.sin(distance / R) * Math.cos(lat), Math.cos(distance/R)-Math.sin(lat)*Math.sin(lat))\n    // Coords back to degrees and return\n    return fromLonLat([radToDeg(lon), radToDeg(lat)])\n  }\n  getCoordinatesDistance (coord1, coord2) {\n    const a = Math.abs(coord1[0]-coord2[0])\n    const b = Math.abs(coord1[1]-coord2[1])\n    return Math.sqrt(a * a + b * b)\n  }\n  getAllFeatures () {\n    let fset = []\n    getState('map/layer/layers').forEach(layer => {\n      if (layer.get('conf').type === 'FeatureCollection') {\n        fset = fset.concat(layer.getSource().getFeatures())\n      }\n    })\n    getState('map/layer/overlays').forEach(layer => {\n      if (layer.get('conf').type === 'FeatureCollection' && layer.get('title') !== 'Measure') {\n        fset = fset.concat(layer.getSource().getFeatures())\n      }\n    })\n    return fset\n  }\n}\n\nexport default Measure\n","import Component from 'Geop/Component'\nimport {getState} from 'Utilities/store'\nimport { t } from 'Utilities/translate'\nimport Overlay from 'ol/Overlay'\nimport $ from 'jquery'\nimport './Tooltip.styl'\n\nclass Tooltip extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $('<div id=\"tooltip\"></div>')\n    this.state = {\n      tooltipVisible: false,\n      overlay: null,\n      currentFeature: null\n    }\n    this.create()\n  }\n  render () {\n    this.state.overlay = new Overlay({\n      element: this.el[0],\n      autoPan: false,\n      positioning: 'center-center',\n      offset: [0, -14],\n      stopEvent: false\n    })\n    const map = getState('map')\n    if (map) {\n      this.init(map)\n    } else {\n      const que = getState('map/que')\n      que.push(map => {\n        this.init(map)\n      })\n    }\n  }\n  init (map) {\n    map.addOverlay(this.state.overlay)\n    map.on('pointermove', e => {\n      if (e.dragging) {\n        return\n      }\n      const pixel = map.getEventPixel(e.originalEvent)\n      const hit = map.hasFeatureAtPixel(pixel)\n      map.getTarget().style.cursor = hit ? 'pointer' : ''\n      this.state.tooltipVisible = this.open(hit ? e.originalEvent : false, map)\n    })\n  }\n  open (e, map) {\n    // if !px then remove tooltip and return false\n    if (!e) {\n      this.el.html('')\n      this.state.overlay.setPosition(undefined)\n      this.state.currentFeature = null\n      return false\n    }\n    // get feature\n    let coord = map.getEventCoordinate(e)\n    const feature = map.forEachFeatureAtPixel(\n      map.getEventPixel(e),\n      (feature, layer) => feature\n    )\n    // if not same feature\n    if (feature !== this.state.currentFeature && (feature.get('name') || feature.get('title'))) {\n      // if point, then geometry coords\n      if (feature.getGeometry().getType() === 'Point') {\n          coord = feature.getGeometry().getCoordinates()\n      }\n      this.el.html(t(feature.get('name') || feature.get('title')))\n      this.state.overlay.setPosition(coord)\n      this.state.currentFeature = feature\n    }\n    return true\n  }\n}\n\nexport default Tooltip\n","import Component from 'Geop/Component'\nimport {t} from 'Utilities/translate'\nimport {formatLength, formatArea} from 'Utilities/util'\nimport {getState, setState} from 'Utilities/store'\nimport Overlay from 'ol/Overlay'\nimport Point from 'ol/geom/Point'\nimport $ from 'jquery'\nimport './Popup.styl'\n\nclass Popup extends Component {\n  constructor (target) {\n    super(target)\n    this.el = $('<div id=\"popup-map\"></div>')\n    this.state = {\n      overlay: null,\n      infoStore: [],\n      geomTypes: {\n        linestrings: ['LineString', 'MultiLineString'],\n        polygons: ['Polygon', 'MultiPolygon']\n      }\n    }\n    this.handlers = {\n      clicked: e => {\n        this.open(e)\n      }\n    }\n    this.create()\n    // store component so it can be disabled outside (by measure)\n    setState('components/featureInfo', this)\n  }\n  render () {\n    this.state.overlay = new Overlay({\n      element: this.el[0],\n      autoPan: true,\n      positioning: 'center-center',\n      offset: [0, -16]\n    })\n    const map = getState('map')\n    if (map) {\n      this.state.map = map\n      this.init(map)\n    } else {\n      const que = getState('map/que')\n      que.push(map => {\n        this.state.map = map\n        this.init(map)\n      })\n    }\n  }\n  init (map) {\n    map.addOverlay(this.state.overlay)\n    this.enable()\n  }\n  enable () {\n    this.state.map.on('singleclick', this.handlers.clicked)\n  }\n  disable () {\n    this.state.map.un('singleclick', this.handlers.clicked)\n  }\n  open (e) {\n    let coord = e.coordinate\n    const hit = this.state.map.forEachFeatureAtPixel(\n      e.pixel,\n      (feature, layer) => {\n        if (layer) {\n          return [layer, feature]\n        }\n      }\n    )\n    this.el.popover('dispose')\n    if (hit) {\n      // if point, then geometry coords\n      if (hit[1].getGeometry().getType() === 'Point') {\n        coord = hit[1].getGeometry().getCoordinates()\n      }\n      let popContent\n      if (hit[0] && this.state.infoStore[hit[0].get('id')]) {\n        popContent = this.state.infoStore[hit[0].get('id')](hit[1])\n      } else {\n        popContent = this.getContent(hit[1], hit[0])\n      }\n      this.state.overlay.setPosition(coord)\n      this.el.popover(popContent.definition).popover('show')\n      // when popover's content is shown\n      this.el.on('shown.bs.popover', e => {\n        popContent.onShow(hit, $(e.target).data('bs.popover').tip)\n      })\n      // when popover's content is hidden\n      this.el.on('hidden.bs.popover', e => {\n        popContent.onHide(e)\n      })\n      this.el.popover('show')\n    }\n  }\n  getContent (feature, layer) {\n    if (feature && layer) {\n      const props = feature.getProperties()\n      const geotrip = getState('geocache/trip')\n      let title, content\n      if (layer.get('_featureInfo')) {\n        const info = layer.get('_featureInfo')\n        title = typeof info.title === 'function' ? info.title(feature) : info.title\n        content = typeof info.content === 'function' ? info.content(feature) : info.content\n      } else {\n        title = `\n          <i class=\"fa fa-map-marker-alt\"></i>\n          ${t('Feature')}\n          <a href=\"#\" class=\"tools remove-marker float-right\" title=\"Eemalda\">\n            <i class=\"far fa-trash-alt\"></i>\n          </a>\n          ${feature.getGeometry() instanceof Point ? `\n            <a href=\"#\" class=\"tools cache-toggle float-right\" data-id=\"${feature.get('id')}\" title=\"${t('Add to geotrip')}\">\n              <i class=\"fas ${(geotrip && geotrip.getArray().indexOf(feature) > -1) ? 'fa-minus-square' : 'fa-thumbtack'}\"></i>\n            </a>\n          ` : ''}`\n        content = Object.keys(props).filter(key => {\n          return (typeof props[key] === 'string' || typeof props[key] === 'number')\n        }).map(key => {\n          return `${key}: ${props[key]}`\n        })\n        if (this.state.geomTypes.linestrings.indexOf(feature.getGeometry().getType()) > -1) {\n          content.push(`${t('Length')}: ${formatLength(feature.getGeometry())}`)\n        }\n        if (this.state.geomTypes.polygons.indexOf(feature.getGeometry().getType()) > -1) {\n          content.push(`${t('Area')}: ${formatArea(feature.getGeometry())}`)\n        }\n        content = content.join('<br>')\n      }\n      return {\n        definition: {\n          container: this.el,\n          placement: 'top',\n          animation: false,\n          html: true,\n          title: title,\n          content: content,\n          template: `\n            <div class=\"popup popover\">\n              <div class=\"arrow\"></div>\n              <h3 class=\"popover-header\"></h3>\n              <div class=\"popover-body\"></div>\n            </div>`\n        },\n        'onShow': (f, pop) => {\n          const geotrip = getState('geocache/trip')\n          $(pop).on('contextmenu', e => {\n            e.stopPropagation()\n          })\n          $(pop).on('click', '.remove-marker', e => {\n            e.preventDefault()\n            if (f[0]) {\n              f[0].getSource().removeFeature(f[1])\n              if (geotrip) {\n                geotrip.remove(f[1])\n              }\n              this.el.popover('dispose')\n            }\n          })\n          $(pop).on('click', '.cache-toggle', e => {\n            e.preventDefault()\n            $(e.currentTarget).find('i').toggleClass('fa-thumbtack fa-minus-square')\n            if (geotrip) {\n              if (geotrip.getArray().indexOf(f[1]) > -1) {\n                geotrip.remove(f[1])\n              } else {\n                geotrip.push(f[1])\n              }\n            }\n          })\n        },\n        'onHide' : function () {}\n      }\n    }\n  }\n}\n\nexport default Popup\n","import { getState } from 'Utilities/store'\nimport { initLocale } from 'Utilities/translate'\nimport { initDebug } from 'Utilities/util'\nimport translations from 'Conf/translations'\nimport Component from 'Geop/Component'\nimport MapEngine from 'Components/map/MapEngine'\nimport Header from 'Components/header/Header'\nimport StatusBar from 'Components/statusbar/StatusBar'\nimport ToolBar from 'Components/toolbar/ToolBar'\nimport ContextMenu from 'Components/contextmenu/ContextMenu'\nimport StreetView from 'Components/streetview/StreetView'\nimport Measure from 'Components/measure/Measure'\nimport Tooltip from 'Components/featureinfo/Tooltip'\nimport Popup from 'Components/featureinfo/Popup'\nimport './Geop.styl'\n\nclass Geop extends Component {\n  render () {\n    // debug\n    const debug = getState('app/debug')\n    if (debug) {\n      initDebug()\n      console.debug('Debug mode enabled')\n    }\n    // set locale\n    initLocale(getState('app/locale'), translations)\n    if (debug) {\n      console.debug('Locale: ' + getState('app/locale'))\n    }\n\n    // components\n    this.components = {\n      map: new MapEngine(this.target),\n      contextmenu: new ContextMenu(this.target),\n      header: new Header(this.target),\n      statusbar: new StatusBar(this.target),\n      toolbar: new ToolBar(this.target),\n      streetview: getState('app/streetView') && new StreetView(this.target),\n      measure: getState('app/measureTool') && new Measure(this.target),\n      tooltip: getState('app/tooltip') && new Tooltip(this.target),\n      popup: getState('app/featureInfo') && new Popup(this.target)\n    }\n    this.components.map.init()\n  }\n}\n\nexport default Geop\n","import { initConf } from 'Utilities/session'\nimport { activatePermalink } from 'Utilities/permalink'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport './app.styl'\nimport 'bootstrap/js/dist/dropdown'\nimport 'bootstrap/js/dist/modal'\nimport 'bootstrap/js/dist/tab'\nimport 'bootstrap/js/dist/button'\nimport 'bootstrap/js/dist/popover'\nimport 'bootstrap/js/dist/alert'\nimport { initServiceWorker } from 'Utilities/util'\nimport Geop from 'Geop/Geop'\nimport $ from 'jquery'\n\nlet app = null\nconst el = $('#geop')\n\nfunction createApp () {\n  initConf().then(conf => {\n    const app = new Geop(el)\n    app.render()\n  })\n}\n\nexport function reloadApp () {\n  if (app) {\n    app.destroy()\n    app = null\n    el.html('')\n  }\n  //createApp()\n  window.location.reload()\n}\n\n(function () {\n  // service worker\n  initServiceWorker()\n  // permalink\n  if ('onhashchange' in window) {\n    activatePermalink()\n  }\n  // run app\n  createApp()\n})()\n"],"sourceRoot":""}