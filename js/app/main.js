/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */

/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

/**
 * jQuery plugin for Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */

function q(t,e){var i=t.split("."),n=aa;i[0]in n||!n.execScript||n.execScript("var "+i[0]);for(var o;i.length&&(o=i.shift());)i.length||void 0===e?n=n[o]?n[o]:n[o]={}:n[o]=e}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function ba(){}function x(t){return t.Te||(t.Te=++ca)}function da(t){this.message="Assertion failed. See /doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function y(t,e){if(!t)throw new da(e)}function fa(t,e,i){return Math.min(Math.max(t,e),i)}function ha(t,e){var i=t%e;return 0>i*e?i+e:i}function ia(t){return function(e){return e?[fa(e[0],t[0],t[2]),fa(e[1],t[1],t[3])]:void 0}}function ja(t){return t}function ka(t,e,i){this.center=t,this.resolution=e,this.rotation=i}function ma(t){for(var e in t)delete t[e]}function na(t){var e,i=[];for(e in t)i.push(t[e]);return i}function oa(t){for(var e in t)return!1;return!e}function qa(t){function e(e){var i=t.listener,n=t.xc||t.target;return t.zc&&B(t),i.call(n,e)}return t.yc=e}function ra(t,e,i,n){for(var o,r=0,s=t.length;s>r;++r)if(o=t[r],o.listener===e&&o.xc===i)return n&&(o.deleteIndex=r),o}function sa(t,e){var i=t.Z;return i?i[e]:void 0}function ta(t){var e=t.Z;return e||(e=t.Z={}),e}function ua(t,e){var i=sa(t,e);if(i){for(var n=0,o=i.length;o>n;++n)t.removeEventListener(e,i[n].yc),ma(i[n]);i.length=0,(i=t.Z)&&(delete i[e],0===Object.keys(i).length&&delete t.Z)}}function C(t,e,i,n,o){var r=ta(t),s=r[e];return s||(s=r[e]=[]),(r=ra(s,i,n,!1))?o||(r.zc=!1):(r={xc:n,zc:!!o,listener:i,target:t,type:e},t.addEventListener(e,qa(r)),s.push(r)),r}function va(t,e,i,n){(t=sa(t,e))&&(i=ra(t,i,n,!0))&&B(i)}function B(t){if(t&&t.target){t.target.removeEventListener(t.type,t.yc);var e=sa(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&ua(t.target,t.type)}ma(t)}}function wa(){}function xa(t){t.pa||(t.pa=!0,t.aa())}function za(t){this.type=t,this.target=null}function Aa(t){t.stopPropagation()}function Ba(){this.P={},this.F={},this.C={}}function Ca(t,e){return e?e in t.C:0<Object.keys(t.C).length}function Da(){Ba.call(this),this.f=0}function D(t){Da.call(this),x(this),this.j={},void 0!==t&&this.fa(t)}function Fa(t){return Ea.hasOwnProperty(t)?Ea[t]:Ea[t]="change:"+t}function Ga(t,e,i){var n;n=Fa(e),t.J(new Ha(n,e,i)),n=Ia,t.J(new Ha(n,e,i))}function Ha(t,e,i){za.call(this,t),this.key=e,this.oldValue=i}function Ka(t,e){return t>e?1:e>t?-1:0}function La(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(i>0){for(i=1;n>i;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;n>i;++i)if(t[i]<=e)return i}else for(i=1;n>i;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function Ma(t,e){var i,n=Array.isArray(e)?e:[e],o=n.length;for(i=0;o>i;i++)t[t.length]=n[i]}function Na(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0}function Oa(t){var e,i=Qa,n=t.length,o=Array(t.length);for(e=0;n>e;e++)o[e]={index:e,value:t[e]};for(o.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=o[e].value}function Ra(t,e){var i=e||Ka;return t.every(function(e,n){if(0===n)return!0;var o=i(t[n-1],e);return!(o>0||0===o)})}function Sa(t){return function(e,i,n){return void 0!==e?(e=La(t,e,n),e=fa(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]):void 0}}function Ta(t,e,i){return function(n,o,r){return void 0!==n?(n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-r/2+.5))+o,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)):void 0}}function Ua(t){return void 0!==t?0:void 0}function Va(t,e){return void 0!==t?t+e:void 0}function Wa(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function Xa(){var t=5*Math.PI/180;return function(e,i){return void 0!==e?Math.abs(e+i)<=t?0:e+i:void 0}}function $a(t){t=""+t;var e=t.indexOf("."),e=-1===e?t.length:e;return e>2?t:Array(3-e).join("0")+t}function ab(t,e){var i=Math.cos(e),n=Math.sin(e),o=t[1]*i+t[0]*n;t[0]=t[0]*i-t[1]*n,t[1]=o}function bb(t){return 1-Math.pow(1-t,3)}function cb(t){return 3*t*t-2*t*t*t}function db(t){return t}function eb(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function fb(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function gb(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function hb(){return[1/0,1/0,-(1/0),-(1/0)]}function ib(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function lb(t){return ib(1/0,1/0,-(1/0),-(1/0),t)}function mb(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function nb(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function ob(t,e,i,n,o){for(;n>i;i+=o){var r=t,s=e[i],a=e[i+1];r[0]=Math.min(r[0],s),r[1]=Math.min(r[1],a),r[2]=Math.max(r[2],s),r[3]=Math.max(r[3],a)}return t}function pb(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function qb(t,e,i,n,o){var r=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var s=Math.sin(i);i=r*e,r*=s,e*=n;var a=n*s,l=t[0],h=t[1];t=l-i+a,n=l-i-a,s=l+i-a,i=l+i+a;var a=h-r-e,l=h-r+e,c=h+r+e,r=h+r-e;return ib(Math.min(t,n,s,i),Math.min(a,l,c,r),Math.max(t,n,s,i),Math.max(a,l,c,r),o)}function rb(t,e){var i=hb();return sb(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function tb(t){return t[2]-t[0]}function sb(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function ub(){return!0}function vb(){return!1}function wb(t){this.radius=t}function yb(t){this.a=t.code,this.f=t.units,this.j=void 0!==t.extent?t.extent:null,this.c=void 0!==t.global?t.global:!1,this.b=!(!this.c||!this.j),this.g=null,this.i=t.metersPerUnit,console.assert(void 0!==t.code,'Option "code" is required for constructing instance')}function Bb(t,e,i){t=t.a,e=e.a,t in Ab||(Ab[t]={}),Ab[t][e]=i}function Cb(t){Db(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Bb(e,t,Eb)})})}function Fb(t){zb[t.a]=t,Bb(t,t,Eb)}function Db(t){var e=[];t.forEach(function(t){e.push(Fb(t))})}function Gb(t){return t?"string"==typeof t?Hb(t):t:Hb("EPSG:3857")}function Hb(t){var e=null;return t instanceof yb?e=t:"string"==typeof t&&(e=zb[t]||null),e}function Ib(t,e){if(t===e)return!0;var i=t.f===e.f;return t.a===e.a?i:Jb(t,e)===Eb&&i}function Kb(t,e){var i=Hb(t),n=Hb(e);return Jb(i,n)}function Jb(t,e){var i;i=t.a;var n,o=e.a;return i in Ab&&o in Ab[i]&&(n=Ab[i][o]),i=n,i||(console.assert(i,"transform should be defined"),i=Lb),i}function Lb(t,e){if(void 0!==e&&t!==e){console.assert(!1,"This should not be used internally.");for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}return t}function Eb(t,e){var i;if(void 0!==e){i=0;for(var n=t.length;n>i;++i)e[i]=t[i];i=e}else i=t.slice();return i}function Mb(t,e,i){e=Kb(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return console.assert(0<i.length,"xs length should be larger than 0"),console.assert(0<n.length,"ys length should be larger than 0"),t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),ib(t,e,i,n,void 0)}function Nb(){D.call(this),this.v=hb(),this.B=-1,this.i={},this.u=this.l=0}function Ob(t,e,i,n,o,r){for(var s=r?r:[],a=0;i>e;e+=n){var l=t[e],h=t[e+1];s[a++]=o[0]*l+o[2]*h+o[4],s[a++]=o[1]*l+o[3]*h+o[5]}return r&&s.length!=a&&(s.length=a),s}function Pb(){Nb.call(this),this.T="XY",this.a=2,this.o=null}function Qb(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),console.assert(e,"unsupported layout: "+t),e}function Rb(t,e,i){t.a=Qb(e),t.T=e,t.o=i}function Sb(t,e,i,n){if(e)i=Qb(e);else{for(e=0;n>e;++e){if(0===i.length)return t.T="XY",void(t.a=2);i=i[0]}i=i.length;var o;2==i?o="XY":3==i?o="XYZ":4==i&&(o="XYZM"),console.assert(o,"unsupported stride: "+i),e=o}t.T=e,t.a=i}function Tb(t,e,i,n){var o,r;for(o=0,r=i.length;r>o;++o){var s=i[o];console.assert(s.length==n,"length of coordinate array should match stride");var a;for(a=0;n>a;++a)t[e++]=s[a]}return e}function Ub(t,e,i,n,o){o=o?o:[];var r,s,a=0;for(r=0,s=i.length;s>r;++r)e=Tb(t,e,i[r],n),o[a++]=e;return o.length=a,o}function Vb(t,e,i,n,o){o=void 0!==o?o:[];for(var r=0;i>e;e+=n)o[r++]=t.slice(e,e+n);return o.length=r,o}function Wb(t,e,i,n,o){o=void 0!==o?o:[];var r,s,a=0;for(r=0,s=i.length;s>r;++r){var l=i[r];o[a++]=Vb(t,e,l,n,o[a]),e=l}return o.length=a,o}function Xb(t,e,i,n,o,r,s){var a=(i-e)/n;if(3>a){for(;i>e;e+=n)r[s++]=t[e],r[s++]=t[e+1];return s}var l=Array(a);l[0]=1,l[a-1]=1,i=[e,i-n];for(var h,c=0;0<i.length;){var u=i.pop(),d=i.pop(),f=0,p=t[d],g=t[d+1],m=t[u],v=t[u+1];for(h=d+n;u>h;h+=n){var y,b=t[h];y=t[h+1];var w=p,x=g,E=m-w,N=v-x;if(0!==E||0!==N){var S=((b-w)*E+(y-x)*N)/(E*E+N*N);S>1?(w=m,x=v):S>0&&(w+=E*S,x+=N*S)}b=w-b,y=x-y,y=b*b+y*y,y>f&&(c=h,f=y)}f>o&&(l[(c-e)/n]=1,c>d+n&&i.push(d,c),u>c+n&&i.push(c,u))}for(h=0;a>h;++h)l[h]&&(r[s++]=t[e+h*n],r[s++]=t[e+h*n+1]);return s}function Yb(t,e,i,n,o,r,s,a){var l,h;for(l=0,h=i.length;h>l;++l){var c=i[l];t:{var u=t,d=c,f=n,p=o,g=r;if(e!=d){var m=p*Math.round(u[e]/p),v=p*Math.round(u[e+1]/p);e+=f,g[s++]=m,g[s++]=v;var y,b;do if(y=p*Math.round(u[e]/p),b=p*Math.round(u[e+1]/p),e+=f,e==d){g[s++]=y,g[s++]=b;break t}while(y==m&&b==v);for(;d>e;){var w,x;if(w=p*Math.round(u[e]/p),x=p*Math.round(u[e+1]/p),e+=f,w!=y||x!=b){var E=y-m,N=b-v,S=w-m,T=x-v;E*T==N*S&&(0>E&&E>S||E==S||E>0&&S>E)&&(0>N&&N>T||N==T||N>0&&T>N)||(g[s++]=y,g[s++]=b,m=y,v=b),y=w,b=x}}g[s++]=y,g[s++]=b}}a.push(s),e=c}return s}function Zb(t,e){Pb.call(this),this.ha(t,e)}function $b(t,e){Pb.call(this),this.ha(t,e)}function ac(t,e,i,n,o,r){for(var s=0,a=t[i-n],l=t[i-n+1];i>e;e+=n){var h=t[e],c=t[e+1];r>=l?c>r&&(h-a)*(r-l)-(o-a)*(c-l)>0&&s++:r>=c&&0>(h-a)*(r-l)-(o-a)*(c-l)&&s--,a=h,l=c}return 0!==s}function bc(t,e,i,n,o,r,s){var a,l,h,c,u,d=o[r+1],f=[],p=i[0];for(h=t[p-n],u=t[p-n+1],a=e;p>a;a+=n)c=t[a],l=t[a+1],(u>=d&&d>=l||d>=u&&l>=d)&&(h=(d-u)/(l-u)*(c-h)+h,f.push(h)),h=c,u=l;for(p=NaN,u=-(1/0),f.sort(Ka),h=f[0],a=1,l=f.length;l>a;++a){c=f[a];var g=Math.abs(c-h);if(g>u){h=(h+c)/2;var m;t:{m=t;var v=e,y=i,b=n,w=h,x=d;if(console.assert(0<y.length,"ends should not be an empty array"),0!==y.length&&ac(m,v,y[0],b,w,x)){var E,v=1;for(E=y.length;E>v;++v)if(ac(m,y[v-1],y[v],b,w,x)){m=!1;break t}m=!0}else m=!1}m&&(p=h,u=g)}h=c}return isNaN(p)&&(p=o[r]),s?(s.push(p,d),s):[p,d]}function cc(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];i>e;e+=n)var a=t[e],l=t[e+1],o=o+(a-r)*(l+s),r=a,s=l;return o>0}function dc(t,e,i,n){var o=0;n=void 0!==n?n:!1;var r,s;for(r=0,s=e.length;s>r;++r){var a=e[r],o=cc(t,o,a,i);if(0===r){if(n&&o||!n&&!o)return!1}else if(n&&!o||!n&&o)return!1;o=a}return!0}function ec(t,e,i,n,o){o=void 0!==o?o:!1;var r,s;for(r=0,s=i.length;s>r;++r){var a=i[r],l=cc(t,e,a,n);if(0===r?o&&l||!o&&!l:o&&!l||!o&&l)for(var l=t,h=a,c=n;h-c>e;){var u;for(u=0;c>u;++u){var d=l[e+u];l[e+u]=l[h-c+u],l[h-c+u]=d}e+=c,h-=c}e=a}return e}function fc(t,e,i,n){var o,r,s=0;for(o=0,r=e.length;r>o;++o)s=ec(t,s,e[o],i,n);return s}function gc(t,e){Pb.call(this),this.c=[],this.G=-1,this.L=null,this.U=-1,this.s=null,this.ha(t,e)}function ic(t){if(t.G!=t.f){var e=pb(t.R());t.L=bc(hc(t),0,t.c,t.a,e,0),t.G=t.f}return t.L}function hc(t){if(t.U!=t.f){var e=t.o;dc(e,t.c,t.a)?t.s=e:(t.s=e.slice(),t.s.length=ec(t.s,0,t.c,t.a)),t.U=t.f}return t.s}function jc(t){var e;D.call(this),t=t||{},this.b=[0,0],this.a=[],this.Eb=this.Eb.bind(this);var i={};i[kc]=void 0!==t.center?t.center:null,this.u=Gb(t.projection);var n,o,r=void 0!==t.minZoom?t.minZoom:0;e=void 0!==t.maxZoom?t.maxZoom:28;var s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)e=t.resolutions,n=e[0],o=e[e.length-1],e=Sa(e);else{n=Gb(t.projection),o=n.R();var a=(o?Math.max(tb(o),o[3]-o[1]):360*xb.degrees/(n.i||xb[n.f]))/256/Math.pow(2,0),l=a/Math.pow(2,28);n=t.maxResolution,void 0!==n?r=0:n=a/Math.pow(s,r),o=t.minResolution,void 0===o&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,e):a/Math.pow(s,e):l),e=r+Math.floor(Math.log(n/o)/Math.log(s)),o=n/Math.pow(s,e-r),e=Ta(s,n,e-r)}this.g=n,this.v=o,this.B=s,this.l=t.resolutions,this.i=r,r=void 0!==t.extent?ia(t.extent):ja,s=lc(t),this.c=new ka(r,e,s),void 0!==t.resolution?i[mc]=t.resolution:void 0!==t.zoom&&(i[mc]=this.constrainResolution(this.g,t.zoom-this.i)),i[nc]=void 0!==t.rotation?t.rotation:0,this.fa(i)}function sc(t){return 0<tc(t)[rc]}function uc(t){qc(t,rc,-tc(t)[rc]);for(var e=0,i=t.a.length;i>e;++e){var n=t.a[e];n[0].pb&&n[0].pb(!1)}t.a.length=0}function wc(t,e,i){var n,o=t.ka();return void 0!==o&&(n=[o[0]-i[0],o[1]-i[1]],ab(n,e-pc(t)),t=n,t[0]+=i[0],t[1]+=i[1]),n}function vc(t,e,i){var n,o=t.ka();return t=oc(t),void 0!==o&&void 0!==t&&(n=[i[0]-e*(i[0]-o[0])/t,i[1]-e*(i[1]-o[1])/t]),n}function tc(t,e){return void 0!==e?(e[0]=t.b[0],e[1]=t.b[1],e):t.b.slice()}function oc(t){return t.get(mc)}function xc(t,e){return Math.max(tb(t)/e[0],(t[3]-t[1])/e[1])}function pc(t){return t.get(nc)}function yc(t){return!!t.ka()&&void 0!==oc(t)}function qc(t,e,i){console.assert(e>=0&&e<t.b.length,"illegal hint (%s), must be between 0 and %s",e,t.b.length),t.b[e]+=i,console.assert(0<=t.b[e],"Hint at %s must be positive, was %s",e,t.b[e]),t.A()}function zc(t,e){t.set(mc,e),sc(t)&&uc(t)}function lc(t){return(void 0!==t.enableRotation?t.enableRotation:1)?(t=t.constrainRotation,void 0===t||!0===t?Xa():!1===t?Va:"number"==typeof t?Wa(t):(console.assert(!1,"illegal option for constrainRotation (%s)",t),Va)):Ua}function Ac(t,e,i,n){this.H=t,this.I=e,this.K=i,this.N=n}function Bc(t,e,i){return t.H<=e&&e<=t.I&&t.K<=i&&i<=t.N}function Cc(t,e){return t.H<=e.I&&t.I>=e.H&&t.K<=e.N&&t.N>=e.K}function Dc(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function Ec(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,y(Ra(this.a,function(t,e){return e-t}),17),this.maxZoom=this.a.length-1,this.f=void 0!==t.origin?t.origin:null,this.b=null,void 0!==t.origins&&(this.b=t.origins,y(this.b.length==this.a.length,20));var e=t.extent;void 0===e||this.f||this.b||(this.f=[e[0],e[3]]),y(!this.f&&this.b||this.f&&!this.b,18),this.g=null,void 0!==t.tileSizes&&(this.g=t.tileSizes,y(this.g.length==this.a.length,19)),this.j=void 0!==t.tileSize?t.tileSize:this.g?null:256,y(!this.j&&this.g||this.j&&!this.g,22),this.l=void 0!==e?e:null,this.c=null,this.i=[0,0],void 0!==t.sizes?(console.assert(t.sizes.length==this.a.length,"number of sizes and resolutions must be equal"),this.c=t.sizes.map(function(t){return console.assert(0!==t[0],"width must not be 0"),console.assert(0!==t[1],"height must not be 0"),new Ac(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this)):e&&Fc(this,e)}function Hc(t,e){return t.f?t.f:(console.assert(t.minZoom<=e&&e<=t.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",t.minZoom,e,t.maxZoom),t.b[e])}function Ic(t,e){return console.assert(t.minZoom<=e&&e<=t.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",t.minZoom,e,t.maxZoom),t.a[e]}function Jc(t,e,i,n){Kc(t,e[0],e[1],i,!1,Gc);var o=Gc[1],r=Gc[2];return Kc(t,e[2],e[3],i,!0,Gc),t=Gc[1],e=Gc[2],void 0!==n?(n.H=o,n.I=t,n.K=r,n.N=e):n=new Ac(o,t,r,e),n}function Lc(t,e,i,n){return i=Ic(t,i),Jc(t,e,i,n)}function Mc(t,e){var i=Hc(t,e[0]),n=Ic(t,e[0]),o=Dc(Nc(t,e[0]),t.i);return[i[0]+(e[1]+.5)*o[0]*n,i[1]+(e[2]+.5)*o[1]*n]}function Oc(t,e,i){var n=Hc(t,e[0]),o=Ic(t,e[0]);t=Dc(Nc(t,e[0]),t.i);var r=n[0]+e[1]*t[0]*o;return e=n[1]+e[2]*t[1]*o,ib(r,e,r+t[0]*o,e+t[1]*o,i)}function Kc(t,e,i,n,o,r){var s=fa(La(t.a,n,0),t.minZoom,t.maxZoom),a=n/Ic(t,s),l=Hc(t,s);return t=Dc(Nc(t,s),t.i),e=a*Math.floor((e-l[0])/n+(o?.5:0))/t[0],i=a*Math.floor((i-l[1])/n+(o?0:.5))/t[1],o?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),o=e,void 0!==r?(r[0]=s,r[1]=o,r[2]=i):r=[s,o,i],r}function Nc(t,e){return t.j?t.j:(console.assert(t.minZoom<=e&&e<=t.maxZoom,"z is not in allowed range (%s <= %s <= %s",t.minZoom,e,t.maxZoom),t.g[e])}function Pc(t,e){return t.c?(console.assert(t.minZoom<=e&&e<=t.maxZoom,"z is not in allowed range (%s <= %s <= %s",t.minZoom,e,t.maxZoom),t.c[e]):null}function Fc(t,e){for(var i=t.a.length,n=Array(i),o=t.minZoom;i>o;++o)n[o]=Lc(t,e,o);t.c=n}function Qc(t,e,i){e=void 0!==e?e:42;var n=t[3]-t[1];for(t=tb(t),i=Dc(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;e>t;++t)n[t]=i/Math.pow(2,t);return n}function Rc(t){t=Hb(t);var e=t.R();return e||(t=180*xb.degrees/(t.i||xb[t.f]),e=ib(-t,-t,t,t)),e}function Sc(t){this.f=t.html,this.a=t.tileRanges?t.tileRanges:null}function I(t){D.call(this),this.a=t?t:[],Tc(this)}function Tc(t){t.set(Uc,t.a.length)}function Vc(t,e){za.call(this,t),this.element=e}function $c(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function ad(t){var e=[];return e[0]=fa(t[0]+.5|0,0,255),e[1]=fa(t[1]+.5|0,0,255),e[2]=fa(t[2]+.5|0,0,255),e[3]=fa(t[3],0,1),e}function cd(t){return dd(t)?t:$c(t)}function dd(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}function ed(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function fd(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function gd(t,e,i){za.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function hd(t){D.call(this),this.element=t.element?t.element:null,this.g=this.L=null,this.i=[],this.render=t.render?t.render:ba,t.target&&(t=t.target,this.L="string"==typeof t?document.getElementById(t):t)}function id(t){t=t?t:{},this.G=document.createElement("UL"),this.l=document.createElement("LI"),this.G.appendChild(this.l),this.l.style.display="none",this.c=void 0!==t.collapsed?t.collapsed:!0,this.v=void 0!==t.collapsible?t.collapsible:!0,this.v||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.s=document.createElement("span"),this.s.textContent=n):this.s=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.u=document.createElement("span"),this.u.textContent=n):this.u=n;var o=this.v&&!this.c?this.s:this.u,n=document.createElement("button");n.setAttribute("type","button"),n.title=i,n.appendChild(o),C(n,"click",this.X,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.c&&this.v?" ol-collapsed":"")+(this.v?"":" ol-uncollapsible"),i.appendChild(this.G),i.appendChild(n),hd.call(this,{element:i,render:t.render?t.render:jd,target:t.target}),this.B=!0,this.b={},this.a={},this.U={}}function jd(t){if(t=t.frameState){var e,i,n,o,r,s,a,l,h,c,u,d=t.layerStatesArray,f=la({},t.attributions),p={},g={},m=t.viewState.projection;for(i=0,e=d.length;e>i;i++)if((s=d[i].layer.oa())&&(c=x(s).toString(),h=s.u))for(n=0,o=h.length;o>n;n++)if(a=h[n],l=x(a).toString(),!(l in f)){if(r=t.usedTiles[c]){var v=s.Ga(m);t:{u=a;var y=m;if(u.a){var b,w,E,N=void 0;for(N in r)if(N in u.a){E=r[N];var S;for(b=0,w=u.a[N].length;w>b;++b){if(S=u.a[N][b],Cc(S,E)){u=!0;break t}var T=Lc(v,Rc(y),parseInt(N,10)),k=T.I-T.H+1;if((E.H<T.H||E.I>T.I)&&(Cc(S,new Ac(ha(E.H,k),ha(E.I,k),E.K,E.N))||E.I-E.H+1>k&&Cc(S,T))){u=!0;break t}}}u=!1}else u=!0}}else u=!1;u?(l in p&&delete p[l],u=a.f,u in g||(g[u]=!0,f[l]=a)):p[l]=a}e=[f,p],i=e[0],e=e[1];for(var C in this.b)C in i?(this.a[C]||(this.b[C].style.display="",this.a[C]=!0),delete i[C]):C in e?(this.a[C]&&(this.b[C].style.display="none",delete this.a[C]),delete e[C]):(fd(this.b[C]),delete this.b[C],delete this.a[C]);for(C in i)n=document.createElement("LI"),n.innerHTML=i[C].f,this.G.appendChild(n),this.b[C]=n,this.a[C]=!0;for(C in e)n=document.createElement("LI"),n.innerHTML=e[C].f,n.style.display="none",this.G.appendChild(n),this.b[C]=n;C=!oa(this.a)||!oa(t.logos),this.B!=C&&(this.element.style.display=C?"":"none",this.B=C),C&&oa(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var _;t=t.logos,C=this.U;for(_ in C)_ in t||(fd(C[_]),delete C[_]);for(var M in t)e=t[M],e instanceof HTMLElement&&(this.l.appendChild(e),C[M]=e),M in C||(_=new Image,_.src=M,""===e?i=_:(i=document.createElement("a"),i.href=e,i.appendChild(_)),this.l.appendChild(i),C[M]=i);this.l.style.display=oa(t)?"none":""}else this.B&&(this.element.style.display="none",this.B=!1)}function kd(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",i=document.createElement("button");i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),C(i,"click",kd.prototype.u,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:ld,this.c=t.resetNorth?t.resetNorth:void 0,hd.call(this,{element:n,render:e,target:t.target}),this.l=void 0!==t.duration?t.duration:250,this.b=void 0!==t.autoHide?t.autoHide:!0,this.s=void 0,this.b&&this.element.classList.add("ol-hidden")}function ld(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.s){var e="rotate("+t+"rad)";if(this.b){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.s=t}}function md(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=r,a.appendChild("string"==typeof n?document.createTextNode(n):n),C(a,"click",md.prototype.b.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=s,n.appendChild("string"==typeof o?document.createTextNode(o):o),C(n,"click",md.prototype.b.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),hd.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function nd(t){t=t?t:{};var e=new I;return(void 0!==t.zoom?t.zoom:1)&&e.push(new md(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new kd(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new id(t.attributionOptions)),e}function od(t){t=t?t:{};var e=document.createElement("DIV");if(e.className=void 0!==t.className?t.className:"ol-mouse-position",hd.call(this,{element:e,render:t.render?t.render:pd,target:t.target}),C(this,Fa(qd),this.v,this),t.coordinateFormat&&this.set(rd,t.coordinateFormat),t.projection){var i=Hb(t.projection);this.set(qd,i)}this.B=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.l=e.innerHTML,this.c=this.b=this.a=null}function pd(t){t=t.frameState,t?this.a!=t.viewState.projection&&(this.a=t.viewState.projection,this.b=null):this.a=null,sd(this,this.c)}function sd(t,e){var i=t.B;if(e&&t.a){if(!t.b){var n=t.get(qd);t.b=n?Jb(t.a,n):Lb}(n=t.g.qa(e))&&(t.b(n,n),i=(i=t.get(rd))?i(n):n.toString())}t.l&&i==t.l||(t.element.innerHTML=i,t.l=i)}function td(t,e,i,n,o){gd.call(this,t,e,o),this.originalEvent=i,this.pixel=e.Nb(i),this.coordinate=e.qa(this.pixel),this.dragging=void 0!==n?n:!1}function vd(t,e,i,n,o){td.call(this,t,e,i.a,n,o),this.a=i}function Id(t,e){this.a=t,this.c=e}function Jd(t){Id.call(this,t,{mousedown:this.ne,mousemove:this.oe,mouseup:this.re,mouseover:this.qe,mouseout:this.pe}),this.f=t.f,this.b=[]}function Kd(t,e){for(var i,n=t.b,o=e.clientX,r=e.clientY,s=0,a=n.length;a>s&&(i=n[s]);s++){var l=Math.abs(r-i[1]);if(25>=Math.abs(o-i[0])&&25>=l)return!0}return!1}function Ld(t){var e=Md(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function Qd(t){Id.call(this,t,{MSPointerDown:this.we,MSPointerMove:this.xe,MSPointerUp:this.Ae,MSPointerOut:this.ye,MSPointerOver:this.ze,MSPointerCancel:this.ve,MSGotPointerCapture:this.te,MSLostPointerCapture:this.ue}),this.f=t.f,this.b=["","unavailable","touch","pen","mouse"]}function Rd(t,e){var i=e;return"number"==typeof e.pointerType&&(i=Md(e,e),i.pointerType=t.b[e.pointerType]),i}function Td(t){Id.call(this,t,{pointerdown:this.Xe,pointermove:this.Ye,pointerup:this.af,pointerout:this.Ze,pointerover:this.$e,pointercancel:this.We,gotpointercapture:this.Td,lostpointercapture:this.le})}function Sd(t,e,i){za.call(this,t),this.a=e,t=i?i:{},this.buttons=Vd(t),this.pressure=Wd(t,this.buttons),this.bubbles="bubbles"in t?t.bubbles:!1,this.cancelable="cancelable"in t?t.cancelable:!1,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t?t.isPrimary:!1,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function Vd(t){if(t.buttons||Xd)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function Wd(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function Yd(t,e){Id.call(this,t,{touchstart:this.uf,touchmove:this.tf,touchend:this.sf,touchcancel:this.rf}),this.f=t.f,this.i=e,this.b=void 0,this.j=0,this.g=void 0}function Zd(t,e,i){return e=Md(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.j,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.b===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function $d(t,e,i){function n(){e.preventDefault()}var o,r,s=Array.prototype.slice.call(e.changedTouches),a=s.length;for(o=0;a>o;++o)r=Zd(t,e,s[o]),r.preventDefault=n,i.call(t,e,r)}function ae(t,e){var i=t.i.b,n=e.changedTouches[0];if(t.b===n.identifier){var o=[n.clientX,n.clientY];i.push(o),setTimeout(function(){var t=i.indexOf(o);t>-1&&i.splice(t,1)},2500)}}function ce(t){Ba.call(this),this.c=t,this.f={},this.g={},this.a=[],Gd?de(this,new Td(this)):Hd?de(this,new Qd(this)):(t=new Jd(this),de(this,t),Fd&&de(this,new Yd(this,t))),t=this.a.length;for(var e,i=0;t>i;i++)e=this.a[i],ee(this,Object.keys(e.c))}function de(t,e){var i=Object.keys(e.c);i&&(i.forEach(function(t){var i=e.c[t];i&&(this.g[t]=i.bind(e))},t),t.a.push(e))}function ee(t,e){e.forEach(function(t){C(this.c,t,this.b,this)},t)}function fe(t,e){e.forEach(function(t){va(this.c,t,this.b,this)},t)}function Md(t,e){for(var i,n={},o=0,r=ge.length;r>o;o++)i=ge[o][0],n[i]=t[i]||e[i]||ge[o][1];return n}function be(t,e,i){e.bubbles=!1,Nd(t,"pointerleave",e,i)}function Pd(t,e,i){t.out(e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||be(t,e,i)}function Od(t,e,i){e.bubbles=!0,Nd(t,"pointerover",e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||(e.bubbles=!1,Nd(t,"pointerenter",e,i))}function Nd(t,e,i,n){t.J(new Sd(e,n,i))}function Ud(t,e){t.J(new Sd(e.type,e,e))}function he(t){Ba.call(this),this.b=t,this.j=0,this.i=!1,this.g=[],this.a=null,t=this.b.a,this.l=0,this.v={},this.c=new ce(t),this.f=null,this.s=C(this.c,"pointerdown",this.be,this),this.u=C(this.c,"pointermove",this.jf,this)}function ie(t,e){var i=new vd("click",t.b,e);t.J(i),0!==t.j?(clearTimeout(t.j),t.j=0,i=new vd("dblclick",t.b,e),t.J(i)):t.j=setTimeout(function(){this.j=0;var t=new vd("singleclick",this.b,e);this.J(t)}.bind(t),250)}function je(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.v[e.pointerId]:"pointerdown"==e.type&&(t.v[e.pointerId]=!0),t.l=Object.keys(t.v).length}function ke(t,e){Ba.call(this),this.ra=t,this.state=e,this.a=null,this.key=""}function le(t,e){this.C=t,this.j=e,this.a=[],this.b=[],this.f={}}function ne(t,e){for(var i=t.a,n=t.b,o=i.length,r=i[e],s=n[e],a=e;o>>1>e;){var l=2*e+1,h=2*e+2,l=o>h&&n[h]<n[l]?h:l;i[e]=i[l],n[e]=n[l],e=l}i[e]=r,n[e]=s,me(t,a,e)}function me(t,e,i){var n=t.a;t=t.b;for(var o=n[i],r=t[i];i>e;){var s=i-1>>1;if(!(t[s]>r))break;n[i]=n[s],t[i]=t[s],i=s}n[i]=o,t[i]=r}function oe(t,e){le.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.F=e,this.c=0,this.g={}}function pe(){this.a=[],this.f=this.b=0}function qe(t){D.call(this),this.s=null,this.set(re,!0),this.handleEvent=t.handleEvent}function se(t,e,i,n){if(void 0!==e){var o=pc(t),r=t.ka();void 0!==o&&r&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:bb}):t.rotate(e,i)}}function te(t,e,i,n){var o=oc(t);e=t.constrainResolution(o,e,0),ue(t,e,i,n)}function ue(t,e,i,n){if(e){var o=oc(t),r=t.ka();void 0!==o&&r&&e!==o&&n?t.animate({resolution:e,anchor:i,duration:n,easing:bb}):(i&&(i=vc(t,e,i),t.ua(i)),zc(t,e))}}function ve(t){t=t?t:{},this.a=t.delta?t.delta:1,qe.call(this,{handleEvent:we}),this.b=void 0!==t.duration?t.duration:250}function we(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,i=i.shiftKey?-this.a:this.a,n=t.map.S();te(n,i,e,this.b),t.preventDefault(),e=!0}return!e}function xe(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function ye(t){return t=t.originalEvent,0==t.button&&!(zd&&Ad&&t.ctrlKey)}function ze(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Ae(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Be(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function Ce(t){return y(t.a,56),"mouse"==t.a.pointerType}function De(t){t=t?t:{},qe.call(this,{handleEvent:t.handleEvent?t.handleEvent:Ee}),this.B=t.handleDownEvent?t.handleDownEvent:vb,this.G=t.handleDragEvent?t.handleDragEvent:ba,this.L=t.handleMoveEvent?t.handleMoveEvent:ba,this.U=t.handleUpEvent?t.handleUpEvent:vb,this.g=!1,this.l={},this.a=[]}function Fe(t){for(var e=t.length,i=0,n=0,o=0;e>o;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}function Ee(t){if(!(t instanceof vd))return!0;var e=!1,i=t.type;return("pointerdown"===i||"pointerdrag"===i||"pointerup"===i)&&(i=t.a,"pointerup"==t.type?delete this.l[i.pointerId]:"pointerdown"==t.type?this.l[i.pointerId]=i:i.pointerId in this.l&&(this.l[i.pointerId]=i),this.a=na(this.l)),this.g&&("pointerdrag"==t.type?this.G(t):"pointerup"==t.type&&(this.g=this.U(t))),"pointerdown"==t.type?(this.g=t=this.B(t),e=this.i(t)):"pointermove"==t.type&&this.L(t),!e}function Ge(t){De.call(this,{handleDownEvent:He,handleDragEvent:Ie,handleUpEvent:Je}),t=t?t:{},this.b=t.kinetic,this.c=null,this.v=t.condition?t.condition:ze,this.u=!1}function Ie(t){console.assert(1<=this.a.length,"the length of this.targetPointers should be more than 1");var e=Fe(this.a);if(this.b&&this.b.a.push(e[0],e[1],Date.now()),this.c){var i=this.c[0]-e[0],n=e[1]-this.c[1];t=t.map.S();var o=t.da(),n=i=[i,n],r=o.resolution;n[0]*=r,n[1]*=r,ab(i,o.rotation),n=i,o=o.center,n[0]+=o[0],n[1]+=o[1],i=t.c.center(i),t.ua(i)}this.c=e}function Je(t){var e=t.map;if(t=e.S(),0===this.a.length){var i;if(i=!this.u&&this.b)if(i=this.b,6>i.a.length)i=!1;else{var n=Date.now()-100,o=i.a.length-3;if(i.a[o+2]<n)i=!1;else{for(var r=o-3;r>0&&i.a[r+2]>n;)r-=3;var n=i.a[o+2]-i.a[r+2],s=i.a[o]-i.a[r],o=i.a[o+1]-i.a[r+1];i.b=Math.atan2(o,s),i.f=Math.sqrt(s*s+o*o)/n,i=.05<i.f}}return i&&(i=(.05-this.b.f)/-.005,o=this.b.b,r=t.ka(),r=Ke(e,r),e=e.qa([r[0]-i*Math.cos(o),r[1]-i*Math.sin(o)]),t.animate({center:t.c.center(e),duration:500,easing:bb})),qc(t,1,-1),
!1}return this.c=null,!0}function He(t){if(0<this.a.length&&this.v(t)){var e=t.map.S();return this.c=null,this.g||qc(e,1,1),e.ua(t.frameState.viewState.center),this.b&&(t=this.b,t.a.length=0,t.b=0,t.f=0),this.u=1<this.a.length,!0}return!1}function Le(t){t=t?t:{},De.call(this,{handleDownEvent:Me,handleDragEvent:Ne,handleUpEvent:Oe}),this.c=t.condition?t.condition:xe,this.b=void 0,this.u=void 0!==t.duration?t.duration:250}function Ne(t){if(Ce(t)){var e=t.map,i=e.Ka();if(t=t.pixel,i=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.b){t=i-this.b;var e=e.S(),n=pc(e);se(e,n-t)}this.b=i}}function Oe(t){if(!Ce(t))return!0;t=t.map.S(),qc(t,1,-1);var e=pc(t),i=this.u,e=t.constrainRotation(e,0);return se(t,e,void 0,i),!1}function Me(t){return Ce(t)&&ye(t)&&this.c(t)?(qc(t.map.S(),1,1),this.b=void 0,!0):!1}function Pe(t){this.g=null,this.f=document.createElement("div"),this.f.style.position="absolute",this.f.className="ol-box "+t,this.b=this.c=this.a=null}function Qe(t){var e=t.c,i=t.b;t=t.f.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function Re(t){var e=t.c,i=t.b,e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.qa,t.a);e[4]=e[0].slice(),t.g?t.g.ha([e]):t.g=new gc([e])}function Se(t){De.call(this,{handleDownEvent:Te,handleDragEvent:Ue,handleUpEvent:Ve}),t=t?t:{},this.b=new Pe(t.className||"ol-dragbox"),this.c=null,this.X=t.condition?t.condition:ub,this.v=t.boxEndCondition?t.boxEndCondition:We}function We(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=64}function Ue(t){if(Ce(t)){var e=this.b,i=t.pixel;e.c=this.c,e.b=i,Re(e),Qe(e),this.J(new Xe(Ye,t.coordinate,t))}}function Ve(t){return Ce(t)?(this.b.setMap(null),this.v(t,this.c,t.pixel)&&(this.u(t),this.J(new Xe(Ze,t.coordinate,t))),!1):!0}function Te(t){if(Ce(t)&&ye(t)&&this.X(t)){this.c=t.pixel,this.b.setMap(t.map);var e=this.b,i=this.c;return e.c=this.c,e.b=i,Re(e),Qe(e),this.J(new Xe($e,t.coordinate,t)),!0}return!1}function Xe(t,e,i){za.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function af(t){t=t?t:{};var e=t.condition?t.condition:Ae;this.ba=void 0!==t.duration?t.duration:200,this.la=void 0!==t.out?t.out:!1,Se.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function bf(t){qe.call(this,{handleEvent:cf}),t=t||{},this.a=function(t){return ze(t)&&Be(t)},this.b=void 0!==t.condition?t.condition:this.a,this.g=void 0!==t.duration?t.duration:100,this.c=void 0!==t.pixelDelta?t.pixelDelta:128}function cf(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){var e=t.map.S(),n=oc(e)*this.c,o=0,r=0;40==i?r=-n:37==i?o=-n:39==i?o=n:r=n,n=[o,r],ab(n,pc(e)),i=this.g,(o=e.ka())&&(n=e.c.center([o[0]+n[0],o[1]+n[1]]),i?e.animate({duration:i,easing:db,center:n}):e.ua(n)),t.preventDefault(),e=!0}}return!e}function df(t){qe.call(this,{handleEvent:ef}),t=t?t:{},this.b=t.condition?t.condition:Be,this.a=t.delta?t.delta:1,this.g=void 0!==t.duration?t.duration:100}function ef(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.S(),te(i,e,void 0,this.g),t.preventDefault(),e=!0)}return!e}function ff(t){qe.call(this,{handleEvent:gf}),t=t||{},this.g=0,this.B=void 0!==t.duration?t.duration:250,this.G=void 0!==t.timeout?t.timeout:80,this.L=void 0!==t.useAnchor?t.useAnchor:!0,this.a=null,this.i=this.c=this.l=this.b=void 0}function gf(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,i=t.originalEvent;this.L&&(this.a=t.coordinate);var n;if("wheel"==t.type?(n=i.deltaY,xd&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Bd),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,yd&&(n/=3)),0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.c||400<t-this.b)&&(this.c=4>Math.abs(n)?hf:jf),this.c===hf){e=e.S(),this.i?clearTimeout(this.i):qc(e,1,1),this.i=setTimeout(this.u.bind(this),400),n=oc(e)*Math.pow(2,n/300);var i=e.v,o=e.g,r=0;if(i>n?(n=Math.max(n,i/1.5),r=1):n>o&&(n=Math.min(n,1.5*o),r=-1),this.a){var s=vc(e,n,this.a);e.ua(s)}return zc(e,n),r>0?e.animate({resolution:i,easing:bb,anchor:this.a,duration:500}):0>r&&e.animate({resolution:o,easing:bb,anchor:this.a,duration:500}),this.b=t,!1}return this.g+=n,t=Math.max(this.G-(t-this.b),0),clearTimeout(this.l),this.l=setTimeout(this.v.bind(this,e),t),!1}function kf(t){De.call(this,{handleDownEvent:lf,handleDragEvent:mf,handleUpEvent:nf}),t=t||{},this.c=null,this.u=void 0,this.b=!1,this.v=0,this.ba=void 0!==t.threshold?t.threshold:.3,this.X=void 0!==t.duration?t.duration:250}function mf(t){console.assert(2<=this.a.length,"length of this.targetPointers should be greater than or equal to 2");var e=0,i=this.a[0],n=this.a[1],i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.u&&(e=i-this.u,this.v+=e,!this.b&&Math.abs(this.v)>this.ba&&(this.b=!0)),this.u=i,t=t.map,i=t.a.getBoundingClientRect(),n=Fe(this.a),n[0]-=i.left,n[1]-=i.top,this.c=t.qa(n),this.b&&(i=t.S(),n=pc(i),t.render(),se(i,n+e,this.c))}function nf(t){if(2>this.a.length){if(t=t.map.S(),qc(t,1,-1),this.b){var e=pc(t),i=this.c,n=this.X,e=t.constrainRotation(e,0);se(t,e,i,n)}return!1}return!0}function lf(t){return 2<=this.a.length?(t=t.map,this.c=null,this.u=void 0,this.b=!1,this.v=0,this.g||qc(t.S(),1,1),!0):!1}function of(t){De.call(this,{handleDownEvent:pf,handleDragEvent:qf,handleUpEvent:rf}),t=t?t:{},this.v=t.constrainResolution||!1,this.c=null,this.X=void 0!==t.duration?t.duration:400,this.b=void 0,this.u=1}function qf(t){console.assert(2<=this.a.length,"length of this.targetPointers should be 2 or more");var e=1,i=this.a[0],n=this.a[1],o=i.clientX-n.clientX,i=i.clientY-n.clientY,o=Math.sqrt(o*o+i*i);void 0!==this.b&&(e=this.b/o),this.b=o,1!=e&&(this.u=e),t=t.map;var o=t.S(),i=oc(o),n=t.a.getBoundingClientRect(),r=Fe(this.a);r[0]-=n.left,r[1]-=n.top,this.c=t.qa(r),t.render(),ue(o,i*e,this.c)}function rf(t){if(2>this.a.length){if(t=t.map.S(),qc(t,1,-1),this.v){var e=oc(t),i=this.c,n=this.X,e=t.constrainResolution(e,0,this.u-1);ue(t,e,i,n)}return!1}return!0}function pf(t){return 2<=this.a.length?(t=t.map,this.c=null,this.b=void 0,this.u=1,this.g||qc(t.S(),1,1),!0):!1}function sf(t){D.call(this);var e=la({},t);e[tf]=void 0!==t.opacity?t.opacity:1,e[uf]=void 0!==t.visible?t.visible:!0,e[vf]=void 0!==t.zIndex?t.zIndex:0,e[wf]=void 0!==t.maxResolution?t.maxResolution:1/0,e[xf]=void 0!==t.minResolution?t.minResolution:0,this.fa(e),this.b={layer:this,Wb:!0}}function yf(t){return t.b.opacity=fa(t.get(tf),0,1),t.b.qf=t.Rb(),t.b.visible=t.get(uf),t.b.extent=t.R(),t.b.zIndex=t.get(vf),t.b.maxResolution=t.get(wf),t.b.minResolution=Math.max(t.get(xf),0),t.b}function Af(t){var e=t||{};t=la({},e),delete t.layers,e=e.layers,sf.call(this,t),this.g=[],this.a={},C(this,Fa(Bf),this.Yd,this),e?Array.isArray(e)?e=new I(e.slice()):y(e instanceof I,43):e=new I,this.set(Bf,e)}function Cf(t){yb.call(this,{code:t,units:"m",extent:Df,global:!0,worldExtent:Ef,getPointResolution:function(t,e){return t/ga(e[1]/6378137)}})}function Hf(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n)),console.assert(0===e.length%i,"modulus of output.length with dimension should be 0");for(var o=0;n>o;o+=i){e[o]=Ff*t[o]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[o+1]+90)/360));r>Ff?r=Ff:-Ff>r&&(r=-Ff),e[o+1]=r}return e}function If(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n)),console.assert(0===e.length%i,"modulus of output.length with dimension should be 0");for(var o=0;n>o;o+=i)e[o]=180*t[o]/Ff,e[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return e}function Kf(t,e){yb.call(this,{code:t,units:"degrees",extent:Lf,axisOrientation:e,global:!0,metersPerUnit:Mf,worldExtent:Lf})}function Of(t,e,i,n,o){za.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=o}function Pf(t){var e=la({},t);delete e.source,sf.call(this,e),this.c=this.g=this.a=null,t.map&&this.setMap(t.map),C(this,Fa("source"),this.ge,this),this.set("source",t.source?t.source:null)}function Qf(){this.a={},this.f=0}function Rf(t,e,i){return console.assert(void 0!==e,"argument crossOrigin must be defined"),e+":"+t+":"+(i?$c(i):"null")}function Tf(){return[1,0,0,1,0,0]}function Uf(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Vf(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function Wf(t,e,i,n,o,r,s,a){var l=Math.sin(r);return r=Math.cos(r),t[0]=n*r,t[1]=o*l,t[2]=-n*l,t[3]=o*r,t[4]=s*n*r-a*n*l+e,t[5]=s*o*l+a*o*r+i,t}function Xf(t,e){this.j=e,this.f={},this.b={}}function Yf(){if(32<Sf.f){var t,e,i=0;for(t in Sf.a)e=Sf.a[t],0!==(3&i++)||Ca(e)||(delete Sf.a[t],--Sf.f)}}function Zf(t,e){var i=x(e).toString();if(i in t.f)return t.f[i];var n;return e instanceof $f?n=new ag(e):e instanceof bg?n=new cg(e):(console.assert(!1,"unexpected layer configuration"),n=null),t.f[i]=n,t.b[i]=C(n,"change",t.Wd,t),n}function Qa(t,e){return t.zIndex-e.zIndex}function $f(t){t=t?t:{};var e=la({},t);delete e.preload,delete e.useInterimTilesOnError,Pf.call(this,e),this.set(dg,void 0!==t.preload?t.preload:0),this.set(eg,void 0!==t.useInterimTilesOnError?t.useInterimTilesOnError:!0)}function ig(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function jg(t){this.l=t.opacity,this.v=t.rotateWithView,this.s=t.rotation,this.i=t.scale,this.u=t.snapToPixel}function kg(t){console.assert(void 0!==t.radius||void 0!==t.radius1,'must provide either "radius" or "radius1"'),this.P=this.F=this.j=null,this.g=void 0!==t.fill?t.fill:null,this.L=[0,0],this.a=t.points,this.f=void 0!==t.radius?t.radius:t.radius1,this.c=void 0!==t.radius2?t.radius2:this.f,this.C=void 0!==t.angle?t.angle:0,this.b=void 0!==t.stroke?t.stroke:null,this.G=this.U=this.Z=null;var e,i=this.B=t.atlasManager,n="",o="",r=0,s=null,a=0;this.b&&(e=cd(this.b.a),a=this.b.g,void 0===a&&(a=1),s=this.b.f,Cd||(s=null),o=this.b.j,void 0===o&&(o="round"),n=this.b.c,void 0===n&&(n="round"),r=this.b.i,void 0===r&&(r=10));var l=2*(this.f+a)+1,n={strokeStyle:e,hd:a,size:l,lineCap:n,lineDash:s,lineJoin:o,miterLimit:r};if(void 0===i){var h=ed(l,l);this.F=h.canvas,i=l=this.F.width,this.Jc(n,h,0,0),this.g?this.P=this.F:(h=ed(n.size,n.size),this.P=h.canvas,this.Cc(n,h,0,0))}else l=Math.round(l),(o=!this.g)&&(h=this.Cc.bind(this,n)),this.b?(r=this.b,void 0===r.b&&(r.b="s",r.b=r.a?"string"==typeof r.a?r.b+r.a:r.b+x(r.a).toString():r.b+"-",r.b+=","+(void 0!==r.c?r.c.toString():"-")+","+(r.f?r.f.toString():"-")+","+(void 0!==r.j?r.j:"-")+","+(void 0!==r.i?r.i.toString():"-")+","+(void 0!==r.g?r.g.toString():"-")),r=r.b):r="-",this.g?(s=this.g,void 0===s.f&&(s.f=s.a instanceof CanvasPattern||s.a instanceof CanvasGradient?x(s.a).toString():"f"+(s.a?$c(s.a):"-")),s=s.f):s="-",this.j&&r==this.j[1]&&s==this.j[2]&&this.f==this.j[3]&&this.c==this.j[4]&&this.C==this.j[5]&&this.a==this.j[6]||(this.j=["r"+r+s+(void 0!==this.f?this.f.toString():"-")+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.C?this.C.toString():"-")+(void 0!==this.a?this.a.toString():"-"),r,s,this.f,this.c,this.C,this.a]),h=i.add(this.j[0],l,l,this.Jc.bind(this,n),h),console.assert(h,"shape size is too large"),this.F=h.image,this.L=[h.offsetX,h.offsetY],i=h.image.width,this.P=o?h.a:this.F;this.Z=[l/2,l/2],this.U=[l,l],this.G=[i,i],jg.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0})}function lg(t){t=t||{},kg.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function mg(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=void 0}function ng(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.j=t.lineJoin,this.i=t.miterLimit,this.g=t.width,this.b=void 0}function og(t){t=t||{},this.j=null,this.c=pg,void 0!==t.geometry&&this.Na(t.geometry),this.b=void 0!==t.fill?t.fill:null,this.g=void 0!==t.image?t.image:null,this.f=void 0!==t.stroke?t.stroke:null,this.i=void 0!==t.text?t.text:null,this.a=t.zIndex}function qg(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(y(t instanceof og,41),e=[t]),t=function(){return e}}return t}function sg(){if(!rg){var t=new mg({color:"rgba(255,255,255,0.4)"}),e=new ng({color:"#3399CC",width:1.25});rg=[new og({image:new lg({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return rg}function pg(t){return t.Y()}function bg(t){t=t?t:{},console.assert(void 0===t.renderOrder||!t.renderOrder||"function"==typeof t.renderOrder,"renderOrder must be a comparator function");var e=la({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Pf.call(this,e),this.i=void 0!==t.renderBuffer?t.renderBuffer:100,this.s=null,this.l=void 0,e=t.style,this.s=void 0!==e?e:sg,this.l=null===e?void 0:qg(this.s),this.A(),this.u=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1,this.v=void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1}function tg(){}function ug(t,e,i,n,o){this.g=t,this.P=e,this.i=i,this.v=n,this.ib=o,this.c=this.a=this.f=this.pa=this.ba=this.X=null,this.sa=this.la=this.s=this.G=this.Z=this.B=0,this.wa=!1,this.j=this.xa=0,this.Pa=!1,this.L=0,this.b="",this.eb=this.Qa=0,this.fb=!1,this.C=this.gb=0,this.U=this.F=this.l=null,this.u=[],this.hb=Tf()}function vg(t,e,i){if(t.c){console.assert(!0,"offset should be 0"),console.assert(i==e.length,"end should be equal to the length of flatCoordinates"),e=Ob(e,0,i,2,t.v,t.u),i=t.g;var n=t.hb,o=i.globalAlpha;1!=t.s&&(i.globalAlpha=o*t.s);var r=t.xa;t.wa&&(r+=t.ib);var s,a;for(s=0,a=e.length;a>s;s+=2){var l=e[s]-t.B,h=e[s+1]-t.Z;if(t.Pa&&(l=Math.round(l),h=Math.round(h)),0!==r||1!=t.j){var c=l+t.B,u=h+t.Z;Wf(n,c,u,t.j,t.j,r,-c,-u),i.setTransform.apply(i,n)}i.drawImage(t.c,t.la,t.sa,t.L,t.G,l,h,t.L,t.G)}0===r&&1==t.j||i.setTransform(1,0,0,1,0,0),1!=t.s&&(i.globalAlpha=o)}}function wg(t,e,i,n){var o=0;if(t.U&&""!==t.b){t.l&&xg(t,t.l),t.F&&yg(t,t.F);var r=t.U,s=t.g,a=t.pa;for(a?(a.font!=r.font&&(a.font=s.font=r.font),a.textAlign!=r.textAlign&&(a.textAlign=s.textAlign=r.textAlign),a.textBaseline!=r.textBaseline&&(a.textBaseline=s.textBaseline=r.textBaseline)):(s.font=r.font,s.textAlign=r.textAlign,s.textBaseline=r.textBaseline,t.pa={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),console.assert(0===o,"offset should be 0"),console.assert(i==e.length,"end should be equal to the length of flatCoordinates"),e=Ob(e,o,i,n,t.v,t.u),r=t.g,s=t.gb,t.fb&&(s+=t.ib);i>o;o+=n){var a=e[o]+t.Qa,l=e[o+1]+t.eb;if(0!==s||1!=t.C){var h=Wf(t.hb,a,l,t.C,t.C,s,-a,-l);r.setTransform.apply(r,h)}t.F&&r.strokeText(t.b,a,l),t.l&&r.fillText(t.b,a,l)}0===s&&1==t.C||r.setTransform(1,0,0,1,0,0)}}function zg(t,e,i,n,o,r){var s=t.g;for(t=Ob(e,i,n,o,t.v,t.u),s.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),i=2;e>i;i+=2)s.lineTo(t[i],t[i+1]);return r&&s.closePath(),n}function Ag(t,e,i,n,o){var r,s;for(r=0,s=n.length;s>r;++r)i=zg(t,e,i,n[r],o,!0);return i}function xg(t,e){var i=t.g,n=t.X;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.X={fillStyle:e.fillStyle})}function yg(t,e){var i=t.g,n=t.ba;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Cd&&!Na(n.lineDash,e.lineDash)&&i.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Cd&&i.setLineDash(e.lineDash),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.ba={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Fg(t){Da.call(this),this.a=t}function Gg(t,e,i){return function(n,o){return Hg(t,e,n,o,function(t){i[n]||(i[n]={}),i[n][t.ra.toString()]=t})}}function Ig(t,e){e.Xb()&&t.postRenderFunctions.push(function(t,e,i){e=x(t).toString(),t.Ya(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function Jg(t,e){if(e){var i,n,o;for(n=0,o=e.length;o>n;++n)i=e[n],t[x(i).toString()]=i}}function Kg(t,e){var i=e.L;void 0!==i&&("string"==typeof i?t.logos[i]="":i&&(y("string"==typeof i.href,44),y("string"==typeof i.src,45),t.logos[i.src]=i.href))}function Lg(t){Fg.call(this,t),this.G=Tf()}function Mg(t,e,i){var n=e.pixelRatio,o=e.size[0]*n,r=e.size[1]*n,s=e.viewState.rotation,a=[i[0],i[3]],l=[i[2],i[3]],h=[i[2],i[1]];i=[i[0],i[1]],Vf(e.coordinateToPixelTransform,a),Vf(e.coordinateToPixelTransform,l),Vf(e.coordinateToPixelTransform,h),Vf(e.coordinateToPixelTransform,i),t.save(),ig(t,-s,o/2,r/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),ig(t,s,o/2,r/2)}function Ng(t,e,i,n,o){var r=t.a;if(Ca(r,e)){var s=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,l=n.viewState.rotation;ig(i,-l,s/2,a/2),t=void 0!==o?o:Og(t,n,0),r.J(new Of(e,new ug(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),ig(i,l,s/2,a/2)}}function Og(t,e,i){var n=e.viewState,o=e.pixelRatio,r=o/n.resolution;return Wf(t.G,o*e.size[0]/2,o*e.size[1]/2,r,-r,-n.rotation,-n.center[0]+i,-n.center[1])}function Pg(t){Lg.call(this,t),this.u=Tf()}function ag(t){Pg.call(this,t),this.j=ed(),this.b=null,this.c=[],this.B=hb(),this.L=new Ac(0,0,0,0),this.s=Tf()}function Sg(){}function Tg(t,e,i,n){this.xa=t,this.ba=e,this.overlaps=n,this.g=0,this.resolution=i,this.G=this.Z=null,this.f=[],this.coordinates=[],this.la=Tf(),this.a=[],this.pa=[],this.wa=Tf(),this.sa=Tf()}function Ug(t,e,i,n,o,r,s){var a=t.coordinates.length,l=t.Mb();s&&(i+=o),s=[e[i],e[i+1]];var h,c,u,d=[NaN,NaN],f=!0;for(h=i+o;n>h;h+=o){d[0]=e[h],d[1]=e[h+1],u=l[1];var p=l[2],g=l[3],m=d[0],v=d[1],y=0;m<l[0]?y|=16:m>p&&(y|=4),u>v?y|=8:v>g&&(y|=2),0===y&&(y=1),u=y,u!==c?(f&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=d[0],t.coordinates[a++]=d[1],f=!1):1===u?(t.coordinates[a++]=d[0],t.coordinates[a++]=d[1],f=!1):f=!0,s[0]=d[0],s[1]=d[1],c=u}return(r&&f||h===i+o)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function Vg(t,e){t.Z=[0,e,0],t.f.push(t.Z),t.G=[0,e,0],t.a.push(t.G)}function Wg(t,e,i){if(t.X){var n=Vf(t.la,t.X.slice());e.translate(n[0],n[1]),e.rotate(i)}e.fill(),t.X&&e.setTransform.apply(e,t.sa)}function Xg(t,e,i,n,o,r,s,a,l){var h;Na(n,t.la)?h=t.pa:(h=Ob(t.coordinates,0,t.coordinates.length,2,n,t.pa),Uf(t.la,n),console.assert(h===t.pa,"pixelCoordinates should be the same as this.pixelCoordinates_")),n=!oa(r);for(var c,u,d,f,p,g=0,m=s.length,v=0,y=t.wa,b=t.sa,w=0,E=0,N=t.f!=s||t.overlaps?0:200;m>g;){var S,T,k,C,_=s[g];switch(_[0]){case 0:v=_[1],n&&r[x(v).toString()]||!v.Y()?g=_[2]:void 0===l||sb(l,v.Y().R())?++g:g=_[2]+1;break;case 1:w>N&&(Wg(t,e,o),w=0),E>N&&(e.stroke(),E=0),w||E||e.beginPath(),++g;break;case 2:console.assert("number"==typeof _[1],"second instruction should be a number"),v=_[1],c=h[v],_=h[v+1],f=h[v+2]-c,v=h[v+3]-_,v=Math.sqrt(f*f+v*v),e.moveTo(c+v,_),e.arc(c,_,v,0,2*Math.PI,!0),++g;break;case 3:e.closePath(),++g;break;case 4:console.assert("number"==typeof _[1],"second instruction should be a number"),v=_[1],console.assert("number"==typeof _[2],"third instruction should be a number"),c=_[2],S=_[3],T=_[4]*i,k=_[5]*i;var M=_[6],L=_[7],P=_[8],j=_[9];C=_[10],f=_[11],p=_[12];var D=_[13],A=_[14];for(C&&(f+=o);c>v;v+=2){if(_=h[v]-T,C=h[v+1]-k,D&&(_=Math.round(_),C=Math.round(C)),1!=p||0!==f){var O=_+T,I=C+k;Wf(y,O,I,p,p,f,-O,-I),e.setTransform.apply(e,y)}O=e.globalAlpha,1!=L&&(e.globalAlpha=O*L);var I=A+P>S.width?S.width-P:A,R=M+j>S.height?S.height-j:M;e.drawImage(S,P,j,I,R,_,C,I*i,R*i),1!=L&&(e.globalAlpha=O),1==p&&0===f||e.setTransform.apply(e,b)}++g;break;case 5:for(console.assert("number"==typeof _[1],"2nd instruction should be a number"),v=_[1],console.assert("number"==typeof _[2],"3rd instruction should be a number"),c=_[2],console.assert("string"==typeof _[3],"4th instruction should be a string"),k=_[3],console.assert("number"==typeof _[4],"5th instruction should be a number"),M=_[4]*i,console.assert("number"==typeof _[5],"6th instruction should be a number"),L=_[5]*i,console.assert("number"==typeof _[6],"7th instruction should be a number"),f=_[6],console.assert("number"==typeof _[7],"8th instruction should be a number"),p=_[7]*i,console.assert("boolean"==typeof _[8],"9th instruction should be a boolean"),S=_[8],console.assert("boolean"==typeof _[9],"10th instruction should be a boolean"),T=_[9],(C=_[10])&&(f+=o);c>v;v+=2){for(_=h[v]+M,C=h[v+1]+L,(1!=p||0!==f)&&(Wf(y,_,C,p,p,f,-_,-C),e.setTransform.apply(e,y)),P=k.split("\n"),j=P.length,j>1?(D=Math.round(1.5*e.measureText("M").width),C-=(j-1)/2*D):D=0,A=0;j>A;A++)O=P[A],T&&e.strokeText(O,_,C),S&&e.fillText(O,_,C),C+=D;1==p&&0===f||e.setTransform.apply(e,b)}++g;break;case 6:if(void 0!==a&&(v=_[1],v=a(v)))return v;++g;break;case 7:N?w++:Wg(t,e,o),++g;break;case 8:for(console.assert("number"==typeof _[1],"2nd instruction should be a number"),v=_[1],console.assert("number"==typeof _[2],"3rd instruction should be a number"),c=_[2],_=h[v],C=h[v+1],f=_+.5|0,p=C+.5|0,(f!==u||p!==d)&&(e.moveTo(_,C),u=f,d=p),v+=2;c>v;v+=2)_=h[v],C=h[v+1],f=_+.5|0,p=C+.5|0,(v==c-2||f!==u||p!==d)&&(e.lineTo(_,C),u=f,d=p);++g;break;case 9:console.assert(dd(_[1]),"2nd instruction should be a string, CanvasPattern, or CanvasGradient"),t.X=_[2],w&&(Wg(t,e,o),w=0),e.fillStyle=_[1],++g;break;case 10:console.assert(dd(_[1]),"2nd instruction should be a string, CanvasPattern, or CanvasGradient"),console.assert("number"==typeof _[2],"3rd instruction should be a number"),console.assert("string"==typeof _[3],"4rd instruction should be a string"),console.assert("string"==typeof _[4],"5th instruction should be a string"),console.assert("number"==typeof _[5],"6th instruction should be a number"),console.assert(_[6],"7th instruction should not be null"),console.assert("number"==typeof _[8],"9th instruction should be a number"),u=void 0!==_[7]?_[7]:!0;var F=_[8];d=_[2],E&&(e.stroke(),E=0),e.strokeStyle=_[1],e.lineWidth=u?d*i:d,e.lineCap=_[3],e.lineJoin=_[4],e.miterLimit=_[5],Cd&&(d=_[6],u&&i!==F&&(d=d.map(function(t){return t*i/F}),_[6]=d,_[8]=i),e.setLineDash(d)),d=u=NaN,++g;break;case 11:console.assert("string"==typeof _[1],"2nd instruction should be a string"),console.assert("string"==typeof _[2],"3rd instruction should be a string"),console.assert("string"==typeof _[3],"4th instruction should be a string"),e.font=_[1],e.textAlign=_[2],e.textBaseline=_[3],++g;break;case 12:N?E++:e.stroke(),++g;break;default:console.assert(!1,"Unknown canvas render instruction"),++g}}w&&Wg(t,e,o),E&&e.stroke(),console.assert(g==s.length,"all instructions should be consumed")}function Yg(t){var e=t.a;e.reverse();var i,n,o,r=e.length,s=-1;for(i=0;r>i;++i)if(n=e[i],o=n[0],6==o)console.assert(-1==s,"begin should be -1"),s=i;else if(0==o){for(n[2]=i,console.assert(s>=0,"begin should be larger than or equal to 0"),n=t.a,o=i,console.assert(s>=0,"Array begin index should be equal to or greater than 0"),console.assert(o<n.length,"Array end index should be less than the array length");o>s;){var a=n[s];n[s]=n[o],n[o]=a,++s,--o}s=-1}}function Zg(t,e){console.assert(t.Z,"this.beginGeometryInstruction1_ should not be null"),t.Z[2]=t.f.length,t.Z=null,console.assert(t.G,"this.beginGeometryInstruction2_ should not be null"),t.G[2]=t.a.length,t.G=null;var i=[6,e];t.f.push(i),t.a.push(i)}function $g(t,e,i,n){Tg.call(this,t,e,i,n),this.v=this.U=null,this.P=this.B=this.u=this.s=this.F=this.C=this.l=this.i=this.j=this.c=this.b=void 0}function ah(t,e,i,n){Tg.call(this,t,e,i,n),this.c=null,this.b={Xa:void 0,Sa:void 0,Ta:null,Ua:void 0,Va:void 0,Wa:void 0,Vb:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function bh(t,e,i,n,o){var r=t.coordinates.length;return e=Ug(t,e,i,n,o,!1,!1),r=[8,r,e],t.f.push(r),t.a.push(r),n}function ch(t){var e=t.b,i=e.strokeStyle,n=e.lineCap,o=e.lineDash,r=e.lineJoin,s=e.lineWidth,a=e.miterLimit;console.assert(void 0!==i,"strokeStyle should be defined"),console.assert(void 0!==n,"lineCap should be defined"),console.assert(o,"lineDash should not be null"),console.assert(void 0!==r,"lineJoin should be defined"),console.assert(void 0!==s,"lineWidth should be defined"),console.assert(void 0!==a,"miterLimit should be defined"),e.Xa==i&&e.Sa==n&&Na(e.Ta,o)&&e.Ua==r&&e.Va==s&&e.Wa==a||(e.Vb!=t.coordinates.length&&(t.f.push([12]),e.Vb=t.coordinates.length),t.f.push([10,i,s,n,r,a,o,!0,1],[1]),e.Xa=i,e.Sa=n,e.Ta=o,e.Ua=r,e.Va=s,e.Wa=a)}function dh(t,e,i,n){Tg.call(this,t,e,i,n),this.c=null,this.b={Ac:void 0,Xa:void 0,Sa:void 0,Ta:null,Ua:void 0,Va:void 0,Wa:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function eh(t,e,i,n,o){var r=t.b,s=void 0!==r.fillStyle,a=void 0!=r.strokeStyle,l=n.length,h=[1];for(t.f.push(h),t.a.push(h),h=0;l>h;++h){var c=n[h],u=t.coordinates.length;i=Ug(t,e,i,c,o,!0,!a),i=[8,u,i],t.f.push(i),t.a.push(i),a&&(i=[3],t.f.push(i),t.a.push(i)),i=c}return e=[7],t.a.push(e),s&&t.f.push(e),a&&(console.assert(void 0!==r.lineWidth,"state.lineWidth should be defined"),r=[12],t.f.push(r),t.a.push(r)),i}function fh(t,e){var i=t.b,n=i.fillStyle,o=i.strokeStyle,r=i.lineCap,s=i.lineDash,a=i.lineJoin,l=i.lineWidth,h=i.miterLimit;if(void 0!==n&&("string"!=typeof n||i.Ac!=n)){var c=[9,n];"string"!=typeof n&&(n=e.R(),c.push([n[0],n[3]])),t.f.push(c),i.Ac=i.fillStyle}void 0!==o&&(console.assert(void 0!==r,"lineCap should be defined"),console.assert(s,"lineDash should not be null"),console.assert(void 0!==a,"lineJoin should be defined"),console.assert(void 0!==l,"lineWidth should be defined"),console.assert(void 0!==h,"miterLimit should be defined"),i.Xa==o&&i.Sa==r&&Na(i.Ta,s)&&i.Ua==a&&i.Va==l&&i.Wa==h||(t.f.push([10,o,l,r,a,h,s,!0,1]),i.Xa=o,i.Sa=r,i.Ta=s,i.Ua=a,i.Va=l,i.Wa=h))}function gh(t,e,i,n){Tg.call(this,t,e,i,n),this.B=this.v=this.P=null,this.i="",this.C=this.l=0,this.F=void 0,this.u=this.s=0,this.j=this.c=this.b=null}function hh(t,e,i,n,o){if(""!==t.i&&t.j&&(t.b||t.c)){if(t.b){var r=t.b,s=t.P;if(!s||s.fillStyle!=r.fillStyle){var a=[9,r.fillStyle];t.f.push(a),t.a.push(a),s?s.fillStyle=r.fillStyle:t.P={fillStyle:r.fillStyle}}}t.c&&(r=t.c,s=t.v,s&&s.lineCap==r.lineCap&&s.lineDash==r.lineDash&&s.lineJoin==r.lineJoin&&s.lineWidth==r.lineWidth&&s.miterLimit==r.miterLimit&&s.strokeStyle==r.strokeStyle||(a=[10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,!1,1],t.f.push(a),t.a.push(a),s?(s.lineCap=r.lineCap,s.lineDash=r.lineDash,s.lineJoin=r.lineJoin,s.lineWidth=r.lineWidth,s.miterLimit=r.miterLimit,s.strokeStyle=r.strokeStyle):t.v={lineCap:r.lineCap,lineDash:r.lineDash,lineJoin:r.lineJoin,lineWidth:r.lineWidth,miterLimit:r.miterLimit,strokeStyle:r.strokeStyle})),r=t.j,s=t.B,s&&s.font==r.font&&s.textAlign==r.textAlign&&s.textBaseline==r.textBaseline||(a=[11,r.font,r.textAlign,r.textBaseline],t.f.push(a),t.a.push(a),s?(s.font=r.font,s.textAlign=r.textAlign,s.textBaseline=r.textBaseline):t.B={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),Vg(t,o),r=t.coordinates.length,e=Ug(t,e,0,i,n,!1,!1),e=[5,r,e,t.i,t.l,t.C,t.s,t.u,!!t.b,!!t.c,t.F],t.f.push(e),t.a.push(e),Zg(t,o)}}function jh(t,e,i,n,o){this.l=t,this.f=e,this.j=n,this.i=i,this.b=o,this.a={},this.g=ed(1,1),this.c=Tf()}function lh(t,e,i){var n,o=Math.floor(t.length/2);if(e>=o)for(n=o;e>n;n++)t[n][i]=!0;else if(o>e)for(n=e+1;o>n;n++)t[n][i]=!0}function mh(t){if(void 0!==kh[t])return kh[t];for(var e=2*t+1,i=Array(e),n=0;e>n;n++)i[n]=Array(e);for(var e=t,o=n=0;e>=n;)lh(i,t+e,t+n),lh(i,t+n,t+e),lh(i,t-n,t+e),lh(i,t-e,t+n),lh(i,t-e,t-n),lh(i,t-n,t-e),lh(i,t+n,t-e),lh(i,t+e,t-n),n++,o+=1+2*n,2*(o-e)+1>0&&(--e,o+=1-2*e);return kh[t]=i}function nh(t){for(var e in t.a){var i,n=t.a[e];for(i in n)n[i].xb()}}function ph(t,e,i){var n=void 0!==e?e.toString():"0";return e=t.a[n],void 0===e&&(e={},t.a[n]=e),n=e[i],void 0===n&&(n=qh[i],console.assert(void 0!==n,i+" constructor missing from ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_"),n=new n(t.l,t.f,t.i,t.j),e[i]=n),n}function oh(t,e,i,n,o,r,s){var a=Object.keys(t.a).map(Number);a.sort(function(t,e){return e-t});var l,h,c,u,d;for(l=0,h=a.length;h>l;++l)for(u=t.a[a[l].toString()],c=ih.length-1;c>=0;--c)if(d=u[ih[c]],void 0!==d&&(d=Xg(d,e,1,i,n,o,d.a,r,s)))return d}function rh(t,e){return x(t)-x(e)}function sh(t,e){var i=.5*t/e;return i*i}function th(t,e,i,n,o,r){var s,a,l=!1;return(s=i.g)&&(a=s.$a(),2==a||3==a?s.kd(o,r):(0==a&&s.load(),a=s.$a(),console.assert(1==a,"imageState should be LOADING"),s.Rc(o,r),l=!0)),(o=(0,i.c)(e))&&(n=o.Qb(n),(0,uh[n.W()])(t,n,i,e)),l}function cg(t){Lg.call(this,t),this.b=!1,this.v=-1,this.u=NaN,this.j=hb(),this.g=this.s=null,this.c=ed()}function xh(t,e){Xf.call(this,0,e),this.c=ed(),this.a=this.c.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.g=!0,this.i=Tf()}function yh(t,e,i){var n=t.j,o=t.c;if(Ca(n,e)){var r=i.extent,s=i.pixelRatio,a=i.viewState.rotation,l=i.viewState,h=i.pixelRatio/l.resolution;t=Wf(t.i,t.a.width/2,t.a.height/2,h,-h,-l.rotation,-l.center[0],-l.center[1]),n.J(new Of(e,new ug(o,s,r,t,a),i,o,null))}}function Ah(t){this.b=zh(t),this.a={},this.f=0}function Bh(t){return t.b.all().map(function(t){return t.value})}function Ch(t,e){return t.b.search({H:e[0],K:e[1],I:e[2],N:e[3]}).map(function(t){return t.value})}function Eh(t,e,i,n){++t.f;try{return Dh(Ch(t,e),i,n)}finally{--t.f}}function Dh(t,e,i){for(var n,o=0,r=t.length;r>o&&!(n=e.call(i,t[o]));o++);return n}function Gh(t){D.call(this),this.v=Hb(t.projection),this.u=Hh(t.attributions),this.L=t.logo,this.U=void 0!==t.state?t.state:"ready",this.i=void 0!==t.wrapX?t.wrapX:!1}function Hh(t){if("string"==typeof t)return[new Sc({html:t})];if(t instanceof Sc)return[t];if(Array.isArray(t)){for(var e=t.length,i=Array(e),n=0;e>n;n++){var o=t[n];i[n]="string"==typeof o?new Sc({html:o}):o}return i}return null}function Ih(){this.g=0,this.b={},this.f=this.a=null}function Kh(t){D.call(this);var e=Lh(t);this.hb=void 0!==t.loadTilesWhileAnimating?t.loadTilesWhileAnimating:!1,this.ib=void 0!==t.loadTilesWhileInteracting?t.loadTilesWhileInteracting:!1,this.rd=void 0!==t.pixelRatio?t.pixelRatio:Bd,this.qd=e.logos,this.eb=function(){this.c=void 0,this.lf.call(this,Date.now())}.bind(this),this.fb=Tf(),this.sd=Tf(),this.gb=0,this.b=null,this.Qa=hb(),this.B=this.U=this.X=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Fd?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer",this.a.appendChild(this.u),this.s=document.createElement("DIV"),this.s.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var i=0,n=t.length;n>i;++i)C(this.s,t[i],Aa);this.a.appendChild(this.s),this.sa=new he(this);for(var o in ud)C(this.sa,ud[o],this.Nc,this);this.la=e.keyboardEventTarget,this.l=null,C(this.a,"wheel",this.Ha,this),C(this.a,"mousewheel",this.Ha,this),this.v=e.controls,this.i=e.interactions,this.G=e.overlays,this.ad={},this.L=new e.mf(this.a,this),this.ba=null,this.Pa=[],this.xa=[],this.wa=new oe(this.Rd.bind(this),this.ie.bind(this)),this.pd={},C(this,Fa(Mh),this.Vd,this),C(this,Fa(Nh),this.je,this),C(this,Fa(Oh),this.fe,this),C(this,Fa(Ph),this.he,this),this.fa(e.values),this.v.forEach(function(t){t.setMap(this)},this),C(this.v,Wc,function(t){t.element.setMap(this)},this),C(this.v,Xc,function(t){t.element.setMap(null)},this),this.i.forEach(function(t){
t.setMap(this)},this),C(this.i,Wc,function(t){t.element.setMap(this)},this),C(this.i,Xc,function(t){t.element.setMap(null)},this),this.G.forEach(this.wc,this),C(this.G,Wc,function(t){this.wc(t.element)},this),C(this.G,Xc,function(t){var e=t.element.Wc;void 0!==e&&delete this.ad[e.toString()],t.element.setMap(null)},this)}function Qh(t){return t=t.Sb(),void 0!==t?"string"==typeof t?document.getElementById(t):t:null}function Ke(t,e){var i=t.b;return i?Vf(i.coordinateToPixelTransform,e.slice(0,2)):null}function Lh(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var o=t.logo;"string"==typeof o?n[o]="":o instanceof HTMLElement?n[x(o).toString()]=o:o&&(y("string"==typeof o.href,44),y("string"==typeof o.src,45),n[o.src]=o.href)}o=t.layers instanceof Af?t.layers:new Af({layers:t.layers}),i[Mh]=o,i[Ph]=t.target,i[Nh]=void 0!==t.view?t.view:new jc;var r,o=Xf;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:y(!1,46),0<=r.indexOf("dom")&&(console.assert(!1,"The DOM render has been removed"),r=r.concat(Jh))):r=Jh;var s,a;for(s=0,a=r.length;a>s;++s)if("canvas"==r[s]&&Dd){o=xh;break}if(void 0!==t.controls?Array.isArray(t.controls)?r=new I(t.controls.slice()):(y(t.controls instanceof I,47),r=t.controls):r=nd(),void 0!==t.interactions)Array.isArray(t.interactions)?s=new I(t.interactions.slice()):(y(t.interactions instanceof I,48),s=t.interactions);else{s={},a=new I;var l=new pe;(void 0!==s.altShiftDragRotate?s.altShiftDragRotate:1)&&a.push(new Le),(void 0!==s.doubleClickZoom?s.doubleClickZoom:1)&&a.push(new ve({delta:s.zoomDelta,duration:s.zoomDuration})),(void 0!==s.dragPan?s.dragPan:1)&&a.push(new Ge({kinetic:l})),(void 0!==s.pinchRotate?s.pinchRotate:1)&&a.push(new kf),(void 0!==s.pinchZoom?s.pinchZoom:1)&&a.push(new of({duration:s.zoomDuration})),(void 0!==s.keyboard?s.keyboard:1)&&(a.push(new bf),a.push(new df({delta:s.zoomDelta,duration:s.zoomDuration}))),(void 0!==s.mouseWheelZoom?s.mouseWheelZoom:1)&&a.push(new ff({duration:s.zoomDuration})),(void 0!==s.shiftDragZoom?s.shiftDragZoom:1)&&a.push(new af({duration:s.zoomDuration})),s=a}return void 0!==t.overlays?Array.isArray(t.overlays)?t=new I(t.overlays.slice()):(y(t.overlays instanceof I,49),t=t.overlays):t=new I,{controls:r,interactions:s,keyboardEventTarget:e,logos:n,overlays:t,mf:o,values:i}}function Rh(t){D.call(this),this.Wc=t.id,this.l=void 0!==t.insertFirst?t.insertFirst:!0,this.s=void 0!==t.stopEvent?t.stopEvent:!0,this.b=document.createElement("DIV"),this.b.className="ol-overlay-container",this.b.style.position="absolute",this.autoPan=void 0!==t.autoPan?t.autoPan:!1,this.c=t.autoPanAnimation||{},this.i=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={ob:"",ub:"",Ab:"",Db:"",visible:!0},this.g=null,C(this,Fa(Sh),this.Ud,this),C(this,Fa(Th),this.$d,this),C(this,Fa(Uh),this.ae,this),C(this,Fa(Vh),this.ce,this),C(this,Fa(Wh),this.de,this),void 0!==t.element&&this.set(Sh,t.element),this.set(Uh,void 0!==t.offset?t.offset:[0,0]),this.set(Wh,void 0!==t.positioning?t.positioning:Xh),void 0!==t.position&&this.Xc(t.position)}function Zh(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,i=i.top+window.pageYOffset;return[n,i,n+e[0],i+e[1]]}function $h(t,e){t.a.visible!==e&&(t.b.style.display=e?"":"none",t.a.visible=e)}function Yh(t){var e=t.get(Th),i=t.get(Vh);if(void 0!==e&&e.b&&void 0!==i){var i=Ke(e,i),n=e.Ka(),e=t.b.style,o=t.get(Uh),r=t.get(Wh);console.assert(void 0!==r,"positioning should be defined");var s=o[0],o=o[1];r==ai||r==bi||r==ci?(""!==t.a.ub&&(t.a.ub=e.left=""),s=Math.round(n[0]-i[0]-s)+"px",t.a.Ab!=s&&(t.a.Ab=e.right=s)):(""!==t.a.Ab&&(t.a.Ab=e.right=""),(r==di||r==ei||r==fi)&&(s-=t.b.offsetWidth/2),s=Math.round(i[0]+s)+"px",t.a.ub!=s&&(t.a.ub=e.left=s)),r==gi||r==di||r==ai?(""!==t.a.Db&&(t.a.Db=e.top=""),i=Math.round(n[1]-i[1]-o)+"px",t.a.ob!=i&&(t.a.ob=e.bottom=i)):(""!==t.a.ob&&(t.a.ob=e.bottom=""),(r==hi||r==ei||r==bi)&&(o-=t.b.offsetHeight/2),i=Math.round(i[1]+o)+"px",t.a.Db!=i&&(t.a.Db=e.top=i)),$h(t,!0)}else $h(t,!1)}function ii(t){D.call(this),this.a=void 0,this.b="geometry",this.i=null,this.c=void 0,this.g=null,C(this,Fa(this.b),this.sb,this),void 0!==t&&(t instanceof Nb||!t?this.Na(t):this.fa(t))}function ji(t,e){va(t,Fa(t.b),t.sb,t),t.b=e,C(t,Fa(t.b),t.sb,t),t.sb()}function ki(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(y(t instanceof og,41),e=[t]),t=function(){return e}}return t}function mi(t){return ni(t,!1,[]).join("")}function ni(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)ni(t,e,i);return i}function oi(t){return t instanceof Node}function pi(t){return(new DOMParser).parseFromString(t,"application/xml")}function qi(t,e){return function(i,n){var o=t.call(void 0!==e?e:this,i,n);if(void 0!==o){var r=n[n.length-1];console.assert(Array.isArray(r),"objectStack is supposed to be an array of arrays"),r.push(o)}}}function ri(t,e){return function(i,n){var o=t.call(void 0!==e?e:this,i,n);void 0!==o&&(n[n.length-1]=o)}}function J(t){return console.assert(void 0!==t,"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(e,i){var n=t.call(this,e,i);if(void 0!==n){var o,r=i[i.length-1],s=e.localName;o=s in r?r[s]:r[s]=[],o.push(n)}}}function N(t,e){return console.assert(void 0!==t,"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(i,n){var o=t.call(this,i,n);void 0!==o&&(n[n.length-1][void 0!==e?e:i.localName]=o)}}function O(t){return function(e,i,n){t.call(this,e,i,n),i=n[n.length-1].node,console.assert(oi(i)||i instanceof Document,"expected parentNode %s to be a Node or a Document",i),i.appendChild(e)}}function si(t){var e,i;return function(n,o,r){if(void 0===e){e={};var s={};s[n.localName]=t,e[n.namespaceURI]=s,i=ti(n.localName)}ui(e,i,o,r)}}function ti(t){return function(e,i,n){return i=i[i.length-1].node,console.assert(oi(i)||i instanceof Document,"expected node %s to be a Node or a Document",i),e=t,void 0===e&&(e=n),n=i.namespaceURI,console.assert(void 0!==e,"nodeName was undefined"),li.createElementNS(n,e)}}function wi(t,e){for(var i=e.length,n=Array(i),o=0;i>o;++o)n[o]=t[e[o]];return n}function R(t,e,i){i=void 0!==i?i:{};var n,o;for(n=0,o=t.length;o>n;++n)i[t[n]]=e;return i}function xi(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var o=t[e.namespaceURI];void 0!==o&&(o=o[e.localName])&&o.call(n,e,i)}}function S(t,e,i,n,o){return n.push(t),xi(e,i,n,o),n.pop()}function ui(t,e,i,n,o,r){for(var s,a,l=(void 0!==o?o:i).length,h=0;l>h;++h)s=i[h],void 0!==s&&(a=e.call(r,s,n,void 0!==o?o[h]:void 0),void 0!==a&&t[a.namespaceURI][a.localName].call(r,a,s,n))}function U(t,e,i,n,o,r,s){o.push(t),ui(e,i,n,o,r,s),o.pop()}function yi(t,e,i){return function(n,o,r){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,o,r):t,!0),"arraybuffer"==e.W()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t,n=e.W();"json"==n||"text"==n?t=s.responseText:"xml"==n?(t=s.responseXML)||(t=pi(s.responseText)):"arraybuffer"==n&&(t=s.response),t&&i.call(this,e.bb(t,{featureProjection:r}),e.ac(t))}}.bind(this),s.send()}}function zi(t,e){return yi(t,e,function(t){this.vc(t)})}function Ai(){this.f=this.defaultDataProjection=null}function Bi(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.ac(e),featureProjection:i.featureProjection}),Ci(t,n)}function Ci(t,e){return la({dataProjection:t.defaultDataProjection,featureProjection:t.f},e)}function Di(t,e,i){var n,o=i?Hb(i.featureProjection):null,r=i?Hb(i.dataProjection):null;if(n=o&&r&&!Ib(o,r)?t instanceof Nb?(e?t.clone():t).transform(e?o:r,e?r:o):Mb(e?t.slice():t,e?o:r,e?r:o):t,e&&i&&i.decimals){var s=Math.pow(10,i.decimals);t=function(t){for(var e=0,i=t.length;i>e;++e)t[e]=Math.round(t[e]*s)/s;return t},Array.isArray(n)?t(n):n.Ra(t)}return n}function Ei(){Ai.call(this)}function Fi(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Ii(t,e,i,n,o){console.assert(!0,"fraction should be in between 0 and 1");var r=NaN,s=NaN,a=(i-e)/n;if(0===a)console.assert(!1,"n cannot be 0");else if(1==a)r=t[e],s=t[e+1];else if(2==a)r=.5*t[e]+.5*t[e+n],s=.5*t[e+1]+.5*t[e+n+1];else{var l,s=t[e],a=t[e+1],h=0,r=[0];for(l=e+n;i>l;l+=n){var c=t[l],u=t[l+1],h=h+Math.sqrt((c-s)*(c-s)+(u-a)*(u-a));r.push(h),s=c,a=u}for(i=.5*h,h=0,l=r.length,c=!1;l>h;)s=h+(l-h>>1),a=+Ka(r[s],i),0>a?h=s+1:(l=s,c=!a);s=c?h:~h,0>s?(i=(i-r[-s-2])/(r[-s-1]-r[-s-2]),e+=(-s-2)*n,r=t[e],r+=i*(t[e+n]-r),s=t[e+1],s+=i*(t[e+n+1]-s)):(r=t[e+s*n],s=t[e+s*n+1])}return o?(o[0]=r,o[1]=s,o):[r,s]}function Ji(t,e){Pb.call(this),this.c=null,this.s=-1,this.ha(t,e)}function Bg(t){if(t.s!=t.f){var e;e=Ii(t.o,0,t.o.length,t.a,t.c),t.c=e,t.s=t.f}return t.c}function Ki(t,e){Pb.call(this),this.c=[],this.ha(t,e)}function Li(t){var e=t.o,i=t.c;t=t.T;var n,o,r=[],s=0;for(n=0,o=i.length;o>n;++n){var a=i[n],l=new Ji(null);l.O(t,e.slice(s,a)),r.push(l),s=a}return r}function Cg(t){var e=[],i=t.o,n=0,o=t.c;t=t.a;var r,s;for(r=0,s=o.length;s>r;++r){var a=o[r],n=Ii(i,n,a,t);Ma(e,n),n=a}return e}function Mi(t,e){var i,n,o=t.T,r=[],s=[];for(i=0,n=e.length;n>i;++i){var a=e[i];0===i?o=a.T:console.assert(a.T==o,"layout of lineString should match layout"),Ma(r,a.o),s.push(r.length)}t.O(o,r,s)}function Ni(t,e){Pb.call(this),this.ha(t,e)}function Oi(t,e){Pb.call(this),this.g=[],this.s=-1,this.G=null,this.L=-1,this.c=null,this.ha(t,e)}function Eg(t){if(t.s!=t.f){var e,i,n,o=t.o,r=t.g,s=t.a,a=0,l=[];for(e=0,i=r.length;i>e;++e){var h=r[e];n=o;var c=h[0],u=s,d=lb(void 0);n=ob(d,n,a,c,u),l.push((n[0]+n[2])/2,(n[1]+n[3])/2),a=h[h.length-1]}for(o=Dg(t),r=t.g,s=t.a,e=0,console.assert(2*r.length==l.length,"endss.length times 2 should be flatCenters.length"),i=[],h=0,n=r.length;n>h;++h)a=r[h],i=bc(o,e,a,s,l,2*h,i),e=a[a.length-1];t.G=i,t.s=t.f}return t.G}function Dg(t){if(t.L!=t.f){var e,i=t.o;t:{e=t.g;var n,o;for(n=0,o=e.length;o>n;++n)if(!dc(i,e[n],t.a,void 0)){e=!1;break t}e=!0}e?t.c=i:(t.c=i.slice(),t.c.length=fc(t.c,t.g,t.a)),t.L=t.f}return t.c}function Pi(t,e,i,n){if(console.assert(n,"endss must be truthy"),i&&0!==i.length){console.assert(0<n.length,"endss cannot be an empty array");var o=n[n.length-1];console.assert(i.length==o[o.length-1],"the length of flatCoordinates should be the last value of ends")}else console.assert(0===n.length,"the length of endss should be 0");Rb(t,e,i),t.g=n,t.A()}function Qi(t){Nb.call(this),this.b=t?t:null,Ri(this)}function Si(t){var e,i,n=[];for(e=0,i=t.length;i>e;++e)n.push(t[e].clone());return n}function Ti(t){var e,i;if(t.b)for(e=0,i=t.b.length;i>e;++e)va(t.b[e],"change",t.A,t)}function Ri(t){var e,i;if(t.b)for(e=0,i=t.b.length;i>e;++e)C(t.b[e],"change",t.A,t)}function Ui(t){t=t?t:{},Ai.call(this),this.defaultDataProjection=Hb(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.f=Hb(t.featureProjection)),this.a=t.geometryName}function Vi(t,e){return t?Di((0,Wi[t.type])(t),!1,e):null}function Xi(t,e){return(0,Yi[t.W()])(Di(t,!0,e),e)}function Gi(t,e,i){console.assert("FeatureCollection"!==e.type,"Expected a Feature or geometry"),e="Feature"===e.type?e:{type:"Feature",geometry:e},i=Vi(e.geometry,i);var n=new ii;return t.a&&ji(n,t.a),n.Na(i),void 0!==e.id&&(n.a=e.id,n.A()),e.properties&&n.fa(e.properties),n}function Zi(t,e,i){i=Ci(t,i),t={type:"Feature"};var n=e.a;return void 0!==n&&(t.id=n),(n=e.Y())?t.geometry=Xi(n,i):t.geometry=null,i=e.ta(),delete i[e.b],oa(i)?t.properties=null:t.properties=i,t}function Hi(t,e,i){i=Ci(t,i);var n,o,r=[];for(n=0,o=e.length;o>n;++n)r.push(Zi(t,e[n],i));return{type:"FeatureCollection",features:r}}function $i(){this.g=new XMLSerializer,Ai.call(this)}function aj(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Ma(n,t.Yb(e,i));return n}function bj(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.a={},this.a["http://www.opengis.net/gml"]={featureMember:ri(bj.prototype.Zb),featureMembers:ri(bj.prototype.Zb)},$i.call(this)}function dj(t){return t=mi(t),ej(t)}function ej(t){return(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))?void 0!==t[1]||!1:void 0}function fj(t){return t=mi(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function V(t){return t=mi(t),gj(t)}function gj(t){return(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))?parseFloat(t[1]):void 0}function hj(t){return t=mi(t),ij(t)}function ij(t){return(t=/^\s*(\d+)\s*$/.exec(t))?parseInt(t[1],10):void 0}function W(t){return mi(t).trim()}function jj(t,e){X(t,e?"1":"0")}function kj(t,e){t.appendChild(li.createTextNode(e.toPrecision()))}function lj(t,e){console.assert(e>=0,"value should be more than 0"),console.assert(e==(0|e),"value should be an integer value"),t.appendChild(li.createTextNode(e.toString()))}function X(t,e){t.appendChild(li.createTextNode(e))}function mj(t){t=t?t:{},$i.call(this),this.defaultDataProjection=Hb("EPSG:4326"),this.a=t.readExtensions}function oj(t,e,i,n){return console.assert(i.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.Ub=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.Tb=!0):t.push(0),t}function pj(t,e,i){var n="XY",o=2;if(t.Ub&&t.Tb?(n="XYZM",o=4):t.Ub?(n="XYZ",o=3):t.Tb&&(n="XYM",o=3),4!==o){var r,s;for(r=0,s=e.length/4;s>r;r++)e[r*o]=e[4*r],e[r*o+1]=e[4*r+1],t.Ub&&(e[r*o+2]=e[4*r+2]),t.Tb&&(e[r*o+2]=e[4*r+3]);if(e.length=e.length/4*o,i)for(r=0,s=i.length;s>r;r++)i[r]=i[r]/4*o}return n}function qj(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("link"==t.localName,"localName should be link");var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),xi(rj,t,e)}function sj(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("extensions"==t.localName,"localName should be extensions"),e[e.length-1].extensionsNode_=t}function Aj(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,U({node:t},Bj,vi,[e.linkText,e.linkType],i,Cj)}function Dj(t,e,i){var n=i[i.length-1],o=n.node;console.assert(oi(o),"parentNode should be an XML node");var r=o.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(o.time=e[3]);case"XYZ":0!==e[2]&&(o.ele=e[2]);break;case"XYM":0!==e[2]&&(o.time=e[2])}e="rtept"==t.nodeName?Ej[r]:Fj[r],n=wi(o,e),U({node:t,properties:o},Gj,vi,n,i,e)}function Oj(t,e){var i=t.Y();if(i&&(i=Nj[i.W()])){var n=e[e.length-1].node;return console.assert(oi(n),"parentNode should be an XML node"),li.createElementNS(n.namespaceURI,i)}}function Qj(t,e,i,n,o,r){Ba.call(this),this.i=null,this.a=t?t:new Image,null!==n&&(this.a.crossOrigin=n),this.c=r?document.createElement("CANVAS"):null,this.j=r,this.g=null,this.b=o,this.f=i,this.l=e,this.s=!1,2==this.b&&Rj(this)}function Rj(t){var e=ed(1,1);try{e.drawImage(t.a,0,0),e.getImageData(0,0,1,1)}catch(i){t.s=!0}}function Sj(t){t=t||{},this.g=void 0!==t.anchor?t.anchor:[.5,.5],this.j=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:Tj,this.P=void 0!==t.anchorXUnits?t.anchorXUnits:Uj,this.B=void 0!==t.anchorYUnits?t.anchorYUnits:Uj,this.G=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;y(!(void 0!==n&&e),4),y(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||x(e).toString()),y(void 0!==n&&0<n.length,6);var o,r=void 0!==t.src?0:2;void 0!==t.color?(o=t.color,o=Array.isArray(o)?o:bd(o)):o=null,this.c=o,o=this.G;var s=this.c,a=Sf.get(n,o,s);a||(a=new Qj(e,n,i,o,r,s),Sf.set(n,o,s,a)),this.a=a,this.Z=void 0!==t.offset?t.offset:[0,0],this.b=void 0!==t.offsetOrigin?t.offsetOrigin:Tj,this.C=null,this.F=void 0!==t.size?t.size:null,jg.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1})}function Yj(t){t=t||{},this.g=t.font,this.l=t.rotation,this.i=t.rotateWithView,this.f=t.scale,this.s=t.text,this.C=t.textAlign,this.F=t.textBaseline,this.a=void 0!==t.fill?t.fill:new mg({color:"#333"}),this.b=void 0!==t.stroke?t.stroke:null,this.c=void 0!==t.offsetX?t.offsetX:0,this.j=void 0!==t.offsetY?t.offsetY:0}function bk(t){return t=mi(t),(t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))?(t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]):void 0}function ck(t){t=mi(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""!==t?void 0:i}function dk(t){var e=mi(t).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function ek(t){return V(t)}function fk(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LinearRing"==t.localName,"localName should be LinearRing"),S(null,gk,t,e)}function hk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=Zj.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("Track"==t.localName,"localName should be Track");var i=S({o:[],od:[]},ik,t,e);if(i){var n=i.o,i=i.od;console.assert(n.length/4==i.length,"the length of the flatCoordinates array divided by 4 should be the length of the whens array");var o,r;for(o=0,r=Math.min(n.length,i.length);r>o;++o)n[4*o+3]=i[o];return i=new Ji(null),i.O("XYZM",n),i}}function jk(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),S(null,kk,t,e)}function lk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LineString"==t.localName,"localName should be LineString");var i=S({},mk,t,e),n=jk(t,e);if(n){var o=new Ji(null);return o.O("XYZ",n),o.fa(i),o}}function nk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LinearRing"==t.localName,"localName should be LinearRing");var i=S({},mk,t,e),n=jk(t,e);if(n){var o=new gc(null);return o.O("XYZ",n,[n.length]),o.fa(i),o}}function ok(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("MultiGeometry"==t.localName,"localName should be MultiGeometry");var i=S([],pk,t,e);if(!i)return null;if(0===i.length)return new Qi(i);var n,o,r,s,a=!0,l=i[0].W();for(r=1,s=i.length;s>r;++r)if(o=i[r],o.W()!=l){a=!1;break}if(a)if("Point"==l){for(n=i[0],a=n.T,l=n.o,r=1,s=i.length;s>r;++r)o=i[r],console.assert(o.T==a,"geometry layout should be consistent"),Ma(l,o.o);n=new Ni(null),n.O(a,l),qk(n,i)}else if("LineString"==l)n=new Ki(null),Mi(n,i),qk(n,i);else if("Polygon"==l){o=n=new Oi(null),r=o.T,s=[];var h,c,a=[],l=0;for(h=i.length;h>l;++l){var u=i[l];0===l?r=u.T:console.assert(u.T==r,"layout of polygon should be layout");var d=s.length;c=u.Ea();var f,p;for(f=0,p=c.length;p>f;++f)c[f]+=d;Ma(s,u.o),a.push(c)}Pi(o,r,s,a),qk(n,i)}else"GeometryCollection"==l?n=new Qi(i):y(!1,37);else n=new Qi(i);return n}function rk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Point"==t.localName,"localName should be Point");var i=S({},mk,t,e),n=jk(t,e);if(n){var o=new $b(null);return console.assert(3==n.length,"flatCoordinates should have a length of 3"),o.O("XYZ",n),o.fa(i),o}}function sk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Polygon"==t.localName,"localName should be Polygon");var i=S({},mk,t,e),n=S([null],tk,t,e);if(n&&n[0]){var o,r,s=new gc(null),a=n[0],l=[a.length];for(o=1,r=n.length;r>o;++o)Ma(a,n[o]),l.push(a.length);return s.O("XYZ",a,l),s.fa(i),s}}function uk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Style"==t.localName,"localName should be Style");var i=S({},vk,t,e);if(!i)return null;var n="fillStyle"in i?i.fillStyle:void 0,o=i.fill;void 0===o||o||(n=null),o="imageStyle"in i?i.imageStyle:void 0,void 0==o&&(o=void 0);var r="textStyle"in i?i.textStyle:void 0,s="strokeStyle"in i?i.strokeStyle:void 0,i=i.outline;return void 0===i||i||(s=null),[new og({fill:n,image:o,stroke:s,text:r,zIndex:void 0})]}function qk(t,e){var i,n,o,r,s=e.length,a=Array(e.length),l=Array(e.length);for(o=r=!1,n=0;s>n;++n)i=e[n],a[n]=i.get("extrude"),l[n]=i.get("altitudeMode"),o=o||void 0!==a[n],r=r||l[n];o&&t.set("extrude",a),r&&t.set("altitudeMode",l)}function wk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ExtendedData"==t.localName,"localName should be ExtendedData"),xi(xk,t,e)}function yk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Region"==t.localName,"localName should be Region"),xi(zk,t,e)}function Pk(t,e){var i,n=Array.isArray(e)?e:bd(e),n=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(i=0;4>i;++i){var o=parseInt(n[i],10).toString(16);n[i]=1==o.length?"0"+o:o}X(t,n.join(""))}function Qk(t,e,i){t={node:t};var n,o,r=e.W();if("GeometryCollection"==r)n=Si(e.b),o=Rk;else if("MultiPoint"==r){n=e.o,o=e.T,e=e.a;var s,a,r=[];for(s=0,a=n.length;a>s;s+=e){var l=new $b(null);l.O(o,n.slice(s,s+e)),r.push(l)}n=r,o=Sk}else if("MultiLineString"==r)n=Li(e),o=Tk;else if("MultiPolygon"==r){n=e.T,o=e.o,e=e.g,r=[],s=0;var h,c;for(a=0,l=e.length;l>a;++a){var u=e[a].slice(),d=u[u.length-1];if(0!==s)for(h=0,c=u.length;c>h;++h)u[h]-=s;h=new gc(null),h.O(n,o.slice(s,d),u),r.push(h),s=d}n=r,o=Uk}else y(!1,39);U(t,Vk,o,n,i)}function Wk(t,e,i){U({node:t},Xk,Yk,[e],i)}function Zk(t,e,i){var n={node:t};e.a&&t.setAttribute("id",e.a),t=e.ta();var o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.b]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!o[t]});if(0<r.length){var s=wi(t,r);U(n,$k,al,[{names:r,values:s}],i)}(r=e.c)&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.a&&(t.Style=r),(r=r.ea())&&(t.name=r.ea())),r=bl[i[i.length-1].node.namespaceURI],t=wi(t,r),U(n,$k,vi,t,i,r),t=i[0],(e=e.Y())&&(e=Di(e,!0,t)),U(n,$k,Rk,[e],i)}function cl(t,e,i){console.assert(e instanceof $b||e instanceof Ji||e instanceof Zb,"geometry should be one of ol.geom.Point, ol.geom.LineString or ol.geom.LinearRing");var n=e.o;t={node:t},t.layout=e.T,t.stride=e.a,U(t,dl,el,[n],i)}function fl(t,e,i){var n=e.T,o=e.o,r=e.c;e=[];var s,a,l=0;for(s=0,a=r.length;a>s;++s){var h=r[s],c=new Zb(null),u=c;Rb(u,n,o.slice(l,h)),u.A(),e.push(c),l=h}console.assert(0<e.length,"linearRings should not be empty"),n=e.shift(),t={node:t},U(t,gl,hl,e,i),U(t,gl,il,[n],i)}function jl(t,e){kj(t,Math.round(1e6*e)/1e6)}function sl(t,e,i){return li.createElementNS(Zj[0],"gx:"+i)}function ll(t,e){var i=e[e.length-1].node;return console.assert(oi(i),"parentNode should be an XML node"),li.createElementNS(i.namespaceURI,"Placemark")}function Rk(t,e){if(t){var i=e[e.length-1].node;return console.assert(oi(i),"parentNode should be an XML node"),li.createElementNS(i.namespaceURI,nl[t.W()])}}function Dl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("tag"==t.localName,"localName should be tag"),e[e.length-1].cb[t.getAttribute("k")]=t.getAttribute("v")}function Hl(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Zl(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),S({},$l,t,e)}function am(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),S({},bm,t,e)}function cm(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var i=Zl(t,e);if(i){var n=[ij(t.getAttribute("width")),ij(t.getAttribute("height"))];return i.size=n,i}}function dm(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("KeywordList"==t.localName,"localName should be KeywordList"),S([],em,t,e)}function tm(t){var e=W(t).split(" ");return e&&2==e.length?(t=+e[0],e=+e[1],isNaN(t)||isNaN(e)?void 0:[t,e]):void 0}function Z(t){D.call(this),t=t||{},this.a=null,this.g=Lb,this.b=void 0,C(this,Fa(Gm),this.Je,this),C(this,Fa(Hm),this.Ke,this),void 0!==t.projection&&this.Vc(Hb(t.projection)),void 0!==t.trackingOptions&&this.gd(t.trackingOptions),this.vb(void 0!==t.tracking?t.tracking:!1)}function Qm(t,e,i,n,o){ke.call(this,t,e),this.g=i,this.f=new Image,null!==n&&(this.f.crossOrigin=n),this.b=null,this.c=o}function Rm(t){t.b.forEach(B),t.b=null}function Sm(t){t=t?t:{},qe.call(this,{handleEvent:ub}),this.b=t.formatConstructors?t.formatConstructors:[],this.c=t.projection?Hb(t.projection):null,this.a=null,this.target=t.target?t.target:null}function Tm(t){t=t.dataTransfer.files;var e,i,n;for(e=0,i=t.length;i>e;++e){n=t.item(e);var o=new FileReader;o.addEventListener("load",this.g.bind(this,n)),o.readAsText(n)}}function Um(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function Vm(t,e,i,n){za.call(this,t),this.features=i,this.file=e,this.projection=n}function Xm(){return[[-(1/0),-(1/0),1/0,1/0]]}function Ym(t){t=t||{},Gh.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.l=ba,this.B=t.format,this.X=void 0==t.overlaps?!0:t.overlaps,this.G=t.url,void 0!==t.loader?this.l=t.loader:void 0!==this.G&&(y(this.B,7),this.l=zi(this.G,this.B)),this.ba=void 0!==t.strategy?t.strategy:Xm;var e=void 0!==t.useSpatialIndex?t.useSpatialIndex:!0;this.V=e?new Ah:null,this.s=new Ah,this.ia={},this.b={},this.g={},this.c={},this.a=null;var i,n;t.features instanceof I?(i=t.features,n=i.a):Array.isArray(t.features)&&(n=t.features),e||void 0!==i||(i=new I(n)),void 0!==n&&Zm(this,n),void 0!==i&&$m(this,i)}function an(t,e,i){console.assert(!(e in t.c),"key (%s) not yet registered in featureChangeKey",e),t.c[e]=[C(i,"change",t.Yc,t),C(i,Ia,t.Yc,t)]}function bn(t,e,i){var n=!0,o=i.a;return void 0!==o?o.toString()in t.b?n=!1:t.b[o.toString()]=i:(y(!(e in t.g),30),t.g[e]=i),n}function Zm(t,e){var i,n,o,r,s=[],a=[],l=[];for(n=0,o=e.length;o>n;n++)r=e[n],i=x(r).toString(),bn(t,i,r)&&a.push(r);for(n=0,o=a.length;o>n;n++){r=a[n],i=x(r).toString(),an(t,i,r);var h=r.Y();h?(i=h.R(),s.push(i),l.push(r)):t.ia[i]=r}for(t.V&&t.V.load(s,l),n=0,o=a.length;o>n;n++)t.J(new cn(dn,a[n]))}function $m(t,e){console.assert(!t.a,"bindFeaturesCollection can only be called once");var i=!1;C(t,dn,function(t){i||(i=!0,e.push(t.feature),i=!1)}),C(t,en,function(t){i||(i=!0,e.remove(t.feature),i=!1)}),C(e,Wc,function(t){if(!i){i=!0,t=t.element;var e=x(t).toString();if(bn(this,e,t)){an(this,e,t);var n=t.Y();n?(e=n.R(),this.V&&this.V.za(e,t)):this.ia[e]=t,this.J(new cn(dn,t))}this.A(),i=!1}},t),C(e,Xc,function(t){if(!i){i=!0,t=t.element;var e=x(t).toString();e in this.ia?delete this.ia[e]:this.V&&this.V.remove(t),this.ec(t),this.A(),i=!1}},t),t.a=e}function wh(t,e,i,n){t.V?Eh(t.V,e,i,n):t.a&&t.a.forEach(i,n)}function vh(t,e,i,n){var o=t.s;e=t.ba(e,i);var r,s;for(r=0,s=e.length;s>r;++r){var a=e[r];Eh(o,a,function(t){return gb(t.extent,a)})||(t.l.call(t,a,i,n),o.za(a,{extent:a.slice()}))}}function gn(t,e){var i,n=!1;for(i in t.b)if(t.b[i]===e){delete t.b[i],n=!0;break}return n}function cn(t,e){za.call(this,t),this.feature=e}function jn(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s){return s?t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,function(){return(-s[2]-1).toString()}).replace(r,function(){var t=Pc(e,s[0]);return y(t,55),(t.N-t.K+1+s[2]).toString()}):void 0}}function kn(t,e){for(var i=t.length,n=Array(i),o=0;i>o;++o)n[o]=jn(t[o],e);return ln(n)}function ln(t){return console.assert(0<t.length,"Length of tile url functions should be greater than 0"),1===t.length?t[0]:function(e,i,n){return e?t[ha((e[1]<<e[0])+e[2],t.length)](e,i,n):void 0}}function mn(){}function nn(t){Ih.call(this),this.c=void 0!==t?t:2048}function on(t){Gh.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.s=void 0!==t.opaque?t.opaque:!1,this.g=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new nn(t.cacheSize),this.c=[0,0],this.Aa=""}function Hg(t,e,i,n,o){if(t=t.rb(e),!t)return!1;e=!0;for(var r,s,a=n.H;a<=n.I;++a)for(var l=n.K;l<=n.N;++l)r=i+"/"+a+"/"+l,s=!1,t.b.hasOwnProperty(r)&&(r=t.get(r),(s=2===r.da())&&(s=!1!==o(r))),s||(e=!1);return e}function Rg(t,e,i){var n=t.Ga(i);return i=t.g,e=Dc(Nc(n,e),t.c),1==i?t=e:(t=t.c,void 0===t&&(t=[0,0]),t[0]=e[0]*i+.5|0,t[1]=e[1]*i+.5|0),t}function pn(t,e){za.call(this,t),this.tile=e}function qn(t){if(on.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.b?this.b.bind(this):mn,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");rn(this,this.b?this.b.bind(this):kn(e,this.tileGrid),i)}else if(t.url){e=t.url;var i=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var o,r=n[2].charCodeAt(0);for(o=n[1].charCodeAt(0);r>=o;++o)i.push(e.replace(n[0],String.fromCharCode(o)))}else if(n=n=/\{(\d+)-(\d+)\}/.exec(e))for(r=parseInt(n[2],10),o=parseInt(n[1],10);r>=o;o++)i.push(e.replace(n[0],o.toString()));else i.push(e);i=this.urls=i,rn(this,this.b?this.b.bind(this):kn(i,this.tileGrid),e)}t.tileUrlFunction&&rn(this,t.tileUrlFunction)}function rn(t,e,i){t.tileUrlFunction=e,"undefined"!=typeof i?t.Aa!==i&&(t.Aa=i,t.A()):t.A()}function sn(t){qn.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:tn,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,
urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Qm}function un(t,e,i,n,o,r,s){n=e=[e,i,n];var a=void 0!==r?r:t.v;if(i=t.Ga(a),t.i&&a.c){var l=n,h=l[0];n=Mc(i,l);var a=Rc(a),c=n[0],u=n[1];a[0]<=c&&c<=a[2]&&a[1]<=u&&u<=a[3]?n=l:(l=tb(a),n[0]+=l*Math.ceil((a[0]-n[0])/l),h=Ic(i,h),n=Kc(i,n[0],n[1],h,!1,void 0))}return a=n[0],h=n[1],l=n[2],i=i.minZoom>a||a>i.maxZoom?!1:(i=(c=i.R())?Lc(i,c,a):Pc(i,a))?Bc(i,h,l):!0,o=(i=i?n:null)?t.tileUrlFunction(i,o,r):void 0,o=new t.tileClass(e,void 0!==o?0:4,void 0!==o?o:"",t.crossOrigin,t.tileLoadFunction),o.key=s,C(o,"change",t.l,t),o}function Qg(t,e,i,n,o,r){var s,a=e+"/"+i+"/"+n,l=t.getKey();if(t.a.b.hasOwnProperty(a)){if(s=t.a.get(a),s.key!=l){var h=s;if(s=un(t,e,i,n,o,r,l),0==h.da()?s.a=h.a:s.a=h,s.a){e=s.a,i=s;do{if(2==e.da()){e.a=null;break}1==e.da()?i=e:0==e.da()?i.a=e.a:i=e,e=i.a}while(e)}t.a.replace(a,s)}}else s=un(t,e,i,n,o,r,l),t.a.set(a,s);return s}function tn(t,e){t.f.src=e}function vn(t){t=t||{};var e,i=void 0!==t.projection?t.projection:"EPSG:3857";if(void 0!==t.tileGrid)e=t.tileGrid;else{e={extent:Rc(i),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize};var n={};la(n,void 0!==e?e:{}),void 0===n.extent&&(n.extent=Hb("EPSG:3857").R()),n.resolutions=Qc(n.extent,n.maxZoom,n.tileSize),delete n.maxZoom,e=new Ec(n)}sn.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:i,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:e,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0})}function wn(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[xn],vn.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0!==t.opaque?t.opaque:!0,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=rt.type(t);return"function"===i||rt.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(rt.isFunction(e))return rt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return rt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(gt.test(e))return rt.filter(e,t,i);e=rt.filter(e,t)}return rt.grep(t,function(t){return Q.call(e,t)>-1!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e={};return rt.each(t.match(xt)||[],function(t,i){e[i]=!0}),e}function s(){z.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),rt.ready()}function a(){this.expando=rt.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(_t,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ct.test(i)?rt.parseJSON(i):i}catch(o){}kt.set(t,e,i)}else i=void 0;return i}function h(t,e,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return rt.css(t,e,"")},l=a(),h=i&&i[3]||(rt.cssNumber[e]?"":"px"),c=(rt.cssNumber[e]||"px"!==h&&+l)&&Lt.exec(rt.css(t,e));if(c&&c[3]!==h){h=h||c[3],i=i||[],c=+l||1;do r=r||".5",c/=r,rt.style(t,e,c+h);while(r!==(r=a()/l)&&1!==r&&--s)}return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=o)),o}function c(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],i):i}function u(t,e){for(var i=0,n=t.length;n>i;i++)Tt.set(t[i],"globalEval",!e||Tt.get(e[i],"globalEval"))}function d(t,e,i,n,o){for(var r,s,a,l,h,d,f=e.createDocumentFragment(),p=[],g=0,m=t.length;m>g;g++)if(r=t[g],r||0===r)if("object"===rt.type(r))rt.merge(p,r.nodeType?[r]:r);else if(Rt.test(r)){for(s=s||f.appendChild(e.createElement("div")),a=(At.exec(r)||["",""])[1].toLowerCase(),l=It[a]||It._default,s.innerHTML=l[1]+rt.htmlPrefilter(r)+l[2],d=l[0];d--;)s=s.lastChild;rt.merge(p,s.childNodes),s=f.firstChild,s.textContent=""}else p.push(e.createTextNode(r));for(f.textContent="",g=0;r=p[g++];)if(n&&rt.inArray(r,n)>-1)o&&o.push(r);else if(h=rt.contains(r.ownerDocument,r),s=c(f.appendChild(r),"script"),h&&u(s),i)for(d=0;r=s[d++];)Ot.test(r.type||"")&&i.push(r);return f}function f(){return!0}function p(){return!1}function g(){try{return z.activeElement}catch(t){}}function m(t,e,i,n,o,r){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)m(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=p;else if(!o)return this;return 1===r&&(s=o,o=function(t){return rt().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=rt.guid++)),t.each(function(){rt.event.add(this,e,o,n,i)})}function v(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){var i,n,o,r,s,a,l,h;if(1===e.nodeType){if(Tt.hasData(t)&&(r=Tt.access(t),s=Tt.set(e,r),h=r.events)){delete s.handle,s.events={};for(o in h)for(i=0,n=h[o].length;n>i;i++)rt.event.add(e,o,h[o][i])}kt.hasData(t)&&(a=kt.access(t),l=rt.extend({},a),kt.set(e,l))}}function x(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Dt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function E(t,e,i,n){e=K.apply([],e);var o,r,s,a,l,h,u=0,f=t.length,p=f-1,g=e[0],m=rt.isFunction(g);if(m||f>1&&"string"==typeof g&&!nt.checkClone&&qt.test(g))return t.each(function(o){var r=t.eq(o);m&&(e[0]=g.call(this,o,r.html())),E(r,e,i,n)});if(f&&(o=d(e,t[0].ownerDocument,!1,t,n),r=o.firstChild,1===o.childNodes.length&&(o=r),r||n)){for(s=rt.map(c(o,"script"),y),a=s.length;f>u;u++)l=o,u!==p&&(l=rt.clone(l,!0,!0),a&&rt.merge(s,c(l,"script"))),i.call(t[u],l,u);if(a)for(h=s[s.length-1].ownerDocument,rt.map(s,b),u=0;a>u;u++)l=s[u],Ot.test(l.type||"")&&!Tt.access(l,"globalEval")&&rt.contains(h,l)&&(l.src?rt._evalUrl&&rt._evalUrl(l.src):rt.globalEval(l.textContent.replace(Xt,"")))}return t}function N(t,e,i){for(var n,o=e?rt.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||rt.cleanData(c(n)),n.parentNode&&(i&&rt.contains(n.ownerDocument,n)&&u(c(n,"script")),n.parentNode.removeChild(n));return t}function S(t,e){var i=rt(e.createElement(t)).appendTo(e.body),n=rt.css(i[0],"display");return i.detach(),n}function T(t){var e=z,i=Gt[t];return i||(i=S(t,e),"none"!==i&&i||(Vt=(Vt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),i=S(t,e),Vt.detach()),Gt[t]=i),i}function k(t,e,i){var n,o,r,s,a=t.style;return i=i||Zt(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||rt.contains(t.ownerDocument,t)||(s=rt.style(t,e)),!nt.pixelMarginRight()&&zt.test(s)&&Yt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function _(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ie.length;i--;)if(t=ie[i]+e,t in ne)return t}function M(t,e,i){var n=Lt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function L(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=rt.css(t,i+Pt[r],!0,o)),n?("content"===i&&(s-=rt.css(t,"padding"+Pt[r],!0,o)),"margin"!==i&&(s-=rt.css(t,"border"+Pt[r]+"Width",!0,o))):(s+=rt.css(t,"padding"+Pt[r],!0,o),"padding"!==i&&(s+=rt.css(t,"border"+Pt[r]+"Width",!0,o)));return s}function P(e,i,n){var o=!0,r="width"===i?e.offsetWidth:e.offsetHeight,s=Zt(e),a="border-box"===rt.css(e,"boxSizing",!1,s);if(z.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[i])),0>=r||null==r){if(r=k(e,i,s),(0>r||null==r)&&(r=e.style[i]),zt.test(r))return r;o=a&&(nt.boxSizingReliable()||r===e.style[i]),r=parseFloat(r)||0}return r+L(e,i,n||(a?"border":"content"),o,s)+"px"}function j(t,e){for(var i,n,o,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(r[s]=Tt.get(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&jt(n)&&(r[s]=Tt.access(n,"olddisplay",T(n.nodeName)))):(o=jt(n),"none"===i&&o||Tt.set(n,"olddisplay",o?i:rt.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function D(t,e,i,n,o){return new D.prototype.init(t,e,i,n,o)}function A(){return t.setTimeout(function(){oe=void 0}),oe=rt.now()}function O(t,e){var i,n=0,o={height:t};for(e=e?1:0;4>n;n+=2-e)i=Pt[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function I(t,e,i){for(var n,o=($.tweeners[e]||[]).concat($.tweeners["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,e,t))return n}function R(t,e,i){var n,o,r,s,a,l,h,c,u=this,d={},f=t.style,p=t.nodeType&&jt(t),g=Tt.get(t,"fxshow");i.queue||(a=rt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,rt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],h=rt.css(t,"display"),c="none"===h?Tt.get(t,"olddisplay")||T(t.nodeName):h,"inline"===c&&"none"===rt.css(t,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],se.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;p=!0}d[n]=g&&g[n]||rt.style(t,n)}else h=void 0;if(rt.isEmptyObject(d))"inline"===("none"===h?T(t.nodeName):h)&&(f.display=h);else{g?"hidden"in g&&(p=g.hidden):g=Tt.access(t,"fxshow",{}),r&&(g.hidden=!p),p?rt(t).show():u.done(function(){rt(t).hide()}),u.done(function(){var e;Tt.remove(t,"fxshow");for(e in d)rt.style(t,e,d[e])});for(n in d)s=I(p?g[n]:0,n,u),n in g||(g[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,o,r,s;for(i in t)if(n=rt.camelCase(i),o=e[n],r=t[i],rt.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=rt.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function $(t,e,i){var n,o,r=0,s=$.prefilters.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=oe||A(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,r=1-n,s=0,l=h.tweens.length;l>s;s++)h.tweens[s].run(r);return a.notifyWith(t,[h,r,i]),1>r&&l?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{},easing:rt.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||A(),duration:i.duration,tweens:[],createTween:function(e,i){var n=rt.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)h.tweens[i].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),c=h.props;for(F(c,h.opts.specialEasing);s>r;r++)if(n=$.prefilters[r].call(h,t,c,h.opts))return rt.isFunction(n.stop)&&(rt._queueHooks(h.elem,h.opts.queue).stop=rt.proxy(n.stop,n)),n;return rt.map(c,I,h),rt.isFunction(h.opts.start)&&h.opts.start.call(t,h),rt.fx.timer(rt.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function B(t){return t.getAttribute&&t.getAttribute("class")||""}function W(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(xt)||[];if(rt.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function H(t,e,i,n){function o(a){var l;return r[a]=!0,rt.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||s||r[h]?s?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}var r={},s=t===Te;return o(e.dataTypes[0])||!r["*"]&&o("*")}function q(t,e){var i,n,o=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function U(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function X(t,e,i,n){var o,r,s,a,l,h={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=h[l+" "+r]||h["* "+r],!s)for(o in h)if(a=o.split(" "),a[1]===r&&(s=h[l+" "+a[0]]||h["* "+a[0]])){s===!0?s=h[o]:h[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function V(t,e,i,n){var o;if(rt.isArray(e))rt.each(e,function(e,o){i||Me.test(t)?n(t,o):V(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==rt.type(e))n(t,e);else for(o in e)V(t+"["+o+"]",e[o],i,n)}function G(t){return rt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Y=[],z=t.document,Z=Y.slice,K=Y.concat,J=Y.push,Q=Y.indexOf,tt={},et=tt.toString,it=tt.hasOwnProperty,nt={},ot="2.2.0",rt=function(t,e){return new rt.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,lt=/-([\da-z])/gi,ht=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:ot,constructor:rt,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Z.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return rt.each(this,t)},map:function(t){return this.pushStack(rt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:Y.sort,splice:Y.splice},rt.extend=rt.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(h&&n&&(rt.isPlainObject(n)||(o=rt.isArray(n)))?(o?(o=!1,r=i&&rt.isArray(i)?i:[]):r=i&&rt.isPlainObject(i)?i:{},s[e]=rt.extend(h,r,n)):void 0!==n&&(s[e]=n));return s},rt.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!rt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"!==rt.type(t)||t.nodeType||rt.isWindow(t)?!1:t.constructor&&!it.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=rt.trim(t),t&&(1===t.indexOf("use strict")?(e=z.createElement("script"),e.text=t,z.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(at,"ms-").replace(lt,ht)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;n>o&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?rt.merge(n,"string"==typeof t?[t]:t):J.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:Q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,s=t.length,a=!i;s>r;r++)n=!e(t[r],r),n!==a&&o.push(t[r]);return o},map:function(t,e,n){var o,r,s=0,a=[];if(i(t))for(o=t.length;o>s;s++)r=e(t[s],s,n),null!=r&&a.push(r);else for(s in t)r=e(t[s],s,n),null!=r&&a.push(r);return K.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(i=t[e],e=t,t=i),rt.isFunction(t)?(n=Z.call(arguments,2),o=function(){return t.apply(e||this,n.concat(Z.call(arguments)))},o.guid=t.guid=t.guid||rt.guid++,o):void 0},now:Date.now,support:nt}),"function"==typeof Symbol&&(rt.fn[Symbol.iterator]=Y[Symbol.iterator]),rt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,i,n){var o,r,s,a,l,h,u,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:B)!==j&&P(e),e=e||j,A)){if(11!==g&&(h=vt.exec(t)))if(o=h[1]){if(9===g){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(p&&(s=p.getElementById(o))&&F(e,s)&&s.id===o)return i.push(s),i}else{if(h[2])return J.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(o)),i}if(x.qsa&&!X[t+" "]&&(!O||!O.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=$),u=T(t),r=u.length,l=dt.test(a)?"#"+a:"[id='"+a+"']";r--;)u[r]=l+" "+d(u[r]);f=u.join(","),p=yt.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(i,p.querySelectorAll(f)),i}catch(m){}finally{a===$&&e.removeAttribute("id")}}}return C(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>E.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[$]=!0,t}function o(t){var e=j.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)E.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=H++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,h,c=[W,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(h=e[$]||(e[$]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),(a=l[n])&&a[0]===W&&a[1]===r)return c[2]=a[2];if(l[n]=c,c[2]=t(e,i,s))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function m(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,h=null!=e;l>a;a++)(r=t[a])&&(!i||i(r,n,o))&&(s.push(r),h&&e.push(a));return s}function v(t,e,i,o,r,s){return o&&!o[$]&&(o=v(o)),r&&!r[$]&&(r=v(r,s)),n(function(n,s,a,l){var h,c,u,d=[],f=[],p=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,d,t,a,l),b=i?r||(n?t:p||o)?[]:s:y;if(i&&i(y,b,a,l),o)for(h=m(b,f),o(h,[],a,l),c=h.length;c--;)(u=h[c])&&(b[f[c]]=!(y[f[c]]=u));if(n){if(r||t){if(r){for(h=[],c=b.length;c--;)(u=b[c])&&h.push(y[c]=u);r(null,b=[],h,l)}for(c=b.length;c--;)(u=b[c])&&(h=r?tt(n,u):d[c])>-1&&(n[h]=!(s[h]=u))}}else b=m(b===s?b.splice(p,b.length):b),r?r(null,s,b,l):J.apply(s,b)})}function y(t){for(var e,i,n,o=t.length,r=E.relative[t[0].type],s=r||E.relative[" "],a=r?1:0,l=f(function(t){return t===e},s,!0),h=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,i,n){var o=!r&&(n||i!==_)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,o}];o>a;a++)if(i=E.relative[t[a].type])c=[f(p(c),i)];else{if(i=E.filter[t[a].type].apply(null,t[a].matches),i[$]){for(n=++a;o>n&&!E.relative[t[n].type];n++);return v(a>1&&p(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),o>n&&y(t=t.slice(n)),o>n&&d(t))}c.push(i)}return p(c)}function b(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,l,h){var c,u,d,f=0,p="0",g=n&&[],v=[],y=_,b=n||r&&E.find.TAG("*",h),w=W+=null==y?1:Math.random()||.1,x=b.length;for(h&&(_=s===j||s||h);p!==x&&null!=(c=b[p]);p++){if(r&&c){for(u=0,s||c.ownerDocument===j||(P(c),a=!A);d=t[u++];)if(d(c,s||j,a)){l.push(c);break}h&&(W=w)}o&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=p,o&&p!==f){for(u=0;d=i[u++];)d(g,v,s,a);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(l));v=m(v)}J.apply(l,v),h&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return h&&(W=w,_=y),g};return o?n(s):s}var w,x,E,N,S,T,k,C,_,M,L,P,j,D,A,O,I,R,F,$="sizzle"+1*new Date,B=t.document,W=0,H=0,q=i(),U=i(),X=i(),V=function(t,e){return t===e&&(L=!0),0},G=1<<31,Y={}.hasOwnProperty,z=[],Z=z.pop,K=z.push,J=z.push,Q=z.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(rt),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Et=function(){P()};try{J.apply(z=Q.call(B.childNodes),B.childNodes),z[B.childNodes.length].nodeType}catch(Nt){J={apply:z.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:B;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,D=j.documentElement,A=!S(j),(i=j.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Et,!1):i.attachEvent&&i.attachEvent("onunload",Et)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(j.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(j.getElementsByClassName),x.getById=o(function(t){return D.appendChild(t).id=$,!j.getElementsByName||!j.getElementsByName($).length}),x.getById?(E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&A){var i=e.getElementById(t);return i?[i]:[]}},E.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),E.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},E.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&A?e.getElementsByClassName(t):void 0},I=[],O=[],(x.qsa=mt.test(j.querySelectorAll))&&(o(function(t){D.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||O.push(".#.+[+~]")}),o(function(t){var e=j.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=mt.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(t){x.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),I.push("!=",rt)}),O=O.length&&new RegExp(O.join("|")),I=I.length&&new RegExp(I.join("|")),e=mt.test(D.compareDocumentPosition),F=e||mt.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return L=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===j||t.ownerDocument===B&&F(B,t)?-1:e===j||e.ownerDocument===B&&F(B,e)?1:M?tt(M,t)-tt(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return L=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!o||!r)return t===j?-1:e===j?1:o?-1:r?1:M?tt(M,t)-tt(M,e):0;if(o===r)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===B?-1:l[n]===B?1:0},j):j},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==j&&P(t),i=i.replace(ct,"='$1']"),x.matchesSelector&&A&&!X[i+" "]&&(!I||!I.test(i))&&(!O||!O.test(i)))try{var n=R.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,j,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==j&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==j&&P(t);var i=E.attrHandle[e.toLowerCase()],n=i&&Y.call(E.attrHandle,e.toLowerCase())?i(t,e,!A):void 0;return void 0!==n?n:x.attributes||!A?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(L=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(V),L){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return M=null,t},N=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=N(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=N(e);return i},E=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(st," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,c,u,d,f,p,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(d=m,u=d[$]||(d[$]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),h=c[t]||[],f=h[0]===W&&h[1],b=f&&h[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[W,f,b];break}}else if(y&&(d=e,u=d[$]||(d[$]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),h=c[t]||[],f=h[0]===W&&h[1],b=f),b===!1)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(u=d[$]||(d[$]={}),c=u[d.uniqueID]||(u[d.uniqueID]={}),c[t]=[W,b]),d!==e)););return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var o,r=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);
return r[$]?r(i):r.length>1?(o=[t,t,"",i],E.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)n=tt(t,o[s]),t[n]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=k(t.replace(at,"$1"));return o[$]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||N(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var i;do if(i=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},E.pseudos.nth=E.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=l(w);return u.prototype=E.filters=E.pseudos,E.setFilters=new u,T=e.tokenize=function(t,i){var n,o,r,s,a,l,h,c=U[t+" "];if(c)return i?0:c.slice(0);for(a=t,l=[],h=E.preFilter;a;){(!n||(o=lt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=ht.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(s in E.filter)!(o=ft[s].exec(a))||h[s]&&!(o=h[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):U(t,l).slice(0)},k=e.compile=function(t,e){var i,n=[],o=[],r=X[t+" "];if(!r){for(e||(e=T(t)),i=e.length;i--;)r=y(e[i]),r[$]?n.push(r):o.push(r);r=X(t,b(o,n)),r.selector=t}return r},C=e.select=function(t,e,i,n){var o,r,s,a,l,h="function"==typeof t&&t,u=!n&&T(t=h.selector||t);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===e.nodeType&&A&&E.relative[r[1].type]){if(e=(E.find.ID(s.matches[0].replace(wt,xt),e)||[])[0],!e)return i;h&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!E.relative[a=s.type]);)if((l=E.find[a])&&(n=l(s.matches[0].replace(wt,xt),yt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&d(r),!t)return J.apply(i,n),i;break}}return(h||k(t,u))(n,e,!A,i,!e||yt.test(t)&&c(e.parentNode)||e),i},x.sortStable=$.split("").sort(V).join("")===$,x.detectDuplicates=!!L,P(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(j.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.uniqueSort=rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&rt(t).is(i))break;n.push(t)}return n},dt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},ft=rt.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?rt.find.matchesSelector(n,t)?[n]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;i>e;e++)if(rt.contains(o[e],this))return!0}));for(e=0;i>e;e++)rt.find(t,o[e],n);return n=this.pushStack(i>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ft.test(t)?rt(t):t||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=rt.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||mt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:z,!0)),pt.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return o=z.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?void 0!==i.ready?i.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};yt.prototype=rt.fn,mt=rt(z);var bt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};rt.fn.extend({has:function(t){var e=rt(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(rt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=ft.test(t)||"string"!=typeof t?rt(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?rt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?Q.call(rt(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.uniqueSort(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ut(t,"parentNode")},parentsUntil:function(t,e,i){return ut(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return ut(t,"nextSibling")},prevAll:function(t){return ut(t,"previousSibling")},nextUntil:function(t,e,i){return ut(t,"nextSibling",i)},prevUntil:function(t,e,i){return ut(t,"previousSibling",i)},siblings:function(t){return dt((t.parentNode||{}).firstChild,t)},children:function(t){return dt(t.firstChild)},contents:function(t){return t.contentDocument||rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(i,n){var o=rt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=rt.filter(n,o)),this.length>1&&(wt[t]||rt.uniqueSort(o),bt.test(t)&&o.reverse()),this.pushStack(o)}});var xt=/\S+/g;rt.Callbacks=function(t){t="string"==typeof t?r(t):rt.extend({},t);var e,i,n,o,s=[],a=[],l=-1,h=function(){for(o=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)s[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(l=s.length-1,a.push(i)),function n(e){rt.each(e,function(e,i){rt.isFunction(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==rt.type(i)&&n(i)})}(arguments),i&&!e&&h()),this},remove:function(){return rt.each(arguments,function(t,e){for(var i;(i=rt.inArray(e,s,i))>-1;)s.splice(i,1),l>=i&&l--}),this},has:function(t){return t?rt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||(s=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||h()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(i){rt.each(e,function(e,r){var s=rt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,n):n}},o={};return n.pipe=n.then,rt.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=Z.call(arguments),s=r.length,a=1!==s||t&&rt.isFunction(t.promise)?s:0,l=1===a?t:rt.Deferred(),h=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?Z.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&rt.isFunction(r[o].promise)?r[o].promise().progress(h(o,i,e)).done(h(o,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}});var Et;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){(t===!0?--rt.readyWait:rt.isReady)||(rt.isReady=!0,t!==!0&&--rt.readyWait>0||(Et.resolveWith(z,[rt]),rt.fn.triggerHandler&&(rt(z).triggerHandler("ready"),rt(z).off("ready"))))}}),rt.ready.promise=function(e){return Et||(Et=rt.Deferred(),"complete"===z.readyState||"loading"!==z.readyState&&!z.documentElement.doScroll?t.setTimeout(rt.ready):(z.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),Et.promise(e)},rt.ready.promise();var Nt=function(t,e,i,n,o,r,s){var a=0,l=t.length,h=null==i;if("object"===rt.type(i)){o=!0;for(a in i)Nt(t,e,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,rt.isFunction(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(rt(t),i)})),e))for(;l>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:h?e.call(t):l?e(t[0],i):r},St=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!St(t))return{};var e=t[this.expando];return e||(e={},St(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[e]=i;else for(n in e)o[n]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,rt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=t[this.expando];if(void 0!==r){if(void 0===e)this.register(t);else{rt.isArray(e)?n=e.concat(e.map(rt.camelCase)):(o=rt.camelCase(e),e in r?n=[e,o]:(n=o,n=n in r?[n]:n.match(xt)||[])),i=n.length;for(;i--;)delete r[n[i]]}(void 0===e||rt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!rt.isEmptyObject(e)}};var Tt=new a,kt=new a,Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;rt.extend({hasData:function(t){return kt.hasData(t)||Tt.hasData(t)},data:function(t,e,i){return kt.access(t,e,i)},removeData:function(t,e){kt.remove(t,e)},_data:function(t,e,i){return Tt.access(t,e,i)},_removeData:function(t,e){Tt.remove(t,e)}}),rt.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=kt.get(r),1===r.nodeType&&!Tt.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=rt.camelCase(n.slice(5)),l(r,n,o[n])));Tt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){kt.set(this,t)}):Nt(this,function(e){var i,n;if(r&&void 0===e){if(i=kt.get(r,t)||kt.get(r,t.replace(_t,"-$&").toLowerCase()),void 0!==i)return i;if(n=rt.camelCase(t),i=kt.get(r,n),void 0!==i)return i;if(i=l(r,n,void 0),void 0!==i)return i}else n=rt.camelCase(t),this.each(function(){var i=kt.get(this,n);kt.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){kt.remove(this,t)})}}),rt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=Tt.get(t,e),i&&(!n||rt.isArray(i)?n=Tt.access(t,e,rt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=rt.queue(t,e),n=i.length,o=i.shift(),r=rt._queueHooks(t,e),s=function(){rt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Tt.get(t,i)||Tt.access(t,i,{empty:rt.Callbacks("once memory").add(function(){Tt.remove(t,[e+"queue",i])})})}}),rt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?rt.queue(this[0],t):void 0===e?this:this.each(function(){var i=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=rt.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=Tt.get(r[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},Dt=/^(?:checkbox|radio)$/i,At=/<([\w:-]+)/,Ot=/^$|\/(?:java|ecma)script/i,It={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};It.optgroup=It.option,It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td;var Rt=/<|&#?\w+;/;!function(){var t=z.createDocumentFragment(),e=t.appendChild(z.createElement("div")),i=z.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ft=/^key/,$t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Bt=/^([^.]*)(?:\.(.+)|)/;rt.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,h,c,u,d,f,p,g,m=Tt.get(t);if(m)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=rt.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof rt&&rt.event.triggered!==e.type?rt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(xt)||[""],h=e.length;h--;)a=Bt.exec(e[h])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(u=rt.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=rt.event.special[f]||{},c=rt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&rt.expr.match.needsContext.test(o),namespace:p.join(".")},r),(d=l[f])||(d=l[f]=[],d.delegateCount=0,u.setup&&u.setup.call(t,n,p,s)!==!1||t.addEventListener&&t.addEventListener(f,s)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),rt.event.global[f]=!0)},remove:function(t,e,i,n,o){var r,s,a,l,h,c,u,d,f,p,g,m=Tt.hasData(t)&&Tt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(xt)||[""],h=e.length;h--;)if(a=Bt.exec(e[h])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(u=rt.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)c=d[r],!o&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(t,c));s&&!d.length&&(u.teardown&&u.teardown.call(t,p,m.handle)!==!1||rt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)rt.event.remove(t,f+e[h],i,n,!0);rt.isEmptyObject(l)&&Tt.remove(t,"handle events")}},dispatch:function(t){t=rt.event.fix(t);var e,i,n,o,r,s=[],a=Z.call(arguments),l=(Tt.get(this,"events")||{})[t.type]||[],h=rt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(s=rt.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((rt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?rt(o,this).index(l)>-1:rt.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||z,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[rt.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=$t.test(o)?this.mouseHooks:Ft.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new rt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=z),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&rt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},rt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:p):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={constructor:rt.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==n&&!rt.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),rt.fn.extend({on:function(t,e,i,n){return m(this,t,e,i,n)},one:function(t,e,i,n){return m(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,rt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=p),this.each(function(){rt.event.remove(this,t,i,e)})}});var Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;rt.extend({htmlPrefilter:function(t){return t.replace(Wt,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),l=rt.contains(t.ownerDocument,t);if(!(nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(s=c(a),r=c(t),n=0,o=r.length;o>n;n++)x(r[n],s[n]);if(e)if(i)for(r=r||c(t),s=s||c(a),n=0,o=r.length;o>n;n++)w(r[n],s[n]);else w(t,a);return s=c(a,"script"),s.length>0&&u(s,!l&&c(t,"script")),a},cleanData:function(t){for(var e,i,n,o=rt.event.special,r=0;void 0!==(i=t[r]);r++)if(St(i)){if(e=i[Tt.expando]){if(e.events)for(n in e.events)o[n]?rt.event.remove(i,n):rt.removeEvent(i,n,e.handle);i[Tt.expando]=void 0}i[kt.expando]&&(i[kt.expando]=void 0)}}}),rt.fn.extend({domManip:E,detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?rt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(rt.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!It[(At.exec(t)||["",""])[1].toLowerCase()]){t=rt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(rt.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var i=this.parentNode;rt.inArray(this,t)<0&&(rt.cleanData(c(this)),i&&i.replaceChild(e,this))},t)}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var i,n=[],o=rt(t),r=o.length-1,s=0;r>=s;s++)i=s===r?this:this.clone(!0),rt(o[s])[e](i),J.apply(n,i.get());return this.pushStack(n)}});var Vt,Gt={HTML:"block",BODY:"block"},Yt=/^margin/,zt=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),Zt=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},Kt=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o},Jt=z.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Jt.appendChild(s);var e=t.getComputedStyle(a);i="1%"!==e.top,r="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,Jt.removeChild(s)}var i,n,o,r,s=z.createElement("div"),a=z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),rt.extend(nt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),o},reliableMarginLeft:function(){return null==n&&e(),r},reliableMarginRight:function(){var e,i=a.appendChild(z.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Jt.appendChild(s),e=!parseFloat(t.getComputedStyle(i).marginRight),Jt.removeChild(s),a.removeChild(i),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","O","Moz","ms"],ne=z.createElement("div").style;rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=k(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=rt.camelCase(e),l=t.style;return e=rt.cssProps[a]||(rt.cssProps[a]=_(a)||a),s=rt.cssHooks[e]||rt.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:l[e]:(r=typeof i,"string"===r&&(o=Lt.exec(i))&&o[1]&&(i=h(t,e,o),r="number"),void(null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(rt.cssNumber[a]?"":"px")),nt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i))))}},css:function(t,e,i,n){var o,r,s,a=rt.camelCase(e);return e=rt.cssProps[a]||(rt.cssProps[a]=_(a)||a),s=rt.cssHooks[e]||rt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=k(t,e,n)),"normal"===o&&e in ee&&(o=ee[e]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,i,n){return i?Qt.test(rt.css(t,"display"))&&0===t.offsetWidth?Kt(t,te,function(){return P(t,e,n)}):P(t,e,n):void 0},set:function(t,i,n){var o,r=n&&Zt(t),s=n&&L(t,e,n,"border-box"===rt.css(t,"boxSizing",!1,r),r);return s&&(o=Lt.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=rt.css(t,e)),M(t,i,s)}}}),rt.cssHooks.marginLeft=C(nt.reliableMarginLeft,function(t,e){return e?(parseFloat(k(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),rt.cssHooks.marginRight=C(nt.reliableMarginRight,function(t,e){return e?Kt(t,{display:"inline-block"},k,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Pt[n]+e]=r[n]||r[n-2]||r[0];return o}},Yt.test(t)||(rt.cssHooks[t+e].set=M)}),rt.fn.extend({css:function(t,e){return Nt(this,function(t,e,i){var n,o,r={},s=0;if(rt.isArray(e)){for(n=Zt(t),o=e.length;o>s;s++)r[e[s]]=rt.css(t,e[s],!1,n);return r}return void 0!==i?rt.style(t,e,i):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=D,D.prototype={constructor:D,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||rt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(rt.cssNumber[i]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,i=D.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[rt.cssProps[t.prop]]&&!rt.cssHooks[t.prop]?t.elem[t.prop]=t.now:rt.style(t.elem,t.prop,t.now+t.unit)}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},rt.fx=D.prototype.init,rt.fx.step={};var oe,re,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;rt.Animation=rt.extend($,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return h(i.elem,t,Lt.exec(e),i),i}]},tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.match(xt);for(var i,n=0,o=t.length;o>n;n++)i=t[n],$.tweeners[i]=$.tweeners[i]||[],$.tweeners[i].unshift(e)},prefilters:[R],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),rt.speed=function(t,e,i){var n=t&&"object"==typeof t?rt.extend({},t):{complete:i||!i&&e||rt.isFunction(t)&&t,duration:t,
easing:i&&e||e&&!rt.isFunction(e)&&e};return n.duration=rt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in rt.fx.speeds?rt.fx.speeds[n.duration]:rt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){rt.isFunction(n.old)&&n.old.call(this),n.queue&&rt.dequeue(this,n.queue)},n},rt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=rt.isEmptyObject(t),r=rt.speed(e,i,n),s=function(){var e=$(this,rt.extend({},t),r);(o||Tt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=rt.timers,s=Tt.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&ae.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));(e||!i)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Tt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=rt.timers,s=n?n.length:0;for(i.finish=!0,rt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var i=rt.fn[e];rt.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(O(e,!0),t,n,o)}}),rt.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),rt.timers=[],rt.fx.tick=function(){var t,e=0,i=rt.timers;for(oe=rt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||rt.fx.stop(),oe=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){re||(re=t.setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){t.clearInterval(re),re=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,i){return e=rt.fx?rt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t=z.createElement("input"),e=z.createElement("select"),i=e.appendChild(z.createElement("option"));t.type="checkbox",nt.checkOn=""!==t.value,nt.optSelected=i.selected,e.disabled=!0,nt.optDisabled=!i.disabled,t=z.createElement("input"),t.value="t",t.type="radio",nt.radioValue="t"===t.value}();var le,he=rt.expr.attrHandle;rt.fn.extend({attr:function(t,e){return Nt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;return 3!==r&&8!==r&&2!==r?"undefined"==typeof t.getAttribute?rt.prop(t,e,i):(1===r&&rt.isXMLDoc(t)||(e=e.toLowerCase(),o=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?le:void 0)),void 0!==i?null===i?void rt.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=rt.find.attr(t,e),null==n?void 0:n)):void 0},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(xt);if(r&&1===t.nodeType)for(;i=r[o++];)n=rt.propFix[i]||i,rt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),le={set:function(t,e,i){return e===!1?rt.removeAttr(t,i):t.setAttribute(i,i),i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=he[e]||rt.find.attr;he[e]=function(t,e,n){var o,r;return n||(r=he[e],he[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,he[e]=r),o}});var ce=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return Nt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[rt.propFix[t]||t]})}}),rt.extend({prop:function(t,e,i){var n,o,r=t.nodeType;return 3!==r&&8!==r&&2!==r?(1===r&&rt.isXMLDoc(t)||(e=rt.propFix[e]||e,o=rt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this});var de=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,l=0;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,B(this)))});if("string"==typeof t&&t)for(e=t.match(xt)||[];i=this[l++];)if(o=B(i),n=1===i.nodeType&&(" "+o+" ").replace(de," ")){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=rt.trim(n),o!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,l=0;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(xt)||[];i=this[l++];)if(o=B(i),n=1===i.nodeType&&(" "+o+" ").replace(de," ")){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=rt.trim(n),o!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(i){rt(this).toggleClass(t.call(this,i,B(this),e),e)}):this.each(function(){var e,n,o,r;if("string"===i)for(n=0,o=rt(this),r=t.match(xt)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(void 0===t||"boolean"===i)&&(e=B(this),e&&Tt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Tt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+B(i)+" ").replace(de," ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g;rt.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=rt.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,rt(this).val()):t,null==o?o="":"number"==typeof o?o+="":rt.isArray(o)&&(o=rt.map(o,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=rt.valHooks[o.type]||rt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(fe,""):null==i?"":i)):void 0}}),rt.extend({valHooks:{option:{get:function(t){return rt.trim(t.value)}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:n.length,l=0>o?a:r?o:0;a>l;l++)if(i=n[l],(i.selected||l===o)&&(nt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!rt.nodeName(i.parentNode,"optgroup"))){if(e=rt(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=rt.makeArray(e),s=o.length;s--;)n=o[s],(n.selected=rt.inArray(rt.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>-1:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var pe=/^(?:focusinfocus|focusoutblur)$/;rt.extend(rt.event,{trigger:function(e,i,n,o){var r,s,a,l,h,c,u,d=[n||z],f=it.call(e,"type")?e.type:e,p=it.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||z,3!==n.nodeType&&8!==n.nodeType&&!pe.test(f+rt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),h=f.indexOf(":")<0&&"on"+f,e=e[rt.expando]?e:new rt.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:rt.makeArray(i,[e]),u=rt.event.special[f]||{},o||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!o&&!u.noBubble&&!rt.isWindow(n)){for(l=u.delegateType||f,pe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||z)&&d.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:u.bindType||f,c=(Tt.get(s,"events")||{})[e.type]&&Tt.get(s,"handle"),c&&c.apply(s,i),c=h&&s[h],c&&c.apply&&St(s)&&(e.result=c.apply(s,i),e.result===!1&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||u._default&&u._default.apply(d.pop(),i)!==!1||!St(n)||h&&rt.isFunction(n[f])&&!rt.isWindow(n)&&(a=n[h],a&&(n[h]=null),rt.event.triggered=f,n[f](),rt.event.triggered=void 0,a&&(n[h]=a)),e.result}},simulate:function(t,e,i){var n=rt.extend(new rt.Event,i,{type:t,isSimulated:!0});rt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}}),rt.fn.extend({trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?rt.event.trigger(t,e,i,!0):void 0}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),nt.focusin="onfocusin"in t,nt.focusin||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){rt.event.simulate(e,t.target,rt.event.fix(t))};rt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=Tt.access(n,e);o||n.addEventListener(t,i,!0),Tt.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Tt.access(n,e)-1;o?Tt.access(n,e,o):(n.removeEventListener(t,i,!0),Tt.remove(n,e))}}});var ge=t.location,me=rt.now(),ve=/\?/;rt.parseJSON=function(t){return JSON.parse(t+"")},rt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return(!i||i.getElementsByTagName("parsererror").length)&&rt.error("Invalid XML: "+e),i};var ye=/#.*$/,be=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ee=/^(?:GET|HEAD)$/,Ne=/^\/\//,Se={},Te={},ke="*/".concat("*"),Ce=z.createElement("a");Ce.href=ge.href,rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:xe.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,rt.ajaxSettings),e):q(rt.ajaxSettings,t)},ajaxPrefilter:W(Se),ajaxTransport:W(Te),ajax:function(e,i){function n(e,i,n,a){var h,u,y,b,x,N=i;2!==w&&(w=2,l&&t.clearTimeout(l),o=void 0,s=a||"",E.readyState=e>0?4:0,h=e>=200&&300>e||304===e,n&&(b=U(d,E,n)),b=X(d,b,E,h),h?(d.ifModified&&(x=E.getResponseHeader("Last-Modified"),x&&(rt.lastModified[r]=x),x=E.getResponseHeader("etag"),x&&(rt.etag[r]=x)),204===e||"HEAD"===d.type?N="nocontent":304===e?N="notmodified":(N=b.state,u=b.data,y=b.error,h=!y)):(y=N,(e||!N)&&(N="error",0>e&&(e=0))),E.status=e,E.statusText=(i||N)+"",h?g.resolveWith(f,[u,N,E]):g.rejectWith(f,[E,N,y]),E.statusCode(v),v=void 0,c&&p.trigger(h?"ajaxSuccess":"ajaxError",[E,d,h?u:y]),m.fireWith(f,[E,N]),c&&(p.trigger("ajaxComplete",[E,d]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,r,s,a,l,h,c,u,d=rt.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?rt(f):rt.event,g=rt.Deferred(),m=rt.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=we.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else E.always(t[E.status]);return this},abort:function(t){var e=t||x;return o&&o.abort(e),n(0,e),this}};if(g.promise(E).complete=m.add,E.success=E.done,E.error=E.fail,d.url=((e||d.url||ge.href)+"").replace(ye,"").replace(Ne,ge.protocol+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=rt.trim(d.dataType||"*").toLowerCase().match(xt)||[""],null==d.crossDomain){h=z.createElement("a");try{h.href=d.url,h.href=h.href,d.crossDomain=Ce.protocol+"//"+Ce.host!=h.protocol+"//"+h.host}catch(N){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=rt.param(d.data,d.traditional)),H(Se,d,i,E),2===w)return E;c=rt.event&&d.global,c&&0===rt.active++&&rt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ee.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ve.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=be.test(r)?r.replace(be,"$1_="+me++):r+(ve.test(r)?"&":"?")+"_="+me++)),d.ifModified&&(rt.lastModified[r]&&E.setRequestHeader("If-Modified-Since",rt.lastModified[r]),rt.etag[r]&&E.setRequestHeader("If-None-Match",rt.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ke+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)E.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(f,E,d)===!1||2===w))return E.abort();x="abort";for(u in{success:1,error:1,complete:1})E[u](d[u]);if(o=H(Te,d,i,E)){if(E.readyState=1,c&&p.trigger("ajaxSend",[E,d]),2===w)return E;d.async&&d.timeout>0&&(l=t.setTimeout(function(){E.abort("timeout")},d.timeout));try{w=1,o.send(y,n)}catch(N){if(!(2>w))throw N;n(-1,N)}}else n(-1,"No Transport");return E},getJSON:function(t,e,i){return rt.get(t,e,i,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,i,n,o){return rt.isFunction(i)&&(o=o||n,n=i,i=void 0),rt.ajax(rt.extend({url:t,type:e,dataType:o,data:i,success:n},rt.isPlainObject(t)&&t))}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){var e;return rt.isFunction(t)?this.each(function(e){rt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=rt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(i){rt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return!rt.expr.filters.visible(t)},rt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var _e=/%20/g,Me=/\[\]$/,Le=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,je=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var i,n=[],o=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){o(this.name,this.value)});else for(i in t)V(i,t[i],e,o);return n.join("&").replace(_e,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&je.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Dt.test(t))}).map(function(t,e){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:i.replace(Le,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var De={0:200,1223:204},Ae=rt.ajaxSettings.xhr();nt.cors=!!Ae&&"withCredentials"in Ae,nt.ajax=Ae=!!Ae,rt.ajaxTransport(function(e){var i,n;return nt.cors||Ae&&!e.crossDomain?{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(De[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(i)throw l}},abort:function(){i&&i()}}:void 0}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=rt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),z.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Oe=[],Ie=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oe.pop()||rt.expando+"_"+me++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,s,a=e.jsonp!==!1&&(Ie.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ie.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ie,"$1"+o):e.jsonp!==!1&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||rt.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always(function(){void 0===r?rt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,Oe.push(o)),s&&rt.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),nt.createHTMLDocument=function(){var t=z.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),rt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(nt.createHTMLDocument?z.implementation.createHTMLDocument(""):z);var n=pt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=d([t],e,o),o&&o.length&&rt(o).remove(),rt.merge([],n.childNodes))};var Re=rt.fn.load;rt.fn.load=function(t,e,i){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=rt.trim(t.slice(a)),t=t.slice(0,a)),rt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&rt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?rt("<div>").append(rt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(s,r||[t.responseText,e,t])})}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length},rt.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,h,c=rt.css(t,"position"),u=rt(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),r=rt.css(t,"top"),l=rt.css(t,"left"),h=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,h?(n=u.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,i,rt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):u.css(d)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;return r?(e=r.documentElement,rt.contains(e,n)?(o=n.getBoundingClientRect(),i=G(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0)-t.scrollTop(),n.left+=rt.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;rt.fn[t]=function(n){return Nt(this,function(t,n,o){var r=G(t);return void 0===o?r?r[e]:t[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):t[n]=o)},t,n,arguments.length)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=C(nt.pixelPosition,function(t,i){return i?(i=k(t,e),zt.test(i)?rt(t).position()[e]+"px":i):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){rt.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border");return Nt(this,function(e,i,n){var o;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?rt.css(e,i,s):rt.style(e,i,n,s)},e,r?n:void 0,r,null)}})}),rt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var Fe=t.jQuery,$e=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=$e),e&&t.jQuery===rt&&(t.jQuery=Fe),rt},e||(t.jQuery=t.$=rt),rt}),define("config/settings",[],function(){"use strict";return{geocache:{auth_url:"http://geopeitus.ee",features_url:"http://www.geopeitus.ee/index.php?p=301&status[]=1&format=2",cache_url:"http://geopeitus.ee/aare/"},map:{el:"map",center:[25.5,58.5],zoom:7,extent:[21,57,29,60],baseLayers:{osm_et:{title:"OSM Eesti",url:"http://kaart.maakaart.ee/osm/tiles/1.0.0/osm_EPSG900913/{z}/{x}/{y}.png?origin=nw"},osm:{title:"OSM",url:"http://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},orto:{title:"Fotokaart",url:"http://kaart.maakaart.ee/orto/{z}/{x}/{y}.jpeg",minZoom:14}},activeBaseLayer:"osm_et",geocodingEnabled:!0,locateEnabled:!0,clustered:!1,mouseCoordinates:!0,featureInfo:!0}}});var m,aa=this,ca=0;v(da,Error);var ga=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),la="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;o>n;++n){var r=arguments[n];if(void 0!==r&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i};wa.prototype.pa=!1,wa.prototype.aa=ba,za.prototype.preventDefault=za.prototype.stopPropagation=function(){this.df=!0},v(Ba,wa),Ba.prototype.addEventListener=function(t,e){var i=this.C[t];i||(i=this.C[t]=[]),-1===i.indexOf(e)&&i.push(e)},Ba.prototype.J=function(t){var e="string"==typeof t?new za(t):t;t=e.type,e.target=this;var i,n=this.C[t];if(n){t in this.F||(this.F[t]=0,this.P[t]=0),++this.F[t];for(var o=0,r=n.length;r>o;++o)if(!1===n[o].call(this,e)||e.df){i=!1;break}if(--this.F[t],0===this.F[t]){for(e=this.P[t],delete this.P[t];e--;)this.removeEventListener(t,ba);delete this.F[t]}return i}},Ba.prototype.aa=function(){var t,e=ta(this);for(t in e)ua(this,t)},Ba.prototype.removeEventListener=function(t,e){var i=this.C[t];if(i){var n=i.indexOf(e);console.assert(-1!=n,"listener not found"),t in this.P?(i[n]=ba,++this.P[t]):(i.splice(n,1),0===i.length&&delete this.C[t])}},v(Da,Ba),m=Da.prototype,m.A=function(){++this.f,this.J("change")},m.Pd=function(){return this.f},m.ab=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),r=0;n>r;++r)o[r]=C(this,t[r],e,i);return o}return C(this,t,e,i)},m.Ue=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),r=0;n>r;++r)o[r]=C(this,t[r],e,i,!0);return o}return C(this,t,e,i,!0)},m.vf=function(t,e,i){if(Array.isArray(t))for(var n=0,o=t.length;o>n;++n)va(this,t[n],e,i);else va(this,t,e,i)},m.wf=function(t){if(Array.isArray(t))for(var e=0,i=t.length;i>e;++e)B(t[e]);else B(t)},v(D,Da);var Ea={};m=D.prototype,m.get=function(t){var e;return this.j.hasOwnProperty(t)&&(e=this.j[t]),e},m.Pe=function(){return Object.keys(this.j)},m.ta=function(){return la({},this.j)},m.set=function(t,e,i){i?this.j[t]=e:(i=this.j[t],this.j[t]=e,i!==e&&Ga(this,t,i))},m.fa=function(t,e){for(var i in t)this.set(i,t[i],e)},m.xf=function(t,e){if(t in this.j){var i=this.j[t];delete this.j[t],e||Ga(this,t,i)}};var Ia="propertychange";v(Ha,za),wb.prototype.offset=function(t,e,i){var n=t[1]*Math.PI/180;e/=this.radius;var o=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(t[0]*Math.PI/180+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(o)))/Math.PI,180*o/Math.PI]};var xb={};xb.degrees=2*Math.PI*new wb(6370997).radius/360,xb.ft=.3048,xb.m=1,xb["us-ft"]=1200/3937,yb.prototype.R=function(){return this.j};var zb={},Ab={};v(Nb,D),Nb.prototype.R=function(t){this.B!=this.f&&(this.v=this.Lb(this.v),this.B=this.f);var e=this.v;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Nb.prototype.transform=function(t,e){return console.assert("tile-pixels"!==Hb(t).f&&"tile-pixels"!==Hb(e).f,"cannot transform geometries with TILE_PIXELS units"),this.Ra(Kb(t,e)),this},v(Pb,Nb),m=Pb.prototype,m.Lb=function(t){var e=this.o,i=this.o.length,n=this.a;return t=lb(t),ob(t,e,0,i,n)},m.Qb=function(t){if(this.u!=this.f&&(ma(this.i),this.l=0,this.u=this.f),0>t||0!==this.l&&t<=this.l)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i=this.Fa(t);return i.o.length<this.o.length?this.i[e]=i:(this.l=t,this)},m.Fa=function(){return this},m.Ra=function(t){this.o&&(t(this.o,this.o,this.a),this.A())},m.rotate=function(t,e){var i=this.o;if(i){for(var n=i.length,o=this.a,r=i?i:[],s=Math.cos(t),a=Math.sin(t),l=e[0],h=e[1],c=0,u=0;n>u;u+=o){var d=i[u]-l,f=i[u+1]-h;for(r[c++]=l+d*s-f*a,r[c++]=h+d*a+f*s,d=u+2;u+o>d;++d)r[c++]=i[d]}i&&r.length!=c&&(r.length=c),this.A()}},m.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;if(o||(o=pb(this.R())),i=this.o){e=i.length;for(var r=this.a,s=i?i:[],a=o[0],o=o[1],l=0,h=0;e>h;h+=r){var c=i[h]-a,u=i[h+1]-o;for(s[l++]=a+t*c,s[l++]=o+n*u,c=h+2;h+r>c;++c)s[l++]=i[c]}i&&s.length!=l&&(s.length=l),this.A()}},m.translate=function(t,e){var i=this.o;if(i){var n,o,r=i.length,s=this.a,a=i?i:[],l=0;for(n=0;r>n;n+=s)for(a[l++]=i[n]+t,a[l++]=i[n+1]+e,o=n+2;n+s>o;++o)a[l++]=i[o];i&&a.length!=l&&(a.length=l),this.A()}},v(Zb,Pb),m=Zb.prototype,m.clone=function(){var t=new Zb(null);return Rb(t,this.T,this.o.slice()),t.A(),t},m.ca=function(){return Vb(this.o,0,this.o.length,this.a)},m.Fa=function(t){var e=[];return e.length=Xb(this.o,0,this.o.length,this.a,t,e,0),t=new Zb(null),Rb(t,"XY",e),t.A(),t},m.W=function(){return"LinearRing"},m.ha=function(t,e){t?(Sb(this,e,t,1),this.o||(this.o=[]),this.o.length=Tb(this.o,0,t,this.a)):Rb(this,"XY",null),this.A()},v($b,Pb),m=$b.prototype,m.clone=function(){var t=new $b(null);return t.O(this.T,this.o.slice()),t},m.ca=function(){return this.o?this.o.slice():[]},m.Lb=function(t){var e=this.o,i=e[0],e=e[1];return ib(i,e,i,e,t)},m.W=function(){return"Point"},m.ha=function(t,e){if(t){Sb(this,e,t,0),this.o||(this.o=[]);var i=this.o,n=this.o,o=0;console.assert(t.length==this.a,"length of the coordinate array should match stride");var r,s;for(r=0,s=t.length;s>r;++r)n[o++]=t[r];i.length=o,this.A()}else this.O("XY",null)},m.O=function(t,e){Rb(this,t,e),this.A()},v(gc,Pb),m=gc.prototype,m.clone=function(){var t=new gc(null);return t.O(this.T,this.o.slice(),this.c.slice()),t},m.ca=function(t){var e;return void 0!==t?(e=hc(this).slice(),ec(e,0,this.c,this.a,t)):e=this.o,Wb(e,0,this.c,this.a)},m.Ea=function(){return this.c},m.Fa=function(t){var e=[],i=[];return e.length=Yb(this.o,0,this.c,this.a,Math.sqrt(t),e,0,i),t=new gc(null),t.O("XY",e,i),t},m.W=function(){return"Polygon"},m.ha=function(t,e){if(t){Sb(this,e,t,2),this.o||(this.o=[]);var i=Ub(this.o,0,t,this.a,this.c);this.o.length=0===i.length?0:i[i.length-1],this.A()}else this.O("XY",null,this.c)},m.O=function(t,e,i){e?0===i.length?console.assert(0===e.length,"flatCoordinates should be an empty array"):console.assert(e.length==i[i.length-1],"the length of flatCoordinates should be the last entry of ends"):console.assert(i&&0===i.length,"ends must be an empty array"),Rb(this,t,e),this.c=i,this.A()},v(jc,D),m=jc.prototype,m.animate=function(t){var e,i=Date.now(),n=this.ka().slice(),o=oc(this),r=pc(this),s=arguments.length;s>1&&"function"==typeof arguments[s-1]&&(e=arguments[s-1],--s);for(var a=[],l=0;s>l;++l){var h=arguments[l],c={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||cb};h.center&&(c.gc=n,c.ic=h.center,n=c.ic),void 0!==h.zoom?(c.Bb=o,c.Cb=this.constrainResolution(this.g,h.zoom-this.i,0),o=c.Cb):h.resolution&&(c.Bb=o,c.Cb=h.resolution,o=c.Cb),void 0!==h.rotation&&(c.hc=r,c.jd=h.rotation,r=c.jd),c.pb=e,i+=c.duration,a.push(c)}this.a.push(a),qc(this,rc,1),this.Eb()},m.Eb=function(){if(void 0!==this.s&&(cancelAnimationFrame(this.s),this.s=void 0),sc(this)){for(var t=Date.now(),e=!1,i=this.a.length-1;i>=0;--i){for(var n=this.a[i],o=!0,r=0,s=n.length;s>r;++r){var a=n[r];if(!a.complete){if(e=t-a.start,e=0<a.duration?e/a.duration:1,
e>=1?(a.complete=!0,e=1):o=!1,e=a.easing(e),a.gc){var l=a.gc[0],h=a.gc[1];this.set(kc,[l+e*(a.ic[0]-l),h+e*(a.ic[1]-h)])}if(a.Bb&&(l=a.Bb+e*(a.Cb-a.Bb),a.anchor&&this.set(kc,vc(this,l,a.anchor)),this.set(mc,l)),void 0!==a.hc&&(e=a.hc+e*(a.jd-a.hc),a.anchor&&this.set(kc,wc(this,e,a.anchor)),this.set(nc,e)),e=!0,!a.complete)break}}o&&(this.a[i]=null,qc(this,rc,-1),(n=n[0].pb)&&n(!0))}this.a=this.a.filter(Boolean),e&&void 0===this.s&&(this.s=requestAnimationFrame(this.Eb))}},m.constrainResolution=function(t,e,i){return this.c.resolution(t,e||0,i||0)},m.constrainRotation=function(t,e){return this.c.rotation(t,e||0)},m.ka=function(){return this.get(kc)},m.Qe=function(){return this.u},m.da=function(){console.assert(yc(this),"the view was not defined (had no center and/or resolution)");var t=this.ka(),e=this.u,i=oc(this),n=pc(this);return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:n}},m.Sd=function(){var t,e=oc(this);if(void 0!==e&&e>=this.v&&e<=this.g){t=this.i||0;var i,n;if(this.l){if(n=La(this.l,e,1),t+=n,n==this.l.length-1)return t;i=this.l[n],n=i/this.l[n+1]}else i=this.g,n=this.B;t+=Math.log(i/e)/Math.log(n)}return t},m.Id=function(t,e,i){if(!(t instanceof Pb)){y(Array.isArray(t),24),y(!(t[2]<t[0]||t[3]<t[1]),25);var n=t[0],o=t[1],r=t[2],s=t[3],n=[n,o,n,s,r,s,r,o,n,o],o=new gc(null);o.O("XY",n,[n.length]),t=o}i=i||{};var a,o=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0!==i.constrainResolution?i.constrainResolution:!0,s=void 0!==i.nearest?i.nearest:!1;a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.g,i.maxZoom-this.i,0):0;var h=t.o,r=pc(this);console.assert(void 0!==r,"rotation was not defined");var n=Math.cos(-r),r=Math.sin(-r),c=1/0,u=1/0,d=-(1/0),f=-(1/0);t=t.a;for(var p=0,g=h.length;g>p;p+=t)var m=h[p]*n-h[p+1]*r,v=h[p]*r+h[p+1]*n,c=Math.min(c,m),u=Math.min(u,v),d=Math.max(d,m),f=Math.max(f,v);e=xc([c,u,d,f],[e[0]-o[1]-o[3],e[1]-o[0]-o[2]]),e=isNaN(e)?a:Math.max(e,a),l&&(a=this.constrainResolution(e,0,0),!s&&e>a&&(a=this.constrainResolution(a,-1,0)),e=a),r=-r,a=(c+d)/2+(o[1]-o[3])/2*e,o=(u+f)/2+(o[0]-o[2])/2*e,a=[a*n-o*r,o*n+a*r],void 0!==i.duration?this.animate({resolution:e,center:a,duration:i.duration,easing:i.easing}):(zc(this,e),this.ua(a))},m.rotate=function(t,e){if(void 0!==e){var i=wc(this,t,e);this.ua(i)}this.set(nc,t),sc(this)&&uc(this)},m.ua=function(t){this.set(kc,t),sc(this)&&uc(this)},m.nf=function(t){t=this.constrainResolution(this.g,t-this.i,0),zc(this,t)};var kc="center",mc="resolution",nc="rotation",rc=0,Gc=[0,0,0];Ec.prototype.R=function(){return this.l},v(I,D),m=I.prototype,m.clear=function(){for(;0<this.Za();)this.pop()},m.forEach=function(t,e){this.a.forEach(t,e)},m.De=function(){return this.a},m.item=function(t){return this.a[t]},m.Za=function(){return this.get(Uc)},m.Qc=function(t,e){this.a.splice(t,0,e),Tc(this),this.J(new Vc(Wc,e))},m.pop=function(){return this.dc(this.Za()-1)},m.push=function(t){var e=this.Za();return this.Qc(e,t),this.Za()},m.remove=function(t){var e,i,n=this.a;for(e=0,i=n.length;i>e;++e)if(n[e]===t)return this.dc(e)},m.dc=function(t){var e=this.a[t];return this.a.splice(t,1),Tc(this),this.J(new Vc(Xc,e)),e};var Uc="length",Wc="add",Xc="remove";v(Vc,za);var Yc=/^#(?:[0-9a-f]{3}){1,2}$/i,Zc=/^([a-z]*)$/i,bd=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=1024){n=0;for(var o in t)0===(3&n++)&&(delete t[o],--e)}n=i;var r;if(Zc.exec(n)&&(o=document.createElement("div"),o.style.color=n,document.body.appendChild(o),n=getComputedStyle(o).color,document.body.removeChild(o)),Yc.exec(n)){r=n.length-1,y(3==r||6==r,54);var s=3==r?1:2;r=parseInt(n.substr(1+0*s,s),16),o=parseInt(n.substr(1+1*s,s),16),n=parseInt(n.substr(1+2*s,s),16),1==s&&(r=(r<<4)+r,o=(o<<4)+o,n=(n<<4)+n),r=[r,o,n,1]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),r=ad(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),r=ad(n)):y(!1,14);n=r,t[i]=n,++e}return n}}();v(gd,za),v(hd,D),hd.prototype.aa=function(){fd(this.element),D.prototype.aa.call(this)},hd.prototype.setMap=function(t){this.g&&fd(this.element);for(var e=0,i=this.i.length;i>e;++e)B(this.i[e]);this.i.length=0,(this.g=t)&&((this.L?this.L:t.s).appendChild(this.element),this.render!==ba&&this.i.push(C(t,"postrender",this.render,this)),t.render())},v(id,hd),id.prototype.X=function(t){if(t.preventDefault(),this.element.classList.toggle("ol-collapsed"),this.c){t=this.u;var e=t.parentNode;e&&e.replaceChild(this.s,t)}else t=this.s,(e=t.parentNode)&&e.replaceChild(this.u,t);this.c=!this.c},v(kd,hd),kd.prototype.u=function(t){t.preventDefault(),void 0!==this.c?this.c():(t=this.g.S())&&void 0!==pc(t)&&(0<this.l?t.animate({rotation:0,duration:this.l,easing:bb}):(t.set(nc,0),sc(t)&&uc(t)))},v(md,hd),md.prototype.b=function(t,e){e.preventDefault();var i=this.g.S();if(i){var n=oc(i);n&&(n=i.constrainResolution(n,t),0<this.a?(sc(i)&&uc(i),i.animate({resolution:n,duration:this.a,easing:bb})):zc(i,n))}},v(od,hd),od.prototype.v=function(){this.b=null},od.prototype.s=function(t){this.c=this.g.Nb(t),sd(this,this.c)},od.prototype.u=function(){sd(this,null),this.c=null},od.prototype.setMap=function(t){hd.prototype.setMap.call(this,t),t&&(t=t.a,this.i.push(C(t,"mousemove",this.s,this),C(t,"mouseout",this.u,this)))};var qd="projection",rd="coordinateFormat";v(td,gd),td.prototype.preventDefault=function(){gd.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},td.prototype.stopPropagation=function(){gd.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var ud={Lf:"singleclick",zf:"click",Af:"dblclick",Df:"pointerdrag",Gf:"pointermove",Cf:"pointerdown",Jf:"pointerup",If:"pointerover",Hf:"pointerout",Ef:"pointerenter",Ff:"pointerleave",Bf:"pointercancel"};v(vd,td);var wd="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",xd=-1!==wd.indexOf("firefox"),yd=-1!==wd.indexOf("safari")&&-1==wd.indexOf("chrom"),zd=-1!==wd.indexOf("webkit")&&-1==wd.indexOf("edge"),Ad=-1!==wd.indexOf("macintosh"),Bd=window.devicePixelRatio||1,Cd=!1,Dd=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return t?(void 0!==t.setLineDash&&(Cd=!0),!0):!1}catch(e){return!1}}(),Ed="geolocation"in navigator,Fd="ontouchstart"in window,Gd="PointerEvent"in window,Hd=!!navigator.msPointerEnabled;v(Jd,Id),m=Jd.prototype,m.ne=function(t){if(!Kd(this,t)){if(1..toString()in this.f){var e=Ld(t);Nd(this.a,"pointercancel",e,t),delete this.f[1..toString()]}e=Ld(t),this.f[1..toString()]=t,Nd(this.a,"pointerdown",e,t)}},m.oe=function(t){if(!Kd(this,t)){var e=Ld(t);Nd(this.a,"pointermove",e,t)}},m.re=function(t){if(!Kd(this,t)){var e=this.f[1..toString()];e&&e.button===t.button&&(e=Ld(t),Nd(this.a,"pointerup",e,t),delete this.f[1..toString()])}},m.qe=function(t){if(!Kd(this,t)){var e=Ld(t);Od(this.a,e,t)}},m.pe=function(t){if(!Kd(this,t)){var e=Ld(t);Pd(this.a,e,t)}},v(Qd,Id),m=Qd.prototype,m.we=function(t){this.f[t.pointerId.toString()]=t;var e=Rd(this,t);Nd(this.a,"pointerdown",e,t)},m.xe=function(t){var e=Rd(this,t);Nd(this.a,"pointermove",e,t)},m.Ae=function(t){var e=Rd(this,t);Nd(this.a,"pointerup",e,t),delete this.f[t.pointerId.toString()]},m.ye=function(t){var e=Rd(this,t);Pd(this.a,e,t)},m.ze=function(t){var e=Rd(this,t);Od(this.a,e,t)},m.ve=function(t){var e=Rd(this,t);Nd(this.a,"pointercancel",e,t),delete this.f[t.pointerId.toString()]},m.ue=function(t){this.a.J(new Sd("lostpointercapture",t,t))},m.te=function(t){this.a.J(new Sd("gotpointercapture",t,t))},v(Td,Id),m=Td.prototype,m.Xe=function(t){Ud(this.a,t)},m.Ye=function(t){Ud(this.a,t)},m.af=function(t){Ud(this.a,t)},m.Ze=function(t){Ud(this.a,t)},m.$e=function(t){Ud(this.a,t)},m.We=function(t){Ud(this.a,t)},m.le=function(t){Ud(this.a,t)},m.Td=function(t){Ud(this.a,t)},v(Sd,za);var Xd=!1;try{Xd=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}v(Yd,Id),m=Yd.prototype,m.fd=function(){this.j=0,this.g=void 0},m.uf=function(t){var e=t.touches,i=Object.keys(this.f),n=i.length;if(n>=e.length){var o,r,s,a=[];for(o=0;n>o;++o){r=i[o],s=this.f[r];var l;if(!(l=1==r))t:{l=e.length;for(var h,c=0;l>c;c++)if(h=e[c],h.identifier===r-2){l=!0;break t}l=!1}l||a.push(s.out)}for(o=0;o<a.length;++o)this.Ib(t,a[o])}e=t.changedTouches[0],i=Object.keys(this.f).length,(0===i||1===i&&1..toString()in this.f)&&(this.b=e.identifier,void 0!==this.g&&clearTimeout(this.g)),ae(this,t),this.j++,$d(this,t,this.Ve)},m.Ve=function(t,e){this.f[e.pointerId]={target:e.target,out:e,$c:e.target};var i=this.a;e.bubbles=!0,Nd(i,"pointerover",e,t),i=this.a,e.bubbles=!1,Nd(i,"pointerenter",e,t),Nd(this.a,"pointerdown",e,t)},m.tf=function(t){t.preventDefault(),$d(this,t,this.se)},m.se=function(t,e){var i=this.f[e.pointerId];if(i){var n=i.out,o=i.$c;Nd(this.a,"pointermove",e,t),n&&o!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=o,n.target=o,e.target?(Pd(this.a,n,t),Od(this.a,e,t)):(e.target=o,e.relatedTarget=null,this.Ib(t,e))),i.out=e,i.$c=e.target}},m.sf=function(t){ae(this,t),$d(this,t,this.yf)},m.yf=function(t,e){Nd(this.a,"pointerup",e,t),this.a.out(e,t),be(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.b=void 0,this.g=setTimeout(this.fd.bind(this),200))},m.rf=function(t){$d(this,t,this.Ib)},m.Ib=function(t,e){Nd(this.a,"pointercancel",e,t),this.a.out(e,t),be(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.b=void 0,this.g=setTimeout(this.fd.bind(this),200))},v(ce,Ba),ce.prototype.b=function(t){var e=this.g[t.type];e&&e(t)},ce.prototype.out=function(t,e){t.bubbles=!0,Nd(this,"pointerout",t,e)},ce.prototype.aa=function(){for(var t,e=this.a.length,i=0;e>i;i++)t=this.a[i],fe(this,Object.keys(t.c));Ba.prototype.aa.call(this)};var ge=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];v(he,Ba),m=he.prototype,m.Oc=function(t){je(this,t);var e=new vd("pointerup",this.b,t);this.J(e),this.i||0!==t.button||(console.assert(this.a,"this.down_ must be truthy"),ie(this,this.a)),console.assert(0<=this.l,"this.activePointers_ should be equal to or larger than 0"),0===this.l&&(this.g.forEach(B),this.g.length=0,this.i=!1,this.a=null,xa(this.f),this.f=null)},m.be=function(t){je(this,t);var e=new vd("pointerdown",this.b,t);this.J(e),this.a=t,0===this.g.length&&(this.f=new ce(document),this.g.push(C(this.f,"pointermove",this.Ne,this),C(this.f,"pointerup",this.Oc,this),C(this.c,"pointercancel",this.Oc,this)))},m.Ne=function(t){if(t.clientX!=this.a.clientX||t.clientY!=this.a.clientY){this.i=!0;var e=new vd("pointerdrag",this.b,t,this.i);this.J(e)}t.preventDefault()},m.jf=function(t){this.J(new vd(t.type,this.b,t,!(!this.a||t.clientX==this.a.clientX&&t.clientY==this.a.clientY)))},m.aa=function(){this.u&&(B(this.u),this.u=null),this.s&&(B(this.s),this.s=null),this.g.forEach(B),this.g.length=0,this.f&&(xa(this.f),this.f=null),this.c&&(xa(this.c),this.c=null),Ba.prototype.aa.call(this)},v(ke,Ba),ke.prototype.A=function(){this.J("change")},ke.prototype.getKey=function(){return this.key+"/"+this.ra},ke.prototype.da=function(){return this.state},le.prototype.clear=function(){this.a.length=0,this.b.length=0,ma(this.f)},le.prototype.i=function(t){y(!(this.j(t)in this.f),31);var e=this.C(t);return 1/0!=e?(this.a.push(t),this.b.push(e),this.f[this.j(t)]=!0,me(this,0,this.a.length-1),!0):!1},v(oe,le),oe.prototype.i=function(t){var e=le.prototype.i.call(this,t);return e&&C(t[0],"change",this.l,this),e},oe.prototype.l=function(t){t=t.target;var e=t.da();(2===e||3===e||4===e||5===e)&&(va(t,"change",this.l,this),t=t.getKey(),t in this.g&&(delete this.g[t],--this.c),this.F()),console.assert(Object.keys(this.g).length===this.c)},v(qe,D),qe.prototype.setMap=function(t){this.s=t};var re="active";v(ve,qe),v(De,qe),De.prototype.i=function(t){return t},v(Ge,De),Ge.prototype.i=vb,v(Le,De),Le.prototype.i=vb,v(Pe,wa),Pe.prototype.aa=function(){this.setMap(null)},Pe.prototype.setMap=function(t){if(this.a){this.a.u.removeChild(this.f);var e=this.f.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.u.appendChild(this.f)},Pe.prototype.Y=function(){return this.g},v(Se,De),Se.prototype.Y=function(){return this.b.Y()},Se.prototype.u=ba;var $e="boxstart",Ye="boxdrag",Ze="boxend";v(Xe,za),v(af,Se),af.prototype.u=function(){var t=this.s,e=t.S(),i=t.Ka(),n=this.Y().R();if(this.la){var o;o=e.ka(),y(o,1);var r=oc(e);y(void 0!==r,2);var s=pc(e);for(y(void 0!==s,3),o=qb(o,r,s,i),n=[Ke(t,[n[0],n[1]]),Ke(t,[n[2],n[3]])],t=lb(void 0),r=0,s=n.length;s>r;++r)nb(t,n[r]);t=1/xc(t,i),n=(o[2]-o[0])/2*(t-1),t=(o[3]-o[1])/2*(t-1),o[0]-=n,o[2]+=n,o[1]-=t,o[3]+=t,n=o}i=e.constrainResolution(xc(n,i)),e.animate({resolution:i,center:pb(n),duration:this.ba,easing:bb})},v(bf,qe),v(df,qe),v(ff,qe),ff.prototype.u=function(){this.i=void 0,qc(this.s.S(),1,-1)},ff.prototype.v=function(t){t=t.S(),sc(t)&&uc(t),te(t,-fa(this.g,-1,1),this.a,this.B),this.c=void 0,this.g=0,this.a=null,this.l=this.b=void 0};var hf="trackpad",jf="wheel";v(kf,De),kf.prototype.i=vb,v(of,De),of.prototype.i=vb,v(sf,D),sf.prototype.R=function(){return this.get(zf)};var tf="opacity",uf="visible",zf="extent",vf="zIndex",wf="maxResolution",xf="minResolution";v(Af,sf),m=Af.prototype,m.tb=function(){this.get(uf)&&this.A()},m.Yd=function(){this.g.forEach(B),this.g.length=0;var t=this.wb();this.g.push(C(t,Wc,this.Xd,this),C(t,Xc,this.Zd,this));for(var e in this.a)this.a[e].forEach(B);ma(this.a);var i,n,t=t.a;for(e=0,i=t.length;i>e;e++)n=t[e],this.a[x(n).toString()]=[C(n,Ia,this.tb,this),C(n,"change",this.tb,this)];this.A()},m.Xd=function(t){t=t.element;var e=x(t).toString();console.assert(!(e in this.a),"listeners already registered"),this.a[e]=[C(t,Ia,this.tb,this),C(t,"change",this.tb,this)],this.A()},m.Zd=function(t){t=x(t.element).toString(),console.assert(t in this.a,"no listeners to unregister"),this.a[t].forEach(B),delete this.a[t],this.A()},m.wb=function(){return this.get(Bf)},m.Ob=function(t){var e=void 0!==t?t:[],i=e.length;this.wb().forEach(function(t){t.Ob(e)}),t=yf(this);var n,o;for(n=e.length;n>i;i++)o=e[i],o.opacity*=t.opacity,o.visible=o.visible&&t.visible,o.maxResolution=Math.min(o.maxResolution,t.maxResolution),o.minResolution=Math.max(o.minResolution,t.minResolution),void 0!==t.extent&&(o.extent=void 0!==o.extent?rb(o.extent,t.extent):t.extent);return e},m.Rb=function(){return"ready"};var Bf="layers";v(Cf,yb);var Ff=6378137*Math.PI,Df=[-Ff,-Ff,Ff,Ff],Ef=[-180,-85,180,85],Gf="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new Cf(t)}),Jf=new wb(6378137);v(Kf,yb);var Lf=[-180,-90,180,90],Mf=Math.PI*Jf.radius/180,Nf=[new Kf("CRS:84"),new Kf("EPSG:4326","neu"),new Kf("urn:ogc:def:crs:EPSG::4326","neu"),new Kf("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Kf("urn:ogc:def:crs:OGC:1.3:CRS84"),new Kf("urn:ogc:def:crs:OGC:2:84"),new Kf("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Kf("urn:x-ogc:def:crs:EPSG:4326","neu")];v(Of,za),v(Pf,sf),m=Pf.prototype,m.Ob=function(t){return t=t?t:[],t.push(yf(this)),t},m.oa=function(){return this.get("source")||null},m.Rb=function(){var t=this.oa();return t?t.da():"undefined"},m.Re=function(){this.A()},m.ge=function(){this.c&&(B(this.c),this.c=null);var t=this.oa();t&&(this.c=C(t,"change",this.Re,this)),this.A()},m.setMap=function(t){this.a&&(B(this.a),this.a=null),t||this.A(),this.g&&(B(this.g),this.g=null),t&&(this.a=C(t,"precompose",function(t){var e=yf(this);e.Wb=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[x(this)]=e},this),this.g=C(this,"change",t.render,t),this.A())},Qf.prototype.clear=function(){this.a={},this.f=0},Qf.prototype.get=function(t,e,i){return t=Rf(t,e,i),t in this.a?this.a[t]:null},Qf.prototype.set=function(t,e,i,n){t=Rf(t,e,i),this.a[t]=n,++this.f};var Sf=new Qf;v(Xf,wa),m=Xf.prototype,m.aa=function(){for(var t in this.f)xa(this.f[t])},m.na=function(t,e,i,n,o,r,s){function a(t,i){var r=x(t).toString(),s=e.layerStates[x(i)].Wb;return r in e.skippedFeatureUids&&!s?void 0:n.call(o,t,s?i:null)}var l,h=e.viewState,c=h.resolution,u=h.projection,h=t;if(u.b){var u=u.R(),d=tb(u),f=t[0];(f<u[0]||f>u[2])&&(h=[f+d*Math.ceil((u[0]-f)/d),t[1]])}for(u=e.layerStatesArray,d=u.length-1;d>=0;--d){var p=u[d],f=p.layer;if(p.visible&&c>=p.minResolution&&c<p.maxResolution&&r.call(s,f)&&(p=Zf(this,f),f.oa()&&(l=p.na(f.oa().i?h:t,e,i,a,o)),l))return l}},m.Wd=function(){this.j.render()},m.ed=ba,m.kf=function(t,e){for(var i in this.f)if(!(e&&i in e.layerStates)){var n=i;console.assert(n in this.f,"given layerKey (%s) exists in layerRenderers",n);var o=this.f[n];delete this.f[n],console.assert(n in this.b,"given layerKey (%s) exists in layerRendererListeners",n),B(this.b[n]),delete this.b[n],xa(o)}},v($f,Pf);var dg="preload",eg="useInterimTilesOnError",fg=[0,0,0,1],gg=[],hg=[0,0,0,1];v(kg,jg),m=kg.prototype,m.clone=function(){var t=new kg({fill:this.g?this.g.clone():void 0,points:this.c!==this.f?this.a/2:this.a,radius:this.f,radius2:this.c,angle:this.C,snapToPixel:this.u,stroke:this.b?this.b.clone():void 0,rotation:this.s,rotateWithView:this.v,atlasManager:this.B});return t.l=this.l,t.i=this.i,t},m.qb=function(){return this.Z},m.Zc=function(){return this.P},m.yb=function(){return this.F},m.Lc=function(){return this.G},m.$a=function(){return 2},m.zb=function(){return this.L},m.La=function(){return this.U},m.Rc=ba,m.load=ba,m.kd=ba,m.Jc=function(t,e,i,n){var o;if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else for(this.c!==this.f&&(this.a*=2),i=0;i<=this.a;i++)n=2*i*Math.PI/this.a-Math.PI/2+this.C,o=0===i%2?this.f:this.c,e.lineTo(t.size/2+o*Math.cos(n),t.size/2+o*Math.sin(n));this.g&&(e.fillStyle=cd(this.g.a),e.fill()),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.hd,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},m.Cc=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else{this.c!==this.f&&(this.a*=2);var o;for(i=0;i<=this.a;i++)o=2*i*Math.PI/this.a-Math.PI/2+this.C,n=0===i%2?this.f:this.c,e.lineTo(t.size/2+n*Math.cos(o),t.size/2+n*Math.sin(o))}e.fillStyle=fg,e.fill(),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.hd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},v(lg,kg),lg.prototype.clone=function(){var t=new lg({fill:this.g?this.g.clone():void 0,stroke:this.b?this.b.clone():void 0,radius:this.f,snapToPixel:this.u,atlasManager:this.B});return t.l=this.l,t.i=this.i,t},mg.prototype.clone=function(){var t=this.a;return new mg({color:t&&t.slice?t.slice():t||void 0})},ng.prototype.clone=function(){var t=this.a;return new ng({color:t&&t.slice?t.slice():t||void 0,lineCap:this.c,lineDash:this.f?this.f.slice():void 0,lineJoin:this.j,miterLimit:this.i,width:this.g})},ng.prototype.setLineDash=function(t){this.f=t,this.b=void 0},og.prototype.clone=function(){var t=this.Y();return t&&t.clone&&(t=t.clone()),new og({geometry:t,fill:this.b?this.b.clone():void 0,image:this.g?this.g.clone():void 0,stroke:this.f?this.f.clone():void 0,text:this.ea()?this.ea().clone():void 0,zIndex:this.a})},og.prototype.Y=function(){return this.j},og.prototype.ea=function(){return this.i},og.prototype.Na=function(t){"function"==typeof t?this.c=t:"string"==typeof t?this.c=function(e){return e.get(t)}:t?t&&(this.c=function(){return t}):this.c=pg,this.j=t};var rg=null;v(bg,Pf),v(ug,tg),m=ug.prototype,m.Bc=function(t){if(sb(this.i,t.R())){if(this.f||this.a){this.f&&xg(this,this.f),this.a&&yg(this,this.a);var e;e=this.v;var i=this.u,n=t.o;e=n?Ob(n,0,n.length,t.a,e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.g,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.f&&n.fill(),this.a&&n.stroke()}""!==this.b&&wg(this,t.o.slice(0,t.a),2,2)}},m.Hc=function(t){var e=t.o;t=t.a,this.c&&vg(this,e,e.length),""!==this.b&&wg(this,e,e.length,t)},m.Fc=function(t){var e=t.o;t=t.a,this.c&&vg(this,e,e.length),""!==this.b&&wg(this,e,e.length,t)},m.Dc=function(t){if(sb(this.i,t.R())){if(this.a){yg(this,this.a);var e=this.g,i=t.o;e.beginPath(),zg(this,i,0,i.length,t.a,!1),e.stroke()}""!==this.b&&(t=Bg(t),wg(this,t,2,2))}},m.Ec=function(t){var e=t.R();if(sb(this.i,e)){if(this.a){yg(this,this.a);var e=this.g,i=t.o,n=0,o=t.Ea(),r=t.a;e.beginPath();var s,a;for(s=0,a=o.length;a>s;++s)n=zg(this,i,n,o[s],r,!1);e.stroke()}""!==this.b&&(t=Cg(t),wg(this,t,t.length,2))}},m.Ic=function(t){if(sb(this.i,t.R())){if(this.a||this.f){this.f&&xg(this,this.f),this.a&&yg(this,this.a);var e=this.g;e.beginPath(),Ag(this,hc(t),0,t.Ea(),t.a),this.f&&e.fill(),this.a&&e.stroke()}""!==this.b&&(t=ic(t),wg(this,t,2,2))}},m.Gc=function(t){if(sb(this.i,t.R())){if(this.a||this.f){this.f&&xg(this,this.f),this.a&&yg(this,this.a);var e,i,n=this.g,o=Dg(t),r=0,s=t.g,a=t.a;for(n.beginPath(),e=0,i=s.length;i>e;++e)r=Ag(this,o,r,s[e],a);this.f&&n.fill(),this.a&&n.stroke()}""!==this.b&&(t=Eg(t),wg(this,t,t.length,2))}},m.Ba=function(t,e){if(t){var i=t.a;this.f={fillStyle:cd(i?i:fg)}}else this.f=null;if(e){var i=e.a,n=e.c,o=e.f,r=e.j,s=e.g,a=e.i;this.a={lineCap:void 0!==n?n:"round",lineDash:o?o:gg,lineJoin:void 0!==r?r:"round",lineWidth:this.P*(void 0!==s?s:1),miterLimit:void 0!==a?a:10,strokeStyle:cd(i?i:hg)}}else this.a=null},m.fc=function(t){if(t){var e=t.qb(),i=t.yb(1),n=t.zb(),o=t.La();console.assert(i,"imageImage must be truthy"),this.B=e[0],this.Z=e[1],this.G=o[1],this.c=i,this.s=t.l,this.la=n[0],this.sa=n[1],this.wa=t.v,this.xa=t.s,this.j=t.i,this.Pa=t.u,this.L=o[0]}else this.c=null},m.va=function(t){if(t){var e=t.a;e?(e=e.a,this.l={fillStyle:cd(e?e:fg)}):this.l=null;var i=t.b;if(i){var e=i.a,n=i.c,o=i.f,r=i.j,s=i.g,i=i.i;this.F={lineCap:void 0!==n?n:"round",lineDash:o?o:gg,lineJoin:void 0!==r?r:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==i?i:10,strokeStyle:cd(e?e:hg)}}else this.F=null;var e=t.g,n=t.c,o=t.j,r=t.i,s=t.l,i=t.f,a=t.ea(),l=t.C;t=t.F,this.U={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==t?t:"middle"},this.b=void 0!==a?a:"",this.Qa=void 0!==n?this.P*n:0,this.eb=void 0!==o?this.P*o:0,this.fb=void 0!==r?r:!1,this.gb=void 0!==s?s:0,this.C=this.P*(void 0!==i?i:1)}else this.b=""},v(Fg,Da),Fg.prototype.na=ba,v(Lg,Fg),v(Pg,Lg),Pg.prototype.i=function(t,e,i){Ng(this,"precompose",i,t,void 0);var n=this.j.canvas;if(n){var o=e.extent,r=void 0!==o;r&&Mg(i,t,o);var o=this.s,s=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(o[4]),Math.round(o[5]),Math.round(n.width*o[0]),Math.round(n.height*o[3])),i.globalAlpha=s,r&&i.restore()}Ng(this,"postcompose",i,t,void 0)},Pg.prototype.na=function(t,e,i,n,o){var r=this.a;return r.oa().na(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(o,t,r)})},v(ag,Pg),ag.prototype.l=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,r=o.projection,s=o.resolution,a=o.center,l=this.a,o=l.oa(),h=o.f,c=o.Ga(r),u=fa(La(c.a,s,0),c.minZoom,c.maxZoom),d=Ic(c,u),f=t.extent;if(void 0!==e.extent&&(f=rb(f,e.extent)),f[2]<f[0]||f[3]<f[1])return!1;var p,g=Jc(c,f,d),m=Hc(c,u);p=Ic(c,u);var v=Dc(Nc(c,u),c.i);p=ib(m[0]+g.H*v[0]*p,m[1]+g.K*v[1]*p,m[0]+(g.I+1)*v[0]*p,m[1]+(g.N+1)*v[1]*p,void 0),m=o.g,v={},v[u]={};var y,b,w,E=Gg(o,r,v),N=l.get(eg),S=this.B,T=this.L,k=!1;for(b=g.H;b<=g.I;++b)for(w=g.K;w<=g.N;++w){y=Qg(o,u,b,w,i,r);var C=y.da();if(2==C||4==C||3==C&&!N)2==C&&(v[u][y.ra.toString()]=y,k||-1!=this.c.indexOf(y)||(k=!0));else{t:if(y.a){C=y.a;do{if(2==C.da()){y=C;break t}C=C.a}while(C)}t:{for(var C=c,_=y.ra,M=E,L=T,P=Oc(C,_,S),_=_[0]-1;_>=C.minZoom;){if(M.call(null,_,Lc(C,P,_,L))){C=!0;break t}--_}C=!1}C||(C=c,y=y.ra,M=T,y[0]<C.maxZoom?(L=Oc(C,y,S),y=Lc(C,L,y[0]+1,M)):y=null,y&&E(u+1,y))}}if(y=t.viewHints,!(this.g&&16<Date.now()-t.time&&(y[rc]||y[1])||!k&&this.b&&mb(this.b,p)&&this.v==h)){b=Rg(o,u,r),y=(g.I-g.H+1)*b[0],b=(g.N-g.K+1)*b[0],k=this.j,w=k.canvas,E=o.Pb(r),w.width!=y||w.height!=b?(w.width=y,w.height=b):k.clearRect(0,0,y,b),this.c.length=0,N=Object.keys(v).map(Number),N.sort(Ka);for(var j,D,C=0,M=N.length;M>C;++C){y=N[C],T=Rg(o,y,r),b=Ic(c,y);var A,L=b/d,P=m*o.Kc(r),_=v[y];for(A in _){y=_[A],w=Oc(c,y.ra,S),b=(w[0]-p[0])/d*m,w=(p[3]-w[3])/d*m,j=T[0]*L,D=T[1]*L,E||k.clearRect(b,w,j,D);var O=P,I=y.f;I&&this.j.drawImage(I,O,O,I.width-2*O,I.height-2*O,b,w,j,D),this.c.push(y)}}this.v=h,this.g=d,this.b=p}A=i/m*this.g/s,A=Wf(this.s,i*n[0]/2,i*n[1]/2,A,A,0,m*(this.b[0]-a[0])/this.g,m*(a[1]-this.b[3])/this.g),Wf(this.u,i*n[0]/2-A[4],i*n[1]/2-A[5],i/s,-i/s,0,-a[0],-a[1]),n=t.usedTiles,s=x(o).toString(),a=u.toString(),s in n?a in n[s]?(n=n[s][a],g.H<n.H&&(n.H=g.H),g.I>n.I&&(n.I=g.I),g.K<n.K&&(n.K=g.K),g.N>n.N&&(n.N=g.N)):n[s][a]=g:(n[s]={},n[s][a]=g),l=l.get(dg),g=x(o).toString(),g in t.wantedTiles||(t.wantedTiles[g]={});var R,n=t.wantedTiles[g],s=t.tileQueue,a=c.minZoom;for(p=u;p>=a;--p)for(R=Lc(c,f,p,R),h=Ic(c,p),d=R.H;d<=R.I;++d)for(m=R.K;m<=R.N;++m)l>=u-p?(A=Qg(o,p,d,m,i,r),0==A.da()&&(n[A.getKey()]=!0,A.getKey()in s.f||s.i([A,g,Mc(c,A.ra),h]))):o.md(p,d,m,r);return Ig(t,o),Kg(t,o),0<this.c.length},v(Tg,tg),Tg.prototype.L=function(t,e,i,n,o){Xg(this,t,e,i,n,o,this.f,void 0,void 0)},Tg.prototype.xb=ba,Tg.prototype.Mb=function(){return this.ba},v($g,Tg),$g.prototype.Hc=function(t,e){if(this.v){console.assert(void 0!==this.b,"this.anchorX_ should be defined"),console.assert(void 0!==this.c,"this.anchorY_ should be defined"),console.assert(void 0!==this.j,"this.height_ should be defined"),console.assert(void 0!==this.i,"this.opacity_ should be defined"),console.assert(void 0!==this.l,"this.originX_ should be defined"),console.assert(void 0!==this.C,"this.originY_ should be defined"),console.assert(void 0!==this.F,"this.rotateWithView_ should be defined"),console.assert(void 0!==this.s,"this.rotation_ should be defined"),console.assert(void 0!==this.u,"this.scale_ should be defined"),console.assert(void 0!==this.P,"this.width_ should be defined"),Vg(this,e);var i=t.o,n=this.coordinates.length,i=Ug(this,i,0,i.length,t.a,!1,!1);this.f.push([4,n,i,this.v,this.b,this.c,this.j,this.i,this.l,this.C,this.F,this.s,this.u,this.B,this.P]),this.a.push([4,n,i,this.U,this.b,this.c,this.j,this.i,this.l,this.C,this.F,this.s,this.u,this.B,this.P]),Zg(this,e)}},$g.prototype.Fc=function(t,e){if(this.v){console.assert(void 0!==this.b,"this.anchorX_ should be defined"),console.assert(void 0!==this.c,"this.anchorY_ should be defined"),console.assert(void 0!==this.j,"this.height_ should be defined"),console.assert(void 0!==this.i,"this.opacity_ should be defined"),console.assert(void 0!==this.l,"this.originX_ should be defined"),console.assert(void 0!==this.C,"this.originY_ should be defined"),console.assert(void 0!==this.F,"this.rotateWithView_ should be defined"),console.assert(void 0!==this.s,"this.rotation_ should be defined"),console.assert(void 0!==this.u,"this.scale_ should be defined"),console.assert(void 0!==this.P,"this.width_ should be defined"),Vg(this,e);var i=t.o,n=this.coordinates.length,i=Ug(this,i,0,i.length,t.a,!1,!1);this.f.push([4,n,i,this.v,this.b,this.c,this.j,this.i,this.l,this.C,this.F,this.s,this.u,this.B,this.P]),this.a.push([4,n,i,this.U,this.b,this.c,this.j,this.i,this.l,this.C,this.F,this.s,this.u,this.B,this.P]),Zg(this,e)}},$g.prototype.xb=function(){Yg(this),this.c=this.b=void 0,this.v=this.U=null,this.P=this.B=this.s=this.F=this.C=this.l=this.i=this.u=this.j=void 0},$g.prototype.fc=function(t){console.assert(t,"imageStyle should not be null");var e=t.qb();console.assert(e,"anchor should not be null");var i=t.La();console.assert(i,"size should not be null");var n=t.Zc(1);console.assert(n,"hitDetectionImage should not be null");var o=t.yb(1);console.assert(o,"image should not be null");var r=t.zb();console.assert(r,"origin should not be null"),this.b=e[0],this.c=e[1],this.U=n,this.v=o,this.j=i[1],this.i=t.l,this.l=r[0],this.C=r[1],this.F=t.v,this.s=t.s,this.u=t.i,this.B=t.u,this.P=i[0]},v(ah,Tg),m=ah.prototype,m.Mb=function(){return this.c||(this.c=fb(this.ba),0<this.g&&eb(this.c,this.resolution*(this.g+1)/2,this.c)),this.c},m.Dc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(ch(this),Vg(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]),i=t.o,bh(this,i,0,i.length,t.a),this.a.push([12]),Zg(this,e))},m.Ec=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){ch(this),Vg(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]);var o,r,i=t.Ea(),n=t.o,s=t.a,a=0;for(o=0,r=i.length;r>o;++o)a=bh(this,n,a,i[o],s);this.a.push([12]),Zg(this,e)}},m.xb=function(){var t=this.b;console.assert(t,"state should not be null"),t.Vb!=this.coordinates.length&&this.f.push([12]),Yg(this),this.b=null},m.Ba=function(t,e){console.assert(this.b,"this.state_ should not be null"),console.assert(!t,"fillStyle should be null"),console.assert(e,"strokeStyle should not be null");var i=e.a;this.b.strokeStyle=cd(i?i:hg),i=e.c,this.b.lineCap=void 0!==i?i:"round",i=e.f,this.b.lineDash=i?i:gg,i=e.j,this.b.lineJoin=void 0!==i?i:"round",i=e.g,this.b.lineWidth=void 0!==i?i:1,i=e.i,this.b.miterLimit=void 0!==i?i:10,this.b.lineWidth>this.g&&(this.g=this.b.lineWidth,this.c=null)},v(dh,Tg),m=dh.prototype,m.Bc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),fh(this,t),Vg(this,e),this.a.push([9,$c(fg)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var o=t.o,n=this.coordinates.length;Ug(this,o,0,o.length,t.a,!1,!1),o=[1],n=[2,n],this.f.push(o,n),this.a.push(o,n),n=[7],this.a.push(n),void 0!==i.fillStyle&&this.f.push(n),void 0!==i.strokeStyle&&(console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),i=[12],this.f.push(i),this.a.push(i)),Zg(this,e)}},m.Ic=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;console.assert(void 0!==i.fillStyle||void 0!==n,"fillStyle or strokeStyle should be defined"),void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),fh(this,t),Vg(this,e),this.a.push([9,$c(fg)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]),i=t.Ea(),n=hc(t),eh(this,n,0,i,t.a),Zg(this,e)},m.Gc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),fh(this,t),Vg(this,e),this.a.push([9,$c(fg)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var o,r,i=t.g,n=Dg(t),s=t.a,a=0;for(o=0,r=i.length;r>o;++o)a=eh(this,n,a,i[o],s);Zg(this,e)}},m.xb=function(){console.assert(this.b,"this.state_ should not be null"),Yg(this),this.b=null;var t=this.xa;if(0!==t){var e,i,n=this.coordinates;for(e=0,i=n.length;i>e;++e)n[e]=t*Math.round(n[e]/t)}},m.Mb=function(){return this.c||(this.c=fb(this.ba),0<this.g&&eb(this.c,this.resolution*(this.g+1)/2,this.c)),this.c},m.Ba=function(t,e){console.assert(this.b,"this.state_ should not be null"),console.assert(t||e,"fillStyle or strokeStyle should not be null");var i=this.b;if(t){var n=t.a;i.fillStyle=cd(n?n:fg);
}else i.fillStyle=void 0;e?(n=e.a,i.strokeStyle=cd(n?n:hg),n=e.c,i.lineCap=void 0!==n?n:"round",n=e.f,i.lineDash=n?n.slice():gg,n=e.j,i.lineJoin=void 0!==n?n:"round",n=e.g,i.lineWidth=void 0!==n?n:1,n=e.i,i.miterLimit=void 0!==n?n:10,i.lineWidth>this.g&&(this.g=i.lineWidth,this.c=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},v(gh,Tg),gh.prototype.va=function(t){if(t){var e=t.a;e?(e=e.a,e=cd(e?e:fg),this.b?this.b.fillStyle=e:this.b={fillStyle:e}):this.b=null;var i=t.b;if(i){var e=i.a,n=i.c,o=i.f,r=i.j,s=i.g,i=i.i,n=void 0!==n?n:"round",o=o?o.slice():gg,r=void 0!==r?r:"round",s=void 0!==s?s:1,i=void 0!==i?i:10,e=cd(e?e:hg);if(this.c){var a=this.c;a.lineCap=n,a.lineDash=o,a.lineJoin=r,a.lineWidth=s,a.miterLimit=i,a.strokeStyle=e}else this.c={lineCap:n,lineDash:o,lineJoin:r,lineWidth:s,miterLimit:i,strokeStyle:e}}else this.c=null;var l=t.g,e=t.c,n=t.j,o=t.i,s=t.l,i=t.f,r=t.ea(),a=t.C,h=t.F;t=void 0!==l?l:"10px sans-serif",a=void 0!==a?a:"center",h=void 0!==h?h:"middle",this.j?(l=this.j,l.font=t,l.textAlign=a,l.textBaseline=h):this.j={font:t,textAlign:a,textBaseline:h},this.i=void 0!==r?r:"",this.l=void 0!==e?e:0,this.C=void 0!==n?n:0,this.F=void 0!==o?o:!1,this.s=void 0!==s?s:0,this.u=void 0!==i?i:1}else this.i=""};var ih=["Polygon","Circle","LineString","Image","Text"];v(jh,Sg);var kh={0:[[!0]]};jh.prototype.na=function(t,e,i,n,o,r){n=Math.round(n);var s=2*n+1,a=Wf(this.c,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=this.g;l.canvas.width!==s||l.canvas.height!==s?(l.canvas.width=s,l.canvas.height=s):l.clearRect(0,0,s,s);var h;void 0!==this.b&&(h=hb(),nb(h,t),eb(h,e*(this.b+n),h));var c=mh(n);return oh(this,l,a,i,o,function(t){for(var e=l.getImageData(0,0,s,s).data,i=0;s>i;i++)for(var n=0;s>n;n++)if(c[i][n]&&0<e[4*(n*s+i)+3])return(t=r(t))?t:void l.clearRect(0,0,s,s)},h)},jh.prototype.L=function(t,e,i,n,o,r){var s=Object.keys(this.a).map(Number);s.sort(Ka);var a=this.f,l=a[0],h=a[1],c=a[2],a=a[3],l=[l,h,l,a,c,a,c,h];Ob(l,0,8,2,i,l),t.save(),t.beginPath(),t.moveTo(l[0],l[1]),t.lineTo(l[2],l[3]),t.lineTo(l[4],l[5]),t.lineTo(l[6],l[7]),t.clip(),r=r?r:ih;for(var u,d,l=0,h=s.length;h>l;++l)for(u=this.a[s[l].toString()],c=0,a=r.length;a>c;++c)d=u[r[c]],void 0!==d&&d.L(t,e,i,n,o);t.restore()};var qh={Circle:dh,Image:$g,LineString:ah,Polygon:dh,Text:gh},uh={Point:function(t,e,i,n){var o=i.g;if(o){if(2!=o.$a())return;var r=ph(t,i.a,"Image");r.fc(o),r.Hc(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),hh(t,e.o,2,2,n))},LineString:function(t,e,i,n){var o=i.f;if(o){var r=ph(t,i.a,"LineString");r.Ba(null,o),r.Dc(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),hh(t,Bg(e),2,2,n))},Polygon:function(t,e,i,n){var o=i.b,r=i.f;if(o||r){var s=ph(t,i.a,"Polygon");s.Ba(o,r),s.Ic(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),hh(t,ic(e),2,2,n))},MultiPoint:function(t,e,i,n){var o=i.g;if(o){if(2!=o.$a())return;var r=ph(t,i.a,"Image");r.fc(o),r.Fc(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),i=e.o,hh(t,i,i.length,e.a,n))},MultiLineString:function(t,e,i,n){var o=i.f;if(o){var r=ph(t,i.a,"LineString");r.Ba(null,o),r.Ec(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),e=Cg(e),hh(t,e,e.length,2,n))},MultiPolygon:function(t,e,i,n){var o=i.b,r=i.f;if(r||o){var s=ph(t,i.a,"Polygon");s.Ba(o,r),s.Gc(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),e=Eg(e),hh(t,e,e.length,2,n))},GeometryCollection:function(t,e,i,n){e=e.b;var o,r;for(o=0,r=e.length;r>o;++o)(0,uh[e[o].W()])(t,e[o],i,n)},Circle:function(t,e,i,n){var o=i.b,r=i.f;if(o||r){var s=ph(t,i.a,"Circle");s.Ba(o,r),s.Bc(e,n)}(o=i.ea())&&(t=ph(t,i.a,"Text"),t.va(o),hh(t,e.o.slice(0,e.a),2,2,n))}};v(cg,Lg),cg.prototype.i=function(t,e,i){var n=t.extent,o=t.pixelRatio,r=e.Wb?t.skippedFeatureUids:{},s=t.viewState,a=s.projection,s=s.rotation,l=a.R(),h=this.a.oa(),c=Og(this,t,0);Ng(this,"precompose",i,t,c);var u=e.extent,d=void 0!==u;if(d&&Mg(i,t,u),(u=this.g)&&!oa(u.a)){var f,p=0,g=0;if(Ca(this.a,"render")){f=i.canvas.width;var m=i.canvas.height;if(s){var v=Math.round(Math.sqrt(f*f+m*m)),p=(v-f)/2,g=(v-m)/2;f=m=v}this.c.canvas.width=f,this.c.canvas.height=m,f=this.c}else f=i;if(m=f.globalAlpha,f.globalAlpha=e.opacity,f!=i&&f.translate(p,g),e=t.size[0]*o,v=t.size[1]*o,ig(f,-s,e/2,v/2),u.L(f,o,c,s,r),h.i&&a.b&&!gb(l,n)){for(var a=n[0],h=tb(l),y=0;a<l[0];)--y,c=h*y,c=Og(this,t,c),u.L(f,o,c,s,r),a+=h;for(y=0,a=n[2];a>l[2];)++y,c=h*y,c=Og(this,t,c),u.L(f,o,c,s,r),a-=h;c=Og(this,t,0)}ig(f,s,e/2,v/2),f!=i&&(Ng(this,"render",f,t,c),i.drawImage(f.canvas,-p,-g),f.translate(-p,-g)),f.globalAlpha=m}d&&i.restore(),Ng(this,"postcompose",i,t,c)},cg.prototype.na=function(t,e,i,n,o){if(this.g){var r=this.a,s={};return this.g.na(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=x(t).toString();return e in s?void 0:(s[e]=!0,n.call(o,t,r))})}},cg.prototype.B=function(){var t=this.a;t.get(uf)&&"ready"==t.Rb()&&this.A()},cg.prototype.l=function(t){function e(t){var e,n=t.c;if(n?e=n.call(t,h):(n=i.l)&&(e=n(t,h)),e){if(e){if(n=!1,Array.isArray(e))for(var o=0,r=e.length;r>o;++o)n=th(d,t,e[o],sh(h,c),this.B,this)||n;else n=th(d,t,e,sh(h,c),this.B,this)||n;t=n}else t=!1;this.b=this.b||t}}var i=this.a,n=i.oa();Jg(t.attributions,n.u),Kg(t,n);var o=t.viewHints[rc],r=t.viewHints[1],s=i.u,a=i.v;if(!this.b&&!s&&o||!a&&r)return!0;var l=t.extent,a=t.viewState,o=a.projection,h=a.resolution,c=t.pixelRatio,r=i.f,u=i.i,s=i.get("renderOrder");if(void 0===s&&(s=rh),l=eb(l,u*h),u=a.projection.R(),n.i&&a.projection.b&&!gb(u,t.extent)&&(t=Math.max(tb(l)/2,tb(u)),l[0]=u[0]-t,l[2]=u[2]+t),!this.b&&this.u==h&&this.v==r&&this.s==s&&gb(this.j,l))return!0;this.g=null,this.b=!1;var d=new jh(.5*h/c,l,h,n.X,i.i);if(vh(n,l,h,o),s){var f=[];wh(n,l,function(t){f.push(t)},this),f.sort(s),f.forEach(e,this)}else wh(n,l,e,this);return nh(d),this.u=h,this.v=r,this.s=s,this.j=l,this.g=d,!0},v(xh,Xf),xh.prototype.W=function(){return"canvas"},xh.prototype.ed=function(t){if(t){var e=this.c,i=t.pixelRatio,n=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=i?(this.a.width=n,this.a.height=i):e.clearRect(0,0,n,i);var o=t.viewState.rotation,r=t.viewState,s=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;console.assert(s,"frameState has a coordinateToPixelTransform"),Wf(s,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),r=Uf(a,s),s=r[0]*r[3]-r[1]*r[2],y(0!==s,32);var a=r[0],l=r[1],h=r[2],c=r[3],u=r[4],d=r[5];for(r[0]=c/s,r[1]=-l/s,r[2]=-h/s,r[3]=a/s,r[4]=(h*d-c*u)/s,r[5]=-(a*d-l*u)/s,yh(this,"precompose",t),r=t.layerStatesArray,Oa(r),ig(e,o,n/2,i/2),s=t.viewState.resolution,a=0,l=r.length;l>a;++a)h=r[a],c=h.layer,c=Zf(this,c),h.visible&&s>=h.minResolution&&s<h.maxResolution&&"ready"==h.qf&&c.l(t,h)&&c.i(t,h,e);ig(e,-o,n/2,i/2),yh(this,"postcompose",t),this.g||(this.a.style.display="",this.g=!0);for(var f in this.f)if(!(f in t.layerStates)){t.postRenderFunctions.push(this.kf.bind(this));break}t.postRenderFunctions.push(Yf)}else this.g&&(this.a.style.display="none",this.g=!1)};var zh;!function(){var t={},e={M:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.M=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Tf=i()}}(function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=i[s]={M:{}},e[s][0].call(l.M,function(t){var i=e[s][1][t];return o(i?i:t)},l,l.M,t,e,i,n)}return i[s].M}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e){function i(t,e,r,s,a){for(r=r||0,s=s||t.length-1,a=a||o;s>r;){if(s-r>600){var l=s-r+1,h=e-r+1,c=Math.log(l),u=.5*Math.exp(2*c/3),c=.5*Math.sqrt(c*u*(l-u)/l)*(0>h-l/2?-1:1);i(t,e,Math.max(r,Math.floor(e-h*u/l+c)),Math.min(s,Math.floor(e+(l-h)*u/l+c)),a)}for(l=t[e],h=r,u=s,n(t,r,e),0<a(t[s],l)&&n(t,r,s);u>h;){for(n(t,h,u),h++,u--;0>a(t[h],l);)h++;for(;0<a(t[u],l);)u--}0===a(t[r],l)?n(t,r,u):(u++,n(t,u,s)),e>=u&&(r=u+1),u>=e&&(s=u-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return e>t?-1:t>e?1:0}e.M=i},{}],2:[function(t,e){function i(t,e){return this instanceof i?(this.Hb=Math.max(4,t||9),this.rc=Math.max(2,Math.ceil(.4*this.Hb)),e&&this.Ad(e),void this.clear()):new i(t,e)}function n(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,o){o||(o=d(null)),o.H=1/0,o.K=1/0,o.I=-(1/0),o.N=-(1/0);for(var s;i>e;e++)s=t.children[e],r(o,t.ga?n(s):s);return o}function r(t,e){t.H=Math.min(t.H,e.H),t.K=Math.min(t.K,e.K),t.I=Math.max(t.I,e.I),t.N=Math.max(t.N,e.N)}function s(t,e){return t.H-e.H}function a(t,e){return t.K-e.K}function l(t){return(t.I-t.H)*(t.N-t.K)}function h(t){return t.I-t.H+(t.N-t.K)}function c(t,e){return t.H<=e.H&&t.K<=e.K&&e.I<=t.I&&e.N<=t.N}function u(t,e){return e.H<=t.I&&e.K<=t.N&&e.I>=t.H&&e.N>=t.K}function d(t){return{children:t,height:1,ga:!0,H:1/0,K:1/0,I:-(1/0),N:-(1/0)}}function f(t,e,i,n,o){for(var r,s=[e,i];s.length;)i=s.pop(),e=s.pop(),n>=i-e||(r=e+Math.ceil((i-e)/n/2)*n,p(t,r,e,i,o),s.push(e,r,r,i))}e.M=i;var p=t("quickselect");i.prototype={all:function(){return this.mc(this.data,[])},search:function(t){var e=this.data,i=[],n=this.ja;if(!u(t,e))return i;for(var o,r,s,a,l=[];e;){for(o=0,r=e.children.length;r>o;o++)s=e.children[o],a=e.ga?n(s):s,u(t,a)&&(e.ga?i.push(s):c(t,a)?this.mc(s,i):l.push(s));e=l.pop()}return i},load:function(t){if(!t||!t.length)return this;if(t.length<this.rc){for(var e=0,i=t.length;i>e;e++)this.za(t[e]);return this}return t=this.oc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.uc(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.qc(t,this.data.height-t.height-1,!0)):this.data=t,this},za:function(t){return t&&this.qc(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var i,n,o,r,s=this.data,a=this.ja(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),s.ga){t:{o=t;var u=s.children,d=e;if(d){for(var f=0;f<u.length;f++)if(d(o,u[f])){o=f;break t}o=-1}else o=u.indexOf(o)}if(-1!==o){s.children.splice(o,1),l.push(s),this.yd(l);break}}r||s.ga||!c(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(l.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},ja:function(t){return t},Jb:s,Kb:a,toJSON:function(){return this.data},mc:function(t,e){for(var i=[];t;)t.ga?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},oc:function(t,e,i,o){var r,s=i-e+1,a=this.Hb;if(a>=s)return r=d(t.slice(e,i+1)),n(r,this.ja),r;o||(o=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,o-1))),r=d([]),r.ga=!1,r.height=o;var l,h,c,s=Math.ceil(s/a),a=s*Math.ceil(Math.sqrt(a));for(f(t,e,i,a,this.Jb);i>=e;e+=a)for(h=Math.min(e+a-1,i),f(t,e,h,s,this.Kb),l=e;h>=l;l+=s)c=Math.min(l+s-1,h),r.children.push(this.oc(t,l,c,o-1));return n(r,this.ja),r},xd:function(t,e,i,n){for(var o,r,s,a,h,c,u,d;n.push(e),!e.ga&&n.length-1!==i;){for(u=d=1/0,o=0,r=e.children.length;r>o;o++)s=e.children[o],h=l(s),c=(Math.max(s.I,t.I)-Math.min(s.H,t.H))*(Math.max(s.N,t.N)-Math.min(s.K,t.K))-h,d>c?(d=c,u=u>h?h:u,a=s):c===d&&u>h&&(u=h,a=s);e=a||e.children[0]}return e},qc:function(t,e,i){var n=this.ja;i=i?t:n(t);var n=[],o=this.xd(i,this.data,e,n);for(o.children.push(t),r(o,i);e>=0&&n[e].children.length>this.Hb;)this.Ed(n,e),e--;this.ud(i,n,e)},Ed:function(t,e){var i=t[e],o=i.children.length,r=this.rc;this.vd(i,r,o),o=this.wd(i,r,o),o=d(i.children.splice(o,i.children.length-o)),o.height=i.height,o.ga=i.ga,n(i,this.ja),n(o,this.ja),e?t[e-1].children.push(o):this.uc(i,o)},uc:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.ga=!1,n(this.data,this.ja)},wd:function(t,e,i){var n,r,s,a,h,c,u;for(h=c=1/0,n=e;i-e>=n;n++)r=o(t,0,n,this.ja),s=o(t,n,i,this.ja),a=Math.max(0,Math.min(r.I,s.I)-Math.max(r.H,s.H))*Math.max(0,Math.min(r.N,s.N)-Math.max(r.K,s.K)),r=l(r)+l(s),h>a?(h=a,u=n,c=c>r?r:c):a===h&&c>r&&(c=r,u=n);return u},vd:function(t,e,i){var n=t.ga?this.Jb:s,o=t.ga?this.Kb:a,r=this.nc(t,e,i,n);e=this.nc(t,e,i,o),e>r&&t.children.sort(n)},nc:function(t,e,i,n){t.children.sort(n),n=this.ja;var s,a,l=o(t,0,e,n),c=o(t,i-e,i,n),u=h(l)+h(c);for(s=e;i-e>s;s++)a=t.children[s],r(l,t.ga?n(a):a),u+=h(l);for(s=i-e-1;s>=e;s--)a=t.children[s],r(c,t.ga?n(a):a),u+=h(c);return u},ud:function(t,e,i){for(;i>=0;i--)r(e[i],t)},yd:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.ja)},Ad:function(t){var e=["return a"," - b",";"];this.Jb=new Function("a","b",e.join(t[0])),this.Kb=new Function("a","b",e.join(t[1])),this.ja=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),zh=e.M}(),m=Ah.prototype,m.za=function(t,e){if(this.f)throw Error("Can not insert value while reading");var i={H:t[0],K:t[1],I:t[2],N:t[3],value:e};this.b.za(i),console.assert(!(x(e)in this.a),"uid (%s) of value (%s) already exists",x(e),e),this.a[x(e)]=i},m.load=function(t,e){if(this.f)throw Error("Can not insert values while reading");console.assert(t.length===e.length,"extens and values must have same length (%s === %s)",t.length,e.length);for(var i=Array(e.length),n=0,o=e.length;o>n;n++){var r=t[n],s=e[n],r={H:r[0],K:r[1],I:r[2],N:r[3],value:s};i[n]=r,console.assert(!(x(s)in this.a),"uid (%s) of value (%s) already exists",x(s),s),this.a[x(s)]=r}this.b.load(i)},m.remove=function(t){if(this.f)throw Error("Can not remove value while reading");var e=x(t);return console.assert(e in this.a,"uid (%s) of value (%s) does not exist",e,t),t=this.a[e],delete this.a[e],null!==this.b.remove(t)},m.forEach=function(t,e){++this.f;try{return Dh(Bh(this),t,e)}finally{--this.f}},m.clear=function(){this.b.clear(),this.a={}},m.R=function(){var t=this.b.data;return[t.H,t.K,t.I,t.N]},navigator.userAgent.match("CriOS"),v(Gh,D),Gh.prototype.na=ba,Gh.prototype.da=function(){return this.U},m=Ih.prototype,m.clear=function(){this.g=0,this.b={},this.f=this.a=null},m.forEach=function(t,e){for(var i=this.a;i;)t.call(e,i.Oa,i.Aa,this),i=i.ma},m.get=function(t){return t=this.b[t],y(void 0!==t,15),t===this.f?t.Oa:(t===this.a?(this.a=this.a.ma,this.a.Ma=null):(t.ma.Ma=t.Ma,t.Ma.ma=t.ma),t.ma=null,t.Ma=this.f,this.f=this.f.ma=t,t.Oa)},m.pop=function(){console.assert(this.a,"oldest must not be null"),console.assert(this.f,"newest must not be null");var t=this.a;return console.assert(t.Aa in this.b,"oldest is indexed in entries"),delete this.b[t.Aa],t.ma&&(t.ma.Ma=null),this.a=t.ma,this.a||(this.f=null),--this.g,t.Oa},m.replace=function(t,e){this.get(t),this.b[t].Oa=e},m.set=function(t,e){console.assert(!(t in{}),'key is not a standard property of objects (e.g. "__proto__")'),y(!(t in this.b),16);var i={Aa:t,ma:null,Ma:this.f,Oa:e};this.f?this.f.ma=i:this.a=i,this.f=i,this.b[t]=i,++this.g};var Jh=["canvas","webgl"];v(Kh,D),m=Kh.prototype,m.Fd=function(t){this.v.push(t)},m.Gd=function(t){this.i.push(t)},m.Hd=function(t){this.G.push(t)},m.wc=function(t){var e=t.Wc;void 0!==e&&(this.ad[e.toString()]=t),t.setMap(this)},m.aa=function(){xa(this.sa),xa(this.L),va(this.a,"wheel",this.Ha,this),va(this.a,"mousewheel",this.Ha,this),void 0!==this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0),this.c&&(cancelAnimationFrame(this.c),this.c=void 0),this.set(Ph,null),D.prototype.aa.call(this)},m.Kd=function(t,e,i){return this.b?(t=this.qa(t),i=void 0!==i?i:{},this.L.na(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:ub,null)):void 0},m.ke=function(t,e){if(!this.b)return!1;var i=this.qa(t);e=void 0!==e?e:{};var n=this.L;return void 0!==n.na(i,this.b,void 0!==e.hitTolerance?e.hitTolerance*this.b.pixelRatio:0,ub,n,void 0!==e.layerFilter?e.layerFilter:ub,null)},m.Nb=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},m.Sb=function(){return this.get(Ph)},m.qa=function(t){var e=this.b;return e?Vf(e.pixelToCoordinateTransform,t.slice()):null},m.Oe=function(){return this.get(Mh).wb()},m.Ka=function(){return this.get(Oh)},m.S=function(){return this.get(Nh)},m.Rd=function(t,e,i,n){var o=this.b;return o&&e in o.wantedTiles&&o.wantedTiles[e][t.getKey()]?(t=i[0]-o.focus[0],i=i[1]-o.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},m.Ha=function(t,e){var i=new td(e||t.type,this,t);this.Nc(i)},m.Nc=function(t){if(this.b){this.ba=t.coordinate,t.frameState=this.b;var e,i=this.i.a;if(!1!==this.J(t))for(e=i.length-1;e>=0;e--){var n=i[e];if(n.get(re)&&!n.handleEvent(t))break}}},m.ee=function(){var t=this.b,e=this.wa;if(0!==e.a.length){var i=16,n=i;if(t){var o=t.viewHints;o[rc]&&(i=this.hb?8:0,n=2),o[1]&&(i=this.ib?8:0,n=2)}if(e.c<i){var r,s,a,o=e.C,l=e.a,h=e.b,c=0,u=l.length;for(s=0;u>s;++s)r=l[s],a=o(r),1/0==a?delete e.f[e.j(r)]:(h[c]=a,l[c++]=r);for(l.length=c,h.length=c,o=(e.a.length>>1)-1;o>=0;o--)ne(e,o);for(o=0;e.c<i&&n>o&&0<e.a.length;)l=e,c=l.a,console.assert(0<c.length,"must have elements in order to be able to dequeue"),u=l.b,h=c[0],1==c.length?(c.length=0,u.length=0):(c[0]=c.pop(),u[0]=u.pop(),ne(l,0)),c=l.j(h),console.assert(c in l.f,"key %s is not listed as queued",c),delete l.f[c],l=h[0],h=l.getKey(),0!==l.da()||h in e.g||(e.g[h]=!0,++e.c,++o,l.load()),console.assert(Object.keys(e.g).length===e.c)}}for(e=this.xa,n=0,i=e.length;i>n;++n)e[n](this,t);e.length=0},m.fe=function(){this.render()},m.he=function(){var t;if(this.Sb()&&(t=Qh(this),console.assert(null!==t,"expects a non-null value for targetElement")),this.l){for(var e=0,i=this.l.length;i>e;++e)B(this.l[e]);this.l=null}t?(t.appendChild(this.a),t=this.la?this.la:t,this.l=[C(t,"keydown",this.Ha,this),C(t,"keypress",this.Ha,this)],this.g||(this.g=this.ld.bind(this),window.addEventListener("resize",this.g,!1))):(fd(this.a),void 0!==this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0)),this.ld()},m.ie=function(){this.render()},m.Pc=function(){this.render()},m.je=function(){this.X&&(B(this.X),this.X=null),this.U&&(B(this.U),this.U=null);var t=this.S();t&&(this.X=C(t,Ia,this.Pc,this),this.U=C(t,"change",this.Pc,this)),this.render()},m.Vd=function(){this.B&&(this.B.forEach(B),this.B=null);var t=this.get(Mh);t&&(this.B=[C(t,Ia,this.render,this),C(t,"change",this.render,this)]),this.render()},m.render=function(){void 0===this.c&&(this.c=requestAnimationFrame(this.eb))},m.lf=function(t){var e,i,n,o=this.Ka(),r=this.S(),s=hb(),a=null;if(void 0!==o&&0<o[0]&&0<o[1]&&r&&yc(r)){var a=tc(r,this.b?this.b.viewHints:void 0),l=this.get(Mh).Ob(),h={};for(e=0,i=l.length;i>e;++e)h[x(l[e].layer)]=l[e];n=r.da(),a={animate:!1,attributions:{},coordinateToPixelTransform:this.fb,extent:s,focus:this.ba?this.ba:n.center,index:this.gb++,layerStates:h,layerStatesArray:l,logos:la({},this.qd),pixelRatio:this.rd,pixelToCoordinateTransform:this.sd,postRenderFunctions:[],size:o,skippedFeatureUids:this.pd,tileQueue:this.wa,time:t,usedTiles:{},viewState:n,viewHints:a,wantedTiles:{}}}if(a){for(t=this.Pa,e=o=0,i=t.length;i>e;++e)r=t[e],r(this,a)&&(t[o++]=r);t.length=o,a.extent=qb(n.center,n.resolution,n.rotation,a.size,s)}this.b=a,this.L.ed(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.xa,a.postRenderFunctions),0!==this.Pa.length||a.viewHints[rc]||a.viewHints[1]||mb(a.extent,this.Qa)||(this.J(new gd("moveend",this,a)),fb(a.extent,this.Qa))),this.J(new gd("postrender",this,a)),setTimeout(this.ee.bind(this),0)},m.ld=function(){var t=Qh(this);if(t){var e=getComputedStyle(t);this.set(Oh,[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set(Oh,void 0)};var Mh="layergroup",Oh="size",Ph="target",Nh="view";Cb(Gf),Cb(Nf),Nf.forEach(function(t){Gf.forEach(function(e){Bb(t,e,Hf),Bb(e,t,If)})}),v(Rh,D),m=Rh.prototype,m.Ud=function(){for(var t=this.b;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(Sh))&&this.b.appendChild(t)},m.$d=function(){this.g&&(fd(this.b),B(this.g),this.g=null);var t=this.get(Th);t&&(this.g=C(t,"postrender",this.render,this),Yh(this),t=this.s?t.s:t.u,this.l?t.insertBefore(this.b,t.childNodes[0]||null):t.appendChild(this.b))},m.render=function(){Yh(this)},m.ae=function(){Yh(this)},m.ce=function(){if(Yh(this),void 0!==this.get(Vh)&&this.autoPan){var t=this.get(Th);if(void 0!==t&&Qh(t)){var e=Zh(Qh(t),t.Ka()),i=this.get(Sh),n=i.offsetWidth,o=i.currentStyle||getComputedStyle(i),n=n+(parseInt(o.marginLeft,10)+parseInt(o.marginRight,10)),o=i.offsetHeight,r=i.currentStyle||getComputedStyle(i),o=o+(parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)),s=Zh(i,[n,o]),i=this.i;gb(e,s)||(n=s[0]-e[0],o=e[2]-s[2],r=s[1]-e[1],s=e[3]-s[3],e=[0,0],0>n?e[0]=n-i:0>o&&(e[0]=Math.abs(o)+i),0>r?e[1]=r-i:0>s&&(e[1]=Math.abs(s)+i),0===e[0]&&0===e[1])||(i=t.S().ka(),i=Ke(t,i),e=[i[0]+e[0],i[1]+e[1]],t.S().animate({center:t.qa(e),duration:this.c.duration,easing:this.c.easing}))}}},m.de=function(){Yh(this)},m.setMap=function(t){this.set(Th,t)},m.Xc=function(t){this.set(Vh,t)};var gi="bottom-left",di="bottom-center",ai="bottom-right",hi="center-left",ei="center-center",bi="center-right",Xh="top-left",fi="top-center",ci="top-right",Sh="element",Th="map",Uh="offset",Vh="position",Wh="positioning";v(ii,D),m=ii.prototype,m.clone=function(){var t=new ii(this.ta());ji(t,this.b);var e=this.Y();return e&&t.Na(e.clone()),(e=this.i)&&t.Sc(e),t},m.Y=function(){return this.get(this.b)},m.Ee=function(){return this.i},m.Fe=function(){return this.c},m.Ge=function(){this.A()},m.sb=function(){this.g&&(B(this.g),this.g=null);var t=this.Y();t&&(this.g=C(t,"change",this.Ge,this)),this.A()},m.Na=function(t){this.set(this.b,t)},m.Sc=function(t){this.c=(this.i=t)?ki(t):void 0,this.A()};var li=document.implementation.createDocument("","",null),vi=ti();v(Ei,Ai),Ei.prototype.W=function(){return"json"},Ei.prototype.bb=function(t,e){var i,n=Fi(t),o=Bi(this,t,e);if("FeatureCollection"===n.type){i=[];var r,s,n=n.features;for(r=0,s=n.length;s>r;++r)i.push(Gi(this,n[r],o))}else i=[Gi(this,n,o)];return i},Ei.prototype.ac=function(t){t=Fi(t).crs;var e;return t?"name"==t.type?e=Hb(t.properties.name):"EPSG"==t.type?e=Hb("EPSG:"+t.properties.code):y(!1,36):e=this.defaultDataProjection,e},Ei.prototype.jc=function(t,e){return JSON.stringify(Hi(this,t,e))},v(Ji,Pb),m=Ji.prototype,m.clone=function(){var t=new Ji(null);return t.O(this.T,this.o.slice()),t},m.ca=function(){return Vb(this.o,0,this.o.length,this.a)},m.Fa=function(t){var e=[];return e.length=Xb(this.o,0,this.o.length,this.a,t,e,0),t=new Ji(null),t.O("XY",e),t},m.W=function(){return"LineString"},m.ha=function(t,e){t?(Sb(this,e,t,1),this.o||(this.o=[]),this.o.length=Tb(this.o,0,t,this.a),this.A()):this.O("XY",null)},m.O=function(t,e){Rb(this,t,e),this.A()},v(Ki,Pb),m=Ki.prototype,m.clone=function(){var t=new Ki(null);return t.O(this.T,this.o.slice(),this.c.slice()),t},m.ca=function(){return Wb(this.o,0,this.c,this.a)},m.Ea=function(){return this.c},m.Fa=function(t){var e,i,n=[],o=[],r=this.o,s=this.c,a=this.a,l=0,h=0;for(e=0,i=s.length;i>e;++e){var c=s[e],h=Xb(r,l,c,a,t,n,h);o.push(h),l=c}return n.length=h,t=new Ki(null),t.O("XY",n,o),t},m.W=function(){return"MultiLineString"},m.ha=function(t,e){if(t){Sb(this,e,t,2),this.o||(this.o=[]);var i=Ub(this.o,0,t,this.a,this.c);this.o.length=0===i.length?0:i[i.length-1],this.A()}else this.O("XY",null,this.c)},m.O=function(t,e,i){e?0===i.length?console.assert(0===e.length,"flatCoordinates should be an empty array"):console.assert(e.length==i[i.length-1],"length of flatCoordinates array should match the last value of ends"):console.assert(i&&0===i.length,"ends must be truthy and ends.length should be 0"),Rb(this,t,e),this.c=i,this.A()},v(Ni,Pb),m=Ni.prototype,m.clone=function(){var t=new Ni(null);return t.O(this.T,this.o.slice()),t},m.ca=function(){return Vb(this.o,0,this.o.length,this.a)},m.W=function(){return"MultiPoint"},m.ha=function(t,e){t?(Sb(this,e,t,1),this.o||(this.o=[]),this.o.length=Tb(this.o,0,t,this.a),this.A()):this.O("XY",null)},m.O=function(t,e){Rb(this,t,e),this.A()},v(Oi,Pb),m=Oi.prototype,m.clone=function(){for(var t=new Oi(null),e=this.g.length,i=Array(e),n=0;e>n;++n)i[n]=this.g[n].slice();return Pi(t,this.T,this.o.slice(),i),t},m.ca=function(t){var e;void 0!==t?(e=Dg(this).slice(),fc(e,this.g,this.a,t)):e=this.o,t=e,e=this.g;var i,n,o=this.a,r=0,s=[],a=0;for(i=0,n=e.length;n>i;++i){var l=e[i];s[a++]=Wb(t,r,l,o,s[a]),r=l[l.length-1]}return s.length=a,s},m.Fa=function(t){var e=[],i=[],n=this.o,o=this.g,r=this.a;t=Math.sqrt(t);var s,a,l=0,h=0;for(s=0,a=o.length;a>s;++s){var c=o[s],u=[],h=Yb(n,l,c,r,t,e,h,u);i.push(u),l=c[c.length-1]}return e.length=h,n=new Oi(null),Pi(n,"XY",e,i),n},m.W=function(){return"MultiPolygon"},m.ha=function(t,e){if(t){Sb(this,e,t,3),this.o||(this.o=[]);var i,n,o=this.o,r=this.a,s=this.g,a=0,s=s?s:[],l=0;for(i=0,n=t.length;n>i;++i)a=Ub(o,a,t[i],r,s[l]),s[l++]=a,a=a[a.length-1];s.length=l,0===s.length?this.o.length=0:(o=s[s.length-1],this.o.length=0===o.length?0:o[o.length-1]),this.A()}else Pi(this,"XY",null,this.g)},v(Qi,Nb),m=Qi.prototype,m.clone=function(){var t=new Qi(null),e=Si(this.b);return Ti(t),t.b=e,Ri(t),t.A(),t},m.Lb=function(t){lb(t);for(var e=this.b,i=0,n=e.length;n>i;++i){var o=t,r=e[i].R();r[0]<o[0]&&(o[0]=r[0]),r[2]>o[2]&&(o[2]=r[2]),r[1]<o[1]&&(o[1]=r[1]),r[3]>o[3]&&(o[3]=r[3])}return t},m.Qb=function(t){if(this.u!=this.f&&(ma(this.i),this.l=0,this.u=this.f),0>t||0!==this.l&&t<this.l)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i,n,o=[],r=this.b,s=!1;for(i=0,n=r.length;n>i;++i){var a=r[i],l=a.Qb(t);o.push(l),l!==a&&(s=!0)}return s?(t=new Qi(null),Ti(t),t.b=o,Ri(t),t.A(),this.i[e]=t):(this.l=t,this)},m.W=function(){return"GeometryCollection"},m.rotate=function(t,e){for(var i=this.b,n=0,o=i.length;o>n;++n)i[n].rotate(t,e);this.A()},m.scale=function(t,e,i){i||(i=pb(this.R()));for(var n=this.b,o=0,r=n.length;r>o;++o)n[o].scale(t,e,i);this.A()},m.Ra=function(t){var e,i,n=this.b;for(e=0,i=n.length;i>e;++e)n[e].Ra(t);this.A()},m.translate=function(t,e){var i,n,o=this.b;for(i=0,n=o.length;n>i;++i)o[i].translate(t,e);this.A()},m.aa=function(){Ti(this),Nb.prototype.aa.call(this)},v(Ui,Ei);var Wi={Point:function(t){return console.assert("Point"==t.type,"object.type should be Point"),new $b(t.coordinates)},LineString:function(t){return console.assert("LineString"==t.type,"object.type should be LineString"),new Ji(t.coordinates)},Polygon:function(t){return console.assert("Polygon"==t.type,"object.type should be Polygon"),new gc(t.coordinates)},MultiPoint:function(t){return console.assert("MultiPoint"==t.type,"object.type should be MultiPoint"),new Ni(t.coordinates)},MultiLineString:function(t){return console.assert("MultiLineString"==t.type,"object.type should be MultiLineString"),new Ki(t.coordinates)},MultiPolygon:function(t){return console.assert("MultiPolygon"==t.type,"object.type should be MultiPolygon"),new Oi(t.coordinates)},GeometryCollection:function(t,e){console.assert("GeometryCollection"==t.type,"object.type should be GeometryCollection");var i=t.geometries.map(function(t){return Vi(t,e)});return new Qi(i)}},Yi={Point:function(t){return{type:"Point",coordinates:t.ca()}},LineString:function(t){return{type:"LineString",coordinates:t.ca()}},Polygon:function(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.ca(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.ca()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.ca()}},MultiPolygon:function(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.ca(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.b.map(function(t){var i=la({},e);return delete i.featureProjection,Xi(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};v($i,Ai),m=$i.prototype,m.W=function(){return"xml"},m.bb=function(t,e){if(t instanceof Document)return aj(this,t,e);if(oi(t))return this.Yb(t,e);if("string"==typeof t){var i=pi(t);return aj(this,i,e)}return[]},m.ac=function(t){return t instanceof Document?this.defaultDataProjection:oi(t)?this.dd(t):"string"==typeof t?(pi(t),this.defaultDataProjection):null},m.dd=function(){return this.defaultDataProjection},m.jc=function(t,e){var i=this.b(t,e);return console.assert(i.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),this.g.serializeToString(i)},v(bj,$i);var cj=/^[\s\xa0]*$/;m=bj.prototype,m.Zb=function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?S([],this.a,t,e,this):S(null,this.a,t,e,this);else if("featureMembers"==i||"featureMember"==i){var o,r,s=e[0],a=s.featureType,l=s.featureNS;if(!a&&t.childNodes){for(a=[],l={},o=0,r=t.childNodes.length;r>o;++o){var h=t.childNodes[o];if(1===h.nodeType){var c=h.nodeName.split(":").pop();if(-1===a.indexOf(c)){var u,d="",f=0,h=h.namespaceURI;for(u in l){if(l[u]===h){d=u;break}++f}d||(d="p"+f,l[d]=h),a.push(d+":"+c)}}}"featureMember"!=i&&(s.featureType=a,s.featureNS=l)}"string"==typeof l&&(o=l,l={},l.p0=o);var p,s={},a=Array.isArray(a)?a:[a];for(p in l){for(c={},o=0,r=a.length;r>o;++o)(-1===a[o].indexOf(":")?"p0":a[o].split(":")[0])===p&&(c[a[o].split(":").pop()]="featureMembers"==i?qi(this.bd,this):ri(this.bd,this));s[l[p]]=c}n="featureMember"==i?S(void 0,s,t,e):S([],s,t,e)}return null===n&&(n=[]),n},m.cd=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName");var n=S(null,this.c,t,e,this);return n?Di(n,!1,i):void 0},m.bd=function(t,e){var i,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,r={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var s=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var a=mi(i);cj.test(a)&&(a=void 0),r[s]=a}else"boundedBy"!==s&&(o=s),r[s]=this.cd(i,e)}return i=new ii(r),o&&ji(i,o),n&&(i.a=n,i.A()),i},m.Yb=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&la(i,Bi(this,t,e)),this.Zb(t,[i])||[]},m.dd=function(t){return Hb(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},v(mj,$i);var nj=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],wj=R(nj,{rte:qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("rte"==t.localName,"localName should be rte");var i=e[0],n=S({flatCoordinates:[],layoutOptions:{}},tj,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var r=n.layoutOptions;delete n.layoutOptions;var r=pj(r,o),s=new Ji(null);return s.O(r,o),Di(s,!1,i),i=new ii(s),i.fa(n),i}}),trk:qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trk"==t.localName,"localName should be trk");var i=e[0],n=S({flatCoordinates:[],ends:[],layoutOptions:{}},uj,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var r=n.ends;delete n.ends;var s=n.layoutOptions;delete n.layoutOptions;var s=pj(s,o,r),a=new Ki(null);return a.O(s,o,r),Di(a,!1,i),i=new ii(a),i.fa(n),i}}),wpt:qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("wpt"==t.localName,"localName should be wpt");var i=e[0],n=S({},vj,t,e);if(n){var o={},r=oj([],o,t,n),o=pj(o,r),r=new $b(r,o);return Di(r,!1,i),i=new ii(r),i.fa(n),i}})}),rj=R(nj,{text:N(W,"linkText"),type:N(W,"linkType")}),tj=R(nj,{name:N(W),cmt:N(W),desc:N(W),src:N(W),link:qj,number:N(hj),extensions:sj,type:N(W),rtept:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("rtept"==t.localName,"localName should be rtept");
var i=S({},xj,t,e);if(i){var n=e[e.length-1];oj(n.flatCoordinates,n.layoutOptions,t,i)}}}),xj=R(nj,{ele:N(V),time:N(fj)}),uj=R(nj,{name:N(W),cmt:N(W),desc:N(W),src:N(W),link:qj,number:N(hj),type:N(W),extensions:sj,trkseg:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trkseg"==t.localName,"localName should be trkseg");var i=e[e.length-1];xi(yj,t,e),i.ends.push(i.flatCoordinates.length)}}),yj=R(nj,{trkpt:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trkpt"==t.localName,"localName should be trkpt");var i=S({},zj,t,e);if(i){var n=e[e.length-1];oj(n.flatCoordinates,n.layoutOptions,t,i)}}}),zj=R(nj,{ele:N(V),time:N(fj)}),vj=R(nj,{ele:N(V),time:N(fj),magvar:N(V),geoidheight:N(V),name:N(W),cmt:N(W),desc:N(W),src:N(W),link:qj,sym:N(W),type:N(W),fix:N(W),sat:N(hj),hdop:N(V),vdop:N(V),pdop:N(V),ageofdgpsdata:N(V),dgpsid:N(hj),extensions:sj});mj.prototype.Yb=function(t,e){if(console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),!(0<=nj.indexOf(t.namespaceURI)))return[];if("gpx"==t.localName){var i=S([],wj,t,[Bi(this,t,e)]);if(i){var n=i;n||(n=[]);for(var o=0,r=n.length;r>o;++o){var s=n[o];if(this.a){var a=s.get("extensionsNode_")||null;this.a(s,a)}s.set("extensionsNode_",void 0)}return i}}return[]};var Cj=["text","type"],Bj=R(nj,{text:O(X),type:O(X)}),Hj=R(nj,"name cmt desc src link number type rtept".split(" ")),Ij=R(nj,{name:O(X),cmt:O(X),desc:O(X),src:O(X),link:O(Aj),number:O(lj),type:O(X),rtept:si(O(Dj))}),Ej=R(nj,["ele","time"]),Jj=R(nj,"name cmt desc src link number type trkseg".split(" ")),Mj=R(nj,{name:O(X),cmt:O(X),desc:O(X),src:O(X),link:O(Aj),number:O(lj),type:O(X),trkseg:si(O(function(t,e,i){U({node:t,geometryLayout:e.T,properties:{}},Kj,Lj,e.ca(),i)}))}),Lj=ti("trkpt"),Kj=R(nj,{trkpt:O(Dj)}),Fj=R(nj,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Gj=R(nj,{ele:O(kj),time:O(function(t,e){var i=new Date(1e3*e);t.appendChild(li.createTextNode(i.getUTCFullYear()+"-"+$a(i.getUTCMonth()+1)+"-"+$a(i.getUTCDate())+"T"+$a(i.getUTCHours())+":"+$a(i.getUTCMinutes())+":"+$a(i.getUTCSeconds())+"Z"))}),magvar:O(kj),geoidheight:O(kj),name:O(X),cmt:O(X),desc:O(X),src:O(X),link:O(Aj),sym:O(X),type:O(X),fix:O(X),sat:O(lj),hdop:O(kj),vdop:O(kj),pdop:O(kj),ageofdgpsdata:O(kj),dgpsid:O(lj)}),Nj={Point:"wpt",LineString:"rte",MultiLineString:"trk"},Pj=R(nj,{rte:O(function(t,e,i){var n=i[0],o=e.ta();t={node:t,properties:o},(e=e.Y())&&(e=Di(e,!0,n),t.geometryLayout=e.T,o.rtept=e.ca()),n=Hj[i[i.length-1].node.namespaceURI],o=wi(o,n),U(t,Ij,vi,o,i,n)}),trk:O(function(t,e,i){var n=i[0],o=e.ta();t={node:t,properties:o},(e=e.Y())&&(e=Di(e,!0,n),o.trkseg=Li(e)),n=Jj[i[i.length-1].node.namespaceURI],o=wi(o,n),U(t,Mj,vi,o,i,n)}),wpt:O(function(t,e,i){var n=i[0],o=i[i.length-1];o.properties=e.ta(),(e=e.Y())&&(e=Di(e,!0,n),o.geometryLayout=e.T,Dj(t,e.ca(),i))})});mj.prototype.b=function(t,e){e=Ci(this,e);var i=li.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers 3"),U({node:i},Pj,Oj,t,[e]),i},v(Qj,Ba),Qj.prototype.u=function(){this.b=3,this.g.forEach(B),this.g=null,this.J("change")},Qj.prototype.v=function(){if(this.b=2,this.f&&(this.a.width=this.f[0],this.a.height=this.f[1]),this.f=[this.a.width,this.a.height],this.g.forEach(B),this.g=null,Rj(this),!this.s&&null!==this.j){this.c.width=this.a.width,this.c.height=this.a.height;var t=this.c.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),i=e.data,n=this.j[0]/255,o=this.j[1]/255,r=this.j[2]/255,s=0,a=i.length;a>s;s+=4)i[s]*=n,i[s+1]*=o,i[s+2]*=r;t.putImageData(e,0,0)}this.J("change")},Qj.prototype.load=function(){if(0==this.b){console.assert(void 0!==this.l,"this.src_ must not be undefined"),console.assert(!this.g,"no listener keys existing"),this.b=1,this.g=[C(this.a,"error",this.u,this,!0),C(this.a,"load",this.v,this,!0)];try{this.a.src=this.l}catch(t){this.u()}}},v(Sj,jg),m=Sj.prototype,m.clone=function(){var t,e=this.yb(1);if(2===this.a.b)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0)}return new Sj({anchor:this.g.slice(),anchorOrigin:this.f,anchorXUnits:this.P,anchorYUnits:this.B,crossOrigin:this.G,color:this.c&&this.c.slice?this.c.slice():this.c||void 0,img:t?t:void 0,imgSize:t?this.a.f.slice():void 0,src:t?void 0:this.a.l,offset:this.Z.slice(),offsetOrigin:this.b,size:null!==this.F?this.F.slice():void 0,opacity:this.l,scale:this.i,snapToPixel:this.u,rotation:this.s,rotateWithView:this.v})},m.qb=function(){if(this.j)return this.j;var t=this.g,e=this.La();if(this.P==Uj||this.B==Uj){if(!e)return null;t=this.g.slice(),this.P==Uj&&(t[0]*=e[0]),this.B==Uj&&(t[1]*=e[1])}if(this.f!=Tj){if(!e)return null;t===this.g&&(t=this.g.slice()),(this.f==Vj||this.f==Wj)&&(t[0]=-t[0]+e[0]),(this.f==Xj||this.f==Wj)&&(t[1]=-t[1]+e[1])}return this.j=t},m.yb=function(){var t=this.a;return t.c?t.c:t.a},m.Lc=function(){return this.a.f},m.$a=function(){return this.a.b},m.Zc=function(){var t=this.a;if(!t.i)if(t.s){var e=t.f[0],i=t.f[1],n=ed(e,i);n.fillRect(0,0,e,i),t.i=n.canvas}else t.i=t.a;return t.i},m.zb=function(){if(this.C)return this.C;var t=this.Z;if(this.b!=Tj){var e=this.La(),i=this.a.f;if(!e||!i)return null;t=t.slice(),(this.b==Vj||this.b==Wj)&&(t[0]=i[0]-e[0]-t[0]),(this.b==Xj||this.b==Wj)&&(t[1]=i[1]-e[1]-t[1])}return this.C=t},m.La=function(){return this.F?this.F:this.a.f},m.Rc=function(t,e){return C(this.a,"change",t,e)},m.load=function(){this.a.load()},m.kd=function(t,e){va(this.a,"change",t,e)};var Uj="fraction",Xj="bottom-left",Wj="bottom-right",Tj="top-left",Vj="top-right";Yj.prototype.clone=function(){return new Yj({font:this.g,rotation:this.l,rotateWithView:this.i,scale:this.f,text:this.ea(),textAlign:this.C,textBaseline:this.F,fill:this.a?this.a.clone():void 0,stroke:this.b?this.b.clone():void 0,offsetX:this.c,offsetY:this.j})},Yj.prototype.ea=function(){return this.s};var Zj=["http://www.google.com/kml/ext/2.2"],Y=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],ak={fraction:Uj,pixels:"pixels"},Ak=R(Y,{displayName:N(W),value:N(W)}),xk=R(Y,{Data:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Data"==t.localName,"localName should be Data");var i=t.getAttribute("name");xi(Ak,t,e);var n=e[e.length-1];null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value)},SchemaData:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("SchemaData"==t.localName,"localName should be SchemaData"),xi(Bk,t,e)}}),zk=R(Y,{LatLonAltBox:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LatLonAltBox"==t.localName,"localName should be LatLonAltBox");var i=S({},Ck,t,e);if(i){var n=e[e.length-1];n.extent=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)],n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)}},Lod:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Lod"==t.localName,"localName should be Lod");var i=S({},Dk,t,e);if(i){var n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}}),Ck=R(Y,{altitudeMode:N(W),minAltitude:N(V),maxAltitude:N(V),north:N(V),south:N(V),east:N(V),west:N(V)}),Dk=R(Y,{minLodPixels:N(V),maxLodPixels:N(V),minFadeExtent:N(V),maxFadeExtent:N(V)}),mk=R(Y,{extrude:N(dj),altitudeMode:N(W)}),gk=R(Y,{coordinates:ri(ck)}),tk=R(Y,{innerBoundaryIs:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("innerBoundaryIs"==t.localName,"localName should be innerBoundaryIs");var i=S(void 0,Ek,t,e);if(i){var n=e[e.length-1];console.assert(Array.isArray(n),"flatLinearRings should be an array"),console.assert(0<n.length,"flatLinearRings array should not be empty"),n.push(i)}},outerBoundaryIs:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("outerBoundaryIs"==t.localName,"localName should be outerBoundaryIs");var i=S(void 0,Fk,t,e);if(i){var n=e[e.length-1];console.assert(Array.isArray(n),"flatLinearRings should be an array"),console.assert(0<n.length,"flatLinearRings array should not be empty"),n[0]=i}}}),ik=R(Y,{when:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("when"==t.localName,"localName should be when");var i=e[e.length-1].od,n=mi(t),n=Date.parse(n);i.push(isNaN(n)?0:n)}},R(Zj,{coord:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=Zj.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("coord"==t.localName,"localName should be coord");var i=e[e.length-1].o,n=mi(t);(n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n))?i.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),0):i.push(0,0,0,0)}})),kk=R(Y,{coordinates:ri(ck)}),Gk=R(Y,{href:N(dk)},R(Zj,{x:N(V),y:N(V),w:N(V),h:N(V)})),Hk=R(Y,{Icon:N(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Icon"==t.localName,"localName should be Icon");var i=S({},Gk,t,e);return i?i:null}),heading:N(V),hotSpot:N(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),kc:ak[e],y:parseFloat(t.getAttribute("y")),lc:ak[i]}}),scale:N(ek)}),Ek=R(Y,{LinearRing:ri(fk)}),Ik=R(Y,{color:N(bk),scale:N(ek)}),Jk=R(Y,{color:N(bk),width:N(V)}),pk=R(Y,{LineString:qi(lk),LinearRing:qi(nk),MultiGeometry:qi(ok),Point:qi(rk),Polygon:qi(sk)}),Kk=R(Zj,{Track:qi(hk)});R(Y,{ExtendedData:wk,Region:yk,Link:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Link"==t.localName,"localName should be Link"),xi(Lk,t,e)},address:N(W),description:N(W),name:N(W),open:N(dj),phoneNumber:N(W),visibility:N(dj)});var Lk=R(Y,{href:N(dk)}),Fk=R(Y,{LinearRing:ri(fk)}),Mk=R(Y,{Style:N(uk),key:N(W),styleUrl:N(dk)});R(Y,{ExtendedData:wk,Region:yk,MultiGeometry:N(ok,"geometry"),LineString:N(lk,"geometry"),LinearRing:N(nk,"geometry"),Point:N(rk,"geometry"),Polygon:N(sk,"geometry"),Style:N(uk),StyleMap:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("StyleMap"==t.localName,"localName should be StyleMap");var i=S(void 0,Nk,t,e);if(i){var n=e[e.length-1];Array.isArray(i)?n.Style=i:"string"==typeof i?n.styleUrl=i:y(!1,38)}},address:N(W),description:N(W),name:N(W),open:N(dj),phoneNumber:N(W),styleUrl:N(dk),visibility:N(dj)},R(Zj,{MultiTrack:N(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=Zj.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("MultiTrack"==t.localName,"localName should be MultiTrack");var i=S([],Kk,t,e);if(i){var n=new Ki(null);return Mi(n,i),n}},"geometry"),Track:N(hk,"geometry")}));var Ok=R(Y,{color:N(bk),fill:N(dj),outline:N(dj)}),Bk=R(Y,{SimpleData:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("SimpleData"==t.localName,"localName should be SimpleData");var i=t.getAttribute("name");if(null!==i){var n=W(t);e[e.length-1][i]=n}}}),vk=R(Y,{IconStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be an ELEMENT"),console.assert("IconStyle"==t.localName,"localName should be IconStyle");var i=S({},Hk,t,e);if(i){var n,o=e[e.length-1],r="Icon"in i?i.Icon:{},s=!("Icon"in i)||0<Object.keys(r).length,a=r.href;a?n=a:s&&(n=void 0);var l,h,c;(a=i.hotSpot)?(l=[a.x,a.y],h=a.kc,c=a.lc):void 0===n?c=h=l=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(l=[.5,0],c=h=Uj);var u,a=r.x,d=r.y;void 0!==a&&void 0!==d&&(u=[a,d]);var f,a=r.w,r=r.h;void 0!==a&&void 0!==r&&(f=[a,r]);var p,r=i.heading;void 0!==r&&(p=r*Math.PI/180),i=i.scale,s?(void 0==n&&(f=void 0,void 0===i&&(i=void 0)),s=new Sj({anchor:l,anchorOrigin:Xj,anchorXUnits:h,anchorYUnits:c,crossOrigin:"anonymous",offset:u,offsetOrigin:Xj,rotation:p,scale:i,size:f,src:n}),o.imageStyle=s):o.imageStyle=void 0}},LabelStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LabelStyle"==t.localName,"localName should be LabelStyle");var i=S({},Ik,t,e);i&&(e[e.length-1].textStyle=new Yj({fill:new mg({color:"color"in i?i.color:void 0}),scale:i.scale}))},LineStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LineStyle"==t.localName,"localName should be LineStyle");var i=S({},Jk,t,e);i&&(e[e.length-1].strokeStyle=new ng({color:"color"in i?i.color:void 0,width:"width"in i?i.width:1}))},PolyStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("PolyStyle"==t.localName,"localName should be PolyStyle");var i=S({},Ok,t,e);if(i){var n=e[e.length-1];n.fillStyle=new mg({color:"color"in i?i.color:void 0});var o=i.fill;void 0!==o&&(n.fill=o),i=i.outline,void 0!==i&&(n.outline=i)}}}),Nk=R(Y,{Pair:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Pair"==t.localName,"localName should be Pair");var i=S({},Mk,t,e);if(i){var n=i.key;n&&"normal"==n&&((n=i.styleUrl)&&(e[e.length-1]=n),(i=i.Style)&&(e[e.length-1]=i))}}});R(Y,["Document","Placemark"]),R(Y,{Document:O(function(t,e,i){U({node:t},kl,ll,e,i,void 0,this)}),Placemark:O(Zk)});var kl=R(Y,{Placemark:O(Zk)}),ml=R(Y,{Data:O(function(t,e,i){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&U(t,ml,vi,[e.displayName],i,["displayName"]),null!==e&&e.value&&U(t,ml,vi,[e.value],i,["value"])):U(t,ml,vi,[e],i,["value"])}),value:O(function(t,e){X(t,e)}),displayName:O(function(t,e){t.appendChild(li.createCDATASection(e))})}),nl={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},pl=R(Y,["href"],R(Zj,["x","y","w","h"])),ql=R(Y,{href:O(X)},R(Zj,{x:O(kj),y:O(kj),w:O(kj),h:O(kj)})),rl=R(Y,["scale","heading","Icon","hotSpot"]),tl=R(Y,{Icon:O(function(t,e,i){t={node:t};var n=pl[i[i.length-1].node.namespaceURI],o=wi(e,n);U(t,ql,vi,o,i,n),n=pl[Zj[0]],o=wi(e,n),U(t,ql,sl,o,i,n)}),heading:O(kj),hotSpot:O(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.kc),t.setAttribute("yunits",e.lc)}),scale:O(jl)}),ul=R(Y,["color","scale"]),vl=R(Y,{color:O(Pk),scale:O(jl)}),wl=R(Y,["color","width"]),xl=R(Y,{color:O(Pk),width:O(kj)}),Xk=R(Y,{LinearRing:O(cl)}),Vk=R(Y,{LineString:O(cl),Point:O(cl),Polygon:O(fl),GeometryCollection:O(Qk)}),bl=R(Y,"name open visibility address phoneNumber description styleUrl Style".split(" ")),$k=R(Y,{ExtendedData:O(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var o=n.length,r=0;o>r;r++)U(t,ml,yl,[{name:n[r],value:e[r]}],i)}),MultiGeometry:O(Qk),LineString:O(cl),LinearRing:O(cl),Point:O(cl),Polygon:O(fl),Style:O(function(t,e,i){t={node:t};var n={},o=e.b,r=e.f,s=e.g;e=e.ea(),s instanceof Sj&&(n.IconStyle=s),e&&(n.LabelStyle=e),r&&(n.LineStyle=r),o&&(n.PolyStyle=o),e=zl[i[i.length-1].node.namespaceURI],n=wi(n,e),U(t,Al,vi,n,i,e)}),address:O(X),description:O(X),name:O(X),open:O(jj),phoneNumber:O(X),styleUrl:O(X),visibility:O(jj)}),dl=R(Y,{coordinates:O(function(t,e,i){i=i[i.length-1];var n=i.layout;i=i.stride;var o;"XY"==n||"XYM"==n?o=2:"XYZ"==n||"XYZM"==n?o=3:y(!1,34);var r,s=e.length,a="";if(s>0){for(a+=e[0],n=1;o>n;++n)a+=","+e[n];for(r=i;s>r;r+=i)for(a+=" "+e[r],n=1;o>n;++n)a+=","+e[r+n]}X(t,a)})}),gl=R(Y,{outerBoundaryIs:O(Wk),innerBoundaryIs:O(Wk)}),Bl=R(Y,{color:O(Pk)}),zl=R(Y,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Al=R(Y,{IconStyle:O(function(t,e,i){t={node:t};var n={},o=e.La(),r=e.Lc(),s={href:e.a.l};if(o){s.w=o[0],s.h=o[1];var a=e.qb(),l=e.zb();l&&r&&0!==l[0]&&l[1]!==o[1]&&(s.x=l[0],s.y=r[1]-(l[1]+o[1])),a&&0!==a[0]&&a[1]!==o[1]&&(n.hotSpot={x:a[0],kc:"pixels",y:o[1]-a[1],lc:"pixels"})}n.Icon=s,o=e.i,1!==o&&(n.scale=o),e=e.s,0!==e&&(n.heading=e),e=rl[i[i.length-1].node.namespaceURI],n=wi(n,e),U(t,tl,vi,n,i,e)}),LabelStyle:O(function(t,e,i){t={node:t};var n={},o=e.a;o&&(n.color=o.a),(e=e.f)&&1!==e&&(n.scale=e),e=ul[i[i.length-1].node.namespaceURI],n=wi(n,e),U(t,vl,vi,n,i,e)}),LineStyle:O(function(t,e,i){t={node:t};var n=wl[i[i.length-1].node.namespaceURI];e=wi({color:e.a,width:e.g},n),U(t,xl,vi,e,i,n)}),PolyStyle:O(function(t,e,i){U({node:t},Bl,Cl,[e.a],i)})}),Cl=ti("color"),el=ti("coordinates"),yl=ti("Data"),al=ti("ExtendedData"),hl=ti("innerBoundaryIs"),Sk=ti("Point"),Tk=ti("LineString"),Yk=ti("LinearRing"),Uk=ti("Polygon"),il=ti("outerBoundaryIs");!function(){var t={},e={M:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.M=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Rf=i()}}(function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=i[s]={M:{}},e[s][0].call(l.M,function(t){var i=e[s][1][t];return o(i?i:t)},l,l.M,t,e,i,n)}return i[s].M}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){i.read=function(t,e,i,n,o){var r;r=8*o-n-1;var s=(1<<r)-1,a=s>>1,l=-7;o=i?o-1:0;var h=i?-1:1,c=t[e+o];for(o+=h,i=c&(1<<-l)-1,c>>=-l,l+=r;l>0;i=256*i+t[e+o],o+=h,l-=8);for(r=i&(1<<-l)-1,i>>=-l,l+=n;l>0;r=256*r+t[e+o],o+=h,l-=8);if(0===i)i=1-a;else{if(i===s)return r?NaN:1/0*(c?-1:1);r+=Math.pow(2,n),i-=a}return(c?-1:1)*r*Math.pow(2,i-n)},i.write=function(t,e,i,n,o,r){var s,a=8*r-o-1,l=(1<<a)-1,h=l>>1,c=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;r=n?0:r-1;var u=n?1:-1,d=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=l):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),e=n+h>=1?e+c/s:e+c*Math.pow(2,1-h),e*s>=2&&(n++,s/=2),n+h>=l?(e=0,n=l):n+h>=1?(e=(e*s-1)*Math.pow(2,o),n+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,o),n=0));o>=8;t[i+r]=255&e,r+=u,e/=256,o-=8);for(n=n<<o|e,a+=o;a>0;t[i+r]=255&n,r+=u,n/=256,a-=8);t[i+r-u]|=128*d}},{}],2:[function(t,e){function i(t){this.ya=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.D=0,this.length=this.ya.length}function n(t,e,i){var n,r,s=i.ya;if(r=s[i.D++],n=(112&r)>>4,128>r)return o(t,n,e);if(r=s[i.D++],n|=(127&r)<<3,128>r)return o(t,n,e);if(r=s[i.D++],n|=(127&r)<<10,128>r)return o(t,n,e);if(r=s[i.D++],n|=(127&r)<<17,128>r)return o(t,n,e);if(r=s[i.D++],n|=(127&r)<<24,128>r)return o(t,n,e);if(r=s[i.D++],128>r)return o(t,n|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.M=i;var r=t("ieee754");i.g=0,i.b=1,i.a=2,i.f=5,i.prototype={$b:function(t,e,i){for(i=i||this.length;this.D<i;){var n=this.$(),o=n>>3,r=this.D;this.type=7&n,t(o,e,this),this.D===r&&this.pf(n)}return e},gf:function(){var t=r.read(this.ya,this.D,!0,23,4);return this.D+=4,t},ff:function(){var t=r.read(this.ya,this.D,!0,52,8);return this.D+=8,t},$:function(t){var e,i,o=this.ya;return i=o[this.D++],e=127&i,128>i?e:(i=o[this.D++],e|=(127&i)<<7,128>i?e:(i=o[this.D++],e|=(127&i)<<14,128>i?e:(i=o[this.D++],e|=(127&i)<<21,128>i?e:(i=o[this.D],n(e|(15&i)<<28,t,this)))))},hf:function(){return this.$(!0)},bc:function(){var t=this.$();return 1===t%2?(t+1)/-2:t/2},ef:function(){return!!this.$()},cc:function(){for(var t=this.$()+this.D,e=this.ya,i="",n=this.D;t>n;){var o=e[n],r=null,s=o>239?4:o>223?3:o>191?2:1;if(n+s>t)break;var a,l,h;1===s?128>o&&(r=o):2===s?(a=e[n+1],128===(192&a)&&(r=(31&o)<<6|63&a,127>=r&&(r=null))):3===s?(a=e[n+1],l=e[n+2],128===(192&a)&&128===(192&l)&&(r=(15&o)<<12|(63&a)<<6|63&l,2047>=r||r>=55296&&57343>=r)&&(r=null)):4===s&&(a=e[n+1],l=e[n+2],h=e[n+3],128===(192&a)&&128===(192&l)&&128===(192&h)&&(r=(15&o)<<18|(63&a)<<12|(63&l)<<6|63&h,65535>=r||r>=1114112))&&(r=null),null===r?(r=65533,s=1):r>65535&&(r-=65536,i+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),i+=String.fromCharCode(r),n+=s}return this.D=t,i},pf:function(t){if(t&=7,t===i.g)for(;127<this.ya[this.D++];);else if(t===i.a)this.D=this.$()+this.D;else if(t===i.f)this.D+=4;else{if(t!==i.b)throw Error("Unimplemented type: "+t);this.D+=8}}}},{ieee754:1}]},{},[2])(2)})}(),function(){var t={},e={M:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.M=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Uf=i()}}(function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=i[s]={M:{}},e[s][0].call(l.M,function(t){var i=e[s][1][t];return o(i?i:t)},l,l.M,t,e,i,n)}return i[s].M}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e){function i(t,e){this.x=t,this.y=e}e.M=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone().td(t)},rotate:function(t){return this.clone().Cd(t)},round:function(){return this.clone().Dd()},angle:function(){return Math.atan2(this.y,this.x)},td:function(t){return this.x+=t.x,this.y+=t.y,this},Cd:function(t){var e=Math.cos(t);t=Math.sin(t);var i=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=i,this},Dd:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.a=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],2:[function(t,e){e.M.Mf=t("./lib/vectortile.js"),e.M.Nf=t("./lib/vectortilefeature.js"),e.M.Of=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function i(t,e,i){3===t&&(t=new n(i,i.$()+i.D),t.length&&(e[t.name]=t))}var n=t("./vectortilelayer");e.M=function(t,e){this.layers=t.$b(i,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function i(t,e,i,o,r){this.properties={},this.extent=i,this.type=0,this.Da=t,this.pc=-1,this.kb=o,this.mb=r,t.$b(n,this,e)}function n(t,e,i){if(1==t)e.id=i.$();else if(2==t)for(t=i.$()+i.D;i.D<t;){var n=e.kb[i.$()],o=e.mb[i.$()];e.properties[n]=o}else 3==t?e.type=i.$():4==t&&(e.pc=i.D)}t("point-geometry"),e.M=i,i.a=["Unknown","Point","LineString","Polygon"],i.prototype.bbox=function(){var t=this.Da;t.D=this.pc;for(var e=t.$()+t.D,i=1,n=0,o=0,r=0,s=1/0,a=-(1/0),l=1/0,h=-(1/0);t.D<e;)if(n||(n=t.$(),i=7&n,n>>=3),n--,1===i||2===i)o+=t.bc(),r+=t.bc(),s>o&&(s=o),o>a&&(a=o),l>r&&(l=r),r>h&&(h=r);else if(7!==i)throw Error("unknown command "+i);return[s,l,a,h]}},{"point-geometry":1}],5:[function(t,e){function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Da=t,this.kb=[],this.mb=[],this.jb=[],t.$b(n,this,e),this.length=this.jb.length}function n(t,e,i){15===t?e.version=i.$():1===t?e.name=i.cc():5===t?e.extent=i.$():2===t?e.jb.push(i.D):3===t?e.kb.push(i.cc()):4===t&&e.mb.push(o(i))}function o(t){for(var e=null,i=t.$()+t.D;t.D<i;)e=t.$()>>3,e=1===e?t.cc():2===e?t.gf():3===e?t.ff():4===e?t.hf():5===e?t.$():6===e?t.bc():7===e?t.ef():null;return e}var r=t("./vectortilefeature.js");e.M=i,i.prototype.feature=function(t){if(0>t||t>=this.jb.length)throw Error("feature index out of bounds");return this.Da.D=this.jb[t],t=this.Da.$()+this.Da.D,new r(this.Da,t,this.extent,this.kb,this.mb)}},{"./vectortilefeature.js":4}]},{},[2])(2)})}();var El=[null],Fl=R(El,{nd:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("nd"==t.localName,"localName should be nd"),e[e.length-1].Ja.push(t.getAttribute("ref"))},tag:Dl});R(El,{node:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("node"==t.localName,"localName should be node");var i=e[0],n=e[e.length-1],o=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Ce[o]=r;var s=S({cb:{}},Gl,t,e);oa(s.cb)||(r=new $b(r),Di(r,!1,i),i=new ii(r),i.a=o,i.A(),i.fa(s.cb),n.features.push(i))},way:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("way"==t.localName,"localName should be way");for(var i=e[0],n=t.getAttribute("id"),o=S({Ja:[],cb:{}},Fl,t,e),r=e[e.length-1],s=[],a=0,l=o.Ja.length;l>a;a++)Ma(s,r.Ce[o.Ja[a]]);o.Ja[0]==o.Ja[o.Ja.length-1]?(a=new gc(null),a.O("XY",s,[s.length])):(a=new Ji(null),a.O("XY",s)),Di(a,!1,i),i=new ii(a),i.a=n,i.A(),i.fa(o.cb),r.features.push(i)}});var Gl=R(El,{tag:Dl}),Il=[null,"http://www.opengis.net/ows/1.1"];R(Il,{ServiceIdentification:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceIdentification"==t.localName,"localName should be ServiceIdentification"),S({},Jl,t,e)}),ServiceProvider:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceProvider"==t.localName,"localName should be ServiceProvider"),S({},Kl,t,e)}),OperationsMetadata:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("OperationsMetadata"==t.localName,"localName should be OperationsMetadata"),S({},Ll,t,e)})});var Ml=R(Il,{DeliveryPoint:N(W),City:N(W),AdministrativeArea:N(W),PostalCode:N(W),Country:N(W),ElectronicMailAddress:N(W)}),Nl=R(Il,{Value:J(function(t){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Value"==t.localName,"localName should be Value"),W(t)})}),Ol=R(Il,{AllowedValues:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("AllowedValues"==t.localName,"localName should be AllowedValues"),S({},Nl,t,e)})}),Ql=R(Il,{Phone:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Phone"==t.localName,"localName should be Phone"),S({},Pl,t,e)}),Address:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Address"==t.localName,"localName should be Address"),S({},Ml,t,e)})}),Sl=R(Il,{HTTP:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("HTTP"==t.localName,"localName should be HTTP"),S({},Rl,t,e)})}),Rl=R(Il,{Get:J(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Get"==t.localName,"localName should be Get");var i=Hl(t);return i?S({href:i},Tl,t,e):void 0}),Post:void 0}),Ul=R(Il,{DCP:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("DCP"==t.localName,"localName should be DCP"),S({},Sl,t,e)})}),Ll=R(Il,{Operation:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Operation"==t.localName,"localName should be Operation");var i=t.getAttribute("name"),n=S({},Ul,t,e);n&&(e[e.length-1][i]=n)}}),Pl=R(Il,{Voice:N(W),Facsimile:N(W)}),Tl=R(Il,{Constraint:J(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Constraint"==t.localName,"localName should be Constraint");var i=t.getAttribute("name");return i?S({name:i},Ol,t,e):void 0})}),Vl=R(Il,{IndividualName:N(W),PositionName:N(W),ContactInfo:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactInfo"==t.localName,"localName should be ContactInfo"),S({},Ql,t,e)})}),Jl=R(Il,{Title:N(W),ServiceTypeVersion:N(W),ServiceType:N(W)}),Kl=R(Il,{ProviderName:N(W),ProviderSite:N(Hl),ServiceContact:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceContact"==t.localName,"localName should be ServiceContact"),S({},Vl,t,e)})});N(bj.prototype.cd,"bounds");var Wl={"http://www.opengis.net/wfs":{totalInserted:N(hj),totalUpdated:N(hj),totalDeleted:N(hj)}},Xl={"http://www.opengis.net/ogc":{FeatureId:qi(function(t){return t.getAttribute("fid")})}},Yl={"http://www.opengis.net/wfs":{Feature:function(t,e){xi(Xl,t,e)}}};N(function(t,e){return S({},Wl,t,e)},"transactionSummary"),N(function(t,e){return S([],Yl,t,e)},"insertIds");var fm=[null,"http://www.opengis.net/wms"];R(fm,{Service:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Service"==t.localName,"localName should be Service"),S({},gm,t,e)}),Capability:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Capability"==t.localName,"localName should be Capability"),S({},hm,t,e)})});var hm=R(fm,{Request:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Request"==t.localName,"localName should be Request"),S({},im,t,e)}),Exception:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Exception"==t.localName,"localName should be Exception"),S([],jm,t,e)}),Layer:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer"),S({},km,t,e)})}),gm=R(fm,{Name:N(W),Title:N(W),Abstract:N(W),KeywordList:N(dm),OnlineResource:N(Hl),ContactInformation:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType shpuld be ELEMENT"),console.assert("ContactInformation"==t.localName,"localName should be ContactInformation"),S({},lm,t,e)}),Fees:N(W),AccessConstraints:N(W),LayerLimit:N(hj),MaxWidth:N(hj),MaxHeight:N(hj)}),lm=R(fm,{ContactPersonPrimary:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactPersonPrimary"==t.localName,"localName should be ContactPersonPrimary"),S({},mm,t,e)}),ContactPosition:N(W),ContactAddress:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactAddress"==t.localName,"localName should be ContactAddress"),S({},nm,t,e)}),ContactVoiceTelephone:N(W),ContactFacsimileTelephone:N(W),ContactElectronicMailAddress:N(W)}),mm=R(fm,{ContactPerson:N(W),ContactOrganization:N(W)}),nm=R(fm,{AddressType:N(W),Address:N(W),City:N(W),StateOrProvince:N(W),PostCode:N(W),Country:N(W)}),jm=R(fm,{Format:qi(W)}),km=R(fm,{Name:N(W),Title:N(W),Abstract:N(W),KeywordList:N(dm),CRS:J(W),EX_GeographicBoundingBox:N(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("EX_GeographicBoundingBox"==t.localName,"localName should be EX_GeographicBoundingBox");
var i=S({},om,t,e);if(i){var n=i.westBoundLongitude,o=i.southBoundLatitude,r=i.eastBoundLongitude,i=i.northBoundLatitude;return void 0===n||void 0===o||void 0===r||void 0===i?void 0:[n,o,r,i]}}),BoundingBox:J(function(t){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("BoundingBox"==t.localName,"localName should be BoundingBox");var e=[gj(t.getAttribute("minx")),gj(t.getAttribute("miny")),gj(t.getAttribute("maxx")),gj(t.getAttribute("maxy"))],i=[gj(t.getAttribute("resx")),gj(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:J(function(t){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Dimension"==t.localName,"localName should be Dimension"),{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),"default":t.getAttribute("default"),multipleValues:ej(t.getAttribute("multipleValues")),nearestValue:ej(t.getAttribute("nearestValue")),current:ej(t.getAttribute("current")),values:W(t)}}),Attribution:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Attribution"==t.localName,"localName should be Attribution"),S({},pm,t,e)}),AuthorityURL:J(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("AuthorityURL"==t.localName,"localName should be AuthorityURL");var i=Zl(t,e);return i?(i.name=t.getAttribute("name"),i):void 0}),Identifier:J(W),MetadataURL:J(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("MetadataURL"==t.localName,"localName should be MetadataURL");var i=Zl(t,e);return i?(i.type=t.getAttribute("type"),i):void 0}),DataURL:J(Zl),FeatureListURL:J(Zl),Style:J(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Style"==t.localName,"localName should be Style"),S({},qm,t,e)}),MinScaleDenominator:N(V),MaxScaleDenominator:N(V),Layer:J(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer");var i=e[e.length-1],n=S({},km,t,e);if(n){var o=ej(t.getAttribute("queryable"));return void 0===o&&(o=i.queryable),n.queryable=void 0!==o?o:!1,o=ij(t.getAttribute("cascaded")),void 0===o&&(o=i.cascaded),n.cascaded=o,o=ej(t.getAttribute("opaque")),void 0===o&&(o=i.opaque),n.opaque=void 0!==o?o:!1,o=ej(t.getAttribute("noSubsets")),void 0===o&&(o=i.noSubsets),n.noSubsets=void 0!==o?o:!1,(o=gj(t.getAttribute("fixedWidth")))||(o=i.fixedWidth),n.fixedWidth=o,(o=gj(t.getAttribute("fixedHeight")))||(o=i.fixedHeight),n.fixedHeight=o,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n}})}),pm=R(fm,{Title:N(W),OnlineResource:N(Hl),LogoURL:N(cm)}),om=R(fm,{westBoundLongitude:N(V),eastBoundLongitude:N(V),southBoundLatitude:N(V),northBoundLatitude:N(V)}),im=R(fm,{GetCapabilities:N(am),GetMap:N(am),GetFeatureInfo:N(am)}),bm=R(fm,{Format:J(W),DCPType:J(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("DCPType"==t.localName,"localName should be DCPType"),S({},rm,t,e)})}),rm=R(fm,{HTTP:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("HTTP"==t.localName,"localName should be HTTP"),S({},sm,t,e)})}),sm=R(fm,{Get:N(Zl),Post:N(Zl)}),qm=R(fm,{Name:N(W),Title:N(W),Abstract:N(W),LegendURL:J(cm),StyleSheetURL:N(Zl),StyleURL:N(Zl)}),$l=R(fm,{Format:N(W),OnlineResource:N(Hl)}),em=R(fm,{Keyword:qi(W)}),um=[null,"http://www.opengis.net/wmts/1.0"],vm=[null,"http://www.opengis.net/ows/1.1"];R(um,{Contents:N(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Contents"==t.localName,"localName should be Contents"),S({},wm,t,e)})});var wm=R(um,{Layer:J(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer"),S({},xm,t,e)}),TileMatrixSet:J(function(t,e){return S({},ym,t,e)})}),xm=R(um,{Style:J(function(t,e){var i=S({},zm,t,e);if(i){var n="true"===t.getAttribute("isDefault");return i.isDefault=n,i}}),Format:J(W),TileMatrixSetLink:J(function(t,e){return S({},Am,t,e)}),Dimension:J(function(t,e){return S({},Bm,t,e)}),ResourceURL:J(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},R(vm,{Title:N(W),Abstract:N(W),WGS84BoundingBox:N(function(t,e){var i=S([],Cm,t,e);if(2!=i.length)i=void 0;else{for(var n=hb(),o=0,r=i.length;r>o;++o)nb(n,i[o]);i=n}return i}),Identifier:N(W)})),zm=R(um,{LegendURL:J(function(t){var e={};return e.format=t.getAttribute("format"),e.href=Hl(t),e})},R(vm,{Title:N(W),Identifier:N(W)})),Am=R(um,{TileMatrixSet:N(W),TileMatrixSetLimits:N(function(t,e){return S([],Dm,t,e)})}),Dm=R(um,{TileMatrixLimits:qi(function(t,e){return S({},Em,t,e)})}),Em=R(um,{TileMatrix:N(W),MinTileRow:N(hj),MaxTileRow:N(hj),MinTileCol:N(hj),MaxTileCol:N(hj)}),Bm=R(um,{Default:N(W),Value:J(W)},R(vm,{Identifier:N(W)})),Cm=R(vm,{LowerCorner:qi(tm),UpperCorner:qi(tm)}),ym=R(um,{WellKnownScaleSet:N(W),TileMatrix:J(function(t,e){return S({},Fm,t,e)})},R(vm,{SupportedCRS:N(W),Identifier:N(W)})),Fm=R(um,{TopLeftCorner:N(tm),ScaleDenominator:N(V),TileWidth:N(hj),TileHeight:N(hj),MatrixWidth:N(hj),MatrixHeight:N(hj)},R(vm,{Identifier:N(W)}));v(Z,D),m=Z.prototype,m.aa=function(){this.vb(!1),D.prototype.aa.call(this)},m.Je=function(){var t=this.Tc();t&&(this.g=Jb(Hb("EPSG:4326"),t),this.a&&this.set(Im,this.g(this.a)))},m.Ke=function(){if(Ed){var t=this.Uc();t&&void 0===this.b?this.b=navigator.geolocation.watchPosition(this.bf.bind(this),this.cf.bind(this),this.Mc()):t||void 0===this.b||(navigator.geolocation.clearWatch(this.b),this.b=void 0)}},m.bf=function(t){var e=t.coords;this.set(Jm,e.accuracy),this.set(Km,null===e.altitude?void 0:e.altitude),this.set(Lm,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(Mm,null===e.heading?void 0:e.heading*Math.PI/180),this.a?(this.a[0]=e.longitude,this.a[1]=e.latitude):this.a=[e.longitude,e.latitude],t=this.g(this.a),this.set(Im,t),this.set(Nm,null===e.speed?void 0:e.speed),t=this.a;var i,n=e.accuracy,e=[];for(i=0;32>i;++i)Ma(e,Jf.offset(t,n,2*Math.PI*i/32));e.push(e[0],e[1]),t=new gc(null),t.O("XY",e,[e.length]),t.Ra(this.g),this.set(Om,t),this.A()},m.cf=function(t){t.type="error",this.vb(!1),this.J(t)},m.Ld=function(){return this.get(Jm)},m.Md=function(){return this.get(Om)||null},m.Nd=function(){return this.get(Km)},m.Od=function(){return this.get(Lm)},m.He=function(){return this.get(Mm)},m.Ie=function(){return this.get(Im)},m.Tc=function(){return this.get(Gm)},m.Qd=function(){return this.get(Nm)},m.Uc=function(){return this.get(Hm)},m.Mc=function(){return this.get(Pm)},m.Vc=function(t){this.set(Gm,t)},m.vb=function(t){this.set(Hm,t)},m.gd=function(t){this.set(Pm,t)};var Jm="accuracy",Om="accuracyGeometry",Km="altitude",Lm="altitudeAccuracy",Mm="heading",Im="position",Gm="projection",Nm="speed",Hm="tracking",Pm="trackingOptions";v(Qm,ke),m=Qm.prototype,m.aa=function(){1==this.state&&Rm(this),this.a&&xa(this.a),this.state=5,this.A(),ke.prototype.aa.call(this)},m.getKey=function(){return this.g},m.Le=function(){this.state=3,Rm(this),this.A()},m.Me=function(){this.state=this.f.naturalWidth&&this.f.naturalHeight?2:4,Rm(this),this.A()},m.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.A(),console.assert(!this.b,"this.imageListenerKeys_ should be null"),this.b=[C(this.f,"error",this.Le,this,!0),C(this.f,"load",this.Me,this,!0)],this.c(this,this.g))},v(Sm,qe),Sm.prototype.g=function(t,e){var i=e.target.result,n=this.s,o=this.c;o||(o=n.S().u,console.assert(void 0!==o,"projection should be defined"));var r,s,n=this.b,a=[];for(r=0,s=n.length;s>r;++r){var l=new n[r],h={featureProjection:o};try{a=l.bb(i,h)}catch(c){a=null}if(a&&0<a.length)break}this.J(new Vm(Wm,t,a,o))},Sm.prototype.setMap=function(t){this.a&&(this.a.forEach(B),this.a=null),qe.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.a,this.a=[C(t,"drop",Tm,this),C(t,"dragenter",Um,this),C(t,"dragover",Um,this),C(t,"drop",Um,this)])};var Wm="addfeatures";v(Vm,za),v(Ym,Gh),m=Ym.prototype,m.vc=function(t){Zm(this,t),this.A()},m.clear=function(t){if(t){for(var e in this.c)this.c[e].forEach(B);this.a||(this.c={},this.b={},this.g={})}else if(this.V){this.V.forEach(this.ec,this);for(var i in this.ia)this.ec(this.ia[i])}this.a&&this.a.clear(),console.assert(oa(this.c),"featureChangeKeys is an empty object now"),console.assert(oa(this.b),"idIndex is an empty object now"),console.assert(oa(this.g),"undefIdIndex is an empty object now"),this.V&&this.V.clear(),this.s.clear(),this.ia={},this.J(new cn(fn)),this.A()},m.Jd=function(t,e){return this.V?this.V.forEach(t,e):this.a?this.a.forEach(t,e):void 0},m.Se=function(){var t;return this.a?t=this.a.a:this.V&&(t=Bh(this.V),oa(this.ia)||Ma(t,na(this.ia))),t},m.R=function(){return console.assert(this.V,"getExtent does not work when useSpatialIndex is set to false"),this.V.R()},m.Yc=function(t){t=t.target;var e=x(t).toString(),i=t.Y();if(i){if(i=i.R(),e in this.ia)delete this.ia[e],this.V&&this.V.za(i,t);else if(this.V){var n=this.V;console.assert(x(t)in n.a,"uid (%s) of value (%s) does not exist",x(t),t);var o=n.a[x(t)];if(!mb([o.H,o.K,o.I,o.N],i)){if(n.f)throw Error("Can not update extent while reading");n.remove(t),n.za(i,t)}}}else e in this.ia||(this.V&&this.V.remove(t),this.ia[e]=t);i=t.a,void 0!==i?(n=i.toString(),e in this.g?(delete this.g[e],this.b[n]=t):this.b[n]!==t&&(i=gn(this,t),console.assert(i,"Expected feature to be removed from index"),this.b[n]=t)):e in this.g?console.assert(this.g[e]===t,"feature keyed under %s in undefIdKeys",e):(i=gn(this,t),console.assert(i,"Expected feature to be removed from index"),this.g[e]=t),this.A(),this.J(new cn(hn,t))},m.ec=function(t){var e=x(t).toString();console.assert(e in this.c,"featureKey exists in featureChangeKeys"),this.c[e].forEach(B),delete this.c[e];var i=t.a;void 0!==i?delete this.b[i.toString()]:delete this.g[e],this.J(new cn(en,t))},v(cn,za);var dn="addfeature",hn="changefeature",fn="clear",en="removefeature";v(nn,Ih),nn.prototype.Ya=function(t){for(var e,i;this.g>this.c;){console.assert(this.a,"oldest must not be null"),e=this.a.Oa,i=e.ra[0].toString();var n;if((n=i in t)&&(e=e.ra,n=Bc(t[i],e[1],e[2])),n)break;xa(this.pop())}},v(on,Gh),m=on.prototype,m.Xb=function(){var t=this.a;return t.g>t.c},m.Ya=function(t,e){var i=this.rb(t);i&&i.Ya(e)},m.Kc=function(){return 0},m.getKey=function(){return this.Aa},m.Pb=function(){return this.s},m.Ga=function(t){if(this.tileGrid)t=this.tileGrid;else{var e=t.g;if(!e){var e=Rc(t),i=Qc(e,void 0,void 0),e=new Ec({extent:e,origin:[e[0],e[3]],resolutions:i,tileSize:void 0});t.g=e}t=e}return t},m.rb=function(t){var e=this.v;return e&&!Ib(e,t)?null:this.a},m.md=ba,v(pn,za),v(qn,on),qn.prototype.l=function(t){switch(t=t.target,t.da()){case 1:this.J(new pn("tileloadstart",t));break;case 2:this.J(new pn("tileloadend",t));break;case 3:this.J(new pn("tileloaderror",t))}},qn.prototype.md=function(t,e,i){t=t+"/"+e+"/"+i,this.a.b.hasOwnProperty(t)&&this.a.get(t)},v(sn,qn),m=sn.prototype,m.Xb=function(){return qn.prototype.Xb.call(this)},m.Ya=function(t,e){qn.prototype.Ya.call(this,t,e)},m.Kc=function(){return 0},m.Pb=function(t){return qn.prototype.Pb.call(this,t)},m.Ga=function(t){return qn.prototype.Ga.call(this,t)},m.rb=function(t){return qn.prototype.rb.call(this,t)},v(vn,sn),v(wn,vn);var xn=new Sc({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});if(function(){var t={},e={M:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.M=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Sf=i()}}(function(){return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=i[s]={M:{}},e[s][0].call(l.M,function(t){var i=e[s][1][t];return o(i?i:t)},l,l.M,t,e,i,n)}return i[s].M}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){t=t("./processor"),i.Kf=t},{"./processor":2}],2:[function(t,e){function i(t){var e=!0;try{new ImageData(10,10)}catch(i){e=!1}return function(i){var n=i.buffers,o=i.meta,r=i.width,s=i.height,a=n.length,l=n[0].byteLength;if(i.imageOps){for(l=Array(a),i=0;a>i;++i){var h,c=l,u=i;h=new Uint8ClampedArray(n[i]);var d=r,f=s;h=e?new ImageData(h,d,f):{data:h,width:d,height:f},c[u]=h}r=t(l,o).data}else{for(r=new Uint8ClampedArray(l),s=Array(a),c=Array(a),i=0;a>i;++i)s[i]=new Uint8ClampedArray(n[i]),c[i]=[0,0,0,0];for(n=0;l>n;n+=4){for(i=0;a>i;++i)u=s[i],c[i][0]=u[n],c[i][1]=u[n+1],c[i][2]=u[n+2],c[i][3]=u[n+3];i=t(c,o),r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3]}}return r.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n);return n.addEventListener("message",e),n}function o(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function r(t){this.Fb=!!t.Qf;var e;e=0===t.threads?0:this.Fb?1:t.threads||1;var i=[];if(e)for(var r=0;e>r;++r)i[r]=n(t,this.sc.bind(this,r));else i[0]=o(t,this.sc.bind(this,0));this.nb=i,this.tc=[],this.lb=0,this.Ca={},this.Gb=null}var s=t("./util").Be;r.prototype.zd=function(){if(0===this.lb&&0<this.tc.length){var t=this.Gb=this.tc.shift(),e=t.Ia[0].width,i=t.Ia[0].height,n=t.Ia.map(function(t){return t.data.buffer}),o=this.nb.length;if(this.lb=o,1===o)this.nb[0].postMessage({buffers:n,meta:t.me,imageOps:this.Fb,width:e,height:i},n);else for(var r=4*Math.ceil(t.Ia[0].data.length/4/o),s=0;o>s;++s){for(var a=s*r,l=[],h=0,c=n.length;c>h;++h)l.push(n[s].slice(a,a+r));this.nb[s].postMessage({buffers:l,meta:t.me,imageOps:this.Fb,width:e,height:i},l)}}},r.prototype.sc=function(t,e){this.Pf||(this.Ca[t]=e.data,--this.lb,0===this.lb&&this.Bd())},r.prototype.Bd=function(){var t,e,i=this.Gb,n=this.nb.length;if(1===n)t=new Uint8ClampedArray(this.Ca[0].buffer),e=this.Ca[0].meta;else{var o=i.Ia[0].data.length;t=new Uint8ClampedArray(o),e=Array(o);for(var o=4*Math.ceil(o/4/n),r=0;n>r;++r){var a=r*o;t.set(new Uint8ClampedArray(this.Ca[r].buffer),a),e[r]=this.Ca[r].meta}}this.Gb=null,this.Ca={},i.pb(null,s(t,i.Ia[0].width,i.Ia[0].height),e),this.zd()},e.M=r},{"./util":3}],3:[function(t,e,i){var n=!0;try{new ImageData(10,10)}catch(o){n=!1}var r=document.createElement("canvas").getContext("2d");i.Be=function(t,e,i){return n?new ImageData(t,e,i):(e=r.createImageData(e,i),e.data.set(t),e)}},{}]},{},[1])(1)})}(),q("ol.layer.Group",Af),Af.prototype.getLayers=Af.prototype.wb,q("ol.layer.Vector",bg),bg.prototype.getSource=bg.prototype.oa,q("ol.source.Vector",Ym),Ym.prototype.getFeatures=Ym.prototype.Se,Ym.prototype.addFeatures=Ym.prototype.vc,Ym.prototype.forEachFeature=Ym.prototype.Jd,Ym.prototype.clear=Ym.prototype.clear,Ym.prototype.getExtent=Ym.prototype.R,q("ol.layer.Tile",$f),q("ol.source.OSM",wn),q("ol.Map",Kh),Kh.prototype.getView=Kh.prototype.S,Kh.prototype.addControl=Kh.prototype.Fd,Kh.prototype.on=Kh.prototype.ab,Kh.prototype.addOverlay=Kh.prototype.Hd,Kh.prototype.getEventPixel=Kh.prototype.Nb,Kh.prototype.addInteraction=Kh.prototype.Gd,Kh.prototype.hasFeatureAtPixel=Kh.prototype.ke,Kh.prototype.getTarget=Kh.prototype.Sb,Kh.prototype.forEachFeatureAtPixel=Kh.prototype.Kd,Kh.prototype.getSize=Kh.prototype.Ka,Kh.prototype.getLayers=Kh.prototype.Oe,q("ol.control.defaults",nd),q("ol.coordinate.format",function(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}),q("ol.View",jc),jc.prototype.on=jc.prototype.ab,jc.prototype.getZoom=jc.prototype.Sd,jc.prototype.getProjection=jc.prototype.Qe,jc.prototype.fit=jc.prototype.Id,jc.prototype.getCenter=jc.prototype.ka,jc.prototype.setCenter=jc.prototype.ua,jc.prototype.setZoom=jc.prototype.nf,q("ol.control.MousePosition",od),q("ol.Feature",ii),ii.prototype.getGeometry=ii.prototype.Y,ii.prototype.setGeometry=ii.prototype.Na,ii.prototype.getStyle=ii.prototype.Ee,ii.prototype.setStyle=ii.prototype.Sc,ii.prototype.getProperties=ii.prototype.ta,ii.prototype.getStyleFunction=ii.prototype.Fe,q("ol.geom.Point",$b),$b.prototype.getType=$b.prototype.W,$b.prototype.getCoordinates=$b.prototype.ca,$b.prototype.transform=$b.prototype.transform,q("ol.geom.LineString",Ji),Ji.prototype.getType=Ji.prototype.W,Ji.prototype.transform=Ji.prototype.transform,Ki.prototype.getType=Ki.prototype.W,Nb.prototype.getExtent=Nb.prototype.R,q("ol.style.Style",og),q("ol.style.Circle",lg),q("ol.style.Fill",mg),q("ol.style.Stroke",ng),q("ol.style.Text",Yj),q("ol.interaction.DragAndDrop",Sm),Sm.prototype.on=Sm.prototype.ab,q("ol.format.GPX",mj),mj.prototype.readFeatures=mj.prototype.bb,mj.prototype.writeFeatures=mj.prototype.jc,q("ol.format.GeoJSON",Ui),Ui.prototype.readFeatures=Ui.prototype.bb,Ui.prototype.writeFeatures=Ui.prototype.jc,q("ol.Overlay",Rh),Rh.prototype.setPosition=Rh.prototype.Xc,q("ol.Collection",I),I.prototype.on=I.prototype.ab,I.prototype.push=I.prototype.push,I.prototype.getArray=I.prototype.De,I.prototype.removeAt=I.prototype.dc,I.prototype.insertAt=I.prototype.Qc,I.prototype.getLength=I.prototype.Za,I.prototype.remove=I.prototype.remove,I.prototype.forEach=I.prototype.forEach,I.prototype.clear=I.prototype.clear,q("ol.proj.Projection",yb),q("ol.proj.transform",function(t,e,i){return Kb(e,i)(t,void 0,t.length)}),q("ol.proj.transformExtent",Mb),q("ol.Geolocation",Z),Z.prototype.getAccuracy=Z.prototype.Ld,Z.prototype.getAccuracyGeometry=Z.prototype.Md,Z.prototype.getAltitude=Z.prototype.Nd,Z.prototype.getAltitudeAccuracy=Z.prototype.Od,Z.prototype.getHeading=Z.prototype.He,Z.prototype.getPosition=Z.prototype.Ie,Z.prototype.getProjection=Z.prototype.Tc,Z.prototype.getSpeed=Z.prototype.Qd,Z.prototype.getTracking=Z.prototype.Uc,Z.prototype.getTrackingOptions=Z.prototype.Mc,Z.prototype.setProjection=Z.prototype.Vc,Z.prototype.setTracking=Z.prototype.vb,Z.prototype.setTrackingOptions=Z.prototype.gd,Z.prototype.get=Z.prototype.get,Z.prototype.getKeys=Z.prototype.Pe,Z.prototype.getProperties=Z.prototype.ta,Z.prototype.set=Z.prototype.set,Z.prototype.setProperties=Z.prototype.fa,Z.prototype.unset=Z.prototype.xf,Z.prototype.changed=Z.prototype.A,Z.prototype.dispatchEvent=Z.prototype.J,Z.prototype.getRevision=Z.prototype.Pd,Z.prototype.on=Z.prototype.ab,Z.prototype.once=Z.prototype.Ue,Z.prototype.un=Z.prototype.vf,Z.prototype.unByKey=Z.prototype.wf,define("ol",function(t){return function(){var e;return e||t.ol}}(this)),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("templator",[],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(){var t=v();return t.compile=function(e,i){return c.compile(e,i,t)},t.precompile=function(e,i){return c.precompile(e,i,t)},t.AST=l["default"],t.Compiler=c.Compiler,t.JavaScriptCompiler=d["default"],t.Parser=h.parser,t.parse=h.parse,t}var o=i(1)["default"];e.__esModule=!0;var r=i(2),s=o(r),a=i(21),l=o(a),h=i(22),c=i(27),u=i(28),d=o(u),f=i(25),p=o(f),g=i(20),m=o(g),v=s["default"].create,y=n();y.create=n,m["default"](y),y.Visitor=p["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,i){"use strict";function n(){var t=new a.HandlebarsEnvironment;return f.extend(t,a),t.SafeString=h["default"],t.Exception=u["default"],t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=g,t.template=function(e){return g.template(e,t)},t}var o=i(3)["default"],r=i(1)["default"];e.__esModule=!0;var s=i(4),a=o(s),l=i(18),h=r(l),c=i(6),u=r(c),d=i(5),f=o(d),p=i(19),g=o(p),m=i(20),v=r(m),y=n();y.create=n,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e},e.__esModule=!0},function(t,e,i){"use strict";function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},l.registerDefaultHelpers(this),h.registerDefaultDecorators(this)}var o=i(1)["default"];e.__esModule=!0,e.HandlebarsEnvironment=n;var r=i(5),s=i(6),a=o(s),l=i(7),h=i(15),c=i(17),u=o(c),d="4.0.5";e.VERSION=d;var f=7;e.COMPILER_REVISION=f;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=p;var g="[object Object]";n.prototype={constructor:n,logger:u["default"],log:u["default"].log,registerHelper:function(t,e){if(r.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(r.toString.call(t)===g)r.extend(this.partials,t);else{if("undefined"==typeof e)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(r.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=u["default"].log;e.log=m,e.createFrame=r.createFrame,e.logger=u["default"]},function(t,e){"use strict";function i(t){return c[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function o(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function r(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(u,i):t}function s(t){return t||0===t?g(t)&&0===t.length?!0:!1:!0}function a(t){var e=n({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function h(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=o,e.escapeExpression=r,e.isEmpty=s,e.createFrame=a,e.blockParams=l,e.appendContextPath=h;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},u=/[&<>"'`=]/g,d=/[&<>"'`=]/,f=Object.prototype.toString;e.toString=f;var p=function(t){return"function"==typeof t};p(/x/)&&(e.isFunction=p=function(t){return"function"==typeof t&&"[object Function]"===f.call(t)}),e.isFunction=p;var g=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===f.call(t):!1};e.isArray=g},function(t,e){"use strict";function i(t,e){var o=e&&e.loc,r=void 0,s=void 0;o&&(r=o.start.line,s=o.start.column,t+=" - "+r+":"+s);for(var a=Error.prototype.constructor.call(this,t),l=0;l<n.length;l++)this[n[l]]=a[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i),o&&(this.lineNumber=r,this.column=s)}e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){s["default"](t),l["default"](t),c["default"](t),d["default"](t),p["default"](t),m["default"](t),y["default"](t)}var o=i(1)["default"];e.__esModule=!0,e.registerDefaultHelpers=n;var r=i(8),s=o(r),a=i(9),l=o(a),h=i(10),c=o(h),u=i(11),d=o(u),f=i(12),p=o(f),g=i(13),m=o(g),v=i(14),y=o(v)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,i){var o=i.inverse,r=i.fn;if(e===!0)return r(this);if(e===!1||null==e)return o(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(e,i)})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var o=i(5),r=i(6),s=n(r);e["default"]=function(t){t.registerHelper("each",function(t,e){function i(e,i,r){h&&(h.key=e,h.index=i,h.first=0===i,h.last=!!r,c&&(h.contextPath=c+e)),l+=n(t[e],{data:h,blockParams:o.blockParams([t[e],e],[c+e,null])})}if(!e)throw new s["default"]("Must pass iterator to #each");var n=e.fn,r=e.inverse,a=0,l="",h=void 0,c=void 0;if(e.data&&e.ids&&(c=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(h=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var u=t.length;u>a;a++)a in t&&i(a,a,a===t.length-1);else{var d=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==d&&i(d,a-1),d=f,a++);void 0!==d&&i(d,a-1,!0)}return 0===a&&(l=r(this)),l})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var o=i(6),r=n(o);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&(o=n.createFrame(e.data),o.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:o,blockParams:n.blockParams([t],[o&&o.contextPath])})})},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){s["default"](t)}var o=i(1)["default"];e.__esModule=!0,e.registerDefaultDecorators=n;var r=i(16),s=o(r)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerDecorator("inline",function(t,e,i,o){var r=t;return e.partials||(e.partials={},r=function(o,r){var s=i.partials;i.partials=n.extend({},s,e.partials);var a=t(o,r);return i.partials=s,a}),e.partials[o.args[0]]=o.fn,r})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};e["default"]=o,t.exports=e["default"]},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=v.COMPILER_REVISION;if(e!==i){if(i>e){var n=v.REVISION_CHANGES[i],o=v.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function o(t,e){function i(i,n,o){o.hash&&(n=p.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,o);var r=e.VM.invokePartial.call(this,i,n,o);if(null==r&&e.compile&&(o.partials[o.name]=e.compile(i,t.compilerOptions,e),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),a=0,l=s.length;l>a&&(s[a]||a+1!==l);a++)s[a]=o.indent+s[a];r=s.join("\n")}return r}throw new m["default"]("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(e){function i(e){return""+t.main(o,e,o.helpers,o.partials,s,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;n._setup(r),!r.partial&&t.useData&&(s=h(e,s));var a=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(a=r.depths?e!==r.depths[0]?[e].concat(r.depths):r.depths:[e]),(i=c(t.main,i,o,r.depths||[],s,l))(e,r)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,o){var s=this.programs[t],a=this.fn(t);return e||o||n||i?s=r(this,t,a,e,i,n,o):s||(s=this.programs[t]=r(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=p.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(i.decorators,e.decorators)))},n._child=function(e,i,n,s){if(t.useBlockParams&&!n)throw new m["default"]("must pass block params");if(t.useDepths&&!s)throw new m["default"]("must pass parent depths");return r(o,e,t[e],i,0,n,s)},n}function r(t,e,i,n,o,r,s){function a(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&e!==s[0]&&(a=[e].concat(s)),i(t,e,t.helpers,t.partials,o.data||n,r&&[o.blockParams].concat(r),a)}return a=c(i,a,t,s,n,r),a.program=e,a.depth=s?s.length:0,a.blockParams=o||0,a}function s(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function a(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==l&&(i.data=v.createFrame(i.data),
n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=p.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new m["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0}function l(){return""}function h(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,i,n,o,r){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],o,r,n),p.extend(e,s)}return e}var u=i(3)["default"],d=i(1)["default"];e.__esModule=!0,e.checkRevision=n,e.template=o,e.wrapProgram=r,e.resolvePartial=s,e.invokePartial=a,e.noop=l;var f=i(5),p=u(f),g=i(6),m=d(g),v=i(4)},function(t,e){(function(i){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if("Program"===t.type)return t;a["default"].yy=f,f.locInfo=function(t){return new f.SourceLocation(e&&e.srcName,t)};var i=new h["default"](e);return i.accept(a["default"].parse(t))}var o=i(1)["default"],r=i(3)["default"];e.__esModule=!0,e.parse=n;var s=i(23),a=o(s),l=i(24),h=o(l),c=i(26),u=r(c),d=i(5);e.parser=a["default"];var f={};d.extend(f,u)},function(t,e){"use strict";var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,o,r,s){var a=r.length-1;switch(o){case 1:return r[a-1];case 2:this.$=n.prepareProgram(r[a]);break;case 3:this.$=r[a];break;case 4:this.$=r[a];break;case 5:this.$=r[a];break;case 6:this.$=r[a];break;case 7:this.$=r[a];break;case 8:this.$=r[a];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(r[a]),strip:n.stripFlags(r[a],r[a]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:r[a],value:r[a],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(r[a-2],r[a-1],r[a],this._$);break;case 12:this.$={path:r[a-3],params:r[a-2],hash:r[a-1]};break;case 13:this.$=n.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!1,this._$);break;case 14:this.$=n.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!0,this._$);break;case 15:this.$={open:r[a-5],path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 16:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 17:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 18:this.$={strip:n.stripFlags(r[a-1],r[a-1]),program:r[a]};break;case 19:var l=n.prepareBlock(r[a-2],r[a-1],r[a],r[a],!1,this._$),h=n.prepareProgram([l],r[a-1].loc);h.chained=!0,this.$={strip:r[a-2].strip,program:h,chain:!0};break;case 20:this.$=r[a];break;case 21:this.$={path:r[a-1],strip:n.stripFlags(r[a-2],r[a])};break;case 22:this.$=n.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],n.stripFlags(r[a-4],r[a]),this._$);break;case 23:this.$=n.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],n.stripFlags(r[a-4],r[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:r[a-3],params:r[a-2],hash:r[a-1],indent:"",strip:n.stripFlags(r[a-4],r[a]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(r[a-2],r[a-1],r[a],this._$);break;case 26:this.$={path:r[a-3],params:r[a-2],hash:r[a-1],strip:n.stripFlags(r[a-4],r[a])};break;case 27:this.$=r[a];break;case 28:this.$=r[a];break;case 29:this.$={type:"SubExpression",path:r[a-3],params:r[a-2],hash:r[a-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:r[a],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(r[a-2]),value:r[a],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(r[a-1]);break;case 33:this.$=r[a];break;case 34:this.$=r[a];break;case 35:this.$={type:"StringLiteral",value:r[a],original:r[a],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(r[a]),original:Number(r[a]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===r[a],original:"true"===r[a],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:this.$=r[a];break;case 41:this.$=r[a];break;case 42:this.$=n.preparePath(!0,r[a],this._$);break;case 43:this.$=n.preparePath(!1,r[a],this._$);break;case 44:r[a-2].push({part:n.id(r[a]),original:r[a],separator:r[a-1]}),this.$=r[a-2];break;case 45:this.$=[{part:n.id(r[a]),original:r[a]}];break;case 46:this.$=[];break;case 47:r[a-1].push(r[a]);break;case 48:this.$=[r[a]];break;case 49:r[a-1].push(r[a]);break;case 50:this.$=[];break;case 51:r[a-1].push(r[a]);break;case 58:this.$=[];break;case 59:r[a-1].push(r[a]);break;case 64:this.$=[];break;case 65:r[a-1].push(r[a]);break;case 70:this.$=[];break;case 71:r[a-1].push(r[a]);break;case 78:this.$=[];break;case 79:r[a-1].push(r[a]);break;case 82:this.$=[];break;case 83:r[a-1].push(r[a]);break;case 86:this.$=[];break;case 87:r[a-1].push(r[a]);break;case 90:this.$=[];break;case 91:r[a-1].push(r[a]);break;case 94:this.$=[];break;case 95:r[a-1].push(r[a]);break;case 98:this.$=[r[a]];break;case 99:r[a-1].push(r[a]);break;case 100:this.$=[r[a]];break;case 101:r[a-1].push(r[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],o=[null],r=[],s=this.table,a="",l=0,h=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,g,m,v,y,b,w,x,E={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===f||"undefined"==typeof f)&&(f=e()),m=s[g]&&s[g][f]),"undefined"==typeof m||!m.length||!m[0]){var N="";if(!c){x=[];for(y in s[g])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");N=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(N,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:u,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:n.push(f),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),f=null,p?(f=p,p=null):(h=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[m[1]][1],E.$=o[o.length-b],E._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},d&&(E._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(E,a,h,l,this.yy,m[1],o,r),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),o=o.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),o.push(E.$),r.push(E._$),w=s[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,o;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length&&(i=this._input.match(this.rules[r[s]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=s,this.options.flex));s++);return e?(o=e[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function o(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e["default"]=i},function(t,e,i){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function o(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],o=t[e-2];return n?"ContentStatement"===n.type?(o||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function r(t,e,i){void 0===e&&(e=-1);var n=t[e+1],o=t[e+2];return n?"ContentStatement"===n.type?(o||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function s(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var o=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==o}}function a(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var o=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==o,n.leftStripped}}var l=i(1)["default"];e.__esModule=!0;var h=i(25),c=l(h);n.prototype=new c["default"],n.prototype.Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,l=0,h=n.length;h>l;l++){var c=n[l],u=this.accept(c);if(u){var d=o(n,l,i),f=r(n,l,i),p=u.openStandalone&&d,g=u.closeStandalone&&f,m=u.inlineStandalone&&d&&f;u.close&&s(n,l,!0),u.open&&a(n,l,!0),e&&m&&(s(n,l),a(n,l)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(n[l-1].original)[1])),e&&p&&(s((c.program||c.inverse).body),a(n,l)),e&&g&&(s(n,l),a((c.inverse||c.program).body))}}return t},n.prototype.BlockStatement=n.prototype.DecoratorBlock=n.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,l=i;if(i&&i.chained)for(n=i.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var h={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:r(e.body),closeStandalone:o((n||e).body)};if(t.openStrip.close&&s(e.body,null,!0),i){var c=t.inverseStrip;c.open&&a(e.body,null,!0),c.close&&s(n.body,null,!0),t.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&o(e.body)&&r(n.body)&&(a(e.body),s(n.body))}else t.closeStrip.open&&a(e.body,null,!0);return h},n.prototype.Decorator=n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(){this.parents=[]}function o(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function r(t){o.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function s(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=i(1)["default"];e.__esModule=!0;var l=i(6),h=a(l);n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!n.prototype[i.type])throw new h["default"]('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new h["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;i>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new h["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:r,DecoratorBlock:r,PartialStatement:s,PartialBlockStatement:function(t){
s.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new m["default"](t.path.original+" doesn't match "+e,i)}}function o(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function s(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function a(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",o=[],r=0,s="",a=0,l=e.length;l>a;a++){var h=e[a].part,c=e[a].original!==h;if(n+=(e[a].separator||"")+h,c||".."!==h&&"."!==h&&"this"!==h)o.push(h);else{if(o.length>0)throw new m["default"]("Invalid path: "+n,{loc:i});".."===h&&(r++,s+="../")}}return{type:"PathExpression",data:t,depth:r,parts:o,original:n,loc:i}}function h(t,e,i,n,o,r){var s=n.charAt(3)||n.charAt(2),a="{"!==s&&"&"!==s,l=/\*/.test(n);return{type:l?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:a,strip:o,loc:this.locInfo(r)}}function c(t,e,i,o){n(t,i),o=this.locInfo(o);var r={type:"Program",body:e,strip:{},loc:o};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}}function u(t,e,i,o,r,s){o&&o.path&&n(t,o);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var l=void 0,h=void 0;if(i){if(a)throw new m["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=o.strip),h=i.strip,l=i.program}return r&&(r=l,l=e,e=r),{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:l,openStrip:t.strip,inverseStrip:h,closeStrip:o&&o.strip,loc:this.locInfo(s)}}function d(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function f(t,e,i,o){return n(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(o)}}var p=i(1)["default"];e.__esModule=!0,e.SourceLocation=o,e.id=r,e.stripFlags=s,e.stripComment=a,e.preparePath=l,e.prepareMustache=h,e.prepareRawBlock=c,e.prepareBlock=u,e.prepareProgram=d,e.preparePartialBlock=f;var g=i(6),m=p(g)},function(t,e,i){"use strict";function n(){}function o(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=i.parse(t,e),o=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(o,e)}function r(t,e,i){function n(){var n=i.parse(t,e),o=(new i.Compiler).compile(n,e),r=(new i.JavaScriptCompiler).compile(o,e,void 0,!0);return i.template(r)}function o(t,e){return r||(r=n()),r.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var r=void 0;return o._setup=function(t){return r||(r=n()),r._setup(t)},o._child=function(t,e,i,o){return r||(r=n()),r._child(t,e,i,o)},o}function s(t,e){if(t===e)return!0;if(u.isArray(t)&&u.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!s(t[i],e[i]))return!1;return!0}}function a(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var l=i(1)["default"];e.__esModule=!0,e.Compiler=n,e.precompile=o,e.compile=r;var h=i(6),c=l(h),u=i(5),d=i(21),f=l(d),p=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],o=t.opcodes[i];if(n.opcode!==o.opcode||!s(n.args,o.args))return!1}e=this.children.length;for(var i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var n in i)n in i&&(e.knownHelpers[n]=i[n]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,i=e.compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[n]=i,this.useDepths=this.useDepths||i.useDepths,n},accept:function(t){if(!this[t.type])throw new c["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){a(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new c["default"]("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",o,n,r),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){a(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,o=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",o,r)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),o=t.path,r=o.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",n.length,r);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+r,t);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",n.length,o.original,f["default"].helpers.simpleId(o))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=f["default"].helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");n>i;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=f["default"].helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&f["default"].helpers.helperExpression(t),o=!i&&(n||e);if(o&&!n){var r=t.path.parts[0],s=this.options;s.knownHelpers[r]?n=!0:s.knownHelpersOnly&&(o=!1)}return n?"helper":o?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;i>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||f["default"].helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else e=t.original||e,e.replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),o},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;i>e;e++){var n=this.options.blockParams[e],o=n&&u.indexOf(n,t);if(n&&o>=0)return[e,o]}}}},function(t,e,i){"use strict";function n(t){this.value=t}function o(){}function r(t,e,i,n){var o=e.popStack(),r=0,s=i.length;for(t&&s--;s>r;r++)o=e.nameLookup(o,i[r],n);return t?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(i[r]),")"]:o}var s=i(1)["default"];e.__esModule=!0;var a=i(4),l=i(6),h=s(l),c=i(5),u=i(29),d=s(u);o.prototype={nameLookup:function(t,e){return o.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION,e=a.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,i){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,r=void 0,s=void 0,a=void 0,l=void 0;for(a=0,l=o.length;l>a;a++)r=o[a],this.source.currentLocation=r.loc,s=s||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new h["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(n);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,f=d.programs,p=d.decorators;for(a=0,l=f.length;l>a;a++)f[a]&&(u[a]=f[a],p[a]&&(u[a+"_d"]=p[a],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new d["default"](this.options.srcName),this.decorators=new d["default"](this.options.srcName)},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));var n=0;for(var o in this.aliases){var r=this.aliases[o];this.aliases.hasOwnProperty(o)&&r.children&&r.referenceCount>1&&(e+=", alias"+ ++n+"="+o,r.children[0]="alias"+n)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,o=void 0,r=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(r?t.prepend("  + "):r=t,s=t):(r&&(o?r.prepend("buffer += "):n=!0,s.add(";"),r=s=void 0),o=!0,e||(i=!1))}),i?r?(r.prepend("return "),s.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),r?(r.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var o=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(t,e,i,n,o){var s=this;if(this.options.strict||this.options.assumeObjects)return void this.push(r(this.options.strict&&o,this,e,t));for(var a=e.length;a>i;i++)this.replaceStack(function(o){var r=s.nameLookup(o,e[i],t);return n?[" && ",r]:[" != null ? ",r," : ",o]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),o=this.setupHelper(t,e),r=i?[o.name," || "]:"",s=["("].concat(r,n);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",o.callParams))},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),o=this.lastHelper=this.nameLookup("helpers",t,"helper"),r=["(","(helper = ",o," || ",i,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],o=this.setupParams(e,1,n);t&&(e=this.popStack(),delete o.name),i&&(o.indent=JSON.stringify(i)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),n.push(o),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var r=this.hash;i&&(r.contexts[t]=i),n&&(r.types[t]=n),o&&(r.ids[t]=o),r.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(t,e){for(var i=t.children,n=void 0,o=void 0,r=0,s=i.length;s>r;r++){n=i[r],o=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=o.compile(n,e,this.context,!this.precompile),this.context.decorators[a]=o.decorators,this.context.environments[a]=n,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams):(n.index=a,n.name="program"+a,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,o=void 0,r=void 0;if(!this.isInline())throw new h["default"]("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof n)i=[s.value],e=["(",i],r=!0;else{o=!0;var a=this.incrStack();e=["((",this.push(a)," = ",s,")"],i=this.topStack()}var l=t.call(this,i);r||this.popStack(),o&&this.stackSlot--,this.push(e.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var o=t[e];if(o instanceof n)this.compileStack.push(o);else{var r=this.incrStack();this.pushSource([r," = ",o,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new h["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[],o=this.setupHelperArgs(e,t,n,i),r=this.nameLookup("helpers",e,"helper"),s=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:n,paramsInit:o,name:r,callParams:[s].concat(n)}},setupParams:function(t,e,i){var n={},o=[],r=[],s=[],a=!i,l=void 0;a&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var h=this.popStack(),c=this.popStack();(c||h)&&(n.fn=c||"container.noop",n.inverse=h||"container.noop");for(var u=e;u--;)l=this.popStack(),i[u]=l,this.trackIds&&(s[u]=this.popStack()),this.stringParams&&(r[u]=this.popStack(),o[u]=this.popStack());return a&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(s)),this.stringParams&&(n.types=this.source.generateArray(r),n.contexts=this.source.generateArray(o)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var o=this.setupParams(t,e,i);return o=this.objectLiteral(o),n?(this.useRegister("options"),i.push("options"),["options=",o]):i?(i.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=o.RESERVED_WORDS={},i=0,n=t.length;n>i;i++)e[t[i]]=!0}(),o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=o,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e,i){if(r.isArray(t)){for(var n=[],o=0,s=t.length;s>o;o++)n.push(e.wrap(t[o],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var r=i(5),s=void 0;try{}catch(a){}s||(s=function(t,e,i,n){this.src="",n&&this.add(n)},s.prototype={add:function(t){r.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){r.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,i=this.source.length;i>e;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=n(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var o=n(t[i],this);"undefined"!==o&&e.push([this.quotedString(i),":",o])}var r=this.generateList(e);return r.prepend("{"),r.add("}"),r},generateList:function(t){for(var e=this.empty(),i=0,o=t.length;o>i;i++)i&&e.add(","),e.add(n(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e["default"]=o,t.exports=e["default"]}])}),define("app/service/search/coordinates",[],function(){"use strict";function t(){this._formats=[{regexp:/^([3-7][0-9]{5}|[3-7][0-9]{5}[,.][0-9]+)[;](6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.][0-9]+)$/,srid:"EPSG:3301",get:function(t){return-1!==t[1].indexOf(",")&&(t[1]=t[1].replace(",",".")),-1!==t[2].indexOf(",")&&(t[2]=t[2].replace(",",".")),[Number(t[1]),Number(t[2])]}},{regexp:/^-?\s*([0-1]\d{0,2}|\d{2})[ °]+([0-9]{2})[ ’']+([0-9]{2})[’']*[,; ][ ]*-?\s*([0-8]\d?|90)[ °]+([0-9]{2})[ ’']+([0-9]{2})[’']*$/,srid:"EPSG:4326",get:function(t){return[Number(t[1])+Number(t[2])/60+Number(t[3])/60/60,Number(t[4])+Number(t[5])/60+Number(t[6])/60/60]}},{regexp:/^-?((?:1[0-7]|[1-9])?\d(?:[,.]\d{1,18})?|180(?:\.0{1,18})?)[,; ][ ]*-?([1-8]?\d(?:[,.]\d{1,18})?|90(?:\.0{1,18})?)$/,srid:"EPSG:4326",get:function(t){return-1!==t[1].indexOf(",")&&(t[1]=t[1].replace(",",".")),-1!==t[2].indexOf(",")&&(t[2]=t[2].replace(",",".")),[Number(t[1]),Number(t[2])]}}]}return t.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){var e,i,n,o;for(i=0,n=this._formats.length;n>i;i++)if(e=t.match(this._formats[i].regexp),e&&e.length>0)return o=this._formats[i].get(e),{x:o[1],y:o[0],srid:this._formats[i].srid};return!1}},t}),define("app/service/search/nominatim",["jquery","app/service/search/coordinates"],function(t,e){"use strict";function i(t){this._url="https://nominatim.openstreetmap.org",this._mapmodule=t,this._coordinateParser=new e,this._results=null,this._id="nominatim",this._title='<i class="glyphicon glyphicon-map-marker"></i> Leitud aadressid',this._xhr=null}return i.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null,this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._mapmodule.get("overlay").getSource().clear()},find:function(t,e,i){var n,o=this._coordinateParser.test(t),r=this._mapmodule.get("overlay"),s=this;this._results=null,o&&o.srid&&"EPSG:4326"===o.srid?(r.getSource().clear(),n=this._mapmodule.transform("point",[o.x,o.y],o.srid,"EPSG:3857"),r.getSource().addFeatures([this._mapmodule.createMarker(n)]),this._mapmodule.setView("center",[n,15]),this.reverse([o.x,o.y],18,function(t){t&&t.place_id&&(t.boundingbox=[o.y,o.y,o.x,o.x],t=s.format([t]),s._results=t),"function"==typeof e&&e(s._title,s._results,i)})):this.geocode(t,function(t){t.length>0&&(t=s.format(t),s._results=t),"function"==typeof e&&e(s._title,s._results,i)})},geocode:function(e,i){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",crossDomain:!0,url:this._url+"/search/",data:{q:e,countrycodes:"ee",format:"json"},dataType:"json",context:this}).done(i).fail(function(t){i(null),"abort"===t.statusText})},reverse:function(e,i,n){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",url:this._url+"/reverse/",data:{lat:e[1],lon:e[0],format:"json",zoom:i,addressdetails:1},dataType:"json",context:this}).done(n).fail(function(t){n(null),"abort"===t.statusText})},format:function(t){var e,i,n,o=[];for(e=0,i=t.length;i>e;e++)t[e]&&t[e].boundingbox&&4===t[e].boundingbox.length&&(n=[parseFloat(t[e].boundingbox[2]),parseFloat(t[e].boundingbox[0]),parseFloat(t[e].boundingbox[3]),parseFloat(t[e].boundingbox[1])],o.push({id:t[e].place_id,name:t[e].display_name,bbox:this._mapmodule.transform("extent",n,"EPSG:4326","EPSG:3857"),type:this._id}));return o},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},i}),define("app/service/featureinfo",["jquery","ol","app/service/search/nominatim"],function(t,e,i){"use strict";function n(t){this._mapmodule=t,this._map=t.get("map"),this._geocode=new i(t),this._tooltip=null,this._styleCache={},this._highlight=null,this._popup=null,this._infoHandlers={},this.init()}return n.prototype={get:function(t){return this["_"+t]},init:function(){this.createFeatureTooltip(),this.createFeatureInfo(),t("#statusbar .geolocation a.unlock").on("click",function(e){e.preventDefault(),t("#statusbar .geolocation").addClass("hidden").find("div").empty(),t("#statusbar .mouse-position").removeClass("hidden")}),t("#statusbar .mouse-position a.lock").on("click",function(e){e.preventDefault(),t("#statusbar .mouse-position").addClass("hidden"),t("#statusbar .geolocation").removeClass("hidden")})},createFeatureTooltip:function(){var t=this,i=!1;this._tooltip=new e.layer.Vector({map:t._map,source:new e.source.Vector({features:[]}),style:function(i,n){var o=i.get("name");return t._styleCache[o]||(t._styleCache[o]=[new e.style.Style({text:new e.style.Text({font:"12px Calibri,sans-serif",text:o,offsetY:-14,fill:new e.style.Fill({color:"#000"}),stroke:new e.style.Stroke({color:"#fff",width:3})})})]),t._styleCache[o]}}),this._map.on("pointermove",function(e){if(!e.dragging){var n=t._map.getEventPixel(e.originalEvent),o=t._map.hasFeatureAtPixel(n);o?(t._map.getTarget().style.cursor="pointer",i=t.showTooltip(e.pixel)):(t._map.getTarget().style.cursor=o?"pointer":"",i=t.showTooltip())}})},showTooltip:function(t){if(!t)return this._tooltip.getSource().clear(),
this._highlight=null,!1;var e=this._map.forEachFeatureAtPixel(t,function(t,e){return t});return e!==this._highlight&&(this._tooltip.getSource().clear(),this._tooltip.getSource().addFeatures([e]),this._highlight=e),!0},createFeatureInfo:function(){var i,n=this;this._popup=t('<div id="popup"></div>'),i=new e.Overlay({element:this._popup[0],autoPan:!0,autoPanMargin:50,positioning:"center-center",offset:[0,-10]}),n._map.addOverlay(i),n._map.on("click",function(e){var o,r=e.coordinate,s=n._map.forEachFeatureAtPixel(e.pixel,function(t,e){return[e,t]});n._popup.popover("destroy"),s?(n._tooltip.getSource().clear(),"Point"===s[1].getGeometry().getType()&&(r=s[1].getGeometry().getCoordinates()),o=s[0]&&n._infoHandlers[s[0].get("name")]?n._infoHandlers[s[0].get("name")](s[1]):n.getContent(s[1]),i.setPosition(r),n._popup.popover(o.definition).popover("show"),n._popup.on("shown.bs.popover",function(){o.onShow(s[1])}),n._popup.on("hidden.bs.popover",o.onHide),n._popup.popover("show")):t("#statusbar .mouse-position").hasClass("hidden")&&n.setPositionInfo(r)})},getContent:function(t,e){if(t){var i,n=t.getProperties(),o=[];for(i in n)!n.hasOwnProperty(i)||"string"!=typeof n[i]&&"number"!=typeof n[i]||o.push(i+": "+n[i]);return{definition:{placement:"top",animation:!1,html:!0,title:'<i class="fa fa-map-marker"></i> Kaardiobjekt',content:'<div class="small">'+o.join("<br>")+"</div>"},onShow:function(){},onHide:function(){}}}return{definition:{placement:"top",animation:!1,html:!0,title:'<i class="fa fa-map-marker"></i> Koordinaadid',content:'<div class="small">'+e.join(", ")+"</div>"},onShow:function(){},onHide:function(){}}},setPositionInfo:function(i){var n=this;t("#statusbar .geolocation").find("div").html(function(){var t=e.coordinate.format(n._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);return" "+t}),this._geocode.reverse(this._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),this._mapmodule.get("map").getView().getZoom(),function(e){e&&e.display_name&&t('<i class="text-muted hidden-xs" style="display:none"> &mdash; '+e.display_name+"</i>").appendTo("#statusbar .geolocation div").fadeIn()})}},n}),define("app/service/geolocation",["jquery","ol"],function(t,e){"use strict";function i(t){this._mapmodule=t,this._locator=null,this._features={position:this._mapmodule.createMarker(null),accuracy:new e.Feature},this.init()}return i.prototype={init:function(){var i=this;this._locator=new e.Geolocation({projection:this._mapmodule.get("map").getView().getProjection()}),this._features.accuracy.setStyle(new e.style.Style({fill:new e.style.Fill({color:"rgba(51, 153, 204, 0.3)"})})),this._locator.on("change:accuracyGeometry",function(){i._features.accuracy.setGeometry(i._locator.getAccuracyGeometry())}),this._locator.on("change:position",function(){var t=i._locator.getPosition();t?(i._features.position.setGeometry(new e.geom.Point(t)),i._mapmodule.setView("center",[t,15])):i._features.position.setGeometry(null)}),this._locator.on("change",function(){i._mapmodule.get("featureInfo").setPositionInfo(i._locator.getPosition())}),this._locator.on("error",function(t){}),t("#statusbar a.btn-geolocation").on("click",function(e){e.preventDefault(),i._locator.getTracking()?(i.disable(),t(this).removeClass("active")):(i.enable(),t(this).addClass("active"))})},enable:function(){var e=this._mapmodule.get("overlay");e.getSource().clear(),e.getSource().addFeatures([this._features.accuracy,this._features.position]),this._locator.setTracking(!0),t("#statusbar .mouse-position a.lock").trigger("click")},disable:function(){var t=this._mapmodule.get("overlay");this._locator.setTracking(!1),this._features.position.setGeometry(null),this._features.accuracy.setGeometry(null),t.getSource().clear()}},i}),define("text",["module"],function(t){"use strict";var e,i,n,o,r,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,h="undefined"!=typeof location&&location.href,c=h&&location.protocol&&location.protocol.replace(/\:/,""),u=h&&location.hostname,d=h&&(location.port||void 0),f={},p=t.config&&t.config()||{};return e={version:"2.0.14",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(l);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=s[e];try{t=new ActiveXObject(i)}catch(n){}if(t){s=[i];break}}return t},parseName:function(t){var e,i,n,o=!1,r=t.lastIndexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==r&&(!s||r>1)?(e=t.substring(0,r),i=t.substring(r+1)):e=t,n=i||e,r=n.indexOf("!"),-1!==r&&(o="strip"===n.substring(r+1),n=n.substring(0,r),i?i=n:e=n),{moduleName:e,ext:i,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,o){var r,s,a,l=e.xdRegExp.exec(t);return l?(r=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(r&&r!==i||s&&s.toLowerCase()!==n.toLowerCase()||(a||s)&&a!==o)):!0},finishLoad:function(t,i,n,o){n=i?e.strip(n):n,p.isBuild&&(f[t]=n),o(n)},load:function(t,i,n,o){if(o&&o.isBuild&&!o.inlineText)return void n();p.isBuild=o&&o.isBuild;var r=e.parseName(t),s=r.moduleName+(r.ext?"."+r.ext:""),a=i.toUrl(s),l=p.useXhr||e.useXhr;return 0===a.indexOf("empty:")?void n():void(!h||l(a,c,u,d)?e.get(a,function(i){e.finishLoad(t,r.strip,i,n)},function(t){n.error&&n.error(t)}):i([s],function(t){e.finishLoad(r.moduleName+"."+r.ext,r.strip,t,n)}))},write:function(t,i,n,o){if(f.hasOwnProperty(i)){var r=e.jsEscape(f[i]);n.asModule(t+"!"+i,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,i,n,o,r){var s=e.parseName(i),a=s.ext?"."+s.ext:"",l=s.moduleName+a,h=n.toUrl(s.moduleName+a)+".js";e.load(l,n,function(i){var n=function(t){return o(h,t)};n.asModule=function(t,e){return o.asModule(t,h,e)},e.write(t,l,n,r)},r)}},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),e.get=function(t,e,n){try{var o=i.readFileSync(t,"utf8");"\ufeff"===o[0]&&(o=o.substring(1)),e(o)}catch(r){n&&n(r)}}):"xhr"===p.env||!p.env&&e.createXhr()?e.get=function(t,i,n,o){var r,s=e.createXhr();if(s.open("GET",t,!0),o)for(r in o)o.hasOwnProperty(r)&&s.setRequestHeader(r.toLowerCase(),o[r]);p.onXhr&&p.onXhr(s,t),s.onreadystatechange=function(e){var o,r;4===s.readyState&&(o=s.status||0,o>399&&600>o?(r=new Error(t+" HTTP status: "+o),r.xhr=s,n&&n(r)):i(s.responseText),p.onXhrComplete&&p.onXhrComplete(s,t))},s.send(null)}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,o="utf-8",r=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),o)),l="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=a.readLine());)i.append(s),i.append(n);l=String(i.toString())}finally{a.close()}e(l)}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in n,e.get=function(t,e){var i,s,a,l={};r&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),i.init(a,1,0,!1),s=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),s.init(i,"utf-8",i.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(i.available(),l),s.close(),i.close(),e(l.value)}catch(h){throw new Error((a&&a.path||"")+": "+h)}}),e}),define("text!tmpl/map/layerswitcher.html",[],function(){return'<div class="btn-group pull-right layerswitcher">\r\n    <!--<button type="button" class="btn btn-secondary btn-sm display-name">{{ layer_name }}</button>-->\r\n    <button type="button" class="btn btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\r\n        <span class="display-name hidden-xs">{{ layer_name }}</span>\r\n        <i class="fa fa-globe"></i>\r\n    </button>\r\n    <ul class="dropdown-menu" role="menu">\r\n        {{#each layers}}\r\n            <li class="{{state}}">\r\n                <a href="#" class="blayer" data-name="{{this.name}}">{{this.title}}</a>\r\n            </li>\r\n        {{/each}}\r\n        <li class="divider"></li>\r\n        <li class="dropdown-header">\r\n            Kui <i class="fa fa-eye"></i> kaardil viga,<br>\r\n            siis <i class="fa fa-pencil"></i> ära <i class="fa fa-exclamation-circle"></i>\r\n        </li>\r\n    </ul>\r\n</div>'}),define("app/map",["jquery","ol","templator","app/service/featureinfo","app/service/geolocation","text!tmpl/map/layerswitcher.html"],function(t,e,i,n,o,r){"use strict";function s(t){this._config=t,this._map=null,this._baseLayers={},this._vectorLayers=new e.layer.Group({layers:[]}),this._el=null,this._featureInfo=null,this._geoLocation=null,this._controls={mouseCoordinates:null},this._overlay=null}return s.prototype={get:function(t){return this["_"+t]},init:function(){this.createBaseLayers(this._config.baseLayers),this.createMap(),this.createLayerSwitcher(this._config.baseLayers),this._config.mouseCoordinates&&this.createMouseCoordinatesControl(),this._config.featureInfo&&(this._featureInfo=new n(this)),this._overlay=new e.layer.Vector({map:this._map,source:new e.source.Vector({features:[],useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this._config.locateEnabled&&(this._geoLocation=new o(this))},createBaseLayers:function(t){var i;for(i in t)t.hasOwnProperty(i)&&(this._baseLayers[i]=new e.layer.Tile({title:t[i].title,source:new e.source.OSM({url:t[i].url,crossOrigin:null})}))},createLayerSwitcher:function(e){var n,o=this,s=[],a=i.compile(r);for(n in e)e.hasOwnProperty(n)&&s.push({name:n,title:e[n].title,state:this.isVisible(e[n])?"":"disabled"});this._el=t(a({layer_name:e[this._config.activeBaseLayer].title,layers:s})),t("#toolbar").append(this._el),this._el.on("click","a.blayer",function(e){e.preventDefault(),t(this).closest("li").hasClass("disabled")||o.changeBaseLayer(t(this).data("name"))}),this._map.getView().on("change:resolution",function(t){var i;t.target.getZoom();for(i in e)e.hasOwnProperty(i)&&(o.isVisible(e[i])?o._el.find('li a[data-name="'+i+'"]').closest("li").removeClass("disabled"):o._el.find('li a[data-name="'+i+'"]').closest("li").addClass("disabled"))})},isVisible:function(t){return t.minZoom&&this._map.getView().getZoom()<t.minZoom?!1:t.maxZoom&&this._map.getView().getZoom()>t.maxZoom?!1:!0},changeBaseLayer:function(t){var e=this._map.getLayers();e.removeAt(0),e.insertAt(0,this._baseLayers[t]),this._el.find(".display-name").html(this._baseLayers[t].get("title"))},createMap:function(){var t=this;this._map=new e.Map({layers:[t._baseLayers[t._config.activeBaseLayer],t._vectorLayers],controls:e.control.defaults({attribution:!1,rotate:!1,zoom:!1}),target:document.getElementById(t._config.el),view:new e.View({center:t.transform("point",t._config.center,"EPSG:4326","EPSG:3857"),zoom:t._config.zoom,maxZoom:20})})},createMouseCoordinatesControl:function(){var i=new e.control.MousePosition({coordinateFormat:function(t){return e.coordinate.format(t,"{y}, {x}",5)},projection:"EPSG:4326",className:"pull-left",target:t("#statusbar .mouse-position")[0],undefinedHTML:""});this._map.addControl(i)},transform:function(t,i,n,o){switch(t){case"point":i=e.proj.transform(i,n,o);break;case"extent":i=e.proj.transformExtent(i,n,o)}return i},setView:function(t,e,i){var n;switch(t){case"bounds":this._map.getView().fit(e,this._map.getSize());break;case"center":e[1]?(n=e[1],i&&this._map.getView().getZoom()>n&&(n=this._map.getView().getZoom()),this._map.getView().setCenter(e[0]),this._map.getView().setZoom(n)):this._map.getView().setCenter(e[0])}},getAllFeatures:function(){var i=[];return this._vectorLayers.getLayers().forEach(function(n,o){n instanceof e.layer.Vector&&t.merge(i,n.getSource().getFeatures())}),i},createMarker:function(t){var i=new e.Feature;return t?i.setGeometry(new e.geom.Point(t)):i.setGeometry(null),i.setStyle(new e.style.Style({image:new e.style.Circle({radius:6,fill:new e.style.Fill({color:"#3399CC"}),stroke:new e.style.Stroke({color:"#fff",width:3})})})),i}},s}),define("text!tmpl/service/search/search.html",[],function(){return'<div class="input-group search pull-right ">\n    <input type="text" class="form-control input-sm" placeholder="{{search}}">\n    <span class="input-group-btn dropdown fill-width">\n        <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true" disabled>\n            <i class="fa fa-search"></i>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" role="menu"></ul>\n    </span>\n</div>'}),define("text!tmpl/service/search/search-item.html",[],function(){return'<li role="presentation" class="small">\n    <a role="menuitem" tabindex="-1" href="#" data-id="{{ id }}" data-type="{{ type }}">{{ name }}</a>\n</li>'}),define("app/service/search/map-features",["jquery"],function(t){"use strict";function e(t){this._mapmodule=t,this._results=null,this._id="mapfeatures",this._title='<i class="fa fa-cube"></i> Leitud aarded'}return e.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null},find:function(t,e,i){var n,o,r,s,a=this,l=[],h=null;setTimeout(function(){for(h=a._mapmodule.getAllFeatures(),n=0,o=h.length;o>n;n++)r=h[n].get("id"),s=h[n].get("name"),s&&s.search(new RegExp(t,"i"))>-1&&l.push({bbox:h[n].getGeometry().getExtent(),name:s,type:a._id,id:r});l.length>0&&(a._results=l),"function"==typeof e&&e(a._title,a._results,i)})},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},e}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),r="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var h=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:h,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:h,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var r=e(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();i.call(r,a)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(r).each(function(){var n=t(this),o=e(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),s=r.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),s=o.hasClass("open");if(!s&&27!=i.which||s&&27==i.which)return 27==i.which&&o.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+a);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new i(this,s)),"string"==typeof e?r[e](n):s.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){
this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),r=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(a);h&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=r[0].offsetWidth,d=r[0].offsetHeight;if(h){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>p.bottom?"top":"top"==a&&c.top-d<p.top?"bottom":"right"==a&&c.right+u>p.width?"left":"left"==a&&c.left-u<p.left?"right":a,r.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,c,u,d);this.applyPlacement(g,a);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,h=n[0].offsetHeight;"top"==i&&h!=r&&(e.top=e.top+r-h);var c=this.getViewportAdjustedDelta(i,e,l,h);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(i),d=u?2*c.left-o+l:2*c.top-r+h,f=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][f],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var h=e.left-r,c=e.left+r+i;h<s.left?o.left=s.left-h:c>s.right&&(o.left=s.left+s.width-c)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),r="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":t-n>=o+s?!1:"bottom";var a=null==this.affixed,l=a?o:r.top,h=a?s:e;return null!=i&&i>=o?"top":null!=n&&l+h>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),define("jquery.bootstrap",["jquery"],function(){}),define("app/service/search/search",["jquery","templator","text!tmpl/service/search/search.html","text!tmpl/service/search/search-item.html","app/service/search/nominatim","app/service/search/map-features","jquery.bootstrap"],function(t,e,i,n,o,r){"use strict";function s(t){this._mapmodule=t,this._el=null,this._open=!1,this._result=!1,this._providers={nominatim:null,mapfeatures:null},this._counter=0}return s.prototype={get:function(t){return this["_"+t]},init:function(){this._providers.nominatim=new o(this._mapmodule),this._providers.mapfeatures=new r(this._mapmodule),this.createUi()},createUi:function(){var n=this,o=e.compile(i);this._el=t(o({search:"Otsi"})),t("#toolbar").append(this._el),this._el.find(".dropdown").on("shown.bs.dropdown",function(){n._open=!0}).on("hidden.bs.dropdown",function(){n._open=!1}),this._el.find("input").on("keyup",function(e){var i,o;if(n._result){for(o in n._providers)n._providers.hasOwnProperty(o)&&n._providers[o].clear();n._result=!1,n._el.find(".dropdown-menu").html(""),n._open&&n._el.find(".dropdown-menu").dropdown("toggle")}i=t.trim(n._el.find("input").val()),i.length>1?n._el.find(".dropdown-toggle").prop("disabled",!1):n._el.find(".dropdown-toggle").prop("disabled",!0),13===e.keyCode&&i.length>1&&n.search(i)}),this._el.find(".dropdown-toggle").on("click",function(e){var i=t.trim(n._el.find("input").val());!n._result&&i.length>1&&n.search(i)}),this._el.find(".dropdown-menu").on("click","li a",function(e){e.preventDefault();var i=t(this).attr("data-id"),o=t(this).attr("data-type"),r=n._providers[o].getResultItem(i);r&&r.bbox&&4===r.bbox.length&&(Math.abs(r.bbox[0]-r.bbox[2])<100||Math.abs(r.bbox[1]-r.bbox[3])<100?n._mapmodule.setView("center",[[r.bbox[0],r.bbox[1]],18]):n._mapmodule.setView("bounds",r.bbox))})},search:function(t){var e;this.searchStart();for(e in this._providers)this._providers.hasOwnProperty(e)&&(this._providers[e].find(t,this.showResults,this),this._counter++)},showResults:function(i,o,r){if(o&&o.length>0){r._result=!0;var s=r._el.find(".dropdown-menu"),a=e.compile(n);s.append('<li class="dropdown-header">'+i+"</li>"),t.each(o,function(t,e){s.append(a(e))}),r._open||r._el.find(".dropdown-menu").dropdown("toggle")}r._counter--,0===r._counter&&r.searchEnd()},searchStart:function(){this._el.find(".dropdown-toggle i").removeClass("fa-search").addClass("fa-spinner fa-pulse")},searchEnd:function(){this._el.find(".dropdown-toggle i").removeClass("fa-spinner fa-pulse").addClass("fa-search")}},s}),define("app/service/export",["jquery","ol"],function(t,e){"use strict";function i(e,i,n){if(this._link=t("#download-link"),this._filename=i,!this._link.attr("download")||!n||0===n.length)return!1;switch(this._link.removeAttr("href"),e){case"GPX":this.gpx(n)}this.forceDownload()}return i.prototype={gpx:function(t){var i=(new e.format.GPX).writeFeatures(t),n=this.strToBase64('<?xml version="1.0" encoding="utf-8"?>'+i);this._link.attr("download",this._filename),this._link.attr("href","data:text/gpx+xml;base64,"+n)},forceDownload:function(){var t=document.createEvent("MouseEvent");return t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.getElementById("download-link").dispatchEvent(t),!1},strToBase64:function(t){function e(t){return 26>t?t+65:52>t?t+71:62>t?t-4:62===t?43:63===t?47:65}function i(t){for(var i=2,n="",o=t.length,r=0,s=0;o>s;s++)i=s%3,s>0&&4*s/3%76===0&&(n+="\r\n"),r|=t[s]<<(16>>>i&24),(2===i||t.length-s===1)&&(n+=String.fromCharCode(e(r>>>18&63),e(r>>>12&63),e(r>>>6&63),e(63&r)),r=0);return n.substr(0,n.length-2+i)+(2===i?"":1===i?"=":"==")}function n(t){for(var e,i,n=t.length,o=0,r=0;n>r;r++)i=t.charCodeAt(r),o+=128>i?1:2048>i?2:65536>i?3:2097152>i?4:67108864>i?5:6;e=new Uint8Array(o);for(var s=0,a=0;o>s;a++)i=t.charCodeAt(a),128>i?e[s++]=i:2048>i?(e[s++]=192+(i>>>6),e[s++]=128+(63&i)):65536>i?(e[s++]=224+(i>>>12),e[s++]=128+(i>>>6&63),e[s++]=128+(63&i)):2097152>i?(e[s++]=240+(i>>>18),e[s++]=128+(i>>>12&63),e[s++]=128+(i>>>6&63),e[s++]=128+(63&i)):67108864>i?(e[s++]=248+(i>>>24),e[s++]=128+(i>>>18&63),e[s++]=128+(i>>>12&63),e[s++]=128+(i>>>6&63),e[s++]=128+(63&i)):(e[s++]=252+i/1073741824,e[s++]=128+(i>>>24&63),e[s++]=128+(i>>>18&63),e[s++]=128+(i>>>12&63),e[s++]=128+(i>>>6&63),e[s++]=128+(63&i));return e}return i(n(t))}},i}),define("text!tmpl/service/geocache/filter.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Filter</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-filter"></i> Filtreeri aardeid\n</li>\n{{#each collection}}\n<li class="divider"></li>\n{{#each this}}\n<li>\n    <label>\n        <input type="checkbox" name="{{@../key}}" data-filter="{{@../key}}" value="{{@key}}"> {{this}}\n    </label>\n</li>\n{{/each}}\n{{/each}}\n'}),define("app/service/filter",["jquery","templator","text!tmpl/service/geocache/filter.html"],function(t,e,i){"use strict";function n(n){this._layer=n,this._el=t("#toolbar .filter"),this._tmpl_filter=e.compile(i),this._features=n.getSource().getFeatures(),this._filters={fstatus:{0:"Leidmata",1:"Leitud",2:"Minu aare"},type:{"Tavaline aare":"Tavaline aare",Multiaare:"Multiaare",Veebikaamera:"Veebikaamera","Virtuaalne aare":"Virtuaalne aare","Sündmusaare":"Sündmusaare","Asukohata (tagurpidi) aare":"Asukohata aare","Mõistatusaare":"Mõistatusaare"}}}return n.prototype={get:function(t){return this["_"+t]},init:function(){var t=this.buildPropertyList();this.createUi(t)},buildPropertyList:function(){var t,e,i={};this._layer.getSource().forEachFeature(function(e){var n;t=e.getProperties();for(n in t)t.hasOwnProperty(n)&&this._filters.hasOwnProperty(n)&&(i[n]||(i[n]={}),this._filters[n][t[n]]&&!i[n][t[n]]&&(i[n][t[n]]=this._filters[n][t[n]]))},this);for(e in i)i.hasOwnProperty(e)&&Object.keys(i[e]).length<2&&delete i[e];return i},createUi:function(e){var i=this;this._el.find("ul").html(this._tmpl_filter({collection:e})),this._el.closest(".geocache").find("button.btn-filter").prop("disabled",!1).on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-geotrip").removeClass("active"),t(this).closest(".geocache").find(".geotrip").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".filter").toggleClass("open")}),this._el.find("ul button.close").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").toggleClass("active"),t(this).closest(".filter").toggleClass("open")}),this._el.find("ul li input").on("change",function(t){t.stopPropagation(),i.filter()})},off:function(){this._el.closest(".geocache").find("button.btn-filter").removeClass("active").off().find("b").text(""),this._el.find("ul button.close").off(),this._el.find("ul li input").off(),this._el.find("ul").html(""),this._el.removeClass("open")},filter:function(){var t,e=this.getChecked();this._layer.getSource().clear(),e.count>0?(t=this.query(e.query),this._layer.getSource().addFeatures(t),this._el.closest(".geocache").find("button.btn-filter b").text(t.length)):(this._layer.getSource().addFeatures(this._features),this._el.closest(".geocache").find("button.btn-filter b").text(""))},getChecked:function(){var e,i,n=this._el.find("input").serializeArray(),o={query:{},count:0};for(e=0,i=n.length;i>e;e++)o.query[n[e].name]||(o.query[n[e].name]=[]),-1===t.inArray(n[e].value,o.query[n[e].name])&&(o.query[n[e].name].push(n[e].value),o.count++);return o},query:function(e){var i,n,o,r,s=[],a=[];for(i=0,o=this._features.length;o>i;i++){r=this._features[i].getProperties(),a=[];for(n in e)e.hasOwnProperty(n)&&(r.hasOwnProperty(n)&&t.inArray(r[n],e[n])>-1?a.push(!0):a.push(!1));-1===t.inArray(!1,a)&&s.push(this._features[i])}return s}},n}),define("text!tmpl/service/geocache/tool_loader.html",[],function(){return'<div class="geocache">\n    <div class="btn-group pull-left">\n        <button class="btn btn-secondary btn-sm" type="button" data-toggle="modal" data-target="#modal_geocache">\n            <i class="fa fa-cube"></i>\n            <span class="hidden-xs">{{load_geocaches}}</span>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-filter" disabled title="Filtreeri">\n            <i class="fa fa-filter"></i> <b class="hidden-xs"></b>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-geotrip" disabled title="Geotuur">\n            <i class="fa fa-thumb-tack"></i> <b class="hidden-xs"></b>\n        </button>\n    </div>\n    <div class="filter">\n        <ul class="dropdown-menu scrollable-menu" role="menu"></ul>\n    </div>\n    <div class="geotrip">\n        <ul class="dropdown-menu scrollable-menu sortable" role="menu"></ul>\n    </div>\n\n    <!-- Modal -->\n    <div class="modal fade" id="modal_geocache" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title">{{load_geocaches}}</h4>\n                </div>\n                <div class="modal-body">\n                    <ul class="list-group">\n                        <li class="list-group-item">\n                            <span class="badge">1</span>\n                            Mine <a href="{{auth_url}}" target="geopeitus">geopeitus.ee</a> lehele ja logi seal sisse\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">2</span>\n                            Ava <a href="{{features_url}}" target="geopeitus">link</a>\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">3</span>\n                            Kopeeri siia tekstikasti kogu lehe sisu\n                        </li>\n                    </ul>\n                    <textarea class="form-control" rows="6"></textarea>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary confirm">{{confirm_geocaches}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!tmpl/service/geocache/geotrip.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Geotuur</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-thumb-tack"></i> Lisa aardeid kaardilt\n</li>\n<li class="divider"></li>\n{{#each collection}}\n{{#if this.id}}\n<li class="sort-item">\n    <a href="#" data-id="{{this.id}}">\n        <span>{{@key}}</span>. {{this.name}}\n    </a>\n</li>\n{{/if}}\n{{/each}}\n<li class="divider"></li>\n<li class="dropdown-header footer">\n    <div class="btn-group pull-right">\n        <a class="btn btn-xs btn-secondary export-gpx" download="geotuur.gpx">\n            <i class="fa fa-download"></i> GPX\n        </a>\n        <button type="button" class="btn btn-xs btn-secondary clear">\n            <i class="fa fa-trash-o"></i>\n        </button>\n    </div>\n    <div class="clearfix"></div>\n</li>'}),define("text!tmpl/service/geocache/featureinfo.html",[],function(){return'<p class="text-muted metadata small">\r\n    <i class="fa fa-clock-o"></i> {{date_hidden}}\r\n    <i class="fa fa-user"></i> {{user_id}}<br>\r\n    {{{type_text}}}\r\n    <i class="fa fa-area-chart"></i> {{terrain}}\r\n    <i class="fa fa-star"></i> {{difficulty}}\r\n    <i class="fa fa-expand"></i> {{size}}\r\n</p>\r\n<p>\r\n    \r\n</p>\r\n<p>{{{fstatus}}}</p>\r\n'}),define("text!tmpl/service/geocache/featureinfo_title.html",[],function(){return'<i class="{{type_class}}"></i>\r\n<a href="{{cache_url}}{{id}}" target="_blank">{{name}}</a>\r\n<a href="#" class="cache-toggle" data-id="{{id}}" title="Geotuur">\r\n    <i class="fa {{icon}}"></i>\r\n</a>'}),function(t){"use strict";"function"==typeof define&&define.amd?define("jquery.sortable",["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=y({},e),t[F]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1
};for(var n in i)!(n in e)&&(e[n]=i[n]);Y(e);for(var o in this)"_"===o.charAt(0)&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:H,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),V.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function i(t){E&&E.state!==t&&(l(E,"display",t?"none":""),!t&&E.state&&N.insertBefore(E,b),E.state=t)}function n(t,e,i){if(t){i=i||B,e=e.split(".");var n=e.shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");do if(">*"===n&&t.parentNode===i||(""===n||t.nodeName.toUpperCase()==n)&&(!e.length||((" "+t.className+" ").match(o)||[]).length==e.length))return t;while(t!==i&&(t=t.parentNode))}return null}function o(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function r(t,e,i){t.addEventListener(e,i,!1)}function s(t,e,i){t.removeEventListener(e,i,!1)}function a(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(R," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(R," ")}}function l(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return B.defaultView&&B.defaultView.getComputedStyle?i=B.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function h(t,e,i){if(t){var n=t.getElementsByTagName(e),o=0,r=n.length;if(i)for(;r>o;o++)i(n[o],o);return n}return[]}function c(t,e,i,n,o,r,s){var a=B.createEvent("Event"),l=(t||e[F]).options,h="on"+i.charAt(0).toUpperCase()+i.substr(1);a.initEvent(i,!0,!0),a.to=e,a.from=o||e,a.item=n||e,a.clone=E,a.oldIndex=r,a.newIndex=s,e.dispatchEvent(a),l[h]&&l[h].call(t,a)}function u(t,e,i,n,o,r){var s,a,l=t[F],h=l.options.onMove;return s=B.createEvent("Event"),s.initEvent("move",!0,!0),s.to=e,s.from=t,s.dragged=i,s.draggedRect=n,s.related=o||e,s.relatedRect=r||e.getBoundingClientRect(),t.dispatchEvent(s),h&&(a=h.call(l,s)),a}function d(t){t.draggable=!1}function f(){U=!1}function p(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return(e.clientY-(n.top+n.height)>5||e.clientX-(n.right+n.width)>5)&&i}function g(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function m(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function v(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function y(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var b,w,x,E,N,S,T,k,C,_,M,L,P,j,D,A,O,I={},R=/\s+/g,F="Sortable"+(new Date).getTime(),$=window,B=$.document,W=$.parseInt,H=!!("draggable"in B.createElement("div")),q=function(t){return t=B.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),U=!1,X=Math.abs,V=([].slice,[]),G=v(function(t,e,i){if(i&&e.scroll){var n,o,r,s,a=e.scrollSensitivity,l=e.scrollSpeed,h=t.clientX,c=t.clientY,u=window.innerWidth,d=window.innerHeight;if(k!==i&&(T=e.scroll,k=i,T===!0)){T=i;do if(T.offsetWidth<T.scrollWidth||T.offsetHeight<T.scrollHeight)break;while(T=T.parentNode)}T&&(n=T,o=T.getBoundingClientRect(),r=(X(o.right-h)<=a)-(X(o.left-h)<=a),s=(X(o.bottom-c)<=a)-(X(o.top-c)<=a)),r||s||(r=(a>=u-h)-(a>=h),s=(a>=d-c)-(a>=c),(r||s)&&(n=$)),(I.vx!==r||I.vy!==s||I.el!==n)&&(I.el=n,I.vx=r,I.vy=s,clearInterval(I.pid),n&&(I.pid=setInterval(function(){n===$?$.scrollTo($.pageXOffset+r*l,$.pageYOffset+s*l):(s&&(n.scrollTop+=s*l),r&&(n.scrollLeft+=r*l))},24)))}},30),Y=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};e.prototype={constructor:e,_onTapStart:function(t){var e=this,i=this.el,o=this.options,r=t.type,s=t.touches&&t.touches[0],a=(s||t).target,l=a,h=o.filter;if(!("mousedown"===r&&0!==t.button||o.disabled)&&(a=n(a,o.draggable,i))){if(L=m(a),"function"==typeof h){if(h.call(this,t,a,this))return c(e,l,"filter",a,i,L),void t.preventDefault()}else if(h&&(h=h.split(",").some(function(t){return t=n(l,t.trim(),i),t?(c(e,t,"filter",a,i,L),!0):void 0})))return void t.preventDefault();(!o.handle||n(l,o.handle,i))&&this._prepareDragStart(t,s,a)}},_prepareDragStart:function(t,e,i){var n,o=this,s=o.el,l=o.options,c=s.ownerDocument;i&&!b&&i.parentNode===s&&(D=t,N=s,b=i,w=b.parentNode,S=b.nextSibling,j=l.group,n=function(){o._disableDelayedDrag(),b.draggable=!0,a(b,o.options.chosenClass,!0),o._triggerDragStart(e)},l.ignore.split(",").forEach(function(t){h(b,t.trim(),d)}),r(c,"mouseup",o._onDrop),r(c,"touchend",o._onDrop),r(c,"touchcancel",o._onDrop),l.delay?(r(c,"mouseup",o._disableDelayedDrag),r(c,"touchend",o._disableDelayedDrag),r(c,"touchcancel",o._disableDelayedDrag),r(c,"mousemove",o._disableDelayedDrag),r(c,"touchmove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(n,l.delay)):n())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),s(t,"mouseup",this._disableDelayedDrag),s(t,"touchend",this._disableDelayedDrag),s(t,"touchcancel",this._disableDelayedDrag),s(t,"mousemove",this._disableDelayedDrag),s(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(D={target:b,clientX:t.clientX,clientY:t.clientY},this._onDragStart(D,"touch")):this.nativeDraggable?(r(b,"dragend",this),r(N,"dragstart",this._onDragStart)):this._onDragStart(D,!0);try{B.selection?B.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){N&&b&&(a(b,this.options.ghostClass,!0),e.active=this,c(this,N,"start",b,N,L))},_emulateDragOver:function(){if(A){if(this._lastX===A.clientX&&this._lastY===A.clientY)return;this._lastX=A.clientX,this._lastY=A.clientY,q||l(x,"display","none");var t=B.elementFromPoint(A.clientX,A.clientY),e=t,i=" "+this.options.group.name,n=V.length;if(e)do{if(e[F]&&e[F].options.groups.indexOf(i)>-1){for(;n--;)V[n]({clientX:A.clientX,clientY:A.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);q||l(x,"display","")}},_onTouchMove:function(t){if(D){e.active||this._dragStarted(),this._appendGhost();var i=t.touches?t.touches[0]:t,n=i.clientX-D.clientX,o=i.clientY-D.clientY,r=t.touches?"translate3d("+n+"px,"+o+"px,0)":"translate("+n+"px,"+o+"px)";O=!0,A=i,l(x,"webkitTransform",r),l(x,"mozTransform",r),l(x,"msTransform",r),l(x,"transform",r),t.preventDefault()}},_appendGhost:function(){if(!x){var t,e=b.getBoundingClientRect(),i=l(b),n=this.options;x=b.cloneNode(!0),a(x,n.ghostClass,!1),a(x,n.fallbackClass,!0),l(x,"top",e.top-W(i.marginTop,10)),l(x,"left",e.left-W(i.marginLeft,10)),l(x,"width",e.width),l(x,"height",e.height),l(x,"opacity","0.8"),l(x,"position","fixed"),l(x,"zIndex","100000"),l(x,"pointerEvents","none"),n.fallbackOnBody&&B.body.appendChild(x)||N.appendChild(x),t=x.getBoundingClientRect(),l(x,"width",2*e.width-t.width),l(x,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),"clone"==j.pull&&(E=b.cloneNode(!0),l(E,"display","none"),N.insertBefore(E,b)),e?("touch"===e?(r(B,"touchmove",this._onTouchMove),r(B,"touchend",this._onDrop),r(B,"touchcancel",this._onDrop)):(r(B,"mousemove",this._onTouchMove),r(B,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,b)),r(B,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var e,o,r,s=this.el,a=this.options,h=a.group,c=h.put,d=j===h,g=a.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!a.dragoverBubble&&t.stopPropagation()),O=!0,j&&!a.disabled&&(d?g||(r=!N.contains(b)):j.pull&&c&&(j.name===h.name||c.indexOf&&~c.indexOf(j.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(G(t,a,this.el),U)return;if(e=n(t.target,a.draggable,s),o=b.getBoundingClientRect(),r)return i(!0),void(E||S?N.insertBefore(b,E||S):g||N.appendChild(b));if(0===s.children.length||s.children[0]===x||s===t.target&&(e=p(s,t))){if(e){if(e.animated)return;v=e.getBoundingClientRect()}i(d),u(N,s,b,o,e,v)!==!1&&(b.contains(s)||(s.appendChild(b),w=s),this._animate(o,b),e&&this._animate(v,e))}else if(e&&!e.animated&&e!==b&&void 0!==e.parentNode[F]){C!==e&&(C=e,_=l(e),M=l(e.parentNode));var m,v=e.getBoundingClientRect(),y=v.right-v.left,T=v.bottom-v.top,k=/left|right|inline/.test(_.cssFloat+_.display)||"flex"==M.display&&0===M["flex-direction"].indexOf("row"),L=e.offsetWidth>b.offsetWidth,P=e.offsetHeight>b.offsetHeight,D=(k?(t.clientX-v.left)/y:(t.clientY-v.top)/T)>.5,A=e.nextElementSibling,I=u(N,s,b,o,e,v);if(I!==!1){if(U=!0,setTimeout(f,30),i(d),1===I||-1===I)m=1===I;else if(k){var R=b.offsetTop,$=e.offsetTop;m=R===$?e.previousElementSibling===b&&!L||D&&L:$>R}else m=A!==b&&!P||D&&P;b.contains(s)||(m&&!A?s.appendChild(b):e.parentNode.insertBefore(b,m?A:e)),w=b.parentNode,this._animate(o,b),this._animate(v,e)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();l(e,"transition","none"),l(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,l(e,"transition","all "+i+"ms"),l(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){l(e,"transition",""),l(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;s(B,"touchmove",this._onTouchMove),s(t,"mouseup",this._onDrop),s(t,"touchend",this._onDrop),s(t,"touchcancel",this._onDrop)},_onDrop:function(t){var i=this.el,n=this.options;clearInterval(this._loopId),clearInterval(I.pid),clearTimeout(this._dragStartTimer),s(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(s(B,"drop",this),s(i,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(O&&(t.preventDefault(),!n.dropBubble&&t.stopPropagation()),x&&x.parentNode.removeChild(x),b&&(this.nativeDraggable&&s(b,"dragend",this),d(b),a(b,this.options.ghostClass,!1),a(b,this.options.chosenClass,!1),N!==w?(P=m(b),P>=0&&(c(null,w,"sort",b,N,L,P),c(this,N,"sort",b,N,L,P),c(null,w,"add",b,N,L,P),c(this,N,"remove",b,N,L,P))):(E&&E.parentNode.removeChild(E),b.nextSibling!==S&&(P=m(b),P>=0&&(c(this,N,"update",b,N,L,P),c(this,N,"sort",b,N,L,P)))),e.active&&((null===P||-1===P)&&(P=L),c(this,N,"end",b,N,L,P),this.save())),N=b=w=x=S=E=T=k=D=A=O=P=C=_=j=e.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?b&&(this._onDragOver(t),o(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],i=this.el.children,o=0,r=i.length,s=this.options;r>o;o++)t=i[o],n(t,s.draggable,this.el)&&e.push(t.getAttribute(s.dataIdAttr)||g(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,o){var r=i.children[o];n(r,this.options.draggable,i)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;return void 0===e?i[t]:(i[t]=e,void("group"===t&&Y(i)))},destroy:function(){var t=this.el;t[F]=null,s(t,"mousedown",this._onTapStart),s(t,"touchstart",this._onTapStart),this.nativeDraggable&&(s(t,"dragover",this),s(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),V.splice(V.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},e.utils={on:r,off:s,css:l,find:h,is:function(t,e){return!!n(t,e,t)},extend:y,throttle:v,closest:n,toggleClass:a,index:m},e.create=function(t,i){return new e(t,i)},t.fn.sortable=function(i){var n,o=arguments;return this.each(function(){var r=t(this),s=r.data("sortable");if(s||!(i instanceof Object)&&i||(s=new e(this,i),r.data("sortable",s)),s){if("widget"===i)return s;"destroy"===i?(s.destroy(),r.removeData("sortable")):"function"==typeof s[i]?n=s[i].apply(s,[].slice.call(o,1)):i in s.options&&(n=s.option.apply(s,o))}}),void 0===n?this:n}}),define("app/service/geocache",["jquery","ol","templator","app/service/export","app/service/filter","text!tmpl/service/geocache/tool_loader.html","text!tmpl/service/geocache/geotrip.html","text!tmpl/service/geocache/featureinfo.html","text!tmpl/service/geocache/featureinfo_title.html","jquery.bootstrap","jquery.sortable"],function(t,e,i,n,o,r,s,a,l){"use strict";function h(t,n){this._name="geocache",this._config=t,this._mapmodule=n,this._el=null,this._filter=null,this._open=!1,this._results=null,this._layer=null,this._route=null,this._styleCache={},this._styleConfig={base:{text:"",font:"normal 16px FontAwesome",textBaseline:"middle",fill:new e.style.Fill({color:"black"}),stroke:new e.style.Stroke({color:"#fff",width:4})},text:{"Tavaline aare":{text:"","class":"fa fa-cube",font:"normal 12px FontAwesome"},Multiaare:{text:"","class":"fa fa-cubes",font:"normal 13px FontAwesome"},Veebikaamera:{text:"","class":"fa fa-camera",font:"normal 12px FontAwesome"},"Virtuaalne aare":{text:"","class":"fa fa-wifi",font:"normal 12px FontAwesome"},"Sündmusaare":{text:"","class":"fa fa-university",font:"normal 12px FontAwesome"},"Asukohata (tagurpidi) aare":{text:"","class":"fa fa-refresh",font:"normal 12px FontAwesome"},"Mõistatusaare":{text:"","class":"fa fa-question-circle",font:"normal 12px FontAwesome"}},color:{0:{fill:new e.style.Fill({color:"black"})},1:{fill:new e.style.Fill({color:"#4c9900"})},2:{fill:new e.style.Fill({color:"red"})}}},this._tmpl_geotrip=i.compile(s),this._tmpl_featureinfo=i.compile(a),this._tmpl_featureinfo_title=i.compile(l),this._geotrip=new e.Collection,this._geotrip.on("add",this.renderTrip,this),this._geotrip.on("remove",this.renderTrip,this)}return h.prototype={get:function(t){return this["_"+t]},init:function(){var t,e=this;this.createUi(),t=this._mapmodule.get("featureInfo").get("infoHandlers"),t&&(t[this._name]=function(t){return e.getContent(t)})},createUi:function(){var e=this,s=i.compile(r);this._el=t(s(t.extend(this._config,{load_geocaches:"Lae aarded",confirm_geocaches:"Lisa aarded kaardile"}))),t("#toolbar").append(this._el),this._el.find(".modal").on("shown.bs.modal",function(e){t(this).find("textarea").focus()}),this._el.find("#modal_geocache").on("click","button.confirm",function(i){var n,r=t(this).closest(".modal-content").find("textarea"),s=t.trim(r.val());if(e._geotrip.clear(),s.length>0)try{n=t.parseJSON(s)}catch(a){}n&&(e._layer&&e.removeLayer(),e.createLayer(n),e._filter&&(e._filter.off(),e._filter=null),e._filter=new o(e._layer),e._filter.init()),r.val(""),t(this).closest(".modal").modal("hide")}),this._el.find("button.btn-geotrip").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").removeClass("active"),t(this).closest(".geocache").find(".filter").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip button.close",function(i){i.stopPropagation(),e._el.find("button.btn-geotrip").toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip ul li a",function(i){i.preventDefault();var n=t(this).data("id");e._geotrip.forEach(function(t,i){return Number(t.get("id"))===n?void e._mapmodule.setView("center",[t.getGeometry().getCoordinates(),16]):void 0})}),this._el.on("click",".geotrip ul li button.clear",function(t){e.clearTrip()}),this._el.on("click",".geotrip ul li a.export-gpx",function(t){t.preventDefault();var i,o=[],r=null,s=null;e._geotrip.forEach(function(t){r=t.clone(),r.getGeometry().transform("EPSG:3857","EPSG:4326"),o.push(r)}),s=e._route.getSource().getFeatures()[0],s&&(r=s.clone(),r.getGeometry().transform("EPSG:3857","EPSG:4326"),o.push(r)),i=new n("GPX","geotuur.gpx",o)})},createLayer:function(i){var n,o,r=this;i?(o=new e.format.GeoJSON,n={features:o.readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}):n={format:new e.format.GeoJSON,url:"data/gp.geojson"},this._route=new e.layer.Vector({name:"route",source:new e.source.Vector,style:[new e.style.Style({stroke:new e.style.Stroke({color:"rgba(255, 255, 255, 0.4)",width:7})}),new e.style.Style({stroke:new e.style.Stroke({color:"rgba(255, 0, 0, 0.7)",width:3,lineDash:[15,10]})})]}),this._mapmodule.get("vectorLayers").getLayers().push(this._route),this._layer=new e.layer.Vector({name:"geocache",source:new e.source.Vector(n),style:function(i,n){var o,s=i.get("type"),a=i.get("fstatus");return r._styleCache[s]||(r._styleCache[s]={}),r._styleCache[s][a]||(o=t.extend({},r._styleConfig.base,r._styleConfig.text[s],r._styleConfig.color[a]),r._styleCache[s][a]=[new e.style.Style({text:new e.style.Text(o)})]),r._styleCache[s][a]}}),this._mapmodule.get("vectorLayers").getLayers().push(this._layer)},removeLayer:function(){this._layer.getSource().clear(),this._route.getSource().clear(),this._mapmodule.get("vectorLayers").getLayers().remove(this._layer),this._mapmodule.get("vectorLayers").getLayers().remove(this._route),this._layer=null,this._route=null},getContent:function(e){var i=this,n={0:'<i class="fa fa-square-o"></i> Leidmata',1:'<i class="fa fa-check-square-o"></i> Leitud',2:'<i class="fa fa-user"></i> Minu aare'},o=e.getProperties(),r=t.inArray(e,this._geotrip.getArray());return o.fstatus=n[o.fstatus],o.type_text='<i class="'+this._styleConfig.text[o.type]["class"]+'"></i> '+o.type,{definition:{placement:"top",animation:!1,html:!0,title:this._tmpl_featureinfo_title({type_class:this._styleConfig.text[o.type]["class"],cache_url:this._config.cache_url,id:o.id,name:o.name,icon:r>-1?"fa-minus-square":"fa-thumb-tack"}),content:this._tmpl_featureinfo(o)},onShow:function(e){t("a.cache-toggle").on("click",function(n){n.preventDefault(),t(this).find("i").toggleClass("fa-thumb-tack fa-minus-square"),t.inArray(e,i._geotrip.getArray())>-1?i._geotrip.remove(e):i._geotrip.push(e)})},onHide:function(){t("a.cache-toggle").off()}}},renderTrip:function(t){var i=[""],n=this._geotrip.getLength(),o=[],r=this;this._geotrip.forEach(function(t,e){i.push(t.getProperties()),o.push(t.getGeometry().getCoordinates())}),0===n?(this._el.find("button.btn-geotrip").removeClass("active").prop("disabled",!0).find("b").text(""),this._el.find(".geotrip").removeClass("open")):this._el.find("button.btn-geotrip").is(":disabled")&&this._el.find("button.btn-geotrip").prop("disabled",!1),n>0&&this._el.find("button.btn-geotrip b").text(n),this._el.find(".geotrip ul").html(this._tmpl_geotrip({collection:i})),this._el.find(".geotrip .sortable").sortable({draggable:"li.sort-item",onUpdate:function(t){r.reorderTrip(),r.renderTrip()}}),this._route.getSource().clear(),this._el.find(".geotrip ul li a.export-gpx").removeAttr("href"),n>1&&this._route.getSource().addFeatures([new e.Feature({name:"Geotuur",geometry:new e.geom.LineString(o)})])},reorderTrip:function(){function e(t){var e;return s._geotrip.forEach(function(i,n){i.get("id")===t&&(e=i)}),e}var i,n,o=[],r=null,s=this;for(this._el.find(".geotrip .sortable li.sort-item").each(function(e,i){o.push(t(i).find("a").attr("data-id"))}),i=0,n=o.length;n>i;i++)r=e(o[i]),this._geotrip.remove(r),this._geotrip.insertAt(i,r)},clearTrip:function(){this._route.getSource().clear(),this._geotrip.clear();var t=this._mapmodule.get("featureInfo").get("popup");t&&t.popover("destroy")}},h}),define("app/service/osm-edit",[],function(){"use strict";var t=function(t,e){var i="http://openstreetmap.us/iD/release/#editor=id&background=custom:http://kaart.maakaart.ee/orto/{z}/{x}/{y}.jpeg&map=";t.append('<a href="#" id="osm-edit"><i class="fa fa-pencil"></i></a>'),t.on("click","a#osm-edit",function(t){t.preventDefault();var n=e.transform("point",e.get("map").getView().getCenter(),"EPSG:3857","EPSG:4326"),o=e.get("map").getView().getZoom();window.open(i+o+"/"+n[1]+"/"+n[0])})};return t}),define("app/service/data-import",["ol"],function(t){"use strict";var e=function(e){var i=e.get("map"),n={Point:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#ff0",width:1})})})],LineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:3})})],Polygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new t.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:1})})],MultiPolygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new t.style.Stroke({color:"#00f",width:1})})]},o=function(t,e){var i=t.getStyleFunction();return i?i.call(t,e):n[t.getGeometry().getType()]},r=new t.interaction.DragAndDrop({formatConstructors:[t.format.GPX,t.format.GeoJSON]});i.addInteraction(r),r.on("addfeatures",function(n){var r=new t.source.Vector({features:n.features,projection:n.projection});i.getLayers().push(new t.layer.Vector({source:r,style:o})),e.setView("bounds",r.getExtent())})};return e}),define("app/service/fullscreen",["jquery"],function(t){"use strict";function e(e){this._active=!1,this._el=e;var i=this.test();i&&(this._el.on("click",t.proxy(this.toggle,this)),t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",t.proxy(this.toggleState,this)))}return e.prototype={test:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?(this._el.removeClass("disabled"),!0):!1},toggle:function(t){t.preventDefault(),this._active?this.off():this.on()},toggleState:function(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(this._active=!0,this._el.addClass("active")):(this._active=!1,this._el.removeClass("active"))},on:function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},off:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},e}),define("app/main",["jquery","config/settings","app/map","app/service/search/search","app/service/geocache","app/service/osm-edit","app/service/data-import","app/service/fullscreen"],function(t,e,i,n,o,r,s,a){"use strict";function l(t){this._settings=t}l.prototype={get:function(t){return this["_"+t]},init:function(){}},t(function(){function h(){var e=t("body").height(),i=t("header").outerHeight(!0),n=t("footer").outerHeight(!0);t("body").find(".scrollable-menu").css("max-height",e-(i+n)+"px")}var c,u=new l(e);u.init(),u.mapmodule=new i(u.get("settings").map),u.mapmodule.init(),c=new r(t('.layerswitcher a[data-name="osm"]').closest("li"),u.mapmodule),u.get("settings").map.geocodingEnabled&&(u.geocoding=new n(u.mapmodule),u.geocoding.init()),u.geocache=new o(u.get("settings").geocache,u.mapmodule),u.geocache.init(),u.dataimport=new s(u.mapmodule),u.fullscreen=new a(t(".btn-fullscreen")),t("#statusbar a.info-toggle").on("click",function(e){e.preventDefault(),t("#statusbar .info").toggleClass("hidden")}),h(),t(window).on("resize",h)})});