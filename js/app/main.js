/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */

/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

/**
 * jQuery plugin for Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */

function r(t,e){var i=t.split("."),n=aa;i[0]in n||!n.execScript||n.execScript("var "+i[0]);for(var s;i.length&&(s=i.shift());)i.length||void 0===e?n=n[s]?n[s]:n[s]={}:n[s]=e}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function ba(){}function y(t){return t.ef||(t.ef=++ca)}function ea(t){this.message="Assertion failed. See /doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function z(t,e){if(!t)throw new ea(e)}function fa(t,e,i){return Math.min(Math.max(t,e),i)}function ia(t,e){var i=t%e;return 0>i*e?i+e:i}function ja(t){return function(e){return e?[fa(e[0],t[0],t[2]),fa(e[1],t[1],t[3])]:void 0}}function ka(t){return t}function la(t,e,i){this.center=t,this.resolution=e,this.rotation=i}function na(t){for(var e in t)delete t[e]}function oa(t){var e,i=[];for(e in t)i.push(t[e]);return i}function pa(t){for(var e in t)return!1;return!e}function qa(t){function e(e){var i=t.listener,n=t.Gc||t.target;return t.Ic&&B(t),i.call(n,e)}return t.Hc=e}function ra(t,e,i,n){for(var s,o=0,a=t.length;a>o;++o)if(s=t[o],s.listener===e&&s.Gc===i)return n&&(s.deleteIndex=o),s}function sa(t,e){var i=t.Z;return i?i[e]:void 0}function ta(t){var e=t.Z;return e||(e=t.Z={}),e}function ua(t,e){var i=sa(t,e);if(i){for(var n=0,s=i.length;s>n;++n)t.removeEventListener(e,i[n].Hc),na(i[n]);i.length=0,(i=t.Z)&&(delete i[e],0===Object.keys(i).length&&delete t.Z)}}function C(t,e,i,n,s){var o=ta(t),a=o[e];return a||(a=o[e]=[]),(o=ra(a,i,n,!1))?s||(o.Ic=!1):(o={Gc:n,Ic:!!s,listener:i,target:t,type:e},t.addEventListener(e,qa(o)),a.push(o)),o}function va(t,e,i,n){(t=sa(t,e))&&(i=ra(t,i,n,!0))&&B(i)}function B(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Hc);var e=sa(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&ua(t.target,t.type)}na(t)}}function wa(){}function xa(t){t.ra||(t.ra=!0,t.$())}function ya(t){this.type=t,this.target=null}function za(t){t.stopPropagation()}function Aa(){this.R={},this.D={},this.C={}}function Ba(t,e){return e?e in t.C:0<Object.keys(t.C).length}function Ca(){Aa.call(this),this.f=0}function D(t){Ca.call(this),y(this),this.j={},void 0!==t&&this.fa(t)}function Ga(t){return Da.hasOwnProperty(t)?Da[t]:Da[t]="change:"+t}function Ha(t,e,i){var n;n=Ga(e),t.M(new Ia(n,e,i)),n=Ja,t.M(new Ia(n,e,i))}function Ia(t,e,i){ya.call(this,t),this.key=e,this.oldValue=i}function Ka(t,e){return t>e?1:e>t?-1:0}function La(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(i>0){for(i=1;n>i;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;n>i;++i)if(t[i]<=e)return i}else for(i=1;n>i;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function Ma(t,e){var i,n=Array.isArray(e)?e:[e],s=n.length;for(i=0;s>i;i++)t[t.length]=n[i]}function Na(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0}function Oa(t){var e,i=Pa,n=t.length,s=Array(t.length);for(e=0;n>e;e++)s[e]={index:e,value:t[e]};for(s.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=s[e].value}function Qa(t,e){var i=e||Ka;return t.every(function(e,n){if(0===n)return!0;var s=i(t[n-1],e);return!(s>0||0===s)})}function Ra(t){return function(e,i,n){return void 0!==e?(e=La(t,e,n),e=fa(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]):void 0}}function Sa(t,e,i){return function(n,s,o){return void 0!==n?(n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-o/2+.5))+s,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)):void 0}}function Ta(t){return void 0!==t?0:void 0}function Ua(t,e){return void 0!==t?t+e:void 0}function Wa(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function Xa(){var t=5*Math.PI/180;return function(e,i){return void 0!==e?Math.abs(e+i)<=t?0:e+i:void 0}}function Ya(t){t=""+t;var e=t.indexOf("."),e=-1===e?t.length:e;return e>2?t:Array(3-e).join("0")+t}function Za(t,e){var i=Math.cos(e),n=Math.sin(e),s=t[1]*i+t[0]*n;t[0]=t[0]*i-t[1]*n,t[1]=s}function $a(t){return 1-Math.pow(1-t,3)}function ab(t){return 3*t*t-2*t*t*t}function bb(t){return t}function cb(t){for(var e=db(),i=0,n=t.length;n>i;++i)eb(e,t[i]);return e}function gb(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function hb(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function ib(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function db(){return[1/0,1/0,-(1/0),-(1/0)]}function jb(t,e,i,n,s){return s?(s[0]=t,s[1]=e,s[2]=i,s[3]=n,s):[t,e,i,n]}function kb(t){return jb(1/0,1/0,-(1/0),-(1/0),t)}function lb(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function mb(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function eb(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function nb(t,e,i,n,s){for(;n>i;i+=s){var o=t,a=e[i],r=e[i+1];o[0]=Math.min(o[0],a),o[1]=Math.min(o[1],r),o[2]=Math.max(o[2],a),o[3]=Math.max(o[3],r)}return t}function qb(t){var e=0;return rb(t)||(e=sb(t)*tb(t)),e}function ub(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function vb(t,e,i,n,s){var o=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var a=Math.sin(i);i=o*e,o*=a,e*=n;var r=n*a,h=t[0],l=t[1];t=h-i+r,n=h-i-r,a=h+i-r,i=h+i+r;var r=l-o-e,h=l-o+e,c=l+o+e,o=l+o-e;return jb(Math.min(t,n,a,i),Math.min(r,h,c,o),Math.max(t,n,a,i),Math.max(r,h,c,o),s)}function tb(t){return t[3]-t[1]}function wb(t,e){var i=db();return xb(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function sb(t){return t[2]-t[0]}function xb(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function rb(t){return t[2]<t[0]||t[3]<t[1]}function yb(){return!0}function zb(){return!1}function Ab(t){this.radius=t}function Bb(t,e){var i=t[1]*Math.PI/180,n=e[1]*Math.PI/180,s=(n-i)/2,o=(e[0]-t[0])*Math.PI/180/2,i=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(n);return 2*Cb.radius*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}function Fb(t){this.wa=t.code,this.f=t.units,this.g=void 0!==t.extent?t.extent:null,this.Fc=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.b=void 0!==t.global?t.global:!1,this.a=!(!this.b||!this.g),this.i=t.getPointResolution,this.c=null,this.j=t.metersPerUnit;var e=t.code;console.assert(void 0!==e,'Option "code" is required for constructing instance');var i=Eb||window.proj4;"function"==typeof i&&(e=i.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.Fc=e.axis),void 0===t.metersPerUnit&&(this.j=e.to_meter),void 0===t.units&&(this.f=e.units)))}function Gb(t){return t.j||Db[t.f]}function Jb(t,e,i){t=t.wa,e=e.wa,t in Ib||(Ib[t]={}),Ib[t][e]=i}function Kb(t,e){var i;return t in Ib&&e in Ib[t]&&(i=Ib[t][e]),i}function Lb(t,e,i){var n=t.i;return n?e=n(e,i):"degrees"!=t.f&&(n=Mb(t,Nb("EPSG:4326")),e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e=n(e,e,2),e=(Bb(e.slice(0,2),e.slice(2,4))+Bb(e.slice(4,6),e.slice(6,8)))/2,t=Gb(t),void 0!==t&&(e/=t)),e}function Ob(t){Pb(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Jb(e,t,Qb)})})}function Rb(t){Hb[t.wa]=t,Jb(t,t,Qb)}function Pb(t){var e=[];t.forEach(function(t){e.push(Rb(t))})}function Sb(t){return t?"string"==typeof t?Nb(t):t:Nb("EPSG:3857")}function Tb(t){return function(e,i,n){var s=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(s);var o,a;for(a=0;s>a;a+=n)for(o=t([e[a],e[a+1]]),i[a]=o[0],i[a+1]=o[1],o=n-1;o>=2;--o)i[a+o]=e[a+o];return i}}function Nb(t){var e=null;if(t instanceof Fb)e=t;else if("string"==typeof t){var e=Hb[t]||null,i=Eb||window.proj4;e||"function"!=typeof i||void 0===i.defs(t)||(e=new Fb({code:t}),Rb(e))}return e}function Ub(t,e){if(t===e)return!0;var i=t.f===e.f;return t.wa===e.wa?i:Mb(t,e)===Qb&&i}function Vb(t,e){var i=Nb(t),n=Nb(e);return Mb(i,n)}function Mb(t,e){var i=t.wa,n=e.wa,s=Kb(i,n);if(!s){var o=Eb||window.proj4;if("function"==typeof o){var a=o.defs(i),r=o.defs(n);void 0!==a&&void 0!==r&&(a===r?Ob([e,t]):(o=o(n,i),s=o.forward,o=o.inverse,a=Nb(e),r=Nb(t),Jb(a,r,Tb(s)),Jb(r,a,Tb(o))),s=Kb(i,n))}}return s||(console.assert(s,"transform should be defined"),s=Wb),s}function Wb(t,e){if(void 0!==e&&t!==e){console.assert(!1,"This should not be used internally.");for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}return t}function Qb(t,e){var i;if(void 0!==e){i=0;for(var n=t.length;n>i;++i)e[i]=t[i];i=e}else i=t.slice();return i}function Xb(t,e,i){return Vb(e,i)(t,void 0,t.length)}function Yb(t,e,i){e=Vb(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return console.assert(0<i.length,"xs length should be larger than 0"),console.assert(0<n.length,"ys length should be larger than 0"),t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),jb(t,e,i,n,void 0)}function Zb(){D.call(this),this.v=db(),this.B=-1,this.i={},this.u=this.l=0}function $b(t,e,i,n,s,o){for(var a=o?o:[],r=0;i>e;e+=n){var h=t[e],l=t[e+1];a[r++]=s[0]*h+s[2]*l+s[4],a[r++]=s[1]*h+s[3]*l+s[5]}return o&&a.length!=r&&(a.length=r),a}function ac(){Zb.call(this),this.U="XY",this.a=2,this.o=null}function bc(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),console.assert(e,"unsupported layout: "+t),e}function cc(t,e,i){t.a=bc(e),t.U=e,t.o=i}function dc(t,e,i,n){if(e)i=bc(e);else{for(e=0;n>e;++e){if(0===i.length)return t.U="XY",void(t.a=2);i=i[0]}i=i.length;var s;2==i?s="XY":3==i?s="XYZ":4==i&&(s="XYZM"),console.assert(s,"unsupported stride: "+i),e=s}t.U=e,t.a=i}function ec(t,e,i,n){var s,o;for(s=0,o=i.length;o>s;++s){var a=i[s];console.assert(a.length==n,"length of coordinate array should match stride");var r;for(r=0;n>r;++r)t[e++]=a[r]}return e}function fc(t,e,i,n,s){s=s?s:[];var o,a,r=0;for(o=0,a=i.length;a>o;++o)e=ec(t,e,i[o],n),s[r++]=e;return s.length=r,s}function gc(t,e,i,n,s){s=void 0!==s?s:[];for(var o=0;i>e;e+=n)s[o++]=t.slice(e,e+n);return s.length=o,s}function hc(t,e,i,n,s){s=void 0!==s?s:[];var o,a,r=0;for(o=0,a=i.length;a>o;++o){var h=i[o];s[r++]=gc(t,e,h,n,s[r]),e=h}return s.length=r,s}function ic(t,e,i,n,s,o,a){var r=(i-e)/n;if(3>r){for(;i>e;e+=n)o[a++]=t[e],o[a++]=t[e+1];return a}var h=Array(r);h[0]=1,h[r-1]=1,i=[e,i-n];for(var l,c=0;0<i.length;){var u=i.pop(),f=i.pop(),d=0,p=t[f],m=t[f+1],g=t[u],v=t[u+1];for(l=f+n;u>l;l+=n){var y,b=t[l];y=t[l+1];var M=p,x=m,w=g-M,E=v-x;if(0!==w||0!==E){var _=((b-M)*w+(y-x)*E)/(w*w+E*E);_>1?(M=g,x=v):_>0&&(M+=w*_,x+=E*_)}b=M-b,y=x-y,y=b*b+y*y,y>d&&(c=l,d=y)}d>s&&(h[(c-e)/n]=1,c>f+n&&i.push(f,c),u>c+n&&i.push(c,u))}for(l=0;r>l;++l)h[l]&&(o[a++]=t[e+l*n],o[a++]=t[e+l*n+1]);return a}function jc(t,e,i,n,s,o,a,r){var h,l;for(h=0,l=i.length;l>h;++h){var c=i[h];t:{var u=t,f=c,d=n,p=s,m=o;if(e!=f){var g=p*Math.round(u[e]/p),v=p*Math.round(u[e+1]/p);e+=d,m[a++]=g,m[a++]=v;var y,b;do if(y=p*Math.round(u[e]/p),b=p*Math.round(u[e+1]/p),e+=d,e==f){m[a++]=y,m[a++]=b;break t}while(y==g&&b==v);for(;f>e;){var M,x;if(M=p*Math.round(u[e]/p),x=p*Math.round(u[e+1]/p),e+=d,M!=y||x!=b){var w=y-g,E=b-v,_=M-g,S=x-v;w*S==E*_&&(0>w&&w>_||w==_||w>0&&_>w)&&(0>E&&E>S||E==S||E>0&&S>E)||(m[a++]=y,m[a++]=b,g=y,v=b),y=M,b=x}}m[a++]=y,m[a++]=b}}r.push(a),e=c}return a}function kc(t,e){ac.call(this),this.ha(t,e)}function lc(t,e){ac.call(this),this.ha(t,e)}function mc(t,e,i,n,s,o){for(var a=0,r=t[i-n],h=t[i-n+1];i>e;e+=n){var l=t[e],c=t[e+1];o>=h?c>o&&(l-r)*(o-h)-(s-r)*(c-h)>0&&a++:o>=c&&0>(l-r)*(o-h)-(s-r)*(c-h)&&a--,r=l,h=c}return 0!==a}function nc(t,e,i,n,s,o,a){var r,h,l,c,u,f=s[o+1],d=[],p=i[0];for(l=t[p-n],u=t[p-n+1],r=e;p>r;r+=n)c=t[r],h=t[r+1],(u>=f&&f>=h||f>=u&&h>=f)&&(l=(f-u)/(h-u)*(c-l)+l,d.push(l)),l=c,u=h;for(p=NaN,u=-(1/0),d.sort(Ka),l=d[0],r=1,h=d.length;h>r;++r){c=d[r];var m=Math.abs(c-l);if(m>u){l=(l+c)/2;var g;t:{g=t;var v=e,y=i,b=n,M=l,x=f;if(console.assert(0<y.length,"ends should not be an empty array"),0!==y.length&&mc(g,v,y[0],b,M,x)){var w,v=1;for(w=y.length;w>v;++v)if(mc(g,y[v-1],y[v],b,M,x)){g=!1;break t}g=!0}else g=!1}g&&(p=l,u=m)}l=c}return isNaN(p)&&(p=s[o]),a?(a.push(p,f),a):[p,f]}function oc(t,e,i,n){for(var s=0,o=t[i-n],a=t[i-n+1];i>e;e+=n)var r=t[e],h=t[e+1],s=s+(r-o)*(h+a),o=r,a=h;return s>0}function pc(t,e,i,n){var s=0;n=void 0!==n?n:!1;var o,a;for(o=0,a=e.length;a>o;++o){var r=e[o],s=oc(t,s,r,i);if(0===o){if(n&&s||!n&&!s)return!1}else if(n&&!s||!n&&s)return!1;s=r}return!0}function qc(t,e,i,n,s){s=void 0!==s?s:!1;var o,a;for(o=0,a=i.length;a>o;++o){var r=i[o],h=oc(t,e,r,n);if(0===o?s&&h||!s&&!h:s&&!h||!s&&h)for(var h=t,l=r,c=n;l-c>e;){var u;for(u=0;c>u;++u){var f=h[e+u];h[e+u]=h[l-c+u],h[l-c+u]=f}e+=c,l-=c}e=r}return e}function rc(t,e,i,n){var s,o,a=0;for(s=0,o=e.length;o>s;++s)a=qc(t,a,e[s],i,n);return a}function sc(t,e){ac.call(this),this.c=[],this.I=-1,this.L=null,this.S=-1,this.s=null,this.ha(t,e)}function uc(t){if(t.I!=t.f){var e=ub(t.F());t.L=nc(tc(t),0,t.c,t.a,e,0),t.I=t.f}return t.L}function tc(t){if(t.S!=t.f){var e=t.o;pc(e,t.c,t.a)?t.s=e:(t.s=e.slice(),t.s.length=qc(t.s,0,t.c,t.a)),t.S=t.f}return t.s}function vc(t){var e;D.call(this),t=t||{},this.b=[0,0],this.a=[],this.Lb=this.Lb.bind(this);var i={};i[wc]=void 0!==t.center?t.center:null,this.u=Sb(t.projection);var n,s,o=void 0!==t.minZoom?t.minZoom:0;e=void 0!==t.maxZoom?t.maxZoom:28;var a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)e=t.resolutions,n=e[0],s=e[e.length-1],e=Ra(e);else{n=Sb(t.projection),s=n.F();var r=(s?Math.max(sb(s),tb(s)):360*Db.degrees/Gb(n))/256/Math.pow(2,0),h=r/Math.pow(2,28);n=t.maxResolution,void 0!==n?o=0:n=r/Math.pow(a,o),s=t.minResolution,void 0===s&&(s=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,e):r/Math.pow(a,e):h),e=o+Math.floor(Math.log(n/s)/Math.log(a)),s=n/Math.pow(a,e-o),e=Sa(a,n,e-o)}this.g=n,this.v=s,this.B=a,this.l=t.resolutions,this.i=o,o=void 0!==t.extent?ja(t.extent):ka,a=xc(t),this.c=new la(o,e,a),void 0!==t.resolution?i[yc]=t.resolution:void 0!==t.zoom&&(i[yc]=this.constrainResolution(this.g,t.zoom-this.i)),i[zc]=void 0!==t.rotation?t.rotation:0,this.fa(i)}function Ec(t){return 0<Fc(t)[Dc]}function Gc(t){Cc(t,Dc,-Fc(t)[Dc]);for(var e=0,i=t.a.length;i>e;++e){var n=t.a[e];n[0].vb&&n[0].vb(!1)}t.a.length=0}function Ic(t,e,i){var n,s=t.la();return void 0!==s&&(n=[s[0]-i[0],s[1]-i[1]],Za(n,e-Bc(t)),t=n,t[0]+=i[0],t[1]+=i[1]),n}function Hc(t,e,i){var n,s=t.la();return t=Ac(t),void 0!==s&&void 0!==t&&(n=[i[0]-e*(i[0]-s[0])/t,i[1]-e*(i[1]-s[1])/t]),n}function Fc(t,e){return void 0!==e?(e[0]=t.b[0],e[1]=t.b[1],e):t.b.slice()}function Ac(t){return t.get(yc)}function Jc(t,e){return Math.max(sb(t)/e[0],tb(t)/e[1])}function Bc(t){return t.get(zc)}function Kc(t){return!!t.la()&&void 0!==Ac(t)}function Cc(t,e,i){console.assert(e>=0&&e<t.b.length,"illegal hint (%s), must be between 0 and %s",e,t.b.length),t.b[e]+=i,console.assert(0<=t.b[e],"Hint at %s must be positive, was %s",e,t.b[e]),t.A()}function Lc(t,e){t.set(yc,e),Ec(t)&&Gc(t)}function xc(t){return(void 0!==t.enableRotation?t.enableRotation:1)?(t=t.constrainRotation,void 0===t||!0===t?Xa():!1===t?Ua:"number"==typeof t?Wa(t):(console.assert(!1,"illegal option for constrainRotation (%s)",t),Ua)):Ta}function Mc(t,e,i,n){this.G=t,this.J=e,this.K=i,this.N=n}function Nc(t,e,i){return t.G<=e&&e<=t.J&&t.K<=i&&i<=t.N}function Oc(t,e){return t.G<=e.J&&t.J>=e.G&&t.K<=e.N&&t.N>=e.K}function Pc(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function Qc(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function Rc(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,z(Qa(this.a,function(t,e){return e-t}),17),this.maxZoom=this.a.length-1,this.f=void 0!==t.origin?t.origin:null,this.b=null,void 0!==t.origins&&(this.b=t.origins,z(this.b.length==this.a.length,20));var e=t.extent;void 0===e||this.f||this.b||(this.f=[e[0],e[3]]),z(!this.f&&this.b||this.f&&!this.b,18),this.g=null,void 0!==t.tileSizes&&(this.g=t.tileSizes,z(this.g.length==this.a.length,19)),this.j=void 0!==t.tileSize?t.tileSize:this.g?null:256,z(!this.j&&this.g||this.j&&!this.g,22),this.l=void 0!==e?e:null,this.c=null,this.i=[0,0],void 0!==t.sizes?(console.assert(t.sizes.length==this.a.length,"number of sizes and resolutions must be equal"),this.c=t.sizes.map(function(t){return console.assert(0!==t[0],"width must not be 0"),console.assert(0!==t[1],"height must not be 0"),new Mc(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this)):e&&Sc(this,e)}function Uc(t,e){return t.f?t.f:(console.assert(t.minZoom<=e&&e<=t.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",t.minZoom,e,t.maxZoom),t.b[e])}function Vc(t,e){return console.assert(t.minZoom<=e&&e<=t.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",t.minZoom,e,t.maxZoom),t.a[e]}function Wc(t,e,i,n){Xc(t,e[0],e[1],i,!1,Tc);var s=Tc[1],o=Tc[2];return Xc(t,e[2],e[3],i,!0,Tc),t=Tc[1],e=Tc[2],void 0!==n?(n.G=s,n.J=t,n.K=o,n.N=e):n=new Mc(s,t,o,e),n}function Yc(t,e,i,n){return i=Vc(t,i),Wc(t,e,i,n)}function Zc(t,e){var i=Uc(t,e[0]),n=Vc(t,e[0]),s=Qc($c(t,e[0]),t.i);return[i[0]+(e[1]+.5)*s[0]*n,i[1]+(e[2]+.5)*s[1]*n]}function ad(t,e,i){var n=Uc(t,e[0]),s=Vc(t,e[0]);t=Qc($c(t,e[0]),t.i);var o=n[0]+e[1]*t[0]*s;return e=n[1]+e[2]*t[1]*s,jb(o,e,o+t[0]*s,e+t[1]*s,i)}function Xc(t,e,i,n,s,o){var a=bd(t,n),r=n/Vc(t,a),h=Uc(t,a);return t=Qc($c(t,a),t.i),e=r*Math.floor((e-h[0])/n+(s?.5:0))/t[0],i=r*Math.floor((i-h[1])/n+(s?0:.5))/t[1],s?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),s=e,void 0!==o?(o[0]=a,o[1]=s,o[2]=i):o=[a,s,i],o}function $c(t,e){return t.j?t.j:(console.assert(t.minZoom<=e&&e<=t.maxZoom,"z is not in allowed range (%s <= %s <= %s",t.minZoom,e,t.maxZoom),t.g[e])}function cd(t,e){return t.c?(console.assert(t.minZoom<=e&&e<=t.maxZoom,"z is not in allowed range (%s <= %s <= %s",t.minZoom,e,t.maxZoom),t.c[e]):null}function bd(t,e,i){return fa(La(t.a,e,i||0),t.minZoom,t.maxZoom)}function Sc(t,e){for(var i=t.a.length,n=Array(i),s=t.minZoom;i>s;++s)n[s]=Yc(t,e,s);t.c=n}function dd(t){var e=t.c;if(!e){var e=ed(t),i=fd(e,void 0,void 0),e=new Rc({extent:e,origin:[e[0],e[3]],resolutions:i,tileSize:void 0});t.c=e}return e}function fd(t,e,i){e=void 0!==e?e:42;var n=tb(t);for(t=sb(t),i=Qc(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;e>t;++t)n[t]=i/Math.pow(2,t);return n}function ed(t){t=Nb(t);var e=t.F();return e||(t=180*Db.degrees/Gb(t),e=jb(-t,-t,t,t)),e}function gd(t){this.f=t.html,this.a=t.tileRanges?t.tileRanges:null}function I(t){D.call(this),this.a=t?t:[],hd(this)}function hd(t){t.set(id,t.a.length)}function jd(t,e){ya.call(this,t),this.element=e}function od(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function pd(t){var e=[];return e[0]=fa(t[0]+.5|0,0,255),e[1]=fa(t[1]+.5|0,0,255),e[2]=fa(t[2]+.5|0,0,255),e[3]=fa(t[3],0,1),e}function rd(t){return sd(t)?t:od(t)}function sd(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}function td(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function ud(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vd(t,e,i){ya.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function wd(t){D.call(this),this.element=t.element?t.element:null,this.g=this.L=null,this.i=[],this.render=t.render?t.render:ba,t.target&&(t=t.target,this.L="string"==typeof t?document.getElementById(t):t)}function xd(t){t=t?t:{},this.I=document.createElement("UL"),this.l=document.createElement("LI"),this.I.appendChild(this.l),this.l.style.display="none",this.c=void 0!==t.collapsed?t.collapsed:!0,this.v=void 0!==t.collapsible?t.collapsible:!0,this.v||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.s=document.createElement("span"),this.s.textContent=n):this.s=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.u=document.createElement("span"),this.u.textContent=n):this.u=n;var s=this.v&&!this.c?this.s:this.u,n=document.createElement("button");n.setAttribute("type","button"),n.title=i,n.appendChild(s),C(n,"click",this.X,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.c&&this.v?" ol-collapsed":"")+(this.v?"":" ol-uncollapsible"),i.appendChild(this.I),i.appendChild(n),wd.call(this,{element:i,render:t.render?t.render:yd,target:t.target}),this.B=!0,this.b={},this.a={},this.S={}}function yd(t){if(t=t.frameState){var e,i,n,s,o,a,r,h,l,c,u,f=t.layerStatesArray,d=ma({},t.attributions),p={},m={},g=t.viewState.projection;for(i=0,e=f.length;e>i;i++)if((a=f[i].layer.pa())&&(c=y(a).toString(),l=a.I))for(n=0,s=l.length;s>n;n++)if(r=l[n],h=y(r).toString(),!(h in d)){if(o=t.usedTiles[c]){var v=a.xa(g);t:{u=r;var b=g;if(u.a){var M,x,w,E=void 0;for(E in o)if(E in u.a){w=o[E];var _;for(M=0,x=u.a[E].length;x>M;++M){if(_=u.a[E][M],Oc(_,w)){u=!0;break t}var S=Yc(v,ed(b),parseInt(E,10)),k=S.J-S.G+1;if((w.G<S.G||w.J>S.J)&&(Oc(_,new Mc(ia(w.G,k),ia(w.J,k),w.K,w.N))||w.J-w.G+1>k&&Oc(_,S))){u=!0;break t}}}u=!1}else u=!0}}else u=!1;u?(h in p&&delete p[h],u=r.f,u in m||(m[u]=!0,d[h]=r)):p[h]=r}e=[d,p],i=e[0],e=e[1];for(var T in this.b)T in i?(this.a[T]||(this.b[T].style.display="",this.a[T]=!0),delete i[T]):T in e?(this.a[T]&&(this.b[T].style.display="none",delete this.a[T]),delete e[T]):(ud(this.b[T]),delete this.b[T],delete this.a[T]);for(T in i)n=document.createElement("LI"),n.innerHTML=i[T].f,this.I.appendChild(n),this.b[T]=n,this.a[T]=!0;for(T in e)n=document.createElement("LI"),n.innerHTML=e[T].f,n.style.display="none",this.I.appendChild(n),this.b[T]=n;T=!pa(this.a)||!pa(t.logos),this.B!=T&&(this.element.style.display=T?"":"none",this.B=T),T&&pa(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var N;t=t.logos,T=this.S;for(N in T)N in t||(ud(T[N]),delete T[N]);for(var C in t)e=t[C],e instanceof HTMLElement&&(this.l.appendChild(e),T[C]=e),C in T||(N=new Image,N.src=C,""===e?i=N:(i=document.createElement("a"),i.href=e,i.appendChild(N)),this.l.appendChild(i),T[C]=i);this.l.style.display=pa(t)?"none":""}else this.B&&(this.element.style.display="none",this.B=!1)}function zd(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",i=document.createElement("button");i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),C(i,"click",zd.prototype.u,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:Ad,this.c=t.resetNorth?t.resetNorth:void 0,wd.call(this,{element:n,render:e,target:t.target}),this.l=void 0!==t.duration?t.duration:250,this.b=void 0!==t.autoHide?t.autoHide:!0,this.s=void 0,this.b&&this.element.classList.add("ol-hidden")}function Ad(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.s){var e="rotate("+t+"rad)";if(this.b){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.s=t}}function Bd(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",o=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",r=document.createElement("button");r.className=e+"-in",r.setAttribute("type","button"),r.title=o,r.appendChild("string"==typeof n?document.createTextNode(n):n),C(r,"click",Bd.prototype.b.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=a,n.appendChild("string"==typeof s?document.createTextNode(s):s),C(n,"click",Bd.prototype.b.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(r),i.appendChild(n),wd.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function Cd(t){t=t?t:{};var e=new I;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Bd(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new zd(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new xd(t.attributionOptions)),e}function Dd(t){t=t?t:{};var e=document.createElement("DIV");if(e.className=void 0!==t.className?t.className:"ol-mouse-position",wd.call(this,{element:e,render:t.render?t.render:Ed,target:t.target}),C(this,Ga(Fd),this.v,this),t.coordinateFormat&&this.set(Gd,t.coordinateFormat),t.projection){var i=Nb(t.projection);this.set(Fd,i)}this.B=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.l=e.innerHTML,this.c=this.b=this.a=null}function Ed(t){t=t.frameState,t?this.a!=t.viewState.projection&&(this.a=t.viewState.projection,this.b=null):this.a=null,Hd(this,this.c)}function Hd(t,e){var i=t.B;if(e&&t.a){if(!t.b){var n=t.get(Fd);t.b=n?Mb(t.a,n):Wb}(n=t.g.ua(e))&&(t.b(n,n),i=(i=t.get(Gd))?i(n):n.toString())}t.l&&i==t.l||(t.element.innerHTML=i,t.l=i)}function Id(t,e,i,n,s){vd.call(this,t,e,s),this.originalEvent=i,this.pixel=e.Ub(i),this.coordinate=e.ua(this.pixel),this.dragging=void 0!==n?n:!1}function Kd(t,e,i,n,s){Id.call(this,t,e,i.a,n,s),this.a=i}function Xd(t,e){this.a=t,this.c=e}function Yd(t){Xd.call(this,t,{mousedown:this.ye,mousemove:this.ze,mouseup:this.Ce,mouseover:this.Be,mouseout:this.Ae}),this.f=t.f,this.b=[]}function Zd(t,e){for(var i,n=t.b,s=e.clientX,o=e.clientY,a=0,r=n.length;r>a&&(i=n[a]);a++){var h=Math.abs(o-i[1]);if(25>=Math.abs(s-i[0])&&25>=h)return!0}return!1}function $d(t){var e=ae(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function ee(t){Xd.call(this,t,{MSPointerDown:this.He,MSPointerMove:this.Ie,MSPointerUp:this.Le,MSPointerOut:this.Je,MSPointerOver:this.Ke,MSPointerCancel:this.Ge,MSGotPointerCapture:this.Ee,MSLostPointerCapture:this.Fe}),this.f=t.f,this.b=["","unavailable","touch","pen","mouse"]}function fe(t,e){var i=e;return"number"==typeof e.pointerType&&(i=ae(e,e),i.pointerType=t.b[e.pointerType]),i}function he(t){Xd.call(this,t,{pointerdown:this.jf,pointermove:this.kf,pointerup:this.nf,pointerout:this.lf,pointerover:this.mf,pointercancel:this.hf,gotpointercapture:this.de,lostpointercapture:this.we})}function ge(t,e,i){ya.call(this,t),this.a=e,t=i?i:{},this.buttons=je(t),this.pressure=ke(t,this.buttons),this.bubbles="bubbles"in t?t.bubbles:!1,this.cancelable="cancelable"in t?t.cancelable:!1,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t?t.isPrimary:!1,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function je(t){if(t.buttons||le)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function ke(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function me(t,e){Xd.call(this,t,{touchstart:this.Jf,touchmove:this.If,touchend:this.Hf,touchcancel:this.Gf}),this.f=t.f,this.i=e,this.b=void 0,this.j=0,this.g=void 0}function ne(t,e,i){return e=ae(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.j,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.b===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function oe(t,e,i){function n(){e.preventDefault()}var s,o,a=Array.prototype.slice.call(e.changedTouches),r=a.length;for(s=0;r>s;++s)o=ne(t,e,a[s]),o.preventDefault=n,i.call(t,e,o)}function pe(t,e){var i=t.i.b,n=e.changedTouches[0];if(t.b===n.identifier){var s=[n.clientX,n.clientY];i.push(s),setTimeout(function(){var t=i.indexOf(s);t>-1&&i.splice(t,1)},2500)}}function re(t){Aa.call(this),this.c=t,this.f={},this.g={},this.a=[],Vd?se(this,new he(this)):Wd?se(this,new ee(this)):(t=new Yd(this),se(this,t),Ud&&se(this,new me(this,t))),t=this.a.length;for(var e,i=0;t>i;i++)e=this.a[i],te(this,Object.keys(e.c))}function se(t,e){var i=Object.keys(e.c);i&&(i.forEach(function(t){var i=e.c[t];i&&(this.g[t]=i.bind(e))},t),t.a.push(e))}function te(t,e){e.forEach(function(t){C(this.c,t,this.b,this)},t)}function ue(t,e){e.forEach(function(t){va(this.c,t,this.b,this)},t)}function ae(t,e){for(var i,n={},s=0,o=ve.length;o>s;s++)i=ve[s][0],n[i]=t[i]||e[i]||ve[s][1];return n}function qe(t,e,i){e.bubbles=!1,be(t,"pointerleave",e,i)}function de(t,e,i){t.out(e,i);var n=e.target,s=e.relatedTarget;n&&s&&n.contains(s)||qe(t,e,i)}function ce(t,e,i){e.bubbles=!0,be(t,"pointerover",e,i);var n=e.target,s=e.relatedTarget;n&&s&&n.contains(s)||(e.bubbles=!1,be(t,"pointerenter",e,i))}function be(t,e,i,n){t.M(new ge(e,n,i))}function ie(t,e){t.M(new ge(e.type,e,e))}function we(t){Aa.call(this),this.b=t,this.j=0,this.i=!1,this.g=[],this.a=null,t=this.b.a,this.l=0,this.v={},this.c=new re(t),this.f=null,this.s=C(this.c,"pointerdown",this.me,this),this.u=C(this.c,"pointermove",this.wf,this)}function xe(t,e){var i=new Kd("click",t.b,e);t.M(i),0!==t.j?(clearTimeout(t.j),t.j=0,i=new Kd("dblclick",t.b,e),t.M(i)):t.j=setTimeout(function(){this.j=0;var t=new Kd("singleclick",this.b,e);this.M(t)}.bind(t),250)}function ye(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.v[e.pointerId]:"pointerdown"==e.type&&(t.v[e.pointerId]=!0),t.l=Object.keys(t.v).length}function ze(t,e){Aa.call(this),this.qa=t,this.state=e,this.a=null,this.key=""}function Ae(t,e){this.C=t,this.j=e,this.a=[],this.b=[],this.f={}}function Ce(t,e){for(var i=t.a,n=t.b,s=i.length,o=i[e],a=n[e],r=e;s>>1>e;){var h=2*e+1,l=2*e+2,h=s>l&&n[l]<n[h]?l:h;i[e]=i[h],n[e]=n[h],e=h}i[e]=o,n[e]=a,Be(t,r,e)}function Be(t,e,i){var n=t.a;t=t.b;for(var s=n[i],o=t[i];i>e;){var a=i-1>>1;if(!(t[a]>o))break;n[i]=n[a],t[i]=t[a],i=a}n[i]=s,t[i]=o}function De(t,e){Ae.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.D=e,this.c=0,this.g={}}function Ee(){this.a=[],this.f=this.b=0}function Fe(t){D.call(this),this.s=null,this.set(Ge,!0),this.handleEvent=t.handleEvent}function He(t,e,i,n){if(void 0!==e){var s=Bc(t),o=t.la();void 0!==s&&o&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:$a}):t.rotate(e,i)}}function Ie(t,e,i,n){var s=Ac(t);e=t.constrainResolution(s,e,0),Je(t,e,i,n)}function Je(t,e,i,n){if(e){var s=Ac(t),o=t.la();void 0!==s&&o&&e!==s&&n?t.animate({resolution:e,anchor:i,duration:n,easing:$a}):(i&&(i=Hc(t,e,i),t.za(i)),Lc(t,e))}}function Ke(t){t=t?t:{},this.a=t.delta?t.delta:1,Fe.call(this,{handleEvent:Le}),this.b=void 0!==t.duration?t.duration:250}function Le(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,i=i.shiftKey?-this.a:this.a,n=t.map.T();Ie(n,i,e,this.b),t.preventDefault(),e=!0}return!e}function Me(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Ne(t){return t=t.originalEvent,0==t.button&&!(Od&&Pd&&t.ctrlKey)}function Oe(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Pe(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Qe(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t;
}function Re(t){return z(t.a,56),"mouse"==t.a.pointerType}function Se(t){t=t?t:{},Fe.call(this,{handleEvent:t.handleEvent?t.handleEvent:Te}),this.B=t.handleDownEvent?t.handleDownEvent:zb,this.I=t.handleDragEvent?t.handleDragEvent:ba,this.L=t.handleMoveEvent?t.handleMoveEvent:ba,this.S=t.handleUpEvent?t.handleUpEvent:zb,this.g=!1,this.l={},this.a=[]}function Ue(t){for(var e=t.length,i=0,n=0,s=0;e>s;s++)i+=t[s].clientX,n+=t[s].clientY;return[i/e,n/e]}function Te(t){if(!(t instanceof Kd))return!0;var e=!1,i=t.type;return("pointerdown"===i||"pointerdrag"===i||"pointerup"===i)&&(i=t.a,"pointerup"==t.type?delete this.l[i.pointerId]:"pointerdown"==t.type?this.l[i.pointerId]=i:i.pointerId in this.l&&(this.l[i.pointerId]=i),this.a=oa(this.l)),this.g&&("pointerdrag"==t.type?this.I(t):"pointerup"==t.type&&(this.g=this.S(t))),"pointerdown"==t.type?(this.g=t=this.B(t),e=this.i(t)):"pointermove"==t.type&&this.L(t),!e}function Ve(t){Se.call(this,{handleDownEvent:We,handleDragEvent:Xe,handleUpEvent:Ye}),t=t?t:{},this.b=t.kinetic,this.c=null,this.v=t.condition?t.condition:Oe,this.u=!1}function Xe(t){console.assert(1<=this.a.length,"the length of this.targetPointers should be more than 1");var e=Ue(this.a);if(this.b&&this.b.a.push(e[0],e[1],Date.now()),this.c){var i=this.c[0]-e[0],n=e[1]-this.c[1];t=t.map.T();var s=t.aa(),n=i=[i,n],o=s.resolution;n[0]*=o,n[1]*=o,Za(i,s.rotation),n=i,s=s.center,n[0]+=s[0],n[1]+=s[1],i=t.c.center(i),t.za(i)}this.c=e}function Ye(t){var e=t.map;if(t=e.T(),0===this.a.length){var i;if(i=!this.u&&this.b)if(i=this.b,6>i.a.length)i=!1;else{var n=Date.now()-100,s=i.a.length-3;if(i.a[s+2]<n)i=!1;else{for(var o=s-3;o>0&&i.a[o+2]>n;)o-=3;var n=i.a[s+2]-i.a[o+2],a=i.a[s]-i.a[o],s=i.a[s+1]-i.a[o+1];i.b=Math.atan2(s,a),i.f=Math.sqrt(a*a+s*s)/n,i=.05<i.f}}return i&&(i=(.05-this.b.f)/-.005,s=this.b.b,o=t.la(),o=Ze(e,o),e=e.ua([o[0]-i*Math.cos(s),o[1]-i*Math.sin(s)]),t.animate({center:t.c.center(e),duration:500,easing:$a})),Cc(t,1,-1),!1}return this.c=null,!0}function We(t){if(0<this.a.length&&this.v(t)){var e=t.map.T();return this.c=null,this.g||Cc(e,1,1),e.za(t.frameState.viewState.center),this.b&&(t=this.b,t.a.length=0,t.b=0,t.f=0),this.u=1<this.a.length,!0}return!1}function $e(t){t=t?t:{},Se.call(this,{handleDownEvent:af,handleDragEvent:bf,handleUpEvent:cf}),this.c=t.condition?t.condition:Me,this.b=void 0,this.u=void 0!==t.duration?t.duration:250}function bf(t){if(Re(t)){var e=t.map,i=e.Qa();if(t=t.pixel,i=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.b){t=i-this.b;var e=e.T(),n=Bc(e);He(e,n-t)}this.b=i}}function cf(t){if(!Re(t))return!0;t=t.map.T(),Cc(t,1,-1);var e=Bc(t),i=this.u,e=t.constrainRotation(e,0);return He(t,e,void 0,i),!1}function af(t){return Re(t)&&Ne(t)&&this.c(t)?(Cc(t.map.T(),1,1),this.b=void 0,!0):!1}function df(t){this.g=null,this.f=document.createElement("div"),this.f.style.position="absolute",this.f.className="ol-box "+t,this.b=this.c=this.a=null}function ef(t){var e=t.c,i=t.b;t=t.f.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function ff(t){var e=t.c,i=t.b,e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.ua,t.a);e[4]=e[0].slice(),t.g?t.g.ha([e]):t.g=new sc([e])}function gf(t){Se.call(this,{handleDownEvent:hf,handleDragEvent:jf,handleUpEvent:kf}),t=t?t:{},this.b=new df(t.className||"ol-dragbox"),this.c=null,this.X=t.condition?t.condition:yb,this.v=t.boxEndCondition?t.boxEndCondition:lf}function lf(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=64}function jf(t){if(Re(t)){var e=this.b,i=t.pixel;e.c=this.c,e.b=i,ff(e),ef(e),this.M(new mf(nf,t.coordinate,t))}}function kf(t){return Re(t)?(this.b.setMap(null),this.v(t,this.c,t.pixel)&&(this.u(t),this.M(new mf(of,t.coordinate,t))),!1):!0}function hf(t){if(Re(t)&&Ne(t)&&this.X(t)){this.c=t.pixel,this.b.setMap(t.map);var e=this.b,i=this.c;return e.c=this.c,e.b=i,ff(e),ef(e),this.M(new mf(pf,t.coordinate,t)),!0}return!1}function mf(t,e,i){ya.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function qf(t){t=t?t:{};var e=t.condition?t.condition:Pe;this.ca=void 0!==t.duration?t.duration:200,this.ia=void 0!==t.out?t.out:!1,gf.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function rf(t){Fe.call(this,{handleEvent:sf}),t=t||{},this.a=function(t){return Oe(t)&&Qe(t)},this.b=void 0!==t.condition?t.condition:this.a,this.g=void 0!==t.duration?t.duration:100,this.c=void 0!==t.pixelDelta?t.pixelDelta:128}function sf(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){var e=t.map.T(),n=Ac(e)*this.c,s=0,o=0;40==i?o=-n:37==i?s=-n:39==i?s=n:o=n,n=[s,o],Za(n,Bc(e)),i=this.g,(s=e.la())&&(n=e.c.center([s[0]+n[0],s[1]+n[1]]),i?e.animate({duration:i,easing:bb,center:n}):e.za(n)),t.preventDefault(),e=!0}}return!e}function tf(t){Fe.call(this,{handleEvent:uf}),t=t?t:{},this.b=t.condition?t.condition:Qe,this.a=t.delta?t.delta:1,this.g=void 0!==t.duration?t.duration:100}function uf(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.T(),Ie(i,e,void 0,this.g),t.preventDefault(),e=!0)}return!e}function vf(t){Fe.call(this,{handleEvent:wf}),t=t||{},this.g=0,this.B=void 0!==t.duration?t.duration:250,this.I=void 0!==t.timeout?t.timeout:80,this.L=void 0!==t.useAnchor?t.useAnchor:!0,this.a=null,this.i=this.c=this.l=this.b=void 0}function wf(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,i=t.originalEvent;this.L&&(this.a=t.coordinate);var n;if("wheel"==t.type?(n=i.deltaY,Md&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Qd),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,Nd&&(n/=3)),0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.c||400<t-this.b)&&(this.c=4>Math.abs(n)?xf:yf),this.c===xf){e=e.T(),this.i?clearTimeout(this.i):Cc(e,1,1),this.i=setTimeout(this.u.bind(this),400),n=Ac(e)*Math.pow(2,n/300);var i=e.v,s=e.g,o=0;if(i>n?(n=Math.max(n,i/1.5),o=1):n>s&&(n=Math.min(n,1.5*s),o=-1),this.a){var a=Hc(e,n,this.a);e.za(a)}return Lc(e,n),o>0?e.animate({resolution:i,easing:$a,anchor:this.a,duration:500}):0>o&&e.animate({resolution:s,easing:$a,anchor:this.a,duration:500}),this.b=t,!1}return this.g+=n,t=Math.max(this.I-(t-this.b),0),clearTimeout(this.l),this.l=setTimeout(this.v.bind(this,e),t),!1}function zf(t){Se.call(this,{handleDownEvent:Af,handleDragEvent:Bf,handleUpEvent:Cf}),t=t||{},this.c=null,this.u=void 0,this.b=!1,this.v=0,this.ca=void 0!==t.threshold?t.threshold:.3,this.X=void 0!==t.duration?t.duration:250}function Bf(t){console.assert(2<=this.a.length,"length of this.targetPointers should be greater than or equal to 2");var e=0,i=this.a[0],n=this.a[1],i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.u&&(e=i-this.u,this.v+=e,!this.b&&Math.abs(this.v)>this.ca&&(this.b=!0)),this.u=i,t=t.map,i=t.a.getBoundingClientRect(),n=Ue(this.a),n[0]-=i.left,n[1]-=i.top,this.c=t.ua(n),this.b&&(i=t.T(),n=Bc(i),t.render(),He(i,n+e,this.c))}function Cf(t){if(2>this.a.length){if(t=t.map.T(),Cc(t,1,-1),this.b){var e=Bc(t),i=this.c,n=this.X,e=t.constrainRotation(e,0);He(t,e,i,n)}return!1}return!0}function Af(t){return 2<=this.a.length?(t=t.map,this.c=null,this.u=void 0,this.b=!1,this.v=0,this.g||Cc(t.T(),1,1),!0):!1}function Df(t){Se.call(this,{handleDownEvent:Ef,handleDragEvent:Ff,handleUpEvent:Gf}),t=t?t:{},this.v=t.constrainResolution||!1,this.c=null,this.X=void 0!==t.duration?t.duration:400,this.b=void 0,this.u=1}function Ff(t){console.assert(2<=this.a.length,"length of this.targetPointers should be 2 or more");var e=1,i=this.a[0],n=this.a[1],s=i.clientX-n.clientX,i=i.clientY-n.clientY,s=Math.sqrt(s*s+i*i);void 0!==this.b&&(e=this.b/s),this.b=s,1!=e&&(this.u=e),t=t.map;var s=t.T(),i=Ac(s),n=t.a.getBoundingClientRect(),o=Ue(this.a);o[0]-=n.left,o[1]-=n.top,this.c=t.ua(o),t.render(),Je(s,i*e,this.c)}function Gf(t){if(2>this.a.length){if(t=t.map.T(),Cc(t,1,-1),this.v){var e=Ac(t),i=this.c,n=this.X,e=t.constrainResolution(e,0,this.u-1);Je(t,e,i,n)}return!1}return!0}function Ef(t){return 2<=this.a.length?(t=t.map,this.c=null,this.b=void 0,this.u=1,this.g||Cc(t.T(),1,1),!0):!1}function Hf(t){D.call(this);var e=ma({},t);e[If]=void 0!==t.opacity?t.opacity:1,e[Jf]=void 0!==t.visible?t.visible:!0,e[Kf]=void 0!==t.zIndex?t.zIndex:0,e[Lf]=void 0!==t.maxResolution?t.maxResolution:1/0,e[Mf]=void 0!==t.minResolution?t.minResolution:0,this.fa(e),this.b={layer:this,dc:!0}}function Nf(t){return t.b.opacity=fa(t.get(If),0,1),t.b.Ff=t.Zb(),t.b.visible=t.yb(),t.b.extent=t.F(),t.b.zIndex=t.get(Kf),t.b.maxResolution=t.get(Lf),t.b.minResolution=Math.max(t.get(Mf),0),t.b}function Pf(t){var e=t||{};t=ma({},e),delete t.layers,e=e.layers,Hf.call(this,t),this.g=[],this.a={},C(this,Ga(Qf),this.ie,this),e?Array.isArray(e)?e=new I(e.slice()):z(e instanceof I,43):e=new I,this.set(Qf,e)}function Rf(t){Fb.call(this,{code:t,units:"m",extent:Sf,global:!0,worldExtent:Tf,getPointResolution:function(t,e){return t/ha(e[1]/6378137)}})}function Wf(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n)),console.assert(0===e.length%i,"modulus of output.length with dimension should be 0");for(var s=0;n>s;s+=i){e[s]=Uf*t[s]/180;var o=6378137*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));o>Uf?o=Uf:-Uf>o&&(o=-Uf),e[s+1]=o}return e}function Xf(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n)),console.assert(0===e.length%i,"modulus of output.length with dimension should be 0");for(var s=0;n>s;s+=i)e[s]=180*t[s]/Uf,e[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return e}function Zf(t,e){Fb.call(this,{code:t,units:"degrees",extent:$f,axisOrientation:e,global:!0,metersPerUnit:ag,worldExtent:$f})}function cg(t,e,i,n,s){ya.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=s}function dg(t){var e=ma({},t);delete e.source,Hf.call(this,e),this.c=this.g=this.a=null,t.map&&this.setMap(t.map),C(this,Ga("source"),this.re,this),this.set("source",t.source?t.source:null)}function eg(){this.a={},this.f=0}function fg(t,e,i){return console.assert(void 0!==e,"argument crossOrigin must be defined"),e+":"+t+":"+(i?od(i):"null")}function hg(){return[1,0,0,1,0,0]}function ig(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function jg(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function kg(t,e,i,n,s,o,a,r){var h=Math.sin(o);return o=Math.cos(o),t[0]=n*o,t[1]=s*h,t[2]=-n*h,t[3]=s*o,t[4]=a*n*o-r*n*h+e,t[5]=a*s*h+r*s*o+i,t}function lg(t,e){this.j=e,this.f={},this.b={}}function mg(){if(32<gg.f){var t,e,i=0;for(t in gg.a)e=gg.a[t],0!==(3&i++)||Ba(e)||(delete gg.a[t],--gg.f)}}function ng(t,e){var i=y(e).toString();if(i in t.f)return t.f[i];var n;return e instanceof og?n=new pg(e):e instanceof qg?n=new rg(e):(console.assert(!1,"unexpected layer configuration"),n=null),t.f[i]=n,t.b[i]=C(n,"change",t.ge,t),n}function Pa(t,e){return t.zIndex-e.zIndex}function sg(t){dg.call(this,t?t:{})}function og(t){t=t?t:{};var e=ma({},t);delete e.preload,delete e.useInterimTilesOnError,dg.call(this,e),this.set(tg,void 0!==t.preload?t.preload:0),this.set(ug,void 0!==t.useInterimTilesOnError?t.useInterimTilesOnError:!0)}function yg(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function zg(t){this.l=t.opacity,this.v=t.rotateWithView,this.s=t.rotation,this.i=t.scale,this.u=t.snapToPixel}function Ag(t){console.assert(void 0!==t.radius||void 0!==t.radius1,'must provide either "radius" or "radius1"'),this.R=this.D=this.j=null,this.g=void 0!==t.fill?t.fill:null,this.L=[0,0],this.a=t.points,this.f=void 0!==t.radius?t.radius:t.radius1,this.c=void 0!==t.radius2?t.radius2:this.f,this.C=void 0!==t.angle?t.angle:0,this.b=void 0!==t.stroke?t.stroke:null,this.I=this.S=this.Z=null;var e,i=this.B=t.atlasManager,n="",s="",o=0,a=null,r=0;this.b&&(e=rd(this.b.a),r=this.b.g,void 0===r&&(r=1),a=this.b.f,Rd||(a=null),s=this.b.j,void 0===s&&(s="round"),n=this.b.c,void 0===n&&(n="round"),o=this.b.i,void 0===o&&(o=10));var h=2*(this.f+r)+1,n={strokeStyle:e,ud:r,size:h,lineCap:n,lineDash:a,lineJoin:s,miterLimit:o};if(void 0===i){var l=td(h,h);this.D=l.canvas,i=h=this.D.width,this.Sc(n,l,0,0),this.g?this.R=this.D:(l=td(n.size,n.size),this.R=l.canvas,this.Lc(n,l,0,0))}else h=Math.round(h),(s=!this.g)&&(l=this.Lc.bind(this,n)),this.b?(o=this.b,void 0===o.b&&(o.b="s",o.b=o.a?"string"==typeof o.a?o.b+o.a:o.b+y(o.a).toString():o.b+"-",o.b+=","+(void 0!==o.c?o.c.toString():"-")+","+(o.f?o.f.toString():"-")+","+(void 0!==o.j?o.j:"-")+","+(void 0!==o.i?o.i.toString():"-")+","+(void 0!==o.g?o.g.toString():"-")),o=o.b):o="-",this.g?(a=this.g,void 0===a.f&&(a.f=a.a instanceof CanvasPattern||a.a instanceof CanvasGradient?y(a.a).toString():"f"+(a.a?od(a.a):"-")),a=a.f):a="-",this.j&&o==this.j[1]&&a==this.j[2]&&this.f==this.j[3]&&this.c==this.j[4]&&this.C==this.j[5]&&this.a==this.j[6]||(this.j=["r"+o+a+(void 0!==this.f?this.f.toString():"-")+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.C?this.C.toString():"-")+(void 0!==this.a?this.a.toString():"-"),o,a,this.f,this.c,this.C,this.a]),l=i.add(this.j[0],h,h,this.Sc.bind(this,n),l),console.assert(l,"shape size is too large"),this.D=l.image,this.L=[l.offsetX,l.offsetY],i=l.image.width,this.R=s?l.a:this.D;this.Z=[h/2,h/2],this.S=[h,h],this.I=[i,i],zg.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0})}function Bg(t){t=t||{},Ag.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Cg(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=void 0}function Dg(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.j=t.lineJoin,this.i=t.miterLimit,this.g=t.width,this.b=void 0}function Eg(t){t=t||{},this.j=null,this.c=Fg,void 0!==t.geometry&&this.Ta(t.geometry),this.b=void 0!==t.fill?t.fill:null,this.g=void 0!==t.image?t.image:null,this.f=void 0!==t.stroke?t.stroke:null,this.i=void 0!==t.text?t.text:null,this.a=t.zIndex}function Gg(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(z(t instanceof Eg,41),e=[t]),t=function(){return e}}return t}function Ig(){if(!Hg){var t=new Cg({color:"rgba(255,255,255,0.4)"}),e=new Dg({color:"#3399CC",width:1.25});Hg=[new Eg({image:new Bg({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Hg}function Fg(t){return t.Y()}function qg(t){t=t?t:{},console.assert(void 0===t.renderOrder||!t.renderOrder||"function"==typeof t.renderOrder,"renderOrder must be a comparator function");var e=ma({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,dg.call(this,e),this.i=void 0!==t.renderBuffer?t.renderBuffer:100,this.s=null,this.l=void 0,e=t.style,this.s=void 0!==e?e:Ig,this.l=null===e?void 0:Gg(this.s),this.A(),this.u=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1,this.v=void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1}function Jg(){}function Kg(t,e,i,n,s){this.g=t,this.R=e,this.i=i,this.v=n,this.ob=s,this.c=this.a=this.f=this.ra=this.ca=this.X=null,this.na=this.ia=this.s=this.I=this.Z=this.B=0,this.sa=!1,this.j=this.ta=0,this.Ba=!1,this.L=0,this.b="",this.kb=this.Va=0,this.lb=!1,this.C=this.mb=0,this.S=this.D=this.l=null,this.u=[],this.nb=hg()}function Lg(t,e,i){if(t.c){console.assert(!0,"offset should be 0"),console.assert(i==e.length,"end should be equal to the length of flatCoordinates"),e=$b(e,0,i,2,t.v,t.u),i=t.g;var n=t.nb,s=i.globalAlpha;1!=t.s&&(i.globalAlpha=s*t.s);var o=t.ta;t.sa&&(o+=t.ob);var a,r;for(a=0,r=e.length;r>a;a+=2){var h=e[a]-t.B,l=e[a+1]-t.Z;if(t.Ba&&(h=Math.round(h),l=Math.round(l)),0!==o||1!=t.j){var c=h+t.B,u=l+t.Z;kg(n,c,u,t.j,t.j,o,-c,-u),i.setTransform.apply(i,n)}i.drawImage(t.c,t.ia,t.na,t.L,t.I,h,l,t.L,t.I)}0===o&&1==t.j||i.setTransform(1,0,0,1,0,0),1!=t.s&&(i.globalAlpha=s)}}function Mg(t,e,i,n){var s=0;if(t.S&&""!==t.b){t.l&&Ng(t,t.l),t.D&&Og(t,t.D);var o=t.S,a=t.g,r=t.ra;for(r?(r.font!=o.font&&(r.font=a.font=o.font),r.textAlign!=o.textAlign&&(r.textAlign=a.textAlign=o.textAlign),r.textBaseline!=o.textBaseline&&(r.textBaseline=a.textBaseline=o.textBaseline)):(a.font=o.font,a.textAlign=o.textAlign,a.textBaseline=o.textBaseline,t.ra={font:o.font,textAlign:o.textAlign,textBaseline:o.textBaseline}),console.assert(0===s,"offset should be 0"),console.assert(i==e.length,"end should be equal to the length of flatCoordinates"),e=$b(e,s,i,n,t.v,t.u),o=t.g,a=t.mb,t.lb&&(a+=t.ob);i>s;s+=n){var r=e[s]+t.Va,h=e[s+1]+t.kb;if(0!==a||1!=t.C){var l=kg(t.nb,r,h,t.C,t.C,a,-r,-h);o.setTransform.apply(o,l)}t.D&&o.strokeText(t.b,r,h),t.l&&o.fillText(t.b,r,h)}0===a&&1==t.C||o.setTransform(1,0,0,1,0,0)}}function Pg(t,e,i,n,s,o){var a=t.g;for(t=$b(e,i,n,s,t.v,t.u),a.moveTo(t[0],t[1]),e=t.length,o&&(e-=2),i=2;e>i;i+=2)a.lineTo(t[i],t[i+1]);return o&&a.closePath(),n}function Qg(t,e,i,n,s){var o,a;for(o=0,a=n.length;a>o;++o)i=Pg(t,e,i,n[o],s,!0);return i}function Ng(t,e){var i=t.g,n=t.X;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.X={fillStyle:e.fillStyle})}function Og(t,e){var i=t.g,n=t.ca;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Rd&&!Na(n.lineDash,e.lineDash)&&i.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Rd&&i.setLineDash(e.lineDash),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.ca={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Vg(t){Ca.call(this),this.a=t}function Wg(t,e,i){return function(n,s){return Xg(t,e,n,s,function(t){i[n]||(i[n]={}),i[n][t.qa.toString()]=t})}}function Yg(t,e){e.gd()&&t.postRenderFunctions.push(function(t,e,i){e=y(t).toString(),t.Ia(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function Zg(t,e){if(e){var i,n,s;for(n=0,s=e.length;s>n;++n)i=e[n],t[y(i).toString()]=i}}function $g(t,e){var i=e.X;void 0!==i&&("string"==typeof i?t.logos[i]="":i&&(z("string"==typeof i.href,44),z("string"==typeof i.src,45),t.logos[i.src]=i.href))}function ah(t){Vg.call(this,t),this.I=hg()}function bh(t,e,i){var n=e.pixelRatio,s=e.size[0]*n,o=e.size[1]*n,a=e.viewState.rotation,r=[i[0],i[3]],h=[i[2],i[3]],l=[i[2],i[1]];i=[i[0],i[1]],jg(e.coordinateToPixelTransform,r),jg(e.coordinateToPixelTransform,h),jg(e.coordinateToPixelTransform,l),jg(e.coordinateToPixelTransform,i),t.save(),yg(t,-a,s/2,o/2),t.beginPath(),t.moveTo(r[0]*n,r[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),yg(t,a,s/2,o/2)}function ch(t,e,i,n,s){var o=t.a;if(Ba(o,e)){var a=n.size[0]*n.pixelRatio,r=n.size[1]*n.pixelRatio,h=n.viewState.rotation;yg(i,-h,a/2,r/2),t=void 0!==s?s:dh(t,n,0),o.M(new cg(e,new Kg(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),yg(i,h,a/2,r/2)}}function dh(t,e,i){var n=e.viewState,s=e.pixelRatio,o=s/n.resolution;return kg(t.I,s*e.size[0]/2,s*e.size[1]/2,o,-o,-n.rotation,-n.center[0]+i,-n.center[1])}function eh(t){ah.call(this,t),this.u=hg()}function pg(t){eh.call(this,t),this.j=td(),this.b=null,this.c=[],this.B=db(),this.L=new Mc(0,0,0,0),this.s=hg()}function hh(){}function ih(t,e,i,n){this.ta=t,this.ca=e,this.overlaps=n,this.g=0,this.resolution=i,this.I=this.Z=null,this.f=[],this.coordinates=[],this.ia=hg(),this.a=[],this.ra=[],this.sa=hg(),this.na=hg()}function jh(t,e,i,n,s,o,a){var r=t.coordinates.length,h=t.Tb();a&&(i+=s),a=[e[i],e[i+1]];var l,c,u,f=[NaN,NaN],d=!0;for(l=i+s;n>l;l+=s){f[0]=e[l],f[1]=e[l+1],u=h[1];var p=h[2],m=h[3],g=f[0],v=f[1],y=0;g<h[0]?y|=16:g>p&&(y|=4),u>v?y|=8:v>m&&(y|=2),0===y&&(y=1),u=y,u!==c?(d&&(t.coordinates[r++]=a[0],t.coordinates[r++]=a[1]),t.coordinates[r++]=f[0],t.coordinates[r++]=f[1],d=!1):1===u?(t.coordinates[r++]=f[0],t.coordinates[r++]=f[1],d=!1):d=!0,a[0]=f[0],a[1]=f[1],c=u}return(o&&d||l===i+s)&&(t.coordinates[r++]=a[0],t.coordinates[r++]=a[1]),r}function kh(t,e){t.Z=[0,e,0],t.f.push(t.Z),t.I=[0,e,0],t.a.push(t.I)}function lh(t,e,i){if(t.X){var n=jg(t.ia,t.X.slice());e.translate(n[0],n[1]),e.rotate(i)}e.fill(),t.X&&e.setTransform.apply(e,t.na)}function mh(t,e,i,n,s,o,a,r,h){var l;Na(n,t.ia)?l=t.ra:(l=$b(t.coordinates,0,t.coordinates.length,2,n,t.ra),ig(t.ia,n),console.assert(l===t.ra,"pixelCoordinates should be the same as this.pixelCoordinates_")),n=!pa(o);for(var c,u,f,d,p,m=0,g=a.length,v=0,b=t.sa,M=t.na,x=0,w=0,E=t.f!=a||t.overlaps?0:200;g>m;){var _,S,k,T,N=a[m];switch(N[0]){case 0:v=N[1],n&&o[y(v).toString()]||!v.Y()?m=N[2]:void 0===h||xb(h,v.Y().F())?++m:m=N[2]+1;break;case 1:x>E&&(lh(t,e,s),x=0),w>E&&(e.stroke(),w=0),x||w||e.beginPath(),++m;break;case 2:console.assert("number"==typeof N[1],"second instruction should be a number"),v=N[1],c=l[v],N=l[v+1],d=l[v+2]-c,v=l[v+3]-N,v=Math.sqrt(d*d+v*v),e.moveTo(c+v,N),e.arc(c,N,v,0,2*Math.PI,!0),++m;break;case 3:e.closePath(),++m;break;case 4:console.assert("number"==typeof N[1],"second instruction should be a number"),v=N[1],console.assert("number"==typeof N[2],"third instruction should be a number"),c=N[2],_=N[3],S=N[4]*i,k=N[5]*i;var C=N[6],j=N[7],P=N[8],L=N[9];T=N[10],d=N[11],p=N[12];var A=N[13],D=N[14];for(T&&(d+=s);c>v;v+=2){if(N=l[v]-S,T=l[v+1]-k,A&&(N=Math.round(N),T=Math.round(T)),1!=p||0!==d){var O=N+S,I=T+k;kg(b,O,I,p,p,d,-O,-I),e.setTransform.apply(e,b)}O=e.globalAlpha,1!=j&&(e.globalAlpha=O*j);var I=D+P>_.width?_.width-P:D,R=C+L>_.height?_.height-L:C;e.drawImage(_,P,L,I,R,N,T,I*i,R*i),1!=j&&(e.globalAlpha=O),1==p&&0===d||e.setTransform.apply(e,M)}++m;break;case 5:for(console.assert("number"==typeof N[1],"2nd instruction should be a number"),v=N[1],console.assert("number"==typeof N[2],"3rd instruction should be a number"),c=N[2],console.assert("string"==typeof N[3],"4th instruction should be a string"),k=N[3],console.assert("number"==typeof N[4],"5th instruction should be a number"),C=N[4]*i,console.assert("number"==typeof N[5],"6th instruction should be a number"),j=N[5]*i,console.assert("number"==typeof N[6],"7th instruction should be a number"),d=N[6],console.assert("number"==typeof N[7],"8th instruction should be a number"),p=N[7]*i,console.assert("boolean"==typeof N[8],"9th instruction should be a boolean"),_=N[8],console.assert("boolean"==typeof N[9],"10th instruction should be a boolean"),S=N[9],(T=N[10])&&(d+=s);c>v;v+=2){for(N=l[v]+C,T=l[v+1]+j,(1!=p||0!==d)&&(kg(b,N,T,p,p,d,-N,-T),e.setTransform.apply(e,b)),P=k.split("\n"),L=P.length,L>1?(A=Math.round(1.5*e.measureText("M").width),T-=(L-1)/2*A):A=0,D=0;L>D;D++)O=P[D],S&&e.strokeText(O,N,T),_&&e.fillText(O,N,T),T+=A;1==p&&0===d||e.setTransform.apply(e,M)}++m;break;case 6:if(void 0!==r&&(v=N[1],v=r(v)))return v;++m;break;case 7:E?x++:lh(t,e,s),++m;break;case 8:for(console.assert("number"==typeof N[1],"2nd instruction should be a number"),v=N[1],console.assert("number"==typeof N[2],"3rd instruction should be a number"),c=N[2],N=l[v],T=l[v+1],d=N+.5|0,p=T+.5|0,(d!==u||p!==f)&&(e.moveTo(N,T),u=d,f=p),v+=2;c>v;v+=2)N=l[v],T=l[v+1],d=N+.5|0,p=T+.5|0,(v==c-2||d!==u||p!==f)&&(e.lineTo(N,T),u=d,f=p);++m;break;case 9:console.assert(sd(N[1]),"2nd instruction should be a string, CanvasPattern, or CanvasGradient"),t.X=N[2],x&&(lh(t,e,s),x=0),e.fillStyle=N[1],++m;break;case 10:console.assert(sd(N[1]),"2nd instruction should be a string, CanvasPattern, or CanvasGradient"),console.assert("number"==typeof N[2],"3rd instruction should be a number"),console.assert("string"==typeof N[3],"4rd instruction should be a string"),console.assert("string"==typeof N[4],"5th instruction should be a string"),console.assert("number"==typeof N[5],"6th instruction should be a number"),console.assert(N[6],"7th instruction should not be null"),console.assert("number"==typeof N[8],"9th instruction should be a number"),u=void 0!==N[7]?N[7]:!0;var F=N[8];f=N[2],w&&(e.stroke(),w=0),e.strokeStyle=N[1],e.lineWidth=u?f*i:f,e.lineCap=N[3],e.lineJoin=N[4],e.miterLimit=N[5],Rd&&(f=N[6],u&&i!==F&&(f=f.map(function(t){return t*i/F}),N[6]=f,N[8]=i),e.setLineDash(f)),f=u=NaN,++m;break;case 11:console.assert("string"==typeof N[1],"2nd instruction should be a string"),console.assert("string"==typeof N[2],"3rd instruction should be a string"),console.assert("string"==typeof N[3],"4th instruction should be a string"),e.font=N[1],e.textAlign=N[2],e.textBaseline=N[3],++m;break;case 12:E?w++:e.stroke(),++m;break;default:console.assert(!1,"Unknown canvas render instruction"),++m}}x&&lh(t,e,s),w&&e.stroke(),console.assert(m==a.length,"all instructions should be consumed")}function nh(t){var e=t.a;e.reverse();var i,n,s,o=e.length,a=-1;for(i=0;o>i;++i)if(n=e[i],s=n[0],6==s)console.assert(-1==a,"begin should be -1"),a=i;else if(0==s){for(n[2]=i,console.assert(a>=0,"begin should be larger than or equal to 0"),n=t.a,s=i,console.assert(a>=0,"Array begin index should be equal to or greater than 0"),console.assert(s<n.length,"Array end index should be less than the array length");s>a;){var r=n[a];n[a]=n[s],n[s]=r,++a,--s}a=-1}}function oh(t,e){console.assert(t.Z,"this.beginGeometryInstruction1_ should not be null"),t.Z[2]=t.f.length,t.Z=null,console.assert(t.I,"this.beginGeometryInstruction2_ should not be null"),t.I[2]=t.a.length,t.I=null;var i=[6,e];t.f.push(i),t.a.push(i)}function ph(t,e,i,n){ih.call(this,t,e,i,n),this.v=this.S=null,this.R=this.B=this.u=this.s=this.D=this.C=this.l=this.i=this.j=this.c=this.b=void 0}function qh(t,e,i,n){ih.call(this,t,e,i,n),this.c=null,this.b={bb:void 0,Xa:void 0,Ya:null,Za:void 0,$a:void 0,ab:void 0,cc:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function rh(t,e,i,n,s){var o=t.coordinates.length;return e=jh(t,e,i,n,s,!1,!1),o=[8,o,e],t.f.push(o),t.a.push(o),n}function sh(t){var e=t.b,i=e.strokeStyle,n=e.lineCap,s=e.lineDash,o=e.lineJoin,a=e.lineWidth,r=e.miterLimit;console.assert(void 0!==i,"strokeStyle should be defined"),console.assert(void 0!==n,"lineCap should be defined"),console.assert(s,"lineDash should not be null"),console.assert(void 0!==o,"lineJoin should be defined"),console.assert(void 0!==a,"lineWidth should be defined"),console.assert(void 0!==r,"miterLimit should be defined"),e.bb==i&&e.Xa==n&&Na(e.Ya,s)&&e.Za==o&&e.$a==a&&e.ab==r||(e.cc!=t.coordinates.length&&(t.f.push([12]),e.cc=t.coordinates.length),t.f.push([10,i,a,n,o,r,s,!0,1],[1]),e.bb=i,e.Xa=n,e.Ya=s,e.Za=o,e.$a=a,e.ab=r)}function th(t,e,i,n){ih.call(this,t,e,i,n),this.c=null,this.b={Jc:void 0,bb:void 0,Xa:void 0,Ya:null,Za:void 0,$a:void 0,ab:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function uh(t,e,i,n,s){var o=t.b,a=void 0!==o.fillStyle,r=void 0!=o.strokeStyle,h=n.length,l=[1];for(t.f.push(l),t.a.push(l),l=0;h>l;++l){var c=n[l],u=t.coordinates.length;i=jh(t,e,i,c,s,!0,!r),i=[8,u,i],t.f.push(i),t.a.push(i),r&&(i=[3],t.f.push(i),t.a.push(i)),i=c}return e=[7],t.a.push(e),a&&t.f.push(e),r&&(console.assert(void 0!==o.lineWidth,"state.lineWidth should be defined"),o=[12],t.f.push(o),t.a.push(o)),i}function vh(t,e){var i=t.b,n=i.fillStyle,s=i.strokeStyle,o=i.lineCap,a=i.lineDash,r=i.lineJoin,h=i.lineWidth,l=i.miterLimit;if(void 0!==n&&("string"!=typeof n||i.Jc!=n)){var c=[9,n];"string"!=typeof n&&(n=e.F(),c.push([n[0],n[3]])),t.f.push(c),i.Jc=i.fillStyle}void 0!==s&&(console.assert(void 0!==o,"lineCap should be defined"),console.assert(a,"lineDash should not be null"),console.assert(void 0!==r,"lineJoin should be defined"),console.assert(void 0!==h,"lineWidth should be defined"),console.assert(void 0!==l,"miterLimit should be defined"),i.bb==s&&i.Xa==o&&Na(i.Ya,a)&&i.Za==r&&i.$a==h&&i.ab==l||(t.f.push([10,s,h,o,r,l,a,!0,1]),i.bb=s,i.Xa=o,i.Ya=a,i.Za=r,i.$a=h,i.ab=l))}function wh(t,e,i,n){ih.call(this,t,e,i,n),this.B=this.v=this.R=null,this.i="",this.C=this.l=0,this.D=void 0,this.u=this.s=0,this.j=this.c=this.b=null}function xh(t,e,i,n,s){if(""!==t.i&&t.j&&(t.b||t.c)){if(t.b){var o=t.b,a=t.R;if(!a||a.fillStyle!=o.fillStyle){var r=[9,o.fillStyle];t.f.push(r),t.a.push(r),a?a.fillStyle=o.fillStyle:t.R={fillStyle:o.fillStyle}}}t.c&&(o=t.c,a=t.v,a&&a.lineCap==o.lineCap&&a.lineDash==o.lineDash&&a.lineJoin==o.lineJoin&&a.lineWidth==o.lineWidth&&a.miterLimit==o.miterLimit&&a.strokeStyle==o.strokeStyle||(r=[10,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,!1,1],t.f.push(r),t.a.push(r),a?(a.lineCap=o.lineCap,a.lineDash=o.lineDash,a.lineJoin=o.lineJoin,a.lineWidth=o.lineWidth,a.miterLimit=o.miterLimit,a.strokeStyle=o.strokeStyle):t.v={lineCap:o.lineCap,lineDash:o.lineDash,lineJoin:o.lineJoin,lineWidth:o.lineWidth,miterLimit:o.miterLimit,strokeStyle:o.strokeStyle})),o=t.j,a=t.B,a&&a.font==o.font&&a.textAlign==o.textAlign&&a.textBaseline==o.textBaseline||(r=[11,o.font,o.textAlign,o.textBaseline],t.f.push(r),t.a.push(r),a?(a.font=o.font,a.textAlign=o.textAlign,a.textBaseline=o.textBaseline):t.B={font:o.font,textAlign:o.textAlign,textBaseline:o.textBaseline}),kh(t,s),o=t.coordinates.length,e=jh(t,e,0,i,n,!1,!1),e=[5,o,e,t.i,t.l,t.C,t.s,t.u,!!t.b,!!t.c,t.D],t.f.push(e),t.a.push(e),oh(t,s)}}function zh(t,e,i,n,s){this.l=t,this.f=e,this.j=n,this.i=i,this.b=s,this.a={},this.g=td(1,1),this.c=hg()}function Bh(t,e,i){var n,s=Math.floor(t.length/2);if(e>=s)for(n=s;e>n;n++)t[n][i]=!0;else if(s>e)for(n=e+1;s>n;n++)t[n][i]=!0}function Ch(t){if(void 0!==Ah[t])return Ah[t];for(var e=2*t+1,i=Array(e),n=0;e>n;n++)i[n]=Array(e);for(var e=t,s=n=0;e>=n;)Bh(i,t+e,t+n),Bh(i,t+n,t+e),Bh(i,t-n,t+e),Bh(i,t-e,t+n),Bh(i,t-e,t-n),Bh(i,t-n,t-e),Bh(i,t+n,t-e),Bh(i,t+e,t-n),n++,s+=1+2*n,2*(s-e)+1>0&&(--e,s+=1-2*e);return Ah[t]=i}function Dh(t){for(var e in t.a){var i,n=t.a[e];for(i in n)n[i].Eb()}}function Fh(t,e,i){var n=void 0!==e?e.toString():"0";return e=t.a[n],void 0===e&&(e={},t.a[n]=e),n=e[i],void 0===n&&(n=Gh[i],console.assert(void 0!==n,i+" constructor missing from ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_"),n=new n(t.l,t.f,t.i,t.j),e[i]=n),n}function Eh(t,e,i,n,s,o,a){var r=Object.keys(t.a).map(Number);r.sort(function(t,e){return e-t});var h,l,c,u,f;for(h=0,l=r.length;l>h;++h)for(u=t.a[r[h].toString()],c=yh.length-1;c>=0;--c)if(f=u[yh[c]],void 0!==f&&(f=mh(f,e,1,i,n,s,f.a,o,a)))return f}function Hh(t,e){return y(t)-y(e)}function Ih(t,e){var i=.5*t/e;return i*i}function Jh(t,e,i,n,s,o){var a,r,h=!1;return(a=i.g)&&(r=a.gb(),2==r||3==r?a.wd(s,o):(0==r&&a.load(),r=a.gb(),console.assert(1==r,"imageState should be LOADING"),a.$c(s,o),h=!0)),(s=(0,i.c)(e))&&(n=s.Yb(n),(0,Kh[n.W()])(t,n,i,e)),h}function rg(t){ah.call(this,t),this.b=!1,this.v=-1,this.u=NaN,this.j=db(),this.g=this.s=null,this.c=td()}function Nh(t,e){lg.call(this,0,e),this.c=td(),this.a=this.c.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.g=!0,this.i=hg()}function Oh(t,e,i){var n=t.j,s=t.c;if(Ba(n,e)){var o=i.extent,a=i.pixelRatio,r=i.viewState.rotation,h=i.viewState,l=i.pixelRatio/h.resolution;t=kg(t.i,t.a.width/2,t.a.height/2,l,-l,-h.rotation,-h.center[0],-h.center[1]),n.M(new cg(e,new Kg(s,a,o,t,r),i,s,null))}}function Qh(t){this.b=Ph(t),this.a={},this.f=0}function Rh(t){return t.b.all().map(function(t){return t.value})}function Sh(t,e){return t.b.search({G:e[0],K:e[1],J:e[2],N:e[3]}).map(function(t){return t.value})}function Uh(t,e,i,n){++t.f;try{return Th(Sh(t,e),i,n)}finally{--t.f}}function Th(t,e,i){for(var n,s=0,o=t.length;o>s&&!(n=e.call(i,t[s]));s++);return n}function Yh(t,e,i,n){t=i-t,e=n-e;var s=Math.sqrt(t*t+e*e);return[Math.round(i+t/s),Math.round(n+e/s)]}function Zh(t,e,i,n,s,o,a,r,h,l,c){var u=td(Math.round(i*t),Math.round(i*e));if(0===h.length)return u.canvas;
u.scale(i,i);var f=db();h.forEach(function(t){mb(f,t.extent)});var d=td(Math.round(i*sb(f)/n),Math.round(i*tb(f)/n)),p=i/n;h.forEach(function(t){d.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-f[0])*p,-(t.extent[3]-f[3])*p,sb(t.extent)*p,tb(t.extent)*p)});var m=[a[0],a[3]];return r.g.forEach(function(t){var e=t.source,s=t.target,a=e[1][0],r=e[1][1],h=e[2][0],l=e[2][1];t=(s[0][0]-m[0])/o;var c=-(s[0][1]-m[1])/o,p=(s[1][0]-m[0])/o,g=-(s[1][1]-m[1])/o,v=(s[2][0]-m[0])/o,y=-(s[2][1]-m[1])/o,s=e[0][0],e=e[0][1],a=a-s,r=r-e,h=h-s,l=l-e;t:{for(a=[[a,r,0,0,p-t],[h,l,0,0,v-t],[0,0,a,r,g-c],[0,0,h,l,y-c]],r=a.length,h=0;r>h;h++)console.assert(a[h].length==r+1,"every row should have correct number of columns");for(h=0;r>h;h++){for(var l=h,b=Math.abs(a[h][h]),M=h+1;r>M;M++){var x=Math.abs(a[M][h]);x>b&&(b=x,l=M)}if(0===b){a=null;break t}for(b=a[l],a[l]=a[h],a[h]=b,l=h+1;r>l;l++)for(b=-a[l][h]/a[h][h],M=h;r+1>M;M++)a[l][M]=h==M?0:a[l][M]+b*a[h][M]}for(h=Array(r),l=r-1;l>=0;l--)for(h[l]=a[l][r]/a[l][l],b=l-1;b>=0;b--)a[b][r]-=a[b][l]*h[l];a=h}a&&(u.save(),u.beginPath(),Vh?(h=(t+p+v)/3,l=(c+g+y)/3,r=Yh(h,l,t,c),p=Yh(h,l,p,g),v=Yh(h,l,v,y),u.moveTo(p[0],p[1]),u.lineTo(r[0],r[1]),u.lineTo(v[0],v[1])):(u.moveTo(p,g),u.lineTo(t,c),u.lineTo(v,y)),u.clip(),u.transform(a[0],a[2],a[1],a[3],t,c),u.translate(f[0]-s,f[3]-e),u.scale(n/i,-n/i),u.drawImage(d.canvas,0,0),u.restore())}),c&&(u.save(),u.strokeStyle="black",u.lineWidth=1,r.g.forEach(function(t){var e=t.target;t=(e[0][0]-m[0])/o;var i=-(e[0][1]-m[1])/o,n=(e[1][0]-m[0])/o,s=-(e[1][1]-m[1])/o,a=(e[2][0]-m[0])/o,e=-(e[2][1]-m[1])/o;u.beginPath(),u.moveTo(n,s),u.lineTo(t,i),u.lineTo(a,e),u.closePath(),u.stroke()}),u.restore()),u.canvas}function $h(t,e,i,n,s){this.b=t,this.c=e;var o={},a=Vb(this.c,this.b);this.f=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.j=n,this.D=s*s,this.g=[],this.l=!1,this.C=this.b.a&&!!n&&!!this.b.F()&&sb(n)==sb(this.b.F()),this.a=this.b.F()?sb(this.b.F()):null,this.i=this.c.F()?sb(this.c.F()):null,t=[i[0],i[3]],e=[i[2],i[3]],n=[i[2],i[1]],i=[i[0],i[1]],s=this.f(t);var r=this.f(e),h=this.f(n),l=this.f(i);if(ai(this,t,e,n,i,s,r,h,l,10),this.l){console.assert(null!==this.a);var c=1/0;this.g.forEach(function(t){c=Math.min(c,t.source[0][0],t.source[1][0],t.source[2][0])}),this.g.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-c>this.a/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-c>this.a/2&&(e[0][0]-=this.a),e[1][0]-c>this.a/2&&(e[1][0]-=this.a),e[2][0]-c>this.a/2&&(e[2][0]-=this.a),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.a/2&&(t.source=e)}},this)}o={}}function ai(t,e,i,n,s,o,a,r,h,l){var c=cb([o,a,r,h]),u=t.a?sb(c)/t.a:null,f=t.a,d=t.b.a&&u>.5&&1>u,p=!1;if(l>0){if(t.c.b&&t.i)var m=cb([e,i,n,s]),p=p|.25<sb(m)/t.i;!d&&t.b.b&&u&&(p|=u>.25)}if(p||!t.j||xb(c,t.j)){if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(l>0))return;p=!0}if(l>0&&(p||(c=t.f([(e[0]+n[0])/2,(e[1]+n[1])/2]),f=d?(ia(o[0],f)+ia(r[0],f))/2-ia(c[0],f):(o[0]+r[0])/2-c[0],c=(o[1]+r[1])/2-c[1],p=f*f+c*c>t.D),p))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(d=[(i[0]+n[0])/2,(i[1]+n[1])/2],f=t.f(d),c=[(s[0]+e[0])/2,(s[1]+e[1])/2],u=t.f(c),ai(t,e,i,d,c,o,a,f,u,l-1),ai(t,c,d,n,s,u,f,r,h,l-1)):(d=[(e[0]+i[0])/2,(e[1]+i[1])/2],f=t.f(d),c=[(n[0]+s[0])/2,(n[1]+s[1])/2],u=t.f(c),ai(t,e,d,c,s,o,f,u,h,l-1),ai(t,d,i,n,c,f,a,r,u,l-1)));if(d){if(!t.C)return;t.l=!0}t.g.push({source:[o,r,h],target:[e,n,s]}),t.g.push({source:[o,a,r],target:[e,i,n]})}}function bi(t){var e=db();return t.g.forEach(function(t){t=t.source,eb(e,t[0]),eb(e,t[1]),eb(e,t[2])}),e}function ci(t){D.call(this),this.g=Nb(t.projection),this.I=ei(t.attributions),this.X=t.logo,this.ca=void 0!==t.state?t.state:"ready",this.l=void 0!==t.wrapX?t.wrapX:!1}function ei(t){if("string"==typeof t)return[new gd({html:t})];if(t instanceof gd)return[t];if(Array.isArray(t)){for(var e=t.length,i=Array(e),n=0;e>n;n++){var s=t[n];i[n]="string"==typeof s?new gd({html:s}):s}return i}return null}function fi(t){ci.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.a=void 0!==t.resolutions?t.resolutions:null,console.assert(!this.a||Qa(this.a,function(t,e){return e-t}),"resolutions must be null or sorted in descending order")}function gi(){this.g=0,this.b={},this.f=this.a=null}function K(t){D.call(this);var e=ii(t);this.nb=void 0!==t.loadTilesWhileAnimating?t.loadTilesWhileAnimating:!1,this.ob=void 0!==t.loadTilesWhileInteracting?t.loadTilesWhileInteracting:!1,this.Cd=void 0!==t.pixelRatio?t.pixelRatio:Qd,this.Bd=e.logos,this.kb=function(){this.c=void 0,this.zf.call(this,Date.now())}.bind(this),this.lb=hg(),this.Dd=hg(),this.mb=0,this.b=null,this.Va=db(),this.B=this.S=this.X=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Ud?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer",this.a.appendChild(this.u),this.s=document.createElement("DIV"),this.s.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var i=0,n=t.length;n>i;++i)C(this.s,t[i],za);this.a.appendChild(this.s),this.na=new we(this);for(var s in Jd)C(this.na,Jd[s],this.Wc,this);this.ia=e.keyboardEventTarget,this.l=null,C(this.a,"wheel",this.Na,this),C(this.a,"mousewheel",this.Na,this),this.v=e.controls,this.i=e.interactions,this.I=e.overlays,this.ld={},this.L=new e.Af(this.a,this),this.ca=null,this.Ba=[],this.ta=[],this.sa=new De(this.be.bind(this),this.te.bind(this)),this.Ad={},C(this,Ga(ji),this.fe,this),C(this,Ga(ki),this.ue,this),C(this,Ga(li),this.qe,this),C(this,Ga(mi),this.se,this),this.fa(e.values),this.v.forEach(function(t){t.setMap(this)},this),C(this.v,kd,function(t){t.element.setMap(this)},this),C(this.v,ld,function(t){t.element.setMap(null)},this),this.i.forEach(function(t){t.setMap(this)},this),C(this.i,kd,function(t){t.element.setMap(this)},this),C(this.i,ld,function(t){t.element.setMap(null)},this),this.I.forEach(this.Ec,this),C(this.I,kd,function(t){this.Ec(t.element)},this),C(this.I,ld,function(t){var e=t.element.ed;void 0!==e&&delete this.ld[e.toString()],t.element.setMap(null)},this)}function ni(t){return t=t.$b(),void 0!==t?"string"==typeof t?document.getElementById(t):t:null}function Ze(t,e){var i=t.b;return i?jg(i.coordinateToPixelTransform,e.slice(0,2)):null}function ii(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var s=t.logo;"string"==typeof s?n[s]="":s instanceof HTMLElement?n[y(s).toString()]=s:s&&(z("string"==typeof s.href,44),z("string"==typeof s.src,45),n[s.src]=s.href)}s=t.layers instanceof Pf?t.layers:new Pf({layers:t.layers}),i[ji]=s,i[mi]=t.target,i[ki]=void 0!==t.view?t.view:new vc;var o,s=lg;void 0!==t.renderer?(Array.isArray(t.renderer)?o=t.renderer:"string"==typeof t.renderer?o=[t.renderer]:z(!1,46),0<=o.indexOf("dom")&&(console.assert(!1,"The DOM render has been removed"),o=o.concat(hi))):o=hi;var a,r;for(a=0,r=o.length;r>a;++a)if("canvas"==o[a]&&Sd){s=Nh;break}if(void 0!==t.controls?Array.isArray(t.controls)?o=new I(t.controls.slice()):(z(t.controls instanceof I,47),o=t.controls):o=Cd(),void 0!==t.interactions)Array.isArray(t.interactions)?a=new I(t.interactions.slice()):(z(t.interactions instanceof I,48),a=t.interactions);else{a={},r=new I;var h=new Ee;(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&r.push(new $e),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&r.push(new Ke({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&r.push(new Ve({kinetic:h})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&r.push(new zf),(void 0!==a.pinchZoom?a.pinchZoom:1)&&r.push(new Df({duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(r.push(new rf),r.push(new tf({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&r.push(new vf({duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&r.push(new qf({duration:a.zoomDuration})),a=r}return void 0!==t.overlays?Array.isArray(t.overlays)?t=new I(t.overlays.slice()):(z(t.overlays instanceof I,49),t=t.overlays):t=new I,{controls:o,interactions:a,keyboardEventTarget:e,logos:n,overlays:t,Af:s,values:i}}function oi(t){D.call(this),this.ed=t.id,this.l=void 0!==t.insertFirst?t.insertFirst:!0,this.s=void 0!==t.stopEvent?t.stopEvent:!0,this.b=document.createElement("DIV"),this.b.className="ol-overlay-container",this.b.style.position="absolute",this.autoPan=void 0!==t.autoPan?t.autoPan:!1,this.c=t.autoPanAnimation||{},this.i=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={ub:"",Bb:"",Hb:"",Kb:"",visible:!0},this.g=null,C(this,Ga(pi),this.ee,this),C(this,Ga(qi),this.ke,this),C(this,Ga(ri),this.le,this),C(this,Ga(si),this.ne,this),C(this,Ga(ti),this.oe,this),void 0!==t.element&&this.set(pi,t.element),this.set(ri,void 0!==t.offset?t.offset:[0,0]),this.set(ti,void 0!==t.positioning?t.positioning:ui),void 0!==t.position&&this.fd(t.position)}function wi(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,i=i.top+window.pageYOffset;return[n,i,n+e[0],i+e[1]]}function xi(t,e){t.a.visible!==e&&(t.b.style.display=e?"":"none",t.a.visible=e)}function vi(t){var e=t.get(qi),i=t.get(si);if(void 0!==e&&e.b&&void 0!==i){var i=Ze(e,i),n=e.Qa(),e=t.b.style,s=t.get(ri),o=t.get(ti);console.assert(void 0!==o,"positioning should be defined");var a=s[0],s=s[1];o==yi||o==zi||o==Ai?(""!==t.a.Bb&&(t.a.Bb=e.left=""),a=Math.round(n[0]-i[0]-a)+"px",t.a.Hb!=a&&(t.a.Hb=e.right=a)):(""!==t.a.Hb&&(t.a.Hb=e.right=""),(o==Bi||o==Ci||o==Di)&&(a-=t.b.offsetWidth/2),a=Math.round(i[0]+a)+"px",t.a.Bb!=a&&(t.a.Bb=e.left=a)),o==Ei||o==Bi||o==yi?(""!==t.a.Kb&&(t.a.Kb=e.top=""),i=Math.round(n[1]-i[1]-s)+"px",t.a.ub!=i&&(t.a.ub=e.bottom=i)):(""!==t.a.ub&&(t.a.ub=e.bottom=""),(o==Fi||o==Ci||o==zi)&&(s-=t.b.offsetHeight/2),i=Math.round(i[1]+s)+"px",t.a.Kb!=i&&(t.a.Kb=e.top=i)),xi(t,!0)}else xi(t,!1)}function Gi(t){D.call(this),this.a=void 0,this.b="geometry",this.i=null,this.c=void 0,this.g=null,C(this,Ga(this.b),this.zb,this),void 0!==t&&(t instanceof Zb||!t?this.Ta(t):this.fa(t))}function Hi(t,e){va(t,Ga(t.b),t.zb,t),t.b=e,C(t,Ga(t.b),t.zb,t),t.zb()}function Ii(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(z(t instanceof Eg,41),e=[t]),t=function(){return e}}return t}function Ki(t){return Li(t,!1,[]).join("")}function Li(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Li(t,e,i);return i}function Mi(t){return t instanceof Node}function Ni(t){return(new DOMParser).parseFromString(t,"application/xml")}function Oi(t,e){return function(i,n){var s=t.call(void 0!==e?e:this,i,n);if(void 0!==s){var o=n[n.length-1];console.assert(Array.isArray(o),"objectStack is supposed to be an array of arrays"),o.push(s)}}}function Pi(t,e){return function(i,n){var s=t.call(void 0!==e?e:this,i,n);void 0!==s&&(n[n.length-1]=s)}}function Qi(t){return console.assert(void 0!==t,"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(e,i){var n=t.call(this,e,i);if(void 0!==n){var s,o=i[i.length-1],a=e.localName;s=a in o?o[a]:o[a]=[],s.push(n)}}}function M(t,e){return console.assert(void 0!==t,"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(i,n){var s=t.call(this,i,n);void 0!==s&&(n[n.length-1][void 0!==e?e:i.localName]=s)}}function O(t){return function(e,i,n){t.call(this,e,i,n),i=n[n.length-1].node,console.assert(Mi(i)||i instanceof Document,"expected parentNode %s to be a Node or a Document",i),i.appendChild(e)}}function Ri(t){var e,i;return function(n,s,o){if(void 0===e){e={};var a={};a[n.localName]=t,e[n.namespaceURI]=a,i=Si(n.localName)}Ti(e,i,s,o)}}function Si(t){return function(e,i,n){return i=i[i.length-1].node,console.assert(Mi(i)||i instanceof Document,"expected node %s to be a Node or a Document",i),e=t,void 0===e&&(e=n),n=i.namespaceURI,console.assert(void 0!==e,"nodeName was undefined"),Ji.createElementNS(n,e)}}function Vi(t,e){for(var i=e.length,n=Array(i),s=0;i>s;++s)n[s]=t[e[s]];return n}function R(t,e,i){i=void 0!==i?i:{};var n,s;for(n=0,s=t.length;s>n;++n)i[t[n]]=e;return i}function Wi(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var s=t[e.namespaceURI];void 0!==s&&(s=s[e.localName])&&s.call(n,e,i)}}function T(t,e,i,n,s){return n.push(t),Wi(e,i,n,s),n.pop()}function Ti(t,e,i,n,s,o){for(var a,r,h=(void 0!==s?s:i).length,l=0;h>l;++l)a=i[l],void 0!==a&&(r=e.call(o,a,n,void 0!==s?s[l]:void 0),void 0!==r&&t[r.namespaceURI][r.localName].call(o,r,a,n))}function Xi(t,e,i,n,s,o,a){s.push(t),Ti(e,i,n,s,o,a),s.pop()}function Yi(t,e,i){return function(n,s,o){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,s,o):t,!0),"arraybuffer"==e.W()&&(a.responseType="arraybuffer"),a.onload=function(){if(!a.status||200<=a.status&&300>a.status){var t,n=e.W();"json"==n||"text"==n?t=a.responseText:"xml"==n?(t=a.responseXML)||(t=Ni(a.responseText)):"arraybuffer"==n&&(t=a.response),t&&i.call(this,e.ib(t,{featureProjection:o}),e.hc(t))}}.bind(this),a.send()}}function Zi(t,e){return Yi(t,e,function(t){this.Dc(t)})}function $i(){this.f=this.defaultDataProjection=null}function aj(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.hc(e),featureProjection:i.featureProjection}),bj(t,n)}function bj(t,e){return ma({dataProjection:t.defaultDataProjection,featureProjection:t.f},e)}function cj(t,e,i){var n,s=i?Nb(i.featureProjection):null,o=i?Nb(i.dataProjection):null;if(n=s&&o&&!Ub(s,o)?t instanceof Zb?(e?t.clone():t).transform(e?s:o,e?o:s):Yb(e?t.slice():t,e?s:o,e?o:s):t,e&&i&&i.decimals){var a=Math.pow(10,i.decimals);t=function(t){for(var e=0,i=t.length;i>e;++e)t[e]=Math.round(t[e]*a)/a;return t},Array.isArray(n)?t(n):n.Wa(t)}return n}function dj(){$i.call(this)}function ej(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function hj(t,e,i,n,s){console.assert(!0,"fraction should be in between 0 and 1");var o=NaN,a=NaN,r=(i-e)/n;if(0===r)console.assert(!1,"n cannot be 0");else if(1==r)o=t[e],a=t[e+1];else if(2==r)o=.5*t[e]+.5*t[e+n],a=.5*t[e+1]+.5*t[e+n+1];else{var h,a=t[e],r=t[e+1],l=0,o=[0];for(h=e+n;i>h;h+=n){var c=t[h],u=t[h+1],l=l+Math.sqrt((c-a)*(c-a)+(u-r)*(u-r));o.push(l),a=c,r=u}for(i=.5*l,l=0,h=o.length,c=!1;h>l;)a=l+(h-l>>1),r=+Ka(o[a],i),0>r?l=a+1:(h=a,c=!r);a=c?l:~l,0>a?(i=(i-o[-a-2])/(o[-a-1]-o[-a-2]),e+=(-a-2)*n,o=t[e],o+=i*(t[e+n]-o),a=t[e+1],a+=i*(t[e+n+1]-a)):(o=t[e+a*n],a=t[e+a*n+1])}return s?(s[0]=o,s[1]=a,s):[o,a]}function ij(t,e){ac.call(this),this.c=null,this.s=-1,this.ha(t,e)}function Rg(t){if(t.s!=t.f){var e;e=hj(t.o,0,t.o.length,t.a,t.c),t.c=e,t.s=t.f}return t.c}function jj(t,e){ac.call(this),this.c=[],this.ha(t,e)}function kj(t){var e=t.o,i=t.c;t=t.U;var n,s,o=[],a=0;for(n=0,s=i.length;s>n;++n){var r=i[n],h=new ij(null);h.P(t,e.slice(a,r)),o.push(h),a=r}return o}function Sg(t){var e=[],i=t.o,n=0,s=t.c;t=t.a;var o,a;for(o=0,a=s.length;a>o;++o){var r=s[o],n=hj(i,n,r,t);Ma(e,n),n=r}return e}function lj(t,e){var i,n,s=t.U,o=[],a=[];for(i=0,n=e.length;n>i;++i){var r=e[i];0===i?s=r.U:console.assert(r.U==s,"layout of lineString should match layout"),Ma(o,r.o),a.push(o.length)}t.P(s,o,a)}function mj(t,e){ac.call(this),this.ha(t,e)}function nj(t,e){ac.call(this),this.g=[],this.s=-1,this.I=null,this.L=-1,this.c=null,this.ha(t,e)}function Ug(t){if(t.s!=t.f){var e,i,n,s=t.o,o=t.g,a=t.a,r=0,h=[];for(e=0,i=o.length;i>e;++e){var l=o[e];n=s;var c=l[0],u=a,f=kb(void 0);n=nb(f,n,r,c,u),h.push((n[0]+n[2])/2,(n[1]+n[3])/2),r=l[l.length-1]}for(s=Tg(t),o=t.g,a=t.a,e=0,console.assert(2*o.length==h.length,"endss.length times 2 should be flatCenters.length"),i=[],l=0,n=o.length;n>l;++l)r=o[l],i=nc(s,e,r,a,h,2*l,i),e=r[r.length-1];t.I=i,t.s=t.f}return t.I}function Tg(t){if(t.L!=t.f){var e,i=t.o;t:{e=t.g;var n,s;for(n=0,s=e.length;s>n;++n)if(!pc(i,e[n],t.a,void 0)){e=!1;break t}e=!0}e?t.c=i:(t.c=i.slice(),t.c.length=rc(t.c,t.g,t.a)),t.L=t.f}return t.c}function oj(t,e,i,n){if(console.assert(n,"endss must be truthy"),i&&0!==i.length){console.assert(0<n.length,"endss cannot be an empty array");var s=n[n.length-1];console.assert(i.length==s[s.length-1],"the length of flatCoordinates should be the last value of ends")}else console.assert(0===n.length,"the length of endss should be 0");cc(t,e,i),t.g=n,t.A()}function pj(t){Zb.call(this),this.b=t?t:null,qj(this)}function rj(t){var e,i,n=[];for(e=0,i=t.length;i>e;++e)n.push(t[e].clone());return n}function sj(t){var e,i;if(t.b)for(e=0,i=t.b.length;i>e;++e)va(t.b[e],"change",t.A,t)}function qj(t){var e,i;if(t.b)for(e=0,i=t.b.length;i>e;++e)C(t.b[e],"change",t.A,t)}function tj(t){t=t?t:{},$i.call(this),this.defaultDataProjection=Nb(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.f=Nb(t.featureProjection)),this.a=t.geometryName}function uj(t,e){return t?cj((0,vj[t.type])(t),!1,e):null}function wj(t,e){return(0,xj[t.W()])(cj(t,!0,e),e)}function fj(t,e,i){console.assert("FeatureCollection"!==e.type,"Expected a Feature or geometry"),e="Feature"===e.type?e:{type:"Feature",geometry:e},i=uj(e.geometry,i);var n=new Gi;return t.a&&Hi(n,t.a),n.Ta(i),void 0!==e.id&&(n.a=e.id,n.A()),e.properties&&n.fa(e.properties),n}function yj(t,e,i){i=bj(t,i),t={type:"Feature"};var n=e.a;return void 0!==n&&(t.id=n),(n=e.Y())?t.geometry=wj(n,i):t.geometry=null,i=e.ya(),delete i[e.b],pa(i)?t.properties=null:t.properties=i,t}function gj(t,e,i){i=bj(t,i);var n,s,o=[];for(n=0,s=e.length;s>n;++n)o.push(yj(t,e[n],i));return{type:"FeatureCollection",features:o}}function zj(){this.g=new XMLSerializer,$i.call(this)}function Aj(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Ma(n,t.ec(e,i));return n}function Bj(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.a={},this.a["http://www.opengis.net/gml"]={featureMember:Pi(Bj.prototype.fc),featureMembers:Pi(Bj.prototype.fc)},zj.call(this)}function Dj(t){return t=Ki(t),Ej(t)}function Ej(t){return(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))?void 0!==t[1]||!1:void 0}function Fj(t){return t=Ki(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function U(t){return t=Ki(t),Gj(t)}function Gj(t){return(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))?parseFloat(t[1]):void 0}function Hj(t){return t=Ki(t),Ij(t)}function Ij(t){return(t=/^\s*(\d+)\s*$/.exec(t))?parseInt(t[1],10):void 0}function V(t){return Ki(t).trim()}function Jj(t,e){X(t,e?"1":"0")}function Kj(t,e){t.appendChild(Ji.createTextNode(e.toPrecision()))}function Lj(t,e){console.assert(e>=0,"value should be more than 0"),console.assert(e==(0|e),"value should be an integer value"),t.appendChild(Ji.createTextNode(e.toString()))}function X(t,e){t.appendChild(Ji.createTextNode(e))}function Mj(t){t=t?t:{},zj.call(this),this.defaultDataProjection=Nb("EPSG:4326"),this.a=t.readExtensions}function Oj(t,e,i,n){return console.assert(i.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.bc=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.ac=!0):t.push(0),t}function Pj(t,e,i){var n="XY",s=2;if(t.bc&&t.ac?(n="XYZM",s=4):t.bc?(n="XYZ",s=3):t.ac&&(n="XYM",s=3),4!==s){var o,a;for(o=0,a=e.length/4;a>o;o++)e[o*s]=e[4*o],e[o*s+1]=e[4*o+1],t.bc&&(e[o*s+2]=e[4*o+2]),t.ac&&(e[o*s+2]=e[4*o+3]);if(e.length=e.length/4*s,i)for(o=0,a=i.length;a>o;o++)i[o]=i[o]/4*s}return n}function Qj(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("link"==t.localName,"localName should be link");var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),Wi(Rj,t,e)}function Sj(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("extensions"==t.localName,"localName should be extensions"),e[e.length-1].extensionsNode_=t}function ak(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,Xi({node:t},bk,Ui,[e.linkText,e.linkType],i,ck)}function dk(t,e,i){var n=i[i.length-1],s=n.node;console.assert(Mi(s),"parentNode should be an XML node");var o=s.namespaceURI,s=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(s.time=e[3]);case"XYZ":0!==e[2]&&(s.ele=e[2]);break;case"XYM":0!==e[2]&&(s.time=e[2])}e="rtept"==t.nodeName?ek[o]:fk[o],n=Vi(s,e),Xi({node:t,properties:s},gk,Ui,n,i,e)}function ok(t,e){var i=t.Y();if(i&&(i=nk[i.W()])){var n=e[e.length-1].node;return console.assert(Mi(n),"parentNode should be an XML node"),Ji.createElementNS(n.namespaceURI,i)}}function qk(t,e,i,n,s,o){Aa.call(this),this.i=null,this.a=t?t:new Image,null!==n&&(this.a.crossOrigin=n),this.c=o?document.createElement("CANVAS"):null,this.j=o,this.g=null,this.b=s,this.f=i,this.l=e,this.s=!1,2==this.b&&rk(this)}function rk(t){var e=td(1,1);try{e.drawImage(t.a,0,0),e.getImageData(0,0,1,1)}catch(i){t.s=!0}}function sk(t){t=t||{},this.g=void 0!==t.anchor?t.anchor:[.5,.5],this.j=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:tk,this.R=void 0!==t.anchorXUnits?t.anchorXUnits:uk,this.B=void 0!==t.anchorYUnits?t.anchorYUnits:uk,this.I=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;z(!(void 0!==n&&e),4),z(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||y(e).toString()),z(void 0!==n&&0<n.length,6);var s,o=void 0!==t.src?0:2;void 0!==t.color?(s=t.color,s=Array.isArray(s)?s:qd(s)):s=null,this.c=s,s=this.I;var a=this.c,r=gg.get(n,s,a);r||(r=new qk(e,n,i,s,o,a),gg.set(n,s,a,r)),this.a=r,this.Z=void 0!==t.offset?t.offset:[0,0],this.b=void 0!==t.offsetOrigin?t.offsetOrigin:tk,this.C=null,this.D=void 0!==t.size?t.size:null,zg.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1})}function yk(t){t=t||{},this.g=t.font,this.l=t.rotation,this.i=t.rotateWithView,this.f=t.scale,this.s=t.text,this.C=t.textAlign,this.D=t.textBaseline,this.a=void 0!==t.fill?t.fill:new Cg({color:"#333"}),this.b=void 0!==t.stroke?t.stroke:null,this.c=void 0!==t.offsetX?t.offsetX:0,this.j=void 0!==t.offsetY?t.offsetY:0}function Bk(t){return t=Ki(t),(t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))?(t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]):void 0}function Ck(t){t=Ki(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""!==t?void 0:i}function Dk(t){var e=Ki(t).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function Ek(t){return U(t)}function Fk(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LinearRing"==t.localName,"localName should be LinearRing"),T(null,Gk,t,e)}function Hk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=zk.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("Track"==t.localName,"localName should be Track");var i=T({o:[],zd:[]},Ik,t,e);if(i){var n=i.o,i=i.zd;console.assert(n.length/4==i.length,"the length of the flatCoordinates array divided by 4 should be the length of the whens array");var s,o;for(s=0,o=Math.min(n.length,i.length);o>s;++s)n[4*s+3]=i[s];return i=new ij(null),i.P("XYZM",n),i}}function Jk(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),T(null,Kk,t,e)}function Lk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LineString"==t.localName,"localName should be LineString");var i=T({},Mk,t,e),n=Jk(t,e);if(n){var s=new ij(null);return s.P("XYZ",n),s.fa(i),s}}function Nk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LinearRing"==t.localName,"localName should be LinearRing");var i=T({},Mk,t,e),n=Jk(t,e);if(n){var s=new sc(null);return s.P("XYZ",n,[n.length]),s.fa(i),s}}function Ok(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("MultiGeometry"==t.localName,"localName should be MultiGeometry");var i=T([],Pk,t,e);if(!i)return null;if(0===i.length)return new pj(i);var n,s,o,a,r=!0,h=i[0].W();for(o=1,a=i.length;a>o;++o)if(s=i[o],s.W()!=h){r=!1;break}if(r)if("Point"==h){for(n=i[0],r=n.U,h=n.o,o=1,a=i.length;a>o;++o)s=i[o],console.assert(s.U==r,"geometry layout should be consistent"),Ma(h,s.o);n=new mj(null),n.P(r,h),Qk(n,i)}else if("LineString"==h)n=new jj(null),lj(n,i),Qk(n,i);else if("Polygon"==h){s=n=new nj(null),o=s.U,a=[];var l,c,r=[],h=0;for(l=i.length;l>h;++h){var u=i[h];0===h?o=u.U:console.assert(u.U==o,"layout of polygon should be layout");var f=a.length;c=u.Ka();var d,p;for(d=0,p=c.length;p>d;++d)c[d]+=f;Ma(a,u.o),r.push(c)}oj(s,o,a,r),Qk(n,i)}else"GeometryCollection"==h?n=new pj(i):z(!1,37);else n=new pj(i);return n}function Rk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Point"==t.localName,"localName should be Point");var i=T({},Mk,t,e),n=Jk(t,e);if(n){var s=new lc(null);return console.assert(3==n.length,"flatCoordinates should have a length of 3"),s.P("XYZ",n),s.fa(i),s}}function Sk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Polygon"==t.localName,"localName should be Polygon");var i=T({},Mk,t,e),n=T([null],Tk,t,e);if(n&&n[0]){var s,o,a=new sc(null),r=n[0],h=[r.length];for(s=1,o=n.length;o>s;++s)Ma(r,n[s]),h.push(r.length);return a.P("XYZ",r,h),a.fa(i),a}}function Uk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Style"==t.localName,"localName should be Style");var i=T({},Vk,t,e);if(!i)return null;var n="fillStyle"in i?i.fillStyle:void 0,s=i.fill;void 0===s||s||(n=null),s="imageStyle"in i?i.imageStyle:void 0,void 0==s&&(s=void 0);var o="textStyle"in i?i.textStyle:void 0,a="strokeStyle"in i?i.strokeStyle:void 0,i=i.outline;return void 0===i||i||(a=null),[new Eg({fill:n,image:s,stroke:a,text:o,zIndex:void 0})]}function Qk(t,e){var i,n,s,o,a=e.length,r=Array(e.length),h=Array(e.length);for(s=o=!1,n=0;a>n;++n)i=e[n],r[n]=i.get("extrude"),h[n]=i.get("altitudeMode"),s=s||void 0!==r[n],o=o||h[n];s&&t.set("extrude",r),o&&t.set("altitudeMode",h)}function Wk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ExtendedData"==t.localName,"localName should be ExtendedData"),Wi(Xk,t,e)}function Yk(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Region"==t.localName,"localName should be Region"),Wi(Zk,t,e)}function pl(t,e){var i,n=Array.isArray(e)?e:qd(e),n=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(i=0;4>i;++i){var s=parseInt(n[i],10).toString(16);n[i]=1==s.length?"0"+s:s}X(t,n.join(""))}function ql(t,e,i){t={node:t};var n,s,o=e.W();if("GeometryCollection"==o)n=rj(e.b),s=rl;else if("MultiPoint"==o){n=e.o,s=e.U,e=e.a;var a,r,o=[];for(a=0,r=n.length;r>a;a+=e){var h=new lc(null);h.P(s,n.slice(a,a+e)),o.push(h)}n=o,s=sl}else if("MultiLineString"==o)n=kj(e),s=tl;else if("MultiPolygon"==o){n=e.U,s=e.o,e=e.g,o=[],a=0;var l,c;for(r=0,h=e.length;h>r;++r){var u=e[r].slice(),f=u[u.length-1];if(0!==a)for(l=0,c=u.length;c>l;++l)u[l]-=a;l=new sc(null),l.P(n,s.slice(a,f),u),o.push(l),a=f}n=o,s=ul}else z(!1,39);Xi(t,vl,s,n,i)}function wl(t,e,i){Xi({node:t},xl,yl,[e],i)}function zl(t,e,i){var n={node:t};e.a&&t.setAttribute("id",e.a),t=e.ya();var s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[e.b]=1;var o=Object.keys(t||{}).sort().filter(function(t){return!s[t]});if(0<o.length){var a=Vi(t,o);Xi(n,Al,Bl,[{names:o,values:a}],i)}(o=e.c)&&(o=o.call(e,0))&&(o=Array.isArray(o)?o[0]:o,this.a&&(t.Style=o),(o=o.ea())&&(t.name=o.ea())),o=Cl[i[i.length-1].node.namespaceURI],t=Vi(t,o),Xi(n,Al,Ui,t,i,o),t=i[0],(e=e.Y())&&(e=cj(e,!0,t)),Xi(n,Al,rl,[e],i)}function Dl(t,e,i){console.assert(e instanceof lc||e instanceof ij||e instanceof kc,"geometry should be one of ol.geom.Point, ol.geom.LineString or ol.geom.LinearRing");var n=e.o;t={node:t},t.layout=e.U,t.stride=e.a,Xi(t,El,Fl,[n],i)}function Gl(t,e,i){var n=e.U,s=e.o,o=e.c;e=[];var a,r,h=0;for(a=0,r=o.length;r>a;++a){var l=o[a],c=new kc(null),u=c;cc(u,n,s.slice(h,l)),u.A(),e.push(c),h=l}console.assert(0<e.length,"linearRings should not be empty"),n=e.shift(),t={node:t},Xi(t,Hl,Il,e,i),Xi(t,Hl,Jl,[n],i)}function Kl(t,e){Kj(t,Math.round(1e6*e)/1e6)}function Sl(t,e,i){return Ji.createElementNS(zk[0],"gx:"+i)}function Ml(t,e){var i=e[e.length-1].node;return console.assert(Mi(i),"parentNode should be an XML node"),Ji.createElementNS(i.namespaceURI,"Placemark")}function rl(t,e){if(t){var i=e[e.length-1].node;return console.assert(Mi(i),"parentNode should be an XML node"),Ji.createElementNS(i.namespaceURI,Ol[t.W()])}}function cm(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("tag"==t.localName,"localName should be tag"),e[e.length-1].jb[t.getAttribute("k")]=t.getAttribute("v")}function gm(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function ym(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),T({},zm,t,e)}function Am(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),T({},Bm,t,e)}function Cm(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");
var i=ym(t,e);if(i){var n=[Ij(t.getAttribute("width")),Ij(t.getAttribute("height"))];return i.size=n,i}}function Dm(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("KeywordList"==t.localName,"localName should be KeywordList"),T([],Em,t,e)}function Tm(t){var e=V(t).split(" ");return e&&2==e.length?(t=+e[0],e=+e[1],isNaN(t)||isNaN(e)?void 0:[t,e]):void 0}function Z(t){D.call(this),t=t||{},this.a=null,this.g=Wb,this.b=void 0,C(this,Ga(fn),this.Ue,this),C(this,Ga(gn),this.Ve,this),void 0!==t.projection&&this.dd(Nb(t.projection)),void 0!==t.trackingOptions&&this.td(t.trackingOptions),this.Cb(void 0!==t.tracking?t.tracking:!1)}function qn(t,e,i,n,s){ze.call(this,t,e),this.g=i,this.f=new Image,null!==n&&(this.f.crossOrigin=n),this.b=null,this.c=s}function rn(t){t.b.forEach(B),t.b=null}function sn(t){t=t?t:{},Fe.call(this,{handleEvent:yb}),this.b=t.formatConstructors?t.formatConstructors:[],this.c=t.projection?Nb(t.projection):null,this.a=null,this.target=t.target?t.target:null}function tn(t){t=t.dataTransfer.files;var e,i,n;for(e=0,i=t.length;i>e;++e){n=t.item(e);var s=new FileReader;s.addEventListener("load",this.g.bind(this,n)),s.readAsText(n)}}function un(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function vn(t,e,i,n){ya.call(this,t),this.features=i,this.file=e,this.projection=n}function xn(){return[[-(1/0),-(1/0),1/0,1/0]]}function yn(t){t=t||{},ci.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.s=ba,this.v=t.format,this.L=void 0==t.overlaps?!0:t.overlaps,this.B=t.url,void 0!==t.loader?this.s=t.loader:void 0!==this.B&&(z(this.v,7),this.s=Zi(this.B,this.v)),this.S=void 0!==t.strategy?t.strategy:xn;var e=void 0!==t.useSpatialIndex?t.useSpatialIndex:!0;this.V=e?new Qh:null,this.u=new Qh,this.ja={},this.b={},this.c={},this.i={},this.a=null;var i,n;t.features instanceof I?(i=t.features,n=i.a):Array.isArray(t.features)&&(n=t.features),e||void 0!==i||(i=new I(n)),void 0!==n&&zn(this,n),void 0!==i&&An(this,i)}function Bn(t,e,i){console.assert(!(e in t.i),"key (%s) not yet registered in featureChangeKey",e),t.i[e]=[C(i,"change",t.hd,t),C(i,Ja,t.hd,t)]}function Cn(t,e,i){var n=!0,s=i.a;return void 0!==s?s.toString()in t.b?n=!1:t.b[s.toString()]=i:(z(!(e in t.c),30),t.c[e]=i),n}function zn(t,e){var i,n,s,o,a=[],r=[],h=[];for(n=0,s=e.length;s>n;n++)o=e[n],i=y(o).toString(),Cn(t,i,o)&&r.push(o);for(n=0,s=r.length;s>n;n++){o=r[n],i=y(o).toString(),Bn(t,i,o);var l=o.Y();l?(i=l.F(),a.push(i),h.push(o)):t.ja[i]=o}for(t.V&&t.V.load(a,h),n=0,s=r.length;s>n;n++)t.M(new Dn(En,r[n]))}function An(t,e){console.assert(!t.a,"bindFeaturesCollection can only be called once");var i=!1;C(t,En,function(t){i||(i=!0,e.push(t.feature),i=!1)}),C(t,Fn,function(t){i||(i=!0,e.remove(t.feature),i=!1)}),C(e,kd,function(t){if(!i){i=!0,t=t.element;var e=y(t).toString();if(Cn(this,e,t)){Bn(this,e,t);var n=t.Y();n?(e=n.F(),this.V&&this.V.Da(e,t)):this.ja[e]=t,this.M(new Dn(En,t))}this.A(),i=!1}},t),C(e,ld,function(t){if(!i){i=!0,t=t.element;var e=y(t).toString();e in this.ja?delete this.ja[e]:this.V&&this.V.remove(t),this.lc(t),this.A(),i=!1}},t),t.a=e}function Mh(t,e,i,n){t.V?Uh(t.V,e,i,n):t.a&&t.a.forEach(i,n)}function Lh(t,e,i,n){var s=t.u;e=t.S(e,i);var o,a;for(o=0,a=e.length;a>o;++o){var r=e[o];Uh(s,r,function(t){return ib(t.extent,r)})||(t.s.call(t,r,i,n),s.Da(r,{extent:r.slice()}))}}function Hn(t,e){var i,n=!1;for(i in t.b)if(t.b[i]===e){delete t.b[i],n=!0;break}return n}function Dn(t,e){ya.call(this,t),this.feature=e}function Jn(t,e,i,n,s,o,a,r,h,l,c){if(ze.call(this,s,0),this.v=void 0!==c?c:!1,this.u=a,this.s=r,this.l=null,this.b=e,this.c=n,this.j=o?o:s,this.f=[],this.Fa=null,this.g=0,o=ad(n,this.j),r=this.c.F(),s=this.b.F(),o=r?wb(o,r):o,0===qb(o))this.state=4;else if((r=t.F())&&(s=s?wb(s,r):r),r=Vc(n,this.j[0]),c=ub(o),n=Xb(c,i,t),r=Lb(i,r,c),c=Gb(i),void 0!==c&&(r*=c),c=Gb(t),void 0!==c&&(r/=c),n=Lb(t,r,n)/r,isFinite(n)&&n>0&&(r/=n),n=r,!isFinite(n)||0>=n)this.state=4;else if(this.i=new $h(t,i,o,s,n*(void 0!==l?l:.5)),0===this.i.g.length)this.state=4;else if(this.g=bd(e,n),i=bi(this.i),s&&(t.a?(i[1]=fa(i[1],s[1],s[3]),i[3]=fa(i[3],s[1],s[3])):i=wb(i,s)),qb(i))if(t=Yc(e,i,this.g),100>(t.J-t.G+1)*(t.N-t.K+1)){for(e=t.G;e<=t.J;e++)for(i=t.K;i<=t.N;i++)(l=h(this.g,e,i,a))&&this.f.push(l);0===this.f.length&&(this.state=4)}else console.assert(!1,"reasonable number of tiles is required"),this.state=3;else this.state=4}function Kn(t,e){var i=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,o=/\{-y\}/g;return function(a){return a?t.replace(i,a[0].toString()).replace(n,a[1].toString()).replace(s,function(){return(-a[2]-1).toString()}).replace(o,function(){var t=cd(e,a[0]);return z(t,55),(t.N-t.K+1+a[2]).toString()}):void 0}}function Ln(t,e){for(var i=t.length,n=Array(i),s=0;i>s;++s)n[s]=Kn(t[s],e);return Mn(n)}function Mn(t){return console.assert(0<t.length,"Length of tile url functions should be greater than 0"),1===t.length?t[0]:function(e,i,n){return e?t[ia((e[1]<<e[0])+e[2],t.length)](e,i,n):void 0}}function Nn(){}function On(t){gi.call(this),this.c=void 0!==t?t:2048}function Pn(t){return t.g>t.c}function Qn(t){ci.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.sa=void 0!==t.opaque?t.opaque:!1,this.Ba=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new On(t.cacheSize),this.i=[0,0],this.va=""}function Xg(t,e,i,n,s){if(e=t.cb(e),!e)return!1;for(var o,a,r=!0,h=n.G;h<=n.J;++h)for(var l=n.K;l<=n.N;++l)o=t.La(i,h,l),a=!1,e.b.hasOwnProperty(o)&&(o=e.get(o),(a=2===o.aa())&&(a=!1!==s(o))),a||(r=!1);return r}function gh(t,e,i,n){return n=t.xa(n),i=t.xb(i),e=Qc($c(n,e),t.i),1==i?e:Pc(e,i,t.i)}function Rn(t,e,i){var n=void 0!==i?i:t.g;if(i=t.xa(n),t.l&&n.b){var s=e;t=s[0],e=Zc(i,s);var n=ed(n),o=e[0],a=e[1];n[0]<=o&&o<=n[2]&&n[1]<=a&&a<=n[3]?e=s:(s=sb(n),e[0]+=s*Math.ceil((n[0]-e[0])/s),t=Vc(i,t),e=Xc(i,e[0],e[1],t,!1,void 0))}return n=e[0],t=e[1],s=e[2],i=i.minZoom>n||n>i.maxZoom?!1:(i=(o=i.F())?Yc(i,o,n):cd(i,n))?Nc(i,t,s):!0,i?e:null}function Sn(t,e){ya.call(this,t),this.tile=e}function Tn(t){if(Qn.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Ja?this.Ja.bind(this):Nn,this.urls=null,t.urls)this.nc(t.urls);else if(t.url){var e=t.url,i=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var s,o=n[2].charCodeAt(0);for(s=n[1].charCodeAt(0);o>=s;++s)i.push(e.replace(n[0],String.fromCharCode(s)))}else if(n=n=/\{(\d+)-(\d+)\}/.exec(e))for(o=parseInt(n[2],10),s=parseInt(n[1],10);o>=s;s++)i.push(e.replace(n[0],s.toString()));else i.push(e);i=this.urls=i,Un(this,this.Ja?this.Ja.bind(this):Ln(i,this.tileGrid),e)}t.tileUrlFunction&&Un(this,t.tileUrlFunction)}function Un(t,e,i){t.tileUrlFunction=e,"undefined"!=typeof i?t.va!==i&&(t.va=i,t.A()):t.A()}function Vn(t){Tn.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Wn,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:qn,this.b={},this.v={},this.ta=t.reprojectionErrorThreshold}function Xn(t,e,i,n,s,o,a){return e=[e,i,n],s=(i=Rn(t,e,o))?t.tileUrlFunction(i,s,o):void 0,s=new t.tileClass(e,void 0!==s?0:4,void 0!==s?s:"",t.crossOrigin,t.tileLoadFunction),s.key=a,C(s,"change",t.na,t),s}function fh(t,e,i,n,s,o){if(t.g&&o&&!Ub(t.g,o)){var a=t.cb(o);n=[e,i,n];var r;if(e=t.La.apply(t,n),a.b.hasOwnProperty(e)&&(r=a.get(e)),i=t.getKey(),r&&r.key==i)return r;var h=t.g,l=t.xa(h),c=t.xa(o),u=Rn(t,n,o);return t=new Jn(h,l,o,c,n,u,t.xb(s),t.Vb(),function(t,e,i,n){return Yn(this,t,e,i,n,h)}.bind(t),t.ta,!1),t.key=i,r?(t.a=r,a.replace(e,t)):a.set(e,t),t}return Yn(t,e,i,n,s,o)}function Yn(t,e,i,n,s,o){var a,r=t.La(e,i,n),h=t.getKey();if(t.a.b.hasOwnProperty(r)){if(a=t.a.get(r),a.key!=h){var l=a;if(a=Xn(t,e,i,n,s,o,h),0==l.aa()?a.a=l.a:a.a=l,a.a){e=a.a,i=a;do{if(2==e.aa()){e.a=null;break}1==e.aa()?i=e:0==e.aa()?i.a=e.a:i=e,e=i.a}while(e)}t.a.replace(r,a)}}else a=Xn(t,e,i,n,s,o,h),t.a.set(r,a);return a}function Wn(t,e){t.Db().src=e}function Zn(t){t=t||{};var e,i=void 0!==t.projection?t.projection:"EPSG:3857";if(void 0!==t.tileGrid)e=t.tileGrid;else{e={extent:ed(i),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize};var n={};ma(n,void 0!==e?e:{}),void 0===n.extent&&(n.extent=Nb("EPSG:3857").F()),n.resolutions=fd(n.extent,n.maxZoom,n.tileSize),delete n.maxZoom,e=new Rc(n)}Vn.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:i,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:e,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0})}function $n(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+n}function ao(t){t=t||{},fi.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions})}function bo(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[co],Zn.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0!==t.opaque?t.opaque:!0,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function eo(t){t=t||{};var e=t.params||{};Vn.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.L=void 0!==t.gutter?t.gutter:0,this.c=e,this.u=!0,this.s=t.serverType,this.S=void 0!==t.hidpi?t.hidpi:!0,this.B="",fo(this),this.ia=db();t:{t=(""+(this.c.VERSION||"1.3.0")).split(".");for(var e=["1","3"],i=0;i<Math.max(t.length,e.length);i++){var n=parseInt(t[i]||"0",10),s=parseInt(e[i]||"0",10);if(n>s){t=1;break t}if(s>n){t=-1;break t}}t=0}this.u=t>=0;var o;t=0,e=[];for(o in this.c)e[t++]=o+"-"+this.c[o];o=e.join("/"),this.va!==o&&(this.va=o,this.A())}function fo(t){var e=0,i=[];if(t.urls){var n,s;for(n=0,s=t.urls.length;s>n;++n)i[e++]=t.urls[n]}t.B=i.join("#")}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=ot.type(t);return"function"===i||ot.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(ot.isFunction(e))return ot.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ot.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(mt.test(e))return ot.filter(e,t,i);e=ot.filter(e,t)}return ot.grep(t,function(t){return Q.call(e,t)>-1!==i})}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(xt)||[],function(t,i){e[i]=!0}),e}function a(){Y.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),ot.ready()}function r(){this.expando=ot.expando+r.uid++}function h(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Nt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Tt.test(i)?ot.parseJSON(i):i}catch(s){}kt.set(t,e,i)}else i=void 0;return i}function l(t,e,i,n){var s,o=1,a=20,r=n?function(){return n.cur()}:function(){return ot.css(t,e,"")},h=r(),l=i&&i[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==l&&+h)&&jt.exec(ot.css(t,e));if(c&&c[3]!==l){l=l||c[3],i=i||[],c=+h||1;do o=o||".5",c/=o,ot.style(t,e,c+l);while(o!==(o=r()/h)&&1!==o&&--a)}return i&&(c=+c||+h||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=c,n.end=s)),s}function c(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],i):i}function u(t,e){for(var i=0,n=t.length;n>i;i++)St.set(t[i],"globalEval",!e||St.get(e[i],"globalEval"))}function f(t,e,i,n,s){for(var o,a,r,h,l,f,d=e.createDocumentFragment(),p=[],m=0,g=t.length;g>m;m++)if(o=t[m],o||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(Rt.test(o)){for(a=a||d.appendChild(e.createElement("div")),r=(Dt.exec(o)||["",""])[1].toLowerCase(),h=It[r]||It._default,a.innerHTML=h[1]+ot.htmlPrefilter(o)+h[2],f=h[0];f--;)a=a.lastChild;ot.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(e.createTextNode(o));for(d.textContent="",m=0;o=p[m++];)if(n&&ot.inArray(o,n)>-1)s&&s.push(o);else if(l=ot.contains(o.ownerDocument,o),a=c(d.appendChild(o),"script"),l&&u(a),i)for(f=0;o=a[f++];)Ot.test(o.type||"")&&i.push(o);return d}function d(){return!0}function p(){return!1}function m(){try{return Y.activeElement}catch(t){}}function g(t,e,i,n,s,o){var a,r;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(r in e)g(t,r,i,n,e[r],o);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),s===!1)s=p;else if(!s)return this;return 1===o&&(a=s,s=function(t){return ot().off(t),a.apply(this,arguments)},s.guid=a.guid||(a.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,s,n,i)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function M(t,e){var i,n,s,o,a,r,h,l;if(1===e.nodeType){if(St.hasData(t)&&(o=St.access(t),a=St.set(e,o),l=o.events)){delete a.handle,a.events={};for(s in l)for(i=0,n=l[s].length;n>i;i++)ot.event.add(e,s,l[s][i])}kt.hasData(t)&&(r=kt.access(t),h=ot.extend({},r),kt.set(e,h))}}function x(t,e){var i=e.nodeName.toLowerCase();"input"===i&&At.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function w(t,e,i,n){e=Z.apply([],e);var s,o,a,r,h,l,u=0,d=t.length,p=d-1,m=e[0],g=ot.isFunction(m);if(g||d>1&&"string"==typeof m&&!nt.checkClone&&zt.test(m))return t.each(function(s){var o=t.eq(s);g&&(e[0]=m.call(this,s,o.html())),w(o,e,i,n)});if(d&&(s=f(e,t[0].ownerDocument,!1,t,n),o=s.firstChild,1===s.childNodes.length&&(s=o),o||n)){for(a=ot.map(c(s,"script"),y),r=a.length;d>u;u++)h=s,u!==p&&(h=ot.clone(h,!0,!0),r&&ot.merge(a,c(h,"script"))),i.call(t[u],h,u);if(r)for(l=a[a.length-1].ownerDocument,ot.map(a,b),u=0;r>u;u++)h=a[u],Ot.test(h.type||"")&&!St.access(h,"globalEval")&&ot.contains(l,h)&&(h.src?ot._evalUrl&&ot._evalUrl(h.src):ot.globalEval(h.textContent.replace(Vt,"")))}return t}function E(t,e,i){for(var n,s=e?ot.filter(e,t):t,o=0;null!=(n=s[o]);o++)i||1!==n.nodeType||ot.cleanData(c(n)),n.parentNode&&(i&&ot.contains(n.ownerDocument,n)&&u(c(n,"script")),n.parentNode.removeChild(n));return t}function _(t,e){var i=ot(e.createElement(t)).appendTo(e.body),n=ot.css(i[0],"display");return i.detach(),n}function S(t){var e=Y,i=Xt[t];return i||(i=_(t,e),"none"!==i&&i||(Ht=(Ht||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ht[0].contentDocument,e.write(),e.close(),i=_(t,e),Ht.detach()),Xt[t]=i),i}function k(t,e,i){var n,s,o,a,r=t.style;return i=i||Kt(t),i&&(a=i.getPropertyValue(e)||i[e],""!==a||ot.contains(t.ownerDocument,t)||(a=ot.style(t,e)),!nt.pixelMarginRight()&&Yt.test(a)&&Wt.test(e)&&(n=r.width,s=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=s,r.maxWidth=o)),void 0!==a?a+"":a}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ie.length;i--;)if(t=ie[i]+e,t in ne)return t}function C(t,e,i){var n=jt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function j(t,e,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===i&&(a+=ot.css(t,i+Pt[o],!0,s)),n?("content"===i&&(a-=ot.css(t,"padding"+Pt[o],!0,s)),"margin"!==i&&(a-=ot.css(t,"border"+Pt[o]+"Width",!0,s))):(a+=ot.css(t,"padding"+Pt[o],!0,s),"padding"!==i&&(a+=ot.css(t,"border"+Pt[o]+"Width",!0,s)));return a}function P(e,i,n){var s=!0,o="width"===i?e.offsetWidth:e.offsetHeight,a=Kt(e),r="border-box"===ot.css(e,"boxSizing",!1,a);if(Y.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[i])),0>=o||null==o){if(o=k(e,i,a),(0>o||null==o)&&(o=e.style[i]),Yt.test(o))return o;s=r&&(nt.boxSizingReliable()||o===e.style[i]),o=parseFloat(o)||0}return o+j(e,i,n||(r?"border":"content"),s,a)+"px"}function L(t,e){for(var i,n,s,o=[],a=0,r=t.length;r>a;a++)n=t[a],n.style&&(o[a]=St.get(n,"olddisplay"),i=n.style.display,e?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Lt(n)&&(o[a]=St.access(n,"olddisplay",S(n.nodeName)))):(s=Lt(n),"none"===i&&s||St.set(n,"olddisplay",s?i:ot.css(n,"display"))));for(a=0;r>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[a]||"":"none"));return t}function A(t,e,i,n,s){return new A.prototype.init(t,e,i,n,s)}function D(){return t.setTimeout(function(){se=void 0}),se=ot.now()}function O(t,e){var i,n=0,s={height:t};for(e=e?1:0;4>n;n+=2-e)i=Pt[n],s["margin"+i]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function I(t,e,i){for(var n,s=(B.tweeners[e]||[]).concat(B.tweeners["*"]),o=0,a=s.length;a>o;o++)if(n=s[o].call(i,e,t))return n}function R(t,e,i){var n,s,o,a,r,h,l,c,u=this,f={},d=t.style,p=t.nodeType&&Lt(t),m=St.get(t,"fxshow");i.queue||(r=ot._queueHooks(t,"fx"),null==r.unqueued&&(r.unqueued=0,h=r.empty.fire,r.empty.fire=function(){r.unqueued||h()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--,ot.queue(t,"fx").length||r.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],l=ot.css(t,"display"),c="none"===l?St.get(t,"olddisplay")||S(t.nodeName):l,"inline"===c&&"none"===ot.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],ae.exec(s)){if(delete e[n],o=o||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;p=!0}f[n]=m&&m[n]||ot.style(t,n)}else l=void 0;if(ot.isEmptyObject(f))"inline"===("none"===l?S(t.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(p=m.hidden):m=St.access(t,"fxshow",{}),o&&(m.hidden=!p),p?ot(t).show():u.done(function(){ot(t).hide()}),u.done(function(){var e;St.remove(t,"fxshow");for(e in f)ot.style(t,e,f[e])});for(n in f)a=I(p?m[n]:0,n,u),n in m||(m[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,s,o,a;for(i in t)if(n=ot.camelCase(i),s=e[n],o=t[i],ot.isArray(o)&&(s=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),a=ot.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=s)}else e[n]=s}function B(t,e,i){var n,s,o=0,a=B.prefilters.length,r=ot.Deferred().always(function(){delete h.elem}),h=function(){if(s)return!1;for(var e=se||D(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,o=1-n,a=0,h=l.tweens.length;h>a;a++)l.tweens[a].run(o);return r.notifyWith(t,[l,o,i]),1>o&&h?i:(r.resolveWith(t,[l]),!1)},l=r.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},i),originalProperties:e,originalOptions:i,startTime:se||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ot.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)l.tweens[i].run(1);return e?(r.notifyWith(t,[l,1,0]),r.resolveWith(t,[l,e])):r.rejectWith(t,[l,e]),this}}),c=l.props;for(F(c,l.opts.specialEasing);a>o;o++)if(n=B.prefilters[o].call(l,t,c,l.opts))return ot.isFunction(n.stop)&&(ot._queueHooks(l.elem,l.opts.queue).stop=ot.proxy(n.stop,n)),n;return ot.map(c,I,l),ot.isFunction(l.opts.start)&&l.opts.start.call(t,l),ot.fx.timer(ot.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(t){return t.getAttribute&&t.getAttribute("class")||""}function G(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,o=e.toLowerCase().match(xt)||[];if(ot.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function $(t,e,i,n){function s(r){var h;return o[r]=!0,ot.each(t[r]||[],function(t,r){var l=r(e,i,n);return"string"!=typeof l||a||o[l]?a?!(h=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),h}var o={},a=t===Se;return s(e.dataTypes[0])||!o["*"]&&s("*")}function z(t,e){var i,n,s=ot.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&ot.extend(!0,t,n),t}function U(t,e,i){for(var n,s,o,a,r=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in r)if(r[s]&&r[s].test(n)){h.unshift(s);break}if(h[0]in i)o=h[0];else{for(s in i){if(!h[0]||t.converters[s+" "+h[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==h[0]&&h.unshift(o),i[o]):void 0}function V(t,e,i,n){var s,o,a,r,h,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=o,o=c.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(a=l[h+" "+o]||l["* "+o],!a)for(s in l)if(r=s.split(" "),r[1]===o&&(a=l[h+" "+r[0]]||l["* "+r[0]])){a===!0?a=l[s]:l[s]!==!0&&(o=r[0],c.unshift(r[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}function H(t,e,i,n){var s;if(ot.isArray(e))ot.each(e,function(e,s){i||Ce.test(t)?n(t,s):H(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)});else if(i||"object"!==ot.type(e))n(t,e);else for(s in e)H(t+"["+s+"]",e[s],i,n)}function X(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],Y=t.document,K=W.slice,Z=W.concat,J=W.push,Q=W.indexOf,tt={},et=tt.toString,it=tt.hasOwnProperty,nt={},st="2.2.0",ot=function(t,e){return new ot.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,ht=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:st,constructor:ot,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:W.sort,splice:W.splice},ot.extend=ot.fn.extend=function(){var t,e,i,n,s,o,a=arguments[0]||{},r=1,h=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[r]||{},r++),"object"==typeof a||ot.isFunction(a)||(a={}),r===h&&(a=this,r--);h>r;r++)if(null!=(t=arguments[r]))for(e in t)i=a[e],n=t[e],a!==n&&(l&&n&&(ot.isPlainObject(n)||(s=ot.isArray(n)))?(s?(s=!1,o=i&&ot.isArray(i)?i:[]):o=i&&ot.isPlainObject(i)?i:{},a[e]=ot.extend(l,o,n)):void 0!==n&&(a[e]=n));return a},ot.extend({expando:"jQuery"+(st+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"!==ot.type(t)||t.nodeType||ot.isWindow(t)?!1:t.constructor&&!it.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(rt,"ms-").replace(ht,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,s=0;if(i(t))for(n=t.length;n>s&&e.call(t[s],s,t[s])!==!1;s++);else for(s in t)if(e.call(t[s],s,t[s])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ot.merge(n,"string"==typeof t?[t]:t):J.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:Q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],o=0,a=t.length,r=!i;a>o;o++)n=!e(t[o],o),n!==r&&s.push(t[o]);return s},map:function(t,e,n){var s,o,a=0,r=[];if(i(t))for(s=t.length;s>a;a++)o=e(t[a],a,n),null!=o&&r.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&r.push(o);return Z.apply([],r)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(i=t[e],e=t,t=i),ot.isFunction(t)?(n=K.call(arguments,2),s=function(){return t.apply(e||this,n.concat(K.call(arguments)))},s.guid=t.guid=t.guid||ot.guid++,s):void 0},now:Date.now,support:nt}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=W[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,i,n){var s,o,a,r,h,l,u,d,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:q)!==L&&P(e),e=e||L,D)){if(11!==m&&(l=vt.exec(t)))if(s=l[1]){if(9===m){if(!(a=e.getElementById(s)))return i;if(a.id===s)return i.push(a),i}else if(p&&(a=p.getElementById(s))&&F(e,a)&&a.id===s)return i.push(a),i}else{if(l[2])return J.apply(i,e.getElementsByTagName(t)),i;if((s=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(s)),i}if(x.qsa&&!V[t+" "]&&(!O||!O.test(t))){if(1!==m)p=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((r=e.getAttribute("id"))?r=r.replace(bt,"\\$&"):e.setAttribute("id",r=B),u=S(t),o=u.length,h=ft.test(r)?"#"+r:"[id='"+r+"']";o--;)u[o]=h+" "+f(u[o]);d=u.join(","),p=yt.test(t)&&c(e.parentNode)||e}if(d)try{return J.apply(i,p.querySelectorAll(d)),i}catch(g){}finally{r===B&&e.removeAttribute("id")}}}return T(t.replace(rt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function s(t){var e=L.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function r(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var s,o=t([],i.length,e),a=o.length;a--;)i[s=o[a]]&&(i[s]=!(n[s]=i[s]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,s=i&&"parentNode"===n,o=$++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,o)}:function(e,i,a){var r,h,l,c=[G,o];if(a){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[B]||(e[B]={}),h=l[e.uniqueID]||(l[e.uniqueID]={}),(r=h[n])&&r[0]===G&&r[1]===o)return c[2]=r[2];if(h[n]=c,c[2]=t(e,i,a))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var s=0,o=i.length;o>s;s++)e(t,i[s],n);return n}function g(t,e,i,n,s){for(var o,a=[],r=0,h=t.length,l=null!=e;h>r;r++)(o=t[r])&&(!i||i(o,n,s))&&(a.push(o),l&&e.push(r));return a}function v(t,e,i,s,o,a){return s&&!s[B]&&(s=v(s)),o&&!o[B]&&(o=v(o,a)),n(function(n,a,r,h){var l,c,u,f=[],d=[],p=a.length,v=n||m(e||"*",r.nodeType?[r]:r,[]),y=!t||!n&&e?v:g(v,f,t,r,h),b=i?o||(n?t:p||s)?[]:a:y;if(i&&i(y,b,r,h),s)for(l=g(b,d),s(l,[],r,h),c=l.length;c--;)(u=l[c])&&(b[d[c]]=!(y[d[c]]=u));if(n){if(o||t){if(o){for(l=[],c=b.length;c--;)(u=b[c])&&l.push(y[c]=u);o(null,b=[],l,h)}for(c=b.length;c--;)(u=b[c])&&(l=o?tt(n,u):f[c])>-1&&(n[l]=!(a[l]=u))}}else b=g(b===a?b.splice(p,b.length):b),o?o(null,a,b,h):J.apply(a,b)})}function y(t){for(var e,i,n,s=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],r=o?1:0,h=d(function(t){return t===e},a,!0),l=d(function(t){return tt(e,t)>-1},a,!0),c=[function(t,i,n){var s=!o&&(n||i!==N)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,s}];s>r;r++)if(i=w.relative[t[r].type])c=[d(p(c),i)];else{if(i=w.filter[t[r].type].apply(null,t[r].matches),i[B]){for(n=++r;s>n&&!w.relative[t[n].type];n++);return v(r>1&&p(c),r>1&&f(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(rt,"$1"),i,n>r&&y(t.slice(r,n)),s>n&&y(t=t.slice(n)),s>n&&f(t))}c.push(i)}return p(c)}function b(t,i){var s=i.length>0,o=t.length>0,a=function(n,a,r,h,l){var c,u,f,d=0,p="0",m=n&&[],v=[],y=N,b=n||o&&w.find.TAG("*",l),M=G+=null==y?1:Math.random()||.1,x=b.length;for(l&&(N=a===L||a||l);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(u=0,a||c.ownerDocument===L||(P(c),r=!D);f=t[u++];)if(f(c,a||L,r)){h.push(c);break}l&&(G=M)}s&&((c=!f&&c)&&d--,n&&m.push(c))}if(d+=p,s&&p!==d){for(u=0;f=i[u++];)f(m,v,a,r);if(n){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(h));v=g(v)}J.apply(h,v),l&&!n&&v.length>0&&d+i.length>1&&e.uniqueSort(h)}return l&&(G=M,N=y),m};return s?n(a):a}var M,x,w,E,_,S,k,T,N,C,j,P,L,A,D,O,I,R,F,B="sizzle"+1*new Date,q=t.document,G=0,$=0,z=i(),U=i(),V=i(),H=function(t,e){return t===e&&(j=!0),0},X=1<<31,W={}.hasOwnProperty,Y=[],K=Y.pop,Z=Y.push,J=Y.push,Q=Y.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),rt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ht=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(ot),ft=new RegExp("^"+nt+"$"),dt={
ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,Mt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},wt=function(){P()};try{J.apply(Y=Q.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch(Et){J={apply:Y.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,A=L.documentElement,D=!_(L),(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),x.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=s(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=gt.test(L.getElementsByClassName),x.getById=s(function(t){return A.appendChild(t).id=B,!L.getElementsByName||!L.getElementsByName(B).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var i=e.getElementById(t);return i?[i]:[]}},w.filter.ID=function(t){var e=t.replace(Mt,xt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(Mt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},w.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&D?e.getElementsByClassName(t):void 0},I=[],O=[],(x.qsa=gt.test(L.querySelectorAll))&&(s(function(t){A.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||O.push(".#.+[+~]")}),s(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=gt.test(R=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&s(function(t){x.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),I.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),I=I.length&&new RegExp(I.join("|")),e=gt.test(A.compareDocumentPosition),F=e||gt.test(A.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=e?function(t,e){if(t===e)return j=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===L||t.ownerDocument===q&&F(q,t)?-1:e===L||e.ownerDocument===q&&F(q,e)?1:C?tt(C,t)-tt(C,e):0:4&i?-1:1)}:function(t,e){if(t===e)return j=!0,0;var i,n=0,s=t.parentNode,o=e.parentNode,r=[t],h=[e];if(!s||!o)return t===L?-1:e===L?1:s?-1:o?1:C?tt(C,t)-tt(C,e):0;if(s===o)return a(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;r[n]===h[n];)n++;return n?a(r[n],h[n]):r[n]===q?-1:h[n]===q?1:0},L):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&P(t),i=i.replace(ct,"='$1']"),x.matchesSelector&&D&&!V[i+" "]&&(!I||!I.test(i))&&(!O||!O.test(i)))try{var n=R.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&P(t);var i=w.attrHandle[e.toLowerCase()],n=i&&W.call(w.attrHandle,e.toLowerCase())?i(t,e,!D):void 0;return void 0!==n?n:x.attributes||!D?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(j=!x.detectDuplicates,C=!x.sortStable&&t.slice(0),t.sort(H),j){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return C=null,t},E=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=E(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Mt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(Mt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Mt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var o=e.attr(s,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,h){var l,c,u,f,d,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=r&&e.nodeName.toLowerCase(),y=!h&&!r,b=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(r?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=g,u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),l=c[t]||[],d=l[0]===G&&l[1],b=d&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[G,d,b];break}}else if(y&&(f=e,u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),l=c[t]||[],d=l[0]===G&&l[1],b=d),b===!1)for(;(f=++d&&f&&f[m]||(b=d=0)||p.pop())&&((r?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),c[t]=[G,b]),f!==e)););return b-=s,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var s,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(s=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=o(t,i),a=s.length;a--;)n=tt(t,s[a]),t[n]=!(e[n]=s[a])}):function(t){return o(t,0,s)}):o}},pseudos:{not:n(function(t){var e=[],i=[],s=k(t.replace(rt,"$1"));return s[B]?n(function(t,e,i,n){for(var o,a=s(t,null,n,[]),r=t.length;r--;)(o=a[r])&&(t[r]=!(e[r]=o))}):function(t,n,o){return e[0]=t,s(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(Mt,xt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Mt,xt).toLowerCase(),function(e){var i;do if(i=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(M in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[M]=r(M);for(M in{submit:!0,reset:!0})w.pseudos[M]=h(M);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,S=e.tokenize=function(t,i){var n,s,o,a,r,h,l,c=U[t+" "];if(c)return i?0:c.slice(0);for(r=t,h=[],l=w.preFilter;r;){(!n||(s=ht.exec(r)))&&(s&&(r=r.slice(s[0].length)||r),h.push(o=[])),n=!1,(s=lt.exec(r))&&(n=s.shift(),o.push({value:n,type:s[0].replace(rt," ")}),r=r.slice(n.length));for(a in w.filter)!(s=dt[a].exec(r))||l[a]&&!(s=l[a](s))||(n=s.shift(),o.push({value:n,type:a,matches:s}),r=r.slice(n.length));if(!n)break}return i?r.length:r?e.error(t):U(t,h).slice(0)},k=e.compile=function(t,e){var i,n=[],s=[],o=V[t+" "];if(!o){for(e||(e=S(t)),i=e.length;i--;)o=y(e[i]),o[B]?n.push(o):s.push(o);o=V(t,b(s,n)),o.selector=t}return o},T=e.select=function(t,e,i,n){var s,o,a,r,h,l="function"==typeof t&&t,u=!n&&S(t=l.selector||t);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&D&&w.relative[o[1].type]){if(e=(w.find.ID(a.matches[0].replace(Mt,xt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(s=dt.needsContext.test(t)?0:o.length;s--&&(a=o[s],!w.relative[r=a.type]);)if((h=w.find[r])&&(n=h(a.matches[0].replace(Mt,xt),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(s,1),t=n.length&&f(o),!t)return J.apply(i,n),i;break}}return(l||k(t,u))(n,e,!D,i,!e||yt.test(t)&&c(e.parentNode)||e),i},x.sortStable=B.split("").sort(H).join("")===B,x.detectDuplicates=!!j,P(),x.sortDetached=s(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ut=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&ot(t).is(i))break;n.push(t)}return n},ft=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},dt=ot.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ot.find.matchesSelector(n,t)?[n]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,i=this.length,n=[],s=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;i>e;e++)if(ot.contains(s[e],this))return!0}));for(e=0;i>e;e++)ot.find(t,s[e],n);return n=this.pushStack(i>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&dt.test(t)?ot(t):t||[],!1).length}});var gt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||gt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),pt.test(n[1])&&ot.isPlainObject(e))for(n in e)ot.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return s=Y.getElementById(n[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==i.ready?i.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,gt=ot(Y);var bt=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,o=[],a=dt.test(t)||"string"!=typeof t?ot(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&ot.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Q.call(ot(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ut(t,"parentNode")},parentsUntil:function(t,e,i){return ut(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return ut(t,"nextSibling")},prevAll:function(t){return ut(t,"previousSibling")},nextUntil:function(t,e,i){return ut(t,"nextSibling",i)},prevUntil:function(t,e,i){return ut(t,"previousSibling",i)},siblings:function(t){return ft((t.parentNode||{}).firstChild,t)},children:function(t){return ft(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(i,n){var s=ot.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ot.filter(n,s)),this.length>1&&(Mt[t]||ot.uniqueSort(s),bt.test(t)&&s.reverse()),this.pushStack(s)}});var xt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,i,n,s,a=[],r=[],h=-1,l=function(){for(s=t.once,n=e=!0;r.length;h=-1)for(i=r.shift();++h<a.length;)a[h].apply(i[0],i[1])===!1&&t.stopOnFalse&&(h=a.length,i=!1);t.memory||(i=!1),e=!1,s&&(a=i?[]:"")},c={add:function(){return a&&(i&&!e&&(h=a.length-1,r.push(i)),function n(e){ot.each(e,function(e,i){ot.isFunction(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==ot.type(i)&&n(i)})}(arguments),i&&!e&&l()),this},remove:function(){return ot.each(arguments,function(t,e){for(var i;(i=ot.inArray(e,a,i))>-1;)a.splice(i,1),h>=i&&h--}),this},has:function(t){return t?ot.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=r=[],a=i="",this},disabled:function(){return!a},lock:function(){return s=r=[],i||(a=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],r.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(i){ot.each(e,function(e,o){var a=ot.isFunction(t[e])&&t[e];s[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,n):n}},s={};return n.pipe=n.then,ot.each(e,function(t,o){var a=o[2],r=o[3];n[o[1]]=a.add,r&&a.add(function(){i=r},e[1^t][2].disable,e[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=a.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,o=K.call(arguments),a=o.length,r=1!==a||t&&ot.isFunction(t.promise)?a:0,h=1===r?t:ot.Deferred(),l=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?K.call(arguments):s,n===e?h.notifyWith(i,n):--r||h.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>s;s++)o[s]&&ot.isFunction(o[s].promise)?o[s].promise().progress(l(s,i,e)).done(l(s,n,o)).fail(h.reject):--r;return r||h.resolveWith(n,o),h.promise()}});var wt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(wt.resolveWith(Y,[ot]),ot.fn.triggerHandler&&(ot(Y).triggerHandler("ready"),ot(Y).off("ready"))))}}),ot.ready.promise=function(e){return wt||(wt=ot.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(ot.ready):(Y.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),wt.promise(e)},ot.ready.promise();var Et=function(t,e,i,n,s,o,a){var r=0,h=t.length,l=null==i;if("object"===ot.type(i)){s=!0;for(r in i)Et(t,e,r,i[r],!0,o,a)}else if(void 0!==n&&(s=!0,ot.isFunction(n)||(a=!0),l&&(a?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(ot(t),i)})),e))for(;h>r;r++)e(t[r],i,a?n:n.call(t[r],r,e(t[r],i)));return s?t:l?e.call(t):h?e(t[0],i):o},_t=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};r.uid=1,r.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!_t(t))return{};var e=t[this.expando];return e||(e={},_t(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[e]=i;else for(n in e)s[n]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,ot.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,s,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?n=e.concat(e.map(ot.camelCase)):(s=ot.camelCase(e),e in o?n=[e,s]:(n=s,n=n in o?[n]:n.match(xt)||[])),i=n.length;for(;i--;)delete o[n[i]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var St=new r,kt=new r,Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;ot.extend({hasData:function(t){return kt.hasData(t)||St.hasData(t)},data:function(t,e,i){return kt.access(t,e,i)},removeData:function(t,e){kt.remove(t,e)},_data:function(t,e,i){return St.access(t,e,i)},_removeData:function(t,e){St.remove(t,e)}}),ot.fn.extend({data:function(t,e){var i,n,s,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(s=kt.get(o),1===o.nodeType&&!St.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=ot.camelCase(n.slice(5)),h(o,n,s[n])));St.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof t?this.each(function(){kt.set(this,t)}):Et(this,function(e){var i,n;if(o&&void 0===e){if(i=kt.get(o,t)||kt.get(o,t.replace(Nt,"-$&").toLowerCase()),void 0!==i)return i;if(n=ot.camelCase(t),i=kt.get(o,n),void 0!==i)return i;if(i=h(o,n,void 0),void 0!==i)return i}else n=ot.camelCase(t),this.each(function(){var i=kt.get(this,n);kt.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){kt.remove(this,t)})}}),ot.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=St.get(t,e),i&&(!n||ot.isArray(i)?n=St.access(t,e,ot.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ot.queue(t,e),n=i.length,s=i.shift(),o=ot._queueHooks(t,e),a=function(){ot.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete o.stop,s.call(t,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return St.get(t,i)||St.access(t,i,{empty:ot.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",i])})})}}),ot.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ot.queue(this[0],t):void 0===e?this:this.each(function(){var i=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=ot.Deferred(),o=this,a=this.length,r=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=St.get(o[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(r));return r(),s.promise(e)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],Lt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},At=/^(?:checkbox|radio)$/i,Dt=/<([\w:-]+)/,Ot=/^$|\/(?:java|ecma)script/i,It={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};It.optgroup=It.option,It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td;var Rt=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),i=Y.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ft=/^key/,Bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,i,n,s){var o,a,r,h,l,c,u,f,d,p,m,g=St.get(t);if(g)for(i.handler&&(o=i,i=o.handler,s=o.selector),i.guid||(i.guid=ot.guid++),(h=g.events)||(h=g.events={}),(a=g.handle)||(a=g.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(xt)||[""],l=e.length;l--;)r=qt.exec(e[l])||[],d=m=r[1],p=(r[2]||"").split(".").sort(),d&&(u=ot.event.special[d]||{},d=(s?u.delegateType:u.bindType)||d,u=ot.event.special[d]||{},c=ot.extend({type:d,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&ot.expr.match.needsContext.test(s),namespace:p.join(".")},o),(f=h[d])||(f=h[d]=[],f.delegateCount=0,u.setup&&u.setup.call(t,n,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),s?f.splice(f.delegateCount++,0,c):f.push(c),ot.event.global[d]=!0)},remove:function(t,e,i,n,s){var o,a,r,h,l,c,u,f,d,p,m,g=St.hasData(t)&&St.get(t);if(g&&(h=g.events)){for(e=(e||"").match(xt)||[""],l=e.length;l--;)if(r=qt.exec(e[l])||[],d=m=r[1],p=(r[2]||"").split(".").sort(),d){for(u=ot.event.special[d]||{},d=(n?u.delegateType:u.bindType)||d,f=h[d]||[],r=r[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!s&&m!==c.origType||i&&i.guid!==c.guid||r&&!r.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,u.remove&&u.remove.call(t,c));a&&!f.length&&(u.teardown&&u.teardown.call(t,p,g.handle)!==!1||ot.removeEvent(t,d,g.handle),delete h[d])}else for(d in h)ot.event.remove(t,d+e[l],i,n,!0);ot.isEmptyObject(h)&&St.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,i,n,s,o,a=[],r=K.call(arguments),h=(St.get(this,"events")||{})[t.type]||[],l=ot.event.special[t.type]||{};if(r[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=ot.event.handlers.call(this,t,h),e=0;(s=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((ot.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,r),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,o,a=[],r=e.delegateCount,h=t.target;if(r&&h.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(n=[],i=0;r>i;i++)o=e[i],s=o.selector+" ",void 0===n[s]&&(n[s]=o.needsContext?ot(s,this).index(h)>-1:ot.find(s,this,null,[h]).length),n[s]&&n.push(o);n.length&&a.push({elem:h,handlers:n})}return r<e.length&&a.push({elem:this,handlers:e.slice(r)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Y,n=i.documentElement,s=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,i,n,s=t.type,o=t,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=Bt.test(s)?this.mouseHooks:Ft.test(s)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new ot.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:p):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==n&&!ot.contains(n,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ot.fn.extend({on:function(t,e,i,n){return g(this,t,e,i,n)},one:function(t,e,i,n){return g(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ot(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=p),this.each(function(){ot.event.remove(this,t,i,e)})}});var Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,$t=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Gt,"<$1></$2>")},clone:function(t,e,i){var n,s,o,a,r=t.cloneNode(!0),h=ot.contains(t.ownerDocument,t);if(!(nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(a=c(r),o=c(t),n=0,s=o.length;s>n;n++)x(o[n],a[n]);if(e)if(i)for(o=o||c(t),a=a||c(r),n=0,s=o.length;s>n;n++)M(o[n],a[n]);else M(t,r);
return a=c(r,"script"),a.length>0&&u(a,!h&&c(t,"script")),r},cleanData:function(t){for(var e,i,n,s=ot.event.special,o=0;void 0!==(i=t[o]);o++)if(_t(i)){if(e=i[St.expando]){if(e.events)for(n in e.events)s[n]?ot.event.remove(i,n):ot.removeEvent(i,n,e.handle);i[St.expando]=void 0}i[kt.expando]&&(i[kt.expando]=void 0)}}}),ot.fn.extend({domManip:w,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Et(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return w(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return w(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return w(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return w(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return Et(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!$t.test(t)&&!It[(Dt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return w(this,arguments,function(e){var i=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),i&&i.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var i,n=[],s=ot(t),o=s.length-1,a=0;o>=a;a++)i=a===o?this:this.clone(!0),ot(s[a])[e](i),J.apply(n,i.get());return this.pushStack(n)}});var Ht,Xt={HTML:"block",BODY:"block"},Wt=/^margin/,Yt=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),Kt=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},Zt=function(t,e,i,n){var s,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];s=i.apply(t,n||[]);for(o in e)t.style[o]=a[o];return s},Jt=Y.documentElement;!function(){function e(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r.innerHTML="",Jt.appendChild(a);var e=t.getComputedStyle(r);i="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,r.style.marginRight="50%",s="4px"===e.marginRight,Jt.removeChild(a)}var i,n,s,o,a=Y.createElement("div"),r=Y.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===r.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(r),ot.extend(nt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),o},reliableMarginRight:function(){var e,i=r.appendChild(Y.createElement("div"));return i.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",r.style.width="1px",Jt.appendChild(a),e=!parseFloat(t.getComputedStyle(i).marginRight),Jt.removeChild(a),r.removeChild(i),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","O","Moz","ms"],ne=Y.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=k(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,a,r=ot.camelCase(e),h=t.style;return e=ot.cssProps[r]||(ot.cssProps[r]=N(r)||r),a=ot.cssHooks[e]||ot.cssHooks[r],void 0===i?a&&"get"in a&&void 0!==(s=a.get(t,!1,n))?s:h[e]:(o=typeof i,"string"===o&&(s=jt.exec(i))&&s[1]&&(i=l(t,e,s),o="number"),void(null!=i&&i===i&&("number"===o&&(i+=s&&s[3]||(ot.cssNumber[r]?"":"px")),nt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(h[e]=i))))}},css:function(t,e,i,n){var s,o,a,r=ot.camelCase(e);return e=ot.cssProps[r]||(ot.cssProps[r]=N(r)||r),a=ot.cssHooks[e]||ot.cssHooks[r],a&&"get"in a&&(s=a.get(t,!0,i)),void 0===s&&(s=k(t,e,n)),"normal"===s&&e in ee&&(s=ee[e]),""===i||i?(o=parseFloat(s),i===!0||isFinite(o)?o||0:s):s}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,i,n){return i?Qt.test(ot.css(t,"display"))&&0===t.offsetWidth?Zt(t,te,function(){return P(t,e,n)}):P(t,e,n):void 0},set:function(t,i,n){var s,o=n&&Kt(t),a=n&&j(t,e,n,"border-box"===ot.css(t,"boxSizing",!1,o),o);return a&&(s=jt.exec(i))&&"px"!==(s[3]||"px")&&(t.style[e]=i,i=ot.css(t,e)),C(t,i,a)}}}),ot.cssHooks.marginLeft=T(nt.reliableMarginLeft,function(t,e){return e?(parseFloat(k(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=T(nt.reliableMarginRight,function(t,e){return e?Zt(t,{display:"inline-block"},k,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+Pt[n]+e]=o[n]||o[n-2]||o[0];return s}},Wt.test(t)||(ot.cssHooks[t+e].set=C)}),ot.fn.extend({css:function(t,e){return Et(this,function(t,e,i){var n,s,o={},a=0;if(ot.isArray(e)){for(n=Kt(t),s=e.length;s>a;a++)o[e[a]]=ot.css(t,e[a],!1,n);return o}return void 0!==i?ot.style(t,e,i):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=A,A.prototype={constructor:A,init:function(t,e,i,n,s,o){this.elem=t,this.prop=i,this.easing=s||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ot.cssNumber[i]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,i=A.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=A.prototype.init,ot.fx.step={};var se,oe,ae=/^(?:toggle|show|hide)$/,re=/queueHooks$/;ot.Animation=ot.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return l(i.elem,t,jt.exec(e),i),i}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(xt);for(var i,n=0,s=t.length;s>n;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[R],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),ot.speed=function(t,e,i){var n=t&&"object"==typeof t?ot.extend({},t):{complete:i||!i&&e||ot.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ot.isFunction(e)&&e};return n.duration=ot.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ot.fx.speeds?ot.fx.speeds[n.duration]:ot.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ot.isFunction(n.old)&&n.old.call(this),n.queue&&ot.dequeue(this,n.queue)},n},ot.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=ot.isEmptyObject(t),o=ot.speed(e,i,n),a=function(){var e=B(this,ot.extend({},t),o);(s||St.get(this,"finish"))&&e.stop(!0)};return a.finish=a,s||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",o=ot.timers,a=St.get(this);if(s)a[s]&&a[s].stop&&n(a[s]);else for(s in a)a[s]&&a[s].stop&&re.test(s)&&n(a[s]);for(s=o.length;s--;)o[s].elem!==this||null!=t&&o[s].queue!==t||(o[s].anim.stop(i),e=!1,o.splice(s,1));(e||!i)&&ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=St.get(this),n=i[t+"queue"],s=i[t+"queueHooks"],o=ot.timers,a=n?n.length:0;for(i.finish=!0,ot.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var i=ot.fn[e];ot.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(O(e,!0),t,n,s)}}),ot.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,i=ot.timers;for(se=ot.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||ot.fx.stop(),se=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,i){return e=ot.fx?ot.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),i=e.appendChild(Y.createElement("option"));t.type="checkbox",nt.checkOn=""!==t.value,nt.optSelected=i.selected,e.disabled=!0,nt.optDisabled=!i.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",nt.radioValue="t"===t.value}();var he,le=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return Et(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,i){var n,s,o=t.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof t.getAttribute?ot.prop(t,e,i):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),s=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void ot.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:(n=ot.find.attr(t,e),null==n?void 0:n)):void 0},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,s=0,o=e&&e.match(xt);if(o&&1===t.nodeType)for(;i=o[s++];)n=ot.propFix[i]||i,ot.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),he={set:function(t,e,i){return e===!1?ot.removeAttr(t,i):t.setAttribute(i,i),i}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var i=le[e]||ot.find.attr;le[e]=function(t,e,n){var s,o;return n||(o=le[e],le[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,le[e]=o),s}});var ce=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return Et(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,i){var n,s,o=t.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,s=ot.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),nt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var fe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,i,n,s,o,a,r,h=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(xt)||[];i=this[h++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(fe," ")){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r=ot.trim(n),s!==r&&i.setAttribute("class",r)}return this},removeClass:function(t){var e,i,n,s,o,a,r,h=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(xt)||[];i=this[h++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(fe," ")){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r=ot.trim(n),s!==r&&i.setAttribute("class",r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(i){ot(this).toggleClass(t.call(this,i,q(this),e),e)}):this.each(function(){var e,n,s,o;if("string"===i)for(n=0,s=ot(this),o=t.match(xt)||[];e=o[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(void 0===t||"boolean"===i)&&(e=q(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(i)+" ").replace(fe," ").indexOf(e)>-1)return!0;return!1}});var de=/\r/g;ot.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=ot.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,ot(this).val()):t,null==s?s="":"number"==typeof s?s+="":ot.isArray(s)&&(s=ot.map(s,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=ot.valHooks[s.type]||ot.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(de,""):null==i?"":i)):void 0}}),ot.extend({valHooks:{option:{get:function(t){return ot.trim(t.value)}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,o="select-one"===t.type||0>s,a=o?null:[],r=o?s+1:n.length,h=0>s?r:o?s:0;r>h;h++)if(i=n[h],(i.selected||h===s)&&(nt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ot.nodeName(i.parentNode,"optgroup"))){if(e=ot(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,s=t.options,o=ot.makeArray(e),a=s.length;a--;)n=s[a],(n.selected=ot.inArray(ot.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},nt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var pe=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,i,n,s){var o,a,r,h,l,c,u,f=[n||Y],d=it.call(e,"type")?e.type:e,p=it.call(e,"namespace")?e.namespace.split("."):[];if(a=r=n=n||Y,3!==n.nodeType&&8!==n.nodeType&&!pe.test(d+ot.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[ot.expando]?e:new ot.Event(d,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ot.makeArray(i,[e]),u=ot.event.special[d]||{},s||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!s&&!u.noBubble&&!ot.isWindow(n)){for(h=u.delegateType||d,pe.test(h+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),r=a;r===(n.ownerDocument||Y)&&f.push(r.defaultView||r.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?h:u.bindType||d,c=(St.get(a,"events")||{})[e.type]&&St.get(a,"handle"),c&&c.apply(a,i),c=l&&a[l],c&&c.apply&&_t(a)&&(e.result=c.apply(a,i),e.result===!1&&e.preventDefault());return e.type=d,s||e.isDefaultPrevented()||u._default&&u._default.apply(f.pop(),i)!==!1||!_t(n)||l&&ot.isFunction(n[d])&&!ot.isWindow(n)&&(r=n[l],r&&(n[l]=null),ot.event.triggered=d,n[d](),ot.event.triggered=void 0,r&&(n[l]=r)),e.result}},simulate:function(t,e,i){var n=ot.extend(new ot.Event,i,{type:t,isSimulated:!0});ot.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ot.event.trigger(t,e,i,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),nt.focusin="onfocusin"in t,nt.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=St.access(n,e);s||n.addEventListener(t,i,!0),St.access(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=St.access(n,e)-1;s?St.access(n,e,s):(n.removeEventListener(t,i,!0),St.remove(n,e))}}});var me=t.location,ge=ot.now(),ve=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return(!i||i.getElementsByTagName("parsererror").length)&&ot.error("Invalid XML: "+e),i};var ye=/#.*$/,be=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,we=/^(?:GET|HEAD)$/,Ee=/^\/\//,_e={},Se={},ke="*/".concat("*"),Te=Y.createElement("a");Te.href=me.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:xe.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,ot.ajaxSettings),e):z(ot.ajaxSettings,t)},ajaxPrefilter:G(_e),ajaxTransport:G(Se),ajax:function(e,i){function n(e,i,n,r){var l,u,y,b,x,E=i;2!==M&&(M=2,h&&t.clearTimeout(h),s=void 0,a=r||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=U(f,w,n)),b=V(f,b,w,l),l?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ot.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ot.etag[o]=x)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=b.state,u=b.data,y=b.error,l=!y)):(y=E,(e||!E)&&(E="error",0>e&&(e=0))),w.status=e,w.statusText=(i||E)+"",l?m.resolveWith(d,[u,E,w]):m.rejectWith(d,[w,E,y]),w.statusCode(v),v=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,f,l?u:y]),g.fireWith(d,[w,E]),c&&(p.trigger("ajaxComplete",[w,f]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var s,o,a,r,h,l,c,u,f=ot.ajaxSetup({},i),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?ot(d):ot.event,m=ot.Deferred(),g=ot.Callbacks("once memory"),v=f.statusCode||{},y={},b={},M=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===M){if(!r)for(r={};e=Me.exec(a);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===M?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return M||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return M||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>M)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return s&&s.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||me.href)+"").replace(ye,"").replace(Ee,me.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=ot.trim(f.dataType||"*").toLowerCase().match(xt)||[""],null==f.crossDomain){l=Y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Te.protocol+"//"+Te.host!=l.protocol+"//"+l.host}catch(E){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ot.param(f.data,f.traditional)),$(_e,f,i,w),2===M)return w;c=ot.event&&f.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!we.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(ve.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=be.test(o)?o.replace(be,"$1_="+ge++):o+(ve.test(o)?"&":"?")+"_="+ge++)),f.ifModified&&(ot.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&w.setRequestHeader("If-None-Match",ot.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ke+"; q=0.01":""):f.accepts["*"]);for(u in f.headers)w.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===M))return w.abort();x="abort";for(u in{success:1,error:1,complete:1})w[u](f[u]);if(s=$(Se,f,i,w)){if(w.readyState=1,c&&p.trigger("ajaxSend",[w,f]),2===M)return w;f.async&&f.timeout>0&&(h=t.setTimeout(function(){w.abort("timeout")},f.timeout));try{M=1,s.send(y,n)}catch(E){if(!(2>M))throw E;n(-1,E)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return ot.get(t,e,i,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,i,n,s){return ot.isFunction(i)&&(s=s||n,n=i,i=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:s,data:i,success:n},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(i){ot(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ne=/%20/g,Ce=/\[\]$/,je=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var i,n=[],s=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){s(this.name,this.value)});else for(i in t)H(i,t[i],e,s);return n.join("&").replace(Ne,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Le.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!At.test(t))}).map(function(t,e){var i=ot(this).val();return null==i?null:ot.isArray(i)?ot.map(i,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:i.replace(je,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ae={0:200,1223:204},De=ot.ajaxSettings.xhr();nt.cors=!!De&&"withCredentials"in De,nt.ajax=De=!!De,ot.ajaxTransport(function(e){var i,n;return nt.cors||De&&!e.crossDomain?{send:function(s,o){var a,r=e.xhr();if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(a in s)r.setRequestHeader(a,s[a]);i=function(t){return function(){i&&(i=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?o(0,"error"):o(r.status,r.statusText):o(Ae[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),n=r.onerror=i("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{r.send(e.hasContent&&e.data||null)}catch(h){if(i)throw h}},abort:function(){i&&i()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,s){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Oe=[],Ie=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oe.pop()||ot.expando+"_"+ge++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,i,n){var s,o,a,r=e.jsonp!==!1&&(Ie.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ie.test(e.data)&&"data");return r||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Ie,"$1"+s):e.jsonp!==!1&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return a||ot.error(s+" was not called"),a[0]},e.dataTypes[0]="json",o=t[s],t[s]=function(){a=arguments},n.always(function(){void 0===o?ot(t).removeProp(s):t[s]=o,e[s]&&(e.jsonpCallback=i.jsonpCallback,Oe.push(s)),a&&ot.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),nt.createHTMLDocument=function(){var t=Y.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ot.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(nt.createHTMLDocument?Y.implementation.createHTMLDocument(""):Y);var n=pt.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=f([t],e,s),s&&s.length&&ot(s).remove(),ot.merge([],n.childNodes))};var Re=ot.fn.load;ot.fn.load=function(t,e,i){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var n,s,o,a=this,r=t.indexOf(" ");return r>-1&&(n=ot.trim(t.slice(r)),t=t.slice(0,r)),ot.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),a.length>0&&ot.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?ot("<div>").append(ot.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(a,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,i){var n,s,o,a,r,h,l,c=ot.css(t,"position"),u=ot(t),f={};"static"===c&&(t.style.position="relative"),r=u.offset(),o=ot.css(t,"top"),h=ot.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+h).indexOf("auto")>-1,l?(n=u.position(),a=n.top,s=n.left):(a=parseFloat(o)||0,s=parseFloat(h)||0),ot.isFunction(e)&&(e=e.call(t,i,ot.extend({},r))),null!=e.top&&(f.top=e.top-r.top+a),null!=e.left&&(f.left=e.left-r.left+s),"using"in e?e.using.call(t,f):u.css(f)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,i,n=this[0],s={top:0,left:0},o=n&&n.ownerDocument;return o?(e=o.documentElement,ot.contains(e,n)?(s=n.getBoundingClientRect(),i=X(o),{top:s.top+i.pageYOffset-e.clientTop,left:s.left+i.pageXOffset-e.clientLeft}):s):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===ot.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(n=t.offset()),n.top+=ot.css(t[0],"borderTopWidth",!0)-t.scrollTop(),n.left+=ot.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-n.top-ot.css(i,"marginTop",!0),left:e.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Jt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;ot.fn[t]=function(n){return Et(this,function(t,n,s){var o=X(t);return void 0===s?o?o[e]:t[n]:void(o?o.scrollTo(i?o.pageXOffset:s,i?s:o.pageYOffset):t[n]=s)},t,n,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=T(nt.pixelPosition,function(t,i){return i?(i=k(t,e),Yt.test(i)?ot(t).position()[e]+"px":i):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ot.fn[n]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||s===!0?"margin":"border");return Et(this,function(e,i,n){var s;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,
Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?ot.css(e,i,a):ot.style(e,i,n,a)},e,o?n:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Fe=t.jQuery,Be=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Be),e&&t.jQuery===ot&&(t.jQuery=Fe),ot},e||(t.jQuery=t.$=ot),ot}),define("config/settings",[],function(){"use strict";return{geocache:{auth_url:"http://geopeitus.ee",features_url:"http://www.geopeitus.ee/index.php?p=301&status[]=1&format=2",cache_url:"http://geopeitus.ee/aare/"},map:{el:"map",center:[25.5,58.5],zoom:7,extent:[21,57,29,60],baseLayers:{osm_et:{type:"OSM",title:"OSM Eesti",url:"http://kaart.maakaart.ee/osm/tiles/1.0.0/osm_EPSG900913/{z}/{x}/{y}.png?origin=nw",projection:"EPSG:3857",crossOrigin:null},osm:{type:"OSM",title:"OSM",url:"http://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",projection:"EPSG:3857",crossOrigin:null},ma_orto:{type:"Group",title:"Foto",projection:"EPSG:3301",layers:[{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/foto/{z}/{x}/{-y}.jpg",minResolution:1,crossOrigin:null},{type:"TileWMS",url:"http://kaart.maaamet.ee/wms/fotokaart",params:{LAYERS:"EESTIFOTO",TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},maxResolution:1,gutter:20,crossOrigin:null}]},ma_kaart:{type:"Group",title:"Põhikaart",projection:"EPSG:3301",layers:[{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/kaart/{z}/{x}/{-y}.png",minResolution:7,crossOrigin:null},{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/epk_vv/{z}/{x}/{-y}.png",minResolution:1,maxResolution:7.8125,crossOrigin:null},{type:"TileWMS",url:"http://kaart.maaamet.ee/wms/alus",params:{LAYERS:"pohi_vv",TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},maxResolution:1,gutter:20,crossOrigin:null}]}},activeBaseLayer:"osm",geocodingEnabled:!0,locateEnabled:!0,clustered:!1,mouseCoordinates:!0,featureInfo:!0}}});var m,aa=this,ca=0;w(ea,Error);var ha=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),ma="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,s=arguments.length;s>n;++n){var o=arguments[n];if(void 0!==o&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])}return i};wa.prototype.ra=!1,wa.prototype.$=ba,ya.prototype.preventDefault=ya.prototype.stopPropagation=function(){this.rf=!0},w(Aa,wa),Aa.prototype.addEventListener=function(t,e){var i=this.C[t];i||(i=this.C[t]=[]),-1===i.indexOf(e)&&i.push(e)},Aa.prototype.M=function(t){var e="string"==typeof t?new ya(t):t;t=e.type,e.target=this;var i,n=this.C[t];if(n){t in this.D||(this.D[t]=0,this.R[t]=0),++this.D[t];for(var s=0,o=n.length;o>s;++s)if(!1===n[s].call(this,e)||e.rf){i=!1;break}if(--this.D[t],0===this.D[t]){for(e=this.R[t],delete this.R[t];e--;)this.removeEventListener(t,ba);delete this.D[t]}return i}},Aa.prototype.$=function(){var t,e=ta(this);for(t in e)ua(this,t)},Aa.prototype.removeEventListener=function(t,e){var i=this.C[t];if(i){var n=i.indexOf(e);console.assert(-1!=n,"listener not found"),t in this.R?(i[n]=ba,++this.R[t]):(i.splice(n,1),0===i.length&&delete this.C[t])}},w(Ca,Aa),m=Ca.prototype,m.A=function(){++this.f,this.M("change")},m.$d=function(){return this.f},m.hb=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,s=Array(n),o=0;n>o;++o)s[o]=C(this,t[o],e,i);return s}return C(this,t,e,i)},m.ff=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,s=Array(n),o=0;n>o;++o)s[o]=C(this,t[o],e,i,!0);return s}return C(this,t,e,i,!0)},m.Kf=function(t,e,i){if(Array.isArray(t))for(var n=0,s=t.length;s>n;++n)va(this,t[n],e,i);else va(this,t,e,i)},m.Lf=function(t){if(Array.isArray(t))for(var e=0,i=t.length;i>e;++e)B(t[e]);else B(t)},w(D,Ca);var Da={};m=D.prototype,m.get=function(t){var e;return this.j.hasOwnProperty(t)&&(e=this.j[t]),e},m.$e=function(){return Object.keys(this.j)},m.ya=function(){return ma({},this.j)},m.set=function(t,e,i){i?this.j[t]=e:(i=this.j[t],this.j[t]=e,i!==e&&Ha(this,t,i))},m.fa=function(t,e){for(var i in t)this.set(i,t[i],e)},m.Mf=function(t,e){if(t in this.j){var i=this.j[t];delete this.j[t],e||Ha(this,t,i)}};var Ja="propertychange";w(Ia,ya),Ab.prototype.offset=function(t,e,i){var n=t[1]*Math.PI/180;e/=this.radius;var s=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(t[0]*Math.PI/180+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(s)))/Math.PI,180*s/Math.PI]};var Cb=new Ab(6370997),Db={};Db.degrees=2*Math.PI*Cb.radius/360,Db.ft=.3048,Db.m=1,Db["us-ft"]=1200/3937;var Eb=null;Fb.prototype.F=function(){return this.g},Fb.prototype.l=function(t){this.g=t,this.a=!(!this.b||!t)};var Hb={},Ib={};w(Zb,D),Zb.prototype.F=function(t){this.B!=this.f&&(this.v=this.Sb(this.v),this.B=this.f);var e=this.v;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Zb.prototype.transform=function(t,e){return console.assert("tile-pixels"!==Nb(t).f&&"tile-pixels"!==Nb(e).f,"cannot transform geometries with TILE_PIXELS units"),this.Wa(Vb(t,e)),this},w(ac,Zb),m=ac.prototype,m.Sb=function(t){var e=this.o,i=this.o.length,n=this.a;return t=kb(t),nb(t,e,0,i,n)},m.Yb=function(t){if(this.u!=this.f&&(na(this.i),this.l=0,this.u=this.f),0>t||0!==this.l&&t<=this.l)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i=this.Ma(t);return i.o.length<this.o.length?this.i[e]=i:(this.l=t,this)},m.Ma=function(){return this},m.Wa=function(t){this.o&&(t(this.o,this.o,this.a),this.A())},m.rotate=function(t,e){var i=this.o;if(i){for(var n=i.length,s=this.a,o=i?i:[],a=Math.cos(t),r=Math.sin(t),h=e[0],l=e[1],c=0,u=0;n>u;u+=s){var f=i[u]-h,d=i[u+1]-l;for(o[c++]=h+f*a-d*r,o[c++]=l+f*r+d*a,f=u+2;u+s>f;++f)o[c++]=i[f]}i&&o.length!=c&&(o.length=c),this.A()}},m.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var s=i;if(s||(s=ub(this.F())),i=this.o){e=i.length;for(var o=this.a,a=i?i:[],r=s[0],s=s[1],h=0,l=0;e>l;l+=o){var c=i[l]-r,u=i[l+1]-s;for(a[h++]=r+t*c,a[h++]=s+n*u,c=l+2;l+o>c;++c)a[h++]=i[c]}i&&a.length!=h&&(a.length=h),this.A()}},m.translate=function(t,e){var i=this.o;if(i){var n,s,o=i.length,a=this.a,r=i?i:[],h=0;for(n=0;o>n;n+=a)for(r[h++]=i[n]+t,r[h++]=i[n+1]+e,s=n+2;n+a>s;++s)r[h++]=i[s];i&&r.length!=h&&(r.length=h),this.A()}},w(kc,ac),m=kc.prototype,m.clone=function(){var t=new kc(null);return cc(t,this.U,this.o.slice()),t.A(),t},m.da=function(){return gc(this.o,0,this.o.length,this.a)},m.Ma=function(t){var e=[];return e.length=ic(this.o,0,this.o.length,this.a,t,e,0),t=new kc(null),cc(t,"XY",e),t.A(),t},m.W=function(){return"LinearRing"},m.ha=function(t,e){t?(dc(this,e,t,1),this.o||(this.o=[]),this.o.length=ec(this.o,0,t,this.a)):cc(this,"XY",null),this.A()},w(lc,ac),m=lc.prototype,m.clone=function(){var t=new lc(null);return t.P(this.U,this.o.slice()),t},m.da=function(){return this.o?this.o.slice():[]},m.Sb=function(t){var e=this.o,i=e[0],e=e[1];return jb(i,e,i,e,t)},m.W=function(){return"Point"},m.ha=function(t,e){if(t){dc(this,e,t,0),this.o||(this.o=[]);var i=this.o,n=this.o,s=0;console.assert(t.length==this.a,"length of the coordinate array should match stride");var o,a;for(o=0,a=t.length;a>o;++o)n[s++]=t[o];i.length=s,this.A()}else this.P("XY",null)},m.P=function(t,e){cc(this,t,e),this.A()},w(sc,ac),m=sc.prototype,m.clone=function(){var t=new sc(null);return t.P(this.U,this.o.slice(),this.c.slice()),t},m.da=function(t){var e;return void 0!==t?(e=tc(this).slice(),qc(e,0,this.c,this.a,t)):e=this.o,hc(e,0,this.c,this.a)},m.Ka=function(){return this.c},m.Ma=function(t){var e=[],i=[];return e.length=jc(this.o,0,this.c,this.a,Math.sqrt(t),e,0,i),t=new sc(null),t.P("XY",e,i),t},m.W=function(){return"Polygon"},m.ha=function(t,e){if(t){dc(this,e,t,2),this.o||(this.o=[]);var i=fc(this.o,0,t,this.a,this.c);this.o.length=0===i.length?0:i[i.length-1],this.A()}else this.P("XY",null,this.c)},m.P=function(t,e,i){e?0===i.length?console.assert(0===e.length,"flatCoordinates should be an empty array"):console.assert(e.length==i[i.length-1],"the length of flatCoordinates should be the last entry of ends"):console.assert(i&&0===i.length,"ends must be an empty array"),cc(this,t,e),this.c=i,this.A()},w(vc,D),m=vc.prototype,m.animate=function(t){var e,i=Date.now(),n=this.la().slice(),s=Ac(this),o=Bc(this),a=arguments.length;a>1&&"function"==typeof arguments[a-1]&&(e=arguments[a-1],--a);for(var r=[],h=0;a>h;++h){var l=arguments[h],c={start:i,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||ab};l.center&&(c.oc=n,c.qc=l.center,n=c.qc),void 0!==l.zoom?(c.Ib=s,c.Jb=this.constrainResolution(this.g,l.zoom-this.i,0),s=c.Jb):l.resolution&&(c.Ib=s,c.Jb=l.resolution,s=c.Jb),void 0!==l.rotation&&(c.pc=o,c.vd=l.rotation,o=c.vd),c.vb=e,i+=c.duration,r.push(c)}this.a.push(r),Cc(this,Dc,1),this.Lb()},m.Lb=function(){if(void 0!==this.s&&(cancelAnimationFrame(this.s),this.s=void 0),Ec(this)){for(var t=Date.now(),e=!1,i=this.a.length-1;i>=0;--i){for(var n=this.a[i],s=!0,o=0,a=n.length;a>o;++o){var r=n[o];if(!r.complete){if(e=t-r.start,e=0<r.duration?e/r.duration:1,e>=1?(r.complete=!0,e=1):s=!1,e=r.easing(e),r.oc){var h=r.oc[0],l=r.oc[1];this.set(wc,[h+e*(r.qc[0]-h),l+e*(r.qc[1]-l)])}if(r.Ib&&(h=r.Ib+e*(r.Jb-r.Ib),r.anchor&&this.set(wc,Hc(this,h,r.anchor)),this.set(yc,h)),void 0!==r.pc&&(e=r.pc+e*(r.vd-r.pc),r.anchor&&this.set(wc,Ic(this,e,r.anchor)),this.set(zc,e)),e=!0,!r.complete)break}}s&&(this.a[i]=null,Cc(this,Dc,-1),(n=n[0].vb)&&n(!0))}this.a=this.a.filter(Boolean),e&&void 0===this.s&&(this.s=requestAnimationFrame(this.Lb))}},m.constrainResolution=function(t,e,i){return this.c.resolution(t,e||0,i||0)},m.constrainRotation=function(t,e){return this.c.rotation(t,e||0)},m.la=function(){return this.get(wc)},m.af=function(){return this.u},m.aa=function(){console.assert(Kc(this),"the view was not defined (had no center and/or resolution)");var t=this.la(),e=this.u,i=Ac(this),n=Bc(this);return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:n}},m.ce=function(){var t,e=Ac(this);if(void 0!==e&&e>=this.v&&e<=this.g){t=this.i||0;var i,n;if(this.l){if(n=La(this.l,e,1),t+=n,n==this.l.length-1)return t;i=this.l[n],n=i/this.l[n+1]}else i=this.g,n=this.B;t+=Math.log(i/e)/Math.log(n)}return t},m.Td=function(t,e,i){if(!(t instanceof ac)){z(Array.isArray(t),24),z(!rb(t),25);var n=t[0],s=t[1],o=t[2],a=t[3],n=[n,s,n,a,o,a,o,s,n,s],s=new sc(null);s.P("XY",n,[n.length]),t=s}i=i||{};var r,s=void 0!==i.padding?i.padding:[0,0,0,0],h=void 0!==i.constrainResolution?i.constrainResolution:!0,a=void 0!==i.nearest?i.nearest:!1;r=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.g,i.maxZoom-this.i,0):0;var l=t.o,o=Bc(this);console.assert(void 0!==o,"rotation was not defined");var n=Math.cos(-o),o=Math.sin(-o),c=1/0,u=1/0,f=-(1/0),d=-(1/0);t=t.a;for(var p=0,m=l.length;m>p;p+=t)var g=l[p]*n-l[p+1]*o,v=l[p]*o+l[p+1]*n,c=Math.min(c,g),u=Math.min(u,v),f=Math.max(f,g),d=Math.max(d,v);e=Jc([c,u,f,d],[e[0]-s[1]-s[3],e[1]-s[0]-s[2]]),e=isNaN(e)?r:Math.max(e,r),h&&(r=this.constrainResolution(e,0,0),!a&&e>r&&(r=this.constrainResolution(r,-1,0)),e=r),o=-o,r=(c+f)/2+(s[1]-s[3])/2*e,s=(u+d)/2+(s[0]-s[2])/2*e,r=[r*n-s*o,s*n+r*o],void 0!==i.duration?this.animate({resolution:e,center:r,duration:i.duration,easing:i.easing}):(Lc(this,e),this.za(r))},m.rotate=function(t,e){if(void 0!==e){var i=Ic(this,t,e);this.za(i)}this.set(zc,t),Ec(this)&&Gc(this)},m.za=function(t){this.set(wc,t),Ec(this)&&Gc(this)},m.Df=function(t){t=this.constrainResolution(this.g,t-this.i,0),Lc(this,t)};var wc="center",yc="resolution",zc="rotation",Dc=0,Tc=[0,0,0];Rc.prototype.F=function(){return this.l},w(I,D),m=I.prototype,m.clear=function(){for(;0<this.eb();)this.pop()},m.forEach=function(t,e){this.a.forEach(t,e)},m.Oe=function(){return this.a},m.item=function(t){return this.a[t]},m.eb=function(){return this.get(id)},m.Zc=function(t,e){this.a.splice(t,0,e),hd(this),this.M(new jd(kd,e))},m.pop=function(){return this.kc(this.eb()-1)},m.push=function(t){var e=this.eb();return this.Zc(e,t),this.eb()},m.remove=function(t){var e,i,n=this.a;for(e=0,i=n.length;i>e;++e)if(n[e]===t)return this.kc(e)},m.kc=function(t){var e=this.a[t];return this.a.splice(t,1),hd(this),this.M(new jd(ld,e)),e};var id="length",kd="add",ld="remove";w(jd,ya);var md=/^#(?:[0-9a-f]{3}){1,2}$/i,nd=/^([a-z]*)$/i,qd=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=1024){n=0;for(var s in t)0===(3&n++)&&(delete t[s],--e)}n=i;var o;if(nd.exec(n)&&(s=document.createElement("div"),s.style.color=n,document.body.appendChild(s),n=getComputedStyle(s).color,document.body.removeChild(s)),md.exec(n)){o=n.length-1,z(3==o||6==o,54);var a=3==o?1:2;o=parseInt(n.substr(1+0*a,a),16),s=parseInt(n.substr(1+1*a,a),16),n=parseInt(n.substr(1+2*a,a),16),1==a&&(o=(o<<4)+o,s=(s<<4)+s,n=(n<<4)+n),o=[o,s,n,1]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),o=pd(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),o=pd(n)):z(!1,14);n=o,t[i]=n,++e}return n}}();w(vd,ya),w(wd,D),wd.prototype.$=function(){ud(this.element),D.prototype.$.call(this)},wd.prototype.setMap=function(t){this.g&&ud(this.element);for(var e=0,i=this.i.length;i>e;++e)B(this.i[e]);this.i.length=0,(this.g=t)&&((this.L?this.L:t.s).appendChild(this.element),this.render!==ba&&this.i.push(C(t,"postrender",this.render,this)),t.render())},w(xd,wd),xd.prototype.X=function(t){if(t.preventDefault(),this.element.classList.toggle("ol-collapsed"),this.c){t=this.u;var e=t.parentNode;e&&e.replaceChild(this.s,t)}else t=this.s,(e=t.parentNode)&&e.replaceChild(this.u,t);this.c=!this.c},w(zd,wd),zd.prototype.u=function(t){t.preventDefault(),void 0!==this.c?this.c():(t=this.g.T())&&void 0!==Bc(t)&&(0<this.l?t.animate({rotation:0,duration:this.l,easing:$a}):(t.set(zc,0),Ec(t)&&Gc(t)))},w(Bd,wd),Bd.prototype.b=function(t,e){e.preventDefault();var i=this.g.T();if(i){var n=Ac(i);n&&(n=i.constrainResolution(n,t),0<this.a?(Ec(i)&&Gc(i),i.animate({resolution:n,duration:this.a,easing:$a})):Lc(i,n))}},w(Dd,wd),Dd.prototype.v=function(){this.b=null},Dd.prototype.s=function(t){this.c=this.g.Ub(t),Hd(this,this.c)},Dd.prototype.u=function(){Hd(this,null),this.c=null},Dd.prototype.setMap=function(t){wd.prototype.setMap.call(this,t),t&&(t=t.a,this.i.push(C(t,"mousemove",this.s,this),C(t,"mouseout",this.u,this)))};var Fd="projection",Gd="coordinateFormat";w(Id,vd),Id.prototype.preventDefault=function(){vd.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Id.prototype.stopPropagation=function(){vd.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Jd={$f:"singleclick",Of:"click",Pf:"dblclick",Sf:"pointerdrag",Vf:"pointermove",Rf:"pointerdown",Yf:"pointerup",Xf:"pointerover",Wf:"pointerout",Tf:"pointerenter",Uf:"pointerleave",Qf:"pointercancel"};w(Kd,Id);var Ld="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Md=-1!==Ld.indexOf("firefox"),Nd=-1!==Ld.indexOf("safari")&&-1==Ld.indexOf("chrom"),Od=-1!==Ld.indexOf("webkit")&&-1==Ld.indexOf("edge"),Pd=-1!==Ld.indexOf("macintosh"),Qd=window.devicePixelRatio||1,Rd=!1,Sd=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return t?(void 0!==t.setLineDash&&(Rd=!0),!0):!1}catch(e){return!1}}(),Td="geolocation"in navigator,Ud="ontouchstart"in window,Vd="PointerEvent"in window,Wd=!!navigator.msPointerEnabled;w(Yd,Xd),m=Yd.prototype,m.ye=function(t){if(!Zd(this,t)){if(1..toString()in this.f){var e=$d(t);be(this.a,"pointercancel",e,t),delete this.f[1..toString()]}e=$d(t),this.f[1..toString()]=t,be(this.a,"pointerdown",e,t)}},m.ze=function(t){if(!Zd(this,t)){var e=$d(t);be(this.a,"pointermove",e,t)}},m.Ce=function(t){if(!Zd(this,t)){var e=this.f[1..toString()];e&&e.button===t.button&&(e=$d(t),be(this.a,"pointerup",e,t),delete this.f[1..toString()])}},m.Be=function(t){if(!Zd(this,t)){var e=$d(t);ce(this.a,e,t)}},m.Ae=function(t){if(!Zd(this,t)){var e=$d(t);de(this.a,e,t)}},w(ee,Xd),m=ee.prototype,m.He=function(t){this.f[t.pointerId.toString()]=t;var e=fe(this,t);be(this.a,"pointerdown",e,t)},m.Ie=function(t){var e=fe(this,t);be(this.a,"pointermove",e,t)},m.Le=function(t){var e=fe(this,t);be(this.a,"pointerup",e,t),delete this.f[t.pointerId.toString()]},m.Je=function(t){var e=fe(this,t);de(this.a,e,t)},m.Ke=function(t){var e=fe(this,t);ce(this.a,e,t)},m.Ge=function(t){var e=fe(this,t);be(this.a,"pointercancel",e,t),delete this.f[t.pointerId.toString()]},m.Fe=function(t){this.a.M(new ge("lostpointercapture",t,t))},m.Ee=function(t){this.a.M(new ge("gotpointercapture",t,t))},w(he,Xd),m=he.prototype,m.jf=function(t){ie(this.a,t)},m.kf=function(t){ie(this.a,t)},m.nf=function(t){ie(this.a,t)},m.lf=function(t){ie(this.a,t)},m.mf=function(t){ie(this.a,t)},m.hf=function(t){ie(this.a,t)},m.we=function(t){ie(this.a,t)},m.de=function(t){ie(this.a,t)},w(ge,ya);var le=!1;try{le=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}w(me,Xd),m=me.prototype,m.sd=function(){this.j=0,this.g=void 0},m.Jf=function(t){var e=t.touches,i=Object.keys(this.f),n=i.length;if(n>=e.length){var s,o,a,r=[];for(s=0;n>s;++s){o=i[s],a=this.f[o];var h;if(!(h=1==o))t:{h=e.length;for(var l,c=0;h>c;c++)if(l=e[c],l.identifier===o-2){h=!0;break t}h=!1}h||r.push(a.out)}for(s=0;s<r.length;++s)this.Pb(t,r[s])}e=t.changedTouches[0],i=Object.keys(this.f).length,(0===i||1===i&&1..toString()in this.f)&&(this.b=e.identifier,void 0!==this.g&&clearTimeout(this.g)),pe(this,t),this.j++,oe(this,t,this.gf)},m.gf=function(t,e){this.f[e.pointerId]={target:e.target,out:e,kd:e.target};var i=this.a;e.bubbles=!0,be(i,"pointerover",e,t),i=this.a,e.bubbles=!1,be(i,"pointerenter",e,t),be(this.a,"pointerdown",e,t)},m.If=function(t){t.preventDefault(),oe(this,t,this.De)},m.De=function(t,e){var i=this.f[e.pointerId];if(i){var n=i.out,s=i.kd;be(this.a,"pointermove",e,t),n&&s!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=s,n.target=s,e.target?(de(this.a,n,t),ce(this.a,e,t)):(e.target=s,e.relatedTarget=null,this.Pb(t,e))),i.out=e,i.kd=e.target}},m.Hf=function(t){pe(this,t),oe(this,t,this.Nf)},m.Nf=function(t,e){be(this.a,"pointerup",e,t),this.a.out(e,t),qe(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.b=void 0,this.g=setTimeout(this.sd.bind(this),200))},m.Gf=function(t){oe(this,t,this.Pb)},m.Pb=function(t,e){be(this.a,"pointercancel",e,t),this.a.out(e,t),qe(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.b=void 0,this.g=setTimeout(this.sd.bind(this),200))},w(re,Aa),re.prototype.b=function(t){var e=this.g[t.type];e&&e(t)},re.prototype.out=function(t,e){t.bubbles=!0,be(this,"pointerout",t,e)},re.prototype.$=function(){for(var t,e=this.a.length,i=0;e>i;i++)t=this.a[i],ue(this,Object.keys(t.c));Aa.prototype.$.call(this)};var ve=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];w(we,Aa),m=we.prototype,m.Xc=function(t){ye(this,t);var e=new Kd("pointerup",this.b,t);this.M(e),this.i||0!==t.button||(console.assert(this.a,"this.down_ must be truthy"),xe(this,this.a)),console.assert(0<=this.l,"this.activePointers_ should be equal to or larger than 0"),0===this.l&&(this.g.forEach(B),this.g.length=0,this.i=!1,this.a=null,xa(this.f),this.f=null)},m.me=function(t){ye(this,t);var e=new Kd("pointerdown",this.b,t);this.M(e),this.a=t,0===this.g.length&&(this.f=new re(document),this.g.push(C(this.f,"pointermove",this.Ye,this),C(this.f,"pointerup",this.Xc,this),C(this.c,"pointercancel",this.Xc,this)))},m.Ye=function(t){if(t.clientX!=this.a.clientX||t.clientY!=this.a.clientY){this.i=!0;var e=new Kd("pointerdrag",this.b,t,this.i);this.M(e)}t.preventDefault()},m.wf=function(t){this.M(new Kd(t.type,this.b,t,!(!this.a||t.clientX==this.a.clientX&&t.clientY==this.a.clientY)))},m.$=function(){this.u&&(B(this.u),this.u=null),this.s&&(B(this.s),this.s=null),this.g.forEach(B),this.g.length=0,this.f&&(xa(this.f),this.f=null),this.c&&(xa(this.c),this.c=null),Aa.prototype.$.call(this)},w(ze,Aa),ze.prototype.A=function(){this.M("change")},ze.prototype.getKey=function(){return this.key+"/"+this.qa},ze.prototype.aa=function(){return this.state},Ae.prototype.clear=function(){this.a.length=0,this.b.length=0,na(this.f)},Ae.prototype.i=function(t){z(!(this.j(t)in this.f),31);var e=this.C(t);return 1/0!=e?(this.a.push(t),this.b.push(e),this.f[this.j(t)]=!0,Be(this,0,this.a.length-1),!0):!1},w(De,Ae),De.prototype.i=function(t){var e=Ae.prototype.i.call(this,t);return e&&C(t[0],"change",this.l,this),e},De.prototype.l=function(t){t=t.target;var e=t.aa();(2===e||3===e||4===e||5===e)&&(va(t,"change",this.l,this),t=t.getKey(),t in this.g&&(delete this.g[t],--this.c),this.D()),console.assert(Object.keys(this.g).length===this.c)},w(Fe,D),Fe.prototype.setMap=function(t){this.s=t};var Ge="active";w(Ke,Fe),w(Se,Fe),Se.prototype.i=function(t){return t},w(Ve,Se),Ve.prototype.i=zb,w($e,Se),$e.prototype.i=zb,w(df,wa),df.prototype.$=function(){this.setMap(null)},df.prototype.setMap=function(t){if(this.a){this.a.u.removeChild(this.f);var e=this.f.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.u.appendChild(this.f)},df.prototype.Y=function(){return this.g},w(gf,Se),gf.prototype.Y=function(){return this.b.Y()},gf.prototype.u=ba;var pf="boxstart",nf="boxdrag",of="boxend";w(mf,ya),w(qf,gf),qf.prototype.u=function(){var t=this.s,e=t.T(),i=t.Qa(),n=this.Y().F();if(this.ia){var s;s=e.la(),z(s,1);var o=Ac(e);z(void 0!==o,2);var a=Bc(e);for(z(void 0!==a,3),s=vb(s,o,a,i),n=[Ze(t,[n[0],n[1]]),Ze(t,[n[2],n[3]])],t=kb(void 0),o=0,a=n.length;a>o;++o)eb(t,n[o]);t=1/Jc(t,i),n=(s[2]-s[0])/2*(t-1),t=(s[3]-s[1])/2*(t-1),s[0]-=n,s[2]+=n,s[1]-=t,s[3]+=t,n=s}i=e.constrainResolution(Jc(n,i)),e.animate({resolution:i,center:ub(n),duration:this.ca,easing:$a})},w(rf,Fe),w(tf,Fe),w(vf,Fe),vf.prototype.u=function(){this.i=void 0,Cc(this.s.T(),1,-1)},vf.prototype.v=function(t){t=t.T(),Ec(t)&&Gc(t),Ie(t,-fa(this.g,-1,1),this.a,this.B),this.c=void 0,this.g=0,this.a=null,this.l=this.b=void 0};var xf="trackpad",yf="wheel";w(zf,Se),zf.prototype.i=zb,w(Df,Se),Df.prototype.i=zb,w(Hf,D),m=Hf.prototype,m.F=function(){return this.get(Of)},m.yb=function(){return this.get(Jf)},m.Bf=function(t){this.set(Lf,t)},m.Cf=function(t){this.set(Mf,t)},m.bf=function(t){this.set(Jf,t)};var If="opacity",Jf="visible",Of="extent",Kf="zIndex",Lf="maxResolution",Mf="minResolution";w(Pf,Hf),m=Pf.prototype,m.Ab=function(){this.yb()&&this.A()},m.ie=function(){this.g.forEach(B),this.g.length=0;var t=this.fb();this.g.push(C(t,kd,this.he,this),C(t,ld,this.je,this));for(var e in this.a)this.a[e].forEach(B);na(this.a);var i,n,t=t.a;for(e=0,i=t.length;i>e;e++)n=t[e],this.a[y(n).toString()]=[C(n,Ja,this.Ab,this),C(n,"change",this.Ab,this)];this.A()},m.he=function(t){t=t.element;var e=y(t).toString();console.assert(!(e in this.a),"listeners already registered"),this.a[e]=[C(t,Ja,this.Ab,this),C(t,"change",this.Ab,this)],this.A()},m.je=function(t){t=y(t.element).toString(),console.assert(t in this.a,"no listeners to unregister"),this.a[t].forEach(B),delete this.a[t],this.A()},m.fb=function(){return this.get(Qf)},m.Wb=function(t){var e=void 0!==t?t:[],i=e.length;this.fb().forEach(function(t){t.Wb(e)}),t=Nf(this);var n,s;for(n=e.length;n>i;i++)s=e[i],s.opacity*=t.opacity,s.visible=s.visible&&t.visible,s.maxResolution=Math.min(s.maxResolution,t.maxResolution),s.minResolution=Math.max(s.minResolution,t.minResolution),void 0!==t.extent&&(s.extent=void 0!==s.extent?wb(s.extent,t.extent):t.extent);return e},m.Zb=function(){return"ready"};var Qf="layers";w(Rf,Fb);var Uf=6378137*Math.PI,Sf=[-Uf,-Uf,Uf,Uf],Tf=[-180,-85,180,85],Vf="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new Rf(t)}),Yf=new Ab(6378137);w(Zf,Fb);var $f=[-180,-90,180,90],ag=Math.PI*Yf.radius/180,bg=[new Zf("CRS:84"),new Zf("EPSG:4326","neu"),new Zf("urn:ogc:def:crs:EPSG::4326","neu"),new Zf("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Zf("urn:ogc:def:crs:OGC:1.3:CRS84"),new Zf("urn:ogc:def:crs:OGC:2:84"),new Zf("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Zf("urn:x-ogc:def:crs:EPSG:4326","neu")];w(cg,ya),w(dg,Hf),m=dg.prototype,m.Wb=function(t){return t=t?t:[],t.push(Nf(this)),t},m.pa=function(){return this.get("source")||null},m.Zb=function(){var t=this.pa();return t?t.aa():"undefined"},m.cf=function(){this.A()},m.re=function(){this.c&&(B(this.c),this.c=null);var t=this.pa();t&&(this.c=C(t,"change",this.cf,this)),this.A()},m.setMap=function(t){this.a&&(B(this.a),this.a=null),t||this.A(),this.g&&(B(this.g),this.g=null),t&&(this.a=C(t,"precompose",function(t){var e=Nf(this);e.dc=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[y(this)]=e},this),this.g=C(this,"change",t.render,t),this.A())},eg.prototype.clear=function(){this.a={},this.f=0},eg.prototype.get=function(t,e,i){return t=fg(t,e,i),t in this.a?this.a[t]:null},eg.prototype.set=function(t,e,i,n){t=fg(t,e,i),this.a[t]=n,++this.f};var gg=new eg;w(lg,wa),m=lg.prototype,m.$=function(){for(var t in this.f)xa(this.f[t])},m.oa=function(t,e,i,n,s,o,a){function r(t,i){var o=y(t).toString(),a=e.layerStates[y(i)].dc;return o in e.skippedFeatureUids&&!a?void 0:n.call(s,t,a?i:null)}var h,l=e.viewState,c=l.resolution,u=l.projection,l=t;if(u.a){var u=u.F(),f=sb(u),d=t[0];(d<u[0]||d>u[2])&&(l=[d+f*Math.ceil((u[0]-d)/f),t[1]])}for(u=e.layerStatesArray,f=u.length-1;f>=0;--f){var p=u[f],d=p.layer;if(p.visible&&c>=p.minResolution&&c<p.maxResolution&&o.call(a,d)&&(p=ng(this,d),d.pa()&&(h=p.oa(d.pa().l?l:t,e,i,r,s)),h))return h}},m.ge=function(){this.j.render()},m.qd=ba,m.yf=function(t,e){for(var i in this.f)if(!(e&&i in e.layerStates)){var n=i;console.assert(n in this.f,"given layerKey (%s) exists in layerRenderers",n);var s=this.f[n];delete this.f[n],console.assert(n in this.b,"given layerKey (%s) exists in layerRendererListeners",n),B(this.b[n]),delete this.b[n],xa(s)}},w(sg,dg),w(og,dg);var tg="preload",ug="useInterimTilesOnError",vg=[0,0,0,1],wg=[],xg=[0,0,0,1];w(Ag,zg),m=Ag.prototype,m.clone=function(){var t=new Ag({fill:this.g?this.g.clone():void 0,points:this.c!==this.f?this.a/2:this.a,radius:this.f,radius2:this.c,angle:this.C,snapToPixel:this.u,stroke:this.b?this.b.clone():void 0,rotation:this.s,rotateWithView:this.v,atlasManager:this.B});return t.l=this.l,t.i=this.i,t},m.wb=function(){return this.Z},m.jd=function(){return this.R},m.Fb=function(){return this.D},m.Uc=function(){return this.I},m.gb=function(){return 2},m.Gb=function(){return this.L},m.Ra=function(){return this.S},m.$c=ba,m.load=ba,m.wd=ba,m.Sc=function(t,e,i,n){var s;if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else for(this.c!==this.f&&(this.a*=2),i=0;i<=this.a;i++)n=2*i*Math.PI/this.a-Math.PI/2+this.C,s=0===i%2?this.f:this.c,e.lineTo(t.size/2+s*Math.cos(n),t.size/2+s*Math.sin(n));this.g&&(e.fillStyle=rd(this.g.a),e.fill()),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.ud,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},m.Lc=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else{this.c!==this.f&&(this.a*=2);var s;for(i=0;i<=this.a;i++)s=2*i*Math.PI/this.a-Math.PI/2+this.C,n=0===i%2?this.f:this.c,e.lineTo(t.size/2+n*Math.cos(s),t.size/2+n*Math.sin(s))}e.fillStyle=vg,e.fill(),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.ud,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},w(Bg,Ag),Bg.prototype.clone=function(){var t=new Bg({fill:this.g?this.g.clone():void 0,stroke:this.b?this.b.clone():void 0,radius:this.f,snapToPixel:this.u,atlasManager:this.B});return t.l=this.l,t.i=this.i,t},Cg.prototype.clone=function(){var t=this.a;return new Cg({color:t&&t.slice?t.slice():t||void 0})},Dg.prototype.clone=function(){var t=this.a;return new Dg({color:t&&t.slice?t.slice():t||void 0,lineCap:this.c,lineDash:this.f?this.f.slice():void 0,lineJoin:this.j,miterLimit:this.i,width:this.g})},Dg.prototype.setLineDash=function(t){this.f=t,this.b=void 0},Eg.prototype.clone=function(){var t=this.Y();return t&&t.clone&&(t=t.clone()),new Eg({geometry:t,fill:this.b?this.b.clone():void 0,image:this.g?this.g.clone():void 0,stroke:this.f?this.f.clone():void 0,text:this.ea()?this.ea().clone():void 0,zIndex:this.a})},Eg.prototype.Y=function(){return this.j},Eg.prototype.ea=function(){return this.i},Eg.prototype.Ta=function(t){"function"==typeof t?this.c=t:"string"==typeof t?this.c=function(e){return e.get(t)}:t?t&&(this.c=function(){return t}):this.c=Fg,this.j=t};var Hg=null;w(qg,dg),w(Kg,Jg),m=Kg.prototype,m.Kc=function(t){if(xb(this.i,t.F())){if(this.f||this.a){this.f&&Ng(this,this.f),this.a&&Og(this,this.a);var e;e=this.v;var i=this.u,n=t.o;e=n?$b(n,0,n.length,t.a,e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.g,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.f&&n.fill(),this.a&&n.stroke()}""!==this.b&&Mg(this,t.o.slice(0,t.a),2,2)}},m.Qc=function(t){var e=t.o;t=t.a,this.c&&Lg(this,e,e.length),""!==this.b&&Mg(this,e,e.length,t)},m.Oc=function(t){var e=t.o;t=t.a,this.c&&Lg(this,e,e.length),""!==this.b&&Mg(this,e,e.length,t)},m.Mc=function(t){if(xb(this.i,t.F())){if(this.a){Og(this,this.a);var e=this.g,i=t.o;e.beginPath(),Pg(this,i,0,i.length,t.a,!1),e.stroke()}""!==this.b&&(t=Rg(t),Mg(this,t,2,2))}},m.Nc=function(t){var e=t.F();if(xb(this.i,e)){if(this.a){Og(this,this.a);var e=this.g,i=t.o,n=0,s=t.Ka(),o=t.a;e.beginPath();var a,r;for(a=0,r=s.length;r>a;++a)n=Pg(this,i,n,s[a],o,!1);e.stroke()}""!==this.b&&(t=Sg(t),Mg(this,t,t.length,2))}},m.Rc=function(t){if(xb(this.i,t.F())){if(this.a||this.f){this.f&&Ng(this,this.f),this.a&&Og(this,this.a);var e=this.g;e.beginPath(),Qg(this,tc(t),0,t.Ka(),t.a),this.f&&e.fill(),this.a&&e.stroke()}""!==this.b&&(t=uc(t),Mg(this,t,2,2))}},m.Pc=function(t){if(xb(this.i,t.F())){if(this.a||this.f){this.f&&Ng(this,this.f),this.a&&Og(this,this.a);var e,i,n=this.g,s=Tg(t),o=0,a=t.g,r=t.a;for(n.beginPath(),e=0,i=a.length;i>e;++e)o=Qg(this,s,o,a[e],r);this.f&&n.fill(),this.a&&n.stroke()}""!==this.b&&(t=Ug(t),Mg(this,t,t.length,2))}},m.Ea=function(t,e){if(t){var i=t.a;this.f={fillStyle:rd(i?i:vg)}}else this.f=null;if(e){var i=e.a,n=e.c,s=e.f,o=e.j,a=e.g,r=e.i;this.a={lineCap:void 0!==n?n:"round",lineDash:s?s:wg,lineJoin:void 0!==o?o:"round",lineWidth:this.R*(void 0!==a?a:1),miterLimit:void 0!==r?r:10,strokeStyle:rd(i?i:xg)}}else this.a=null},m.mc=function(t){if(t){var e=t.wb(),i=t.Fb(1),n=t.Gb(),s=t.Ra();console.assert(i,"imageImage must be truthy"),this.B=e[0],this.Z=e[1],this.I=s[1],this.c=i,this.s=t.l,this.ia=n[0],this.na=n[1],this.sa=t.v,this.ta=t.s,this.j=t.i,this.Ba=t.u,this.L=s[0]}else this.c=null},m.Aa=function(t){if(t){var e=t.a;e?(e=e.a,this.l={fillStyle:rd(e?e:vg)}):this.l=null;var i=t.b;if(i){var e=i.a,n=i.c,s=i.f,o=i.j,a=i.g,i=i.i;this.D={lineCap:void 0!==n?n:"round",lineDash:s?s:wg,lineJoin:void 0!==o?o:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:rd(e?e:xg)}}else this.D=null;var e=t.g,n=t.c,s=t.j,o=t.i,a=t.l,i=t.f,r=t.ea(),h=t.C;t=t.D,this.S={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==h?h:"center",
textBaseline:void 0!==t?t:"middle"},this.b=void 0!==r?r:"",this.Va=void 0!==n?this.R*n:0,this.kb=void 0!==s?this.R*s:0,this.lb=void 0!==o?o:!1,this.mb=void 0!==a?a:0,this.C=this.R*(void 0!==i?i:1)}else this.b=""},w(Vg,Ca),Vg.prototype.oa=ba,w(ah,Vg),w(eh,ah),eh.prototype.i=function(t,e,i){ch(this,"precompose",i,t,void 0);var n=this.j.canvas;if(n){var s=e.extent,o=void 0!==s;o&&bh(i,t,s);var s=this.s,a=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(s[4]),Math.round(s[5]),Math.round(n.width*s[0]),Math.round(n.height*s[3])),i.globalAlpha=a,o&&i.restore()}ch(this,"postcompose",i,t,void 0)},eh.prototype.oa=function(t,e,i,n,s){var o=this.a;return o.pa().oa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(s,t,o)})},w(pg,eh),pg.prototype.l=function(t,e){var i=t.pixelRatio,n=t.size,s=t.viewState,o=s.projection,a=s.resolution,r=s.center,h=this.a,s=h.pa(),l=s.f,c=s.xa(o),u=bd(c,a,0),f=Vc(c,u),d=t.extent;if(void 0!==e.extent&&(d=wb(d,e.extent)),rb(d))return!1;var p,m=Wc(c,d,f),g=Uc(c,u);p=Vc(c,u);var v=Qc($c(c,u),c.i);p=jb(g[0]+m.G*v[0]*p,g[1]+m.K*v[1]*p,g[0]+(m.J+1)*v[0]*p,g[1]+(m.N+1)*v[1]*p,void 0),g=s.xb(i),v={},v[u]={};var b,M,x,w=Wg(s,o,v),E=h.get(ug),_=this.B,S=this.L,k=!1;for(M=m.G;M<=m.J;++M)for(x=m.K;x<=m.N;++x){b=fh(s,u,M,x,i,o);var T=b.aa();if(2==T||4==T||3==T&&!E)2==T&&(v[u][b.qa.toString()]=b,k||-1!=this.c.indexOf(b)||(k=!0));else{t:if(b.a){T=b.a;do{if(2==T.aa()){b=T;break t}T=T.a}while(T)}t:{for(var T=c,N=b.qa,C=w,j=S,P=ad(T,N,_),N=N[0]-1;N>=T.minZoom;){if(C.call(null,N,Yc(T,P,N,j))){T=!0;break t}--N}T=!1}T||(T=c,b=b.qa,C=S,b[0]<T.maxZoom?(j=ad(T,b,_),b=Yc(T,j,b[0]+1,C)):b=null,b&&w(u+1,b))}}if(b=t.viewHints,!(this.g&&16<Date.now()-t.time&&(b[Dc]||b[1])||!k&&this.b&&lb(this.b,p)&&this.v==l)){M=gh(s,u,i,o),b=(m.J-m.G+1)*M[0],M=(m.N-m.K+1)*M[0],k=this.j,x=k.canvas,w=s.Xb(o),x.width!=b||x.height!=M?(x.width=b,x.height=M):k.clearRect(0,0,b,M),this.c.length=0,E=Object.keys(v).map(Number),E.sort(Ka);for(var L,A,T=0,C=E.length;C>T;++T){b=E[T],S=gh(s,b,i,o),M=Vc(c,b);var D,j=M/f,P=g*s.Tc(o),N=v[b];for(D in N){b=N[D],x=ad(c,b.qa,_),M=(x[0]-p[0])/f*g,x=(p[3]-x[3])/f*g,L=S[0]*j,A=S[1]*j,w||k.clearRect(M,x,L,A);var O=P,I=b.Db();I&&this.j.drawImage(I,O,O,I.width-2*O,I.height-2*O,M,x,L,A),this.c.push(b)}}this.v=l,this.g=f,this.b=p}D=i/g*this.g/a,D=kg(this.s,i*n[0]/2,i*n[1]/2,D,D,0,g*(this.b[0]-r[0])/this.g,g*(r[1]-this.b[3])/this.g),kg(this.u,i*n[0]/2-D[4],i*n[1]/2-D[5],i/a,-i/a,0,-r[0],-r[1]),n=t.usedTiles,a=y(s).toString(),r=u.toString(),a in n?r in n[a]?(n=n[a][r],m.G<n.G&&(n.G=m.G),m.J>n.J&&(n.J=m.J),m.K<n.K&&(n.K=m.K),m.N>n.N&&(n.N=m.N)):n[a][r]=m:(n[a]={},n[a][r]=m),h=h.get(tg),m=y(s).toString(),m in t.wantedTiles||(t.wantedTiles[m]={});var R,n=t.wantedTiles[m],a=t.tileQueue,r=c.minZoom;for(p=u;p>=r;--p)for(R=Yc(c,d,p,R),l=Vc(c,p),f=R.G;f<=R.J;++f)for(g=R.K;g<=R.N;++g)h>=u-p?(D=fh(s,p,f,g,i,o),0==D.aa()&&(n[D.getKey()]=!0,D.getKey()in a.f||a.i([D,m,Zc(c,D.qa),l]))):s.yd(p,f,g,o);return Yg(t,s),$g(t,s),0<this.c.length},w(ih,Jg),ih.prototype.L=function(t,e,i,n,s){mh(this,t,e,i,n,s,this.f,void 0,void 0)},ih.prototype.Eb=ba,ih.prototype.Tb=function(){return this.ca},w(ph,ih),ph.prototype.Qc=function(t,e){if(this.v){console.assert(void 0!==this.b,"this.anchorX_ should be defined"),console.assert(void 0!==this.c,"this.anchorY_ should be defined"),console.assert(void 0!==this.j,"this.height_ should be defined"),console.assert(void 0!==this.i,"this.opacity_ should be defined"),console.assert(void 0!==this.l,"this.originX_ should be defined"),console.assert(void 0!==this.C,"this.originY_ should be defined"),console.assert(void 0!==this.D,"this.rotateWithView_ should be defined"),console.assert(void 0!==this.s,"this.rotation_ should be defined"),console.assert(void 0!==this.u,"this.scale_ should be defined"),console.assert(void 0!==this.R,"this.width_ should be defined"),kh(this,e);var i=t.o,n=this.coordinates.length,i=jh(this,i,0,i.length,t.a,!1,!1);this.f.push([4,n,i,this.v,this.b,this.c,this.j,this.i,this.l,this.C,this.D,this.s,this.u,this.B,this.R]),this.a.push([4,n,i,this.S,this.b,this.c,this.j,this.i,this.l,this.C,this.D,this.s,this.u,this.B,this.R]),oh(this,e)}},ph.prototype.Oc=function(t,e){if(this.v){console.assert(void 0!==this.b,"this.anchorX_ should be defined"),console.assert(void 0!==this.c,"this.anchorY_ should be defined"),console.assert(void 0!==this.j,"this.height_ should be defined"),console.assert(void 0!==this.i,"this.opacity_ should be defined"),console.assert(void 0!==this.l,"this.originX_ should be defined"),console.assert(void 0!==this.C,"this.originY_ should be defined"),console.assert(void 0!==this.D,"this.rotateWithView_ should be defined"),console.assert(void 0!==this.s,"this.rotation_ should be defined"),console.assert(void 0!==this.u,"this.scale_ should be defined"),console.assert(void 0!==this.R,"this.width_ should be defined"),kh(this,e);var i=t.o,n=this.coordinates.length,i=jh(this,i,0,i.length,t.a,!1,!1);this.f.push([4,n,i,this.v,this.b,this.c,this.j,this.i,this.l,this.C,this.D,this.s,this.u,this.B,this.R]),this.a.push([4,n,i,this.S,this.b,this.c,this.j,this.i,this.l,this.C,this.D,this.s,this.u,this.B,this.R]),oh(this,e)}},ph.prototype.Eb=function(){nh(this),this.c=this.b=void 0,this.v=this.S=null,this.R=this.B=this.s=this.D=this.C=this.l=this.i=this.u=this.j=void 0},ph.prototype.mc=function(t){console.assert(t,"imageStyle should not be null");var e=t.wb();console.assert(e,"anchor should not be null");var i=t.Ra();console.assert(i,"size should not be null");var n=t.jd(1);console.assert(n,"hitDetectionImage should not be null");var s=t.Fb(1);console.assert(s,"image should not be null");var o=t.Gb();console.assert(o,"origin should not be null"),this.b=e[0],this.c=e[1],this.S=n,this.v=s,this.j=i[1],this.i=t.l,this.l=o[0],this.C=o[1],this.D=t.v,this.s=t.s,this.u=t.i,this.B=t.u,this.R=i[0]},w(qh,ih),m=qh.prototype,m.Tb=function(){return this.c||(this.c=hb(this.ca),0<this.g&&gb(this.c,this.resolution*(this.g+1)/2,this.c)),this.c},m.Mc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(sh(this),kh(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]),i=t.o,rh(this,i,0,i.length,t.a),this.a.push([12]),oh(this,e))},m.Nc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){sh(this),kh(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]);var s,o,i=t.Ka(),n=t.o,a=t.a,r=0;for(s=0,o=i.length;o>s;++s)r=rh(this,n,r,i[s],a);this.a.push([12]),oh(this,e)}},m.Eb=function(){var t=this.b;console.assert(t,"state should not be null"),t.cc!=this.coordinates.length&&this.f.push([12]),nh(this),this.b=null},m.Ea=function(t,e){console.assert(this.b,"this.state_ should not be null"),console.assert(!t,"fillStyle should be null"),console.assert(e,"strokeStyle should not be null");var i=e.a;this.b.strokeStyle=rd(i?i:xg),i=e.c,this.b.lineCap=void 0!==i?i:"round",i=e.f,this.b.lineDash=i?i:wg,i=e.j,this.b.lineJoin=void 0!==i?i:"round",i=e.g,this.b.lineWidth=void 0!==i?i:1,i=e.i,this.b.miterLimit=void 0!==i?i:10,this.b.lineWidth>this.g&&(this.g=this.b.lineWidth,this.c=null)},w(th,ih),m=th.prototype,m.Kc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),vh(this,t),kh(this,e),this.a.push([9,od(vg)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var s=t.o,n=this.coordinates.length;jh(this,s,0,s.length,t.a,!1,!1),s=[1],n=[2,n],this.f.push(s,n),this.a.push(s,n),n=[7],this.a.push(n),void 0!==i.fillStyle&&this.f.push(n),void 0!==i.strokeStyle&&(console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),i=[12],this.f.push(i),this.a.push(i)),oh(this,e)}},m.Rc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;console.assert(void 0!==i.fillStyle||void 0!==n,"fillStyle or strokeStyle should be defined"),void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),vh(this,t),kh(this,e),this.a.push([9,od(vg)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]),i=t.Ka(),n=tc(t),uh(this,n,0,i,t.a),oh(this,e)},m.Pc=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),vh(this,t),kh(this,e),this.a.push([9,od(vg)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var s,o,i=t.g,n=Tg(t),a=t.a,r=0;for(s=0,o=i.length;o>s;++s)r=uh(this,n,r,i[s],a);oh(this,e)}},m.Eb=function(){console.assert(this.b,"this.state_ should not be null"),nh(this),this.b=null;var t=this.ta;if(0!==t){var e,i,n=this.coordinates;for(e=0,i=n.length;i>e;++e)n[e]=t*Math.round(n[e]/t)}},m.Tb=function(){return this.c||(this.c=hb(this.ca),0<this.g&&gb(this.c,this.resolution*(this.g+1)/2,this.c)),this.c},m.Ea=function(t,e){console.assert(this.b,"this.state_ should not be null"),console.assert(t||e,"fillStyle or strokeStyle should not be null");var i=this.b;if(t){var n=t.a;i.fillStyle=rd(n?n:vg)}else i.fillStyle=void 0;e?(n=e.a,i.strokeStyle=rd(n?n:xg),n=e.c,i.lineCap=void 0!==n?n:"round",n=e.f,i.lineDash=n?n.slice():wg,n=e.j,i.lineJoin=void 0!==n?n:"round",n=e.g,i.lineWidth=void 0!==n?n:1,n=e.i,i.miterLimit=void 0!==n?n:10,i.lineWidth>this.g&&(this.g=i.lineWidth,this.c=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},w(wh,ih),wh.prototype.Aa=function(t){if(t){var e=t.a;e?(e=e.a,e=rd(e?e:vg),this.b?this.b.fillStyle=e:this.b={fillStyle:e}):this.b=null;var i=t.b;if(i){var e=i.a,n=i.c,s=i.f,o=i.j,a=i.g,i=i.i,n=void 0!==n?n:"round",s=s?s.slice():wg,o=void 0!==o?o:"round",a=void 0!==a?a:1,i=void 0!==i?i:10,e=rd(e?e:xg);if(this.c){var r=this.c;r.lineCap=n,r.lineDash=s,r.lineJoin=o,r.lineWidth=a,r.miterLimit=i,r.strokeStyle=e}else this.c={lineCap:n,lineDash:s,lineJoin:o,lineWidth:a,miterLimit:i,strokeStyle:e}}else this.c=null;var h=t.g,e=t.c,n=t.j,s=t.i,a=t.l,i=t.f,o=t.ea(),r=t.C,l=t.D;t=void 0!==h?h:"10px sans-serif",r=void 0!==r?r:"center",l=void 0!==l?l:"middle",this.j?(h=this.j,h.font=t,h.textAlign=r,h.textBaseline=l):this.j={font:t,textAlign:r,textBaseline:l},this.i=void 0!==o?o:"",this.l=void 0!==e?e:0,this.C=void 0!==n?n:0,this.D=void 0!==s?s:!1,this.s=void 0!==a?a:0,this.u=void 0!==i?i:1}else this.i=""};var yh=["Polygon","Circle","LineString","Image","Text"];w(zh,hh);var Ah={0:[[!0]]};zh.prototype.oa=function(t,e,i,n,s,o){n=Math.round(n);var a=2*n+1,r=kg(this.c,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=this.g;h.canvas.width!==a||h.canvas.height!==a?(h.canvas.width=a,h.canvas.height=a):h.clearRect(0,0,a,a);var l;void 0!==this.b&&(l=db(),eb(l,t),gb(l,e*(this.b+n),l));var c=Ch(n);return Eh(this,h,r,i,s,function(t){for(var e=h.getImageData(0,0,a,a).data,i=0;a>i;i++)for(var n=0;a>n;n++)if(c[i][n]&&0<e[4*(n*a+i)+3])return(t=o(t))?t:void h.clearRect(0,0,a,a)},l)},zh.prototype.L=function(t,e,i,n,s,o){var a=Object.keys(this.a).map(Number);a.sort(Ka);var r=this.f,h=r[0],l=r[1],c=r[2],r=r[3],h=[h,l,h,r,c,r,c,l];$b(h,0,8,2,i,h),t.save(),t.beginPath(),t.moveTo(h[0],h[1]),t.lineTo(h[2],h[3]),t.lineTo(h[4],h[5]),t.lineTo(h[6],h[7]),t.clip(),o=o?o:yh;for(var u,f,h=0,l=a.length;l>h;++h)for(u=this.a[a[h].toString()],c=0,r=o.length;r>c;++c)f=u[o[c]],void 0!==f&&f.L(t,e,i,n,s);t.restore()};var Gh={Circle:th,Image:ph,LineString:qh,Polygon:th,Text:wh},Kh={Point:function(t,e,i,n){var s=i.g;if(s){if(2!=s.gb())return;var o=Fh(t,i.a,"Image");o.mc(s),o.Qc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),xh(t,e.o,2,2,n))},LineString:function(t,e,i,n){var s=i.f;if(s){var o=Fh(t,i.a,"LineString");o.Ea(null,s),o.Mc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),xh(t,Rg(e),2,2,n))},Polygon:function(t,e,i,n){var s=i.b,o=i.f;if(s||o){var a=Fh(t,i.a,"Polygon");a.Ea(s,o),a.Rc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),xh(t,uc(e),2,2,n))},MultiPoint:function(t,e,i,n){var s=i.g;if(s){if(2!=s.gb())return;var o=Fh(t,i.a,"Image");o.mc(s),o.Oc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),i=e.o,xh(t,i,i.length,e.a,n))},MultiLineString:function(t,e,i,n){var s=i.f;if(s){var o=Fh(t,i.a,"LineString");o.Ea(null,s),o.Nc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),e=Sg(e),xh(t,e,e.length,2,n))},MultiPolygon:function(t,e,i,n){var s=i.b,o=i.f;if(o||s){var a=Fh(t,i.a,"Polygon");a.Ea(s,o),a.Pc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),e=Ug(e),xh(t,e,e.length,2,n))},GeometryCollection:function(t,e,i,n){e=e.b;var s,o;for(s=0,o=e.length;o>s;++s)(0,Kh[e[s].W()])(t,e[s],i,n)},Circle:function(t,e,i,n){var s=i.b,o=i.f;if(s||o){var a=Fh(t,i.a,"Circle");a.Ea(s,o),a.Kc(e,n)}(s=i.ea())&&(t=Fh(t,i.a,"Text"),t.Aa(s),xh(t,e.o.slice(0,e.a),2,2,n))}};w(rg,ah),rg.prototype.i=function(t,e,i){var n=t.extent,s=t.pixelRatio,o=e.dc?t.skippedFeatureUids:{},a=t.viewState,r=a.projection,a=a.rotation,h=r.F(),l=this.a.pa(),c=dh(this,t,0);ch(this,"precompose",i,t,c);var u=e.extent,f=void 0!==u;if(f&&bh(i,t,u),(u=this.g)&&!pa(u.a)){var d,p=0,m=0;if(Ba(this.a,"render")){d=i.canvas.width;var g=i.canvas.height;if(a){var v=Math.round(Math.sqrt(d*d+g*g)),p=(v-d)/2,m=(v-g)/2;d=g=v}this.c.canvas.width=d,this.c.canvas.height=g,d=this.c}else d=i;if(g=d.globalAlpha,d.globalAlpha=e.opacity,d!=i&&d.translate(p,m),e=t.size[0]*s,v=t.size[1]*s,yg(d,-a,e/2,v/2),u.L(d,s,c,a,o),l.l&&r.a&&!ib(h,n)){for(var r=n[0],l=sb(h),y=0;r<h[0];)--y,c=l*y,c=dh(this,t,c),u.L(d,s,c,a,o),r+=l;for(y=0,r=n[2];r>h[2];)++y,c=l*y,c=dh(this,t,c),u.L(d,s,c,a,o),r-=l;c=dh(this,t,0)}yg(d,a,e/2,v/2),d!=i&&(ch(this,"render",d,t,c),i.drawImage(d.canvas,-p,-m),d.translate(-p,-m)),d.globalAlpha=g}f&&i.restore(),ch(this,"postcompose",i,t,c)},rg.prototype.oa=function(t,e,i,n,s){if(this.g){var o=this.a,a={};return this.g.oa(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=y(t).toString();return e in a?void 0:(a[e]=!0,n.call(s,t,o))})}},rg.prototype.B=function(){var t=this.a;t.yb()&&"ready"==t.Zb()&&this.A()},rg.prototype.l=function(t){function e(t){var e,n=t.c;if(n?e=n.call(t,l):(n=i.l)&&(e=n(t,l)),e){if(e){if(n=!1,Array.isArray(e))for(var s=0,o=e.length;o>s;++s)n=Jh(f,t,e[s],Ih(l,c),this.B,this)||n;else n=Jh(f,t,e,Ih(l,c),this.B,this)||n;t=n}else t=!1;this.b=this.b||t}}var i=this.a,n=i.pa();Zg(t.attributions,n.I),$g(t,n);var s=t.viewHints[Dc],o=t.viewHints[1],a=i.u,r=i.v;if(!this.b&&!a&&s||!r&&o)return!0;var h=t.extent,r=t.viewState,s=r.projection,l=r.resolution,c=t.pixelRatio,o=i.f,u=i.i,a=i.get("renderOrder");if(void 0===a&&(a=Hh),h=gb(h,u*l),u=r.projection.F(),n.l&&r.projection.a&&!ib(u,t.extent)&&(t=Math.max(sb(h)/2,sb(u)),h[0]=u[0]-t,h[2]=u[2]+t),!this.b&&this.u==l&&this.v==o&&this.s==a&&ib(this.j,h))return!0;this.g=null,this.b=!1;var f=new zh(.5*l/c,h,l,n.L,i.i);if(Lh(n,h,l,s),a){var d=[];Mh(n,h,function(t){d.push(t)},this),d.sort(a),d.forEach(e,this)}else Mh(n,h,e,this);return Dh(f),this.u=l,this.v=o,this.s=a,this.j=h,this.g=f,!0},w(Nh,lg),Nh.prototype.W=function(){return"canvas"},Nh.prototype.qd=function(t){if(t){var e=this.c,i=t.pixelRatio,n=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=i?(this.a.width=n,this.a.height=i):e.clearRect(0,0,n,i);var s=t.viewState.rotation,o=t.viewState,a=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;console.assert(a,"frameState has a coordinateToPixelTransform"),kg(a,t.size[0]/2,t.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),o=ig(r,a),a=o[0]*o[3]-o[1]*o[2],z(0!==a,32);var r=o[0],h=o[1],l=o[2],c=o[3],u=o[4],f=o[5];for(o[0]=c/a,o[1]=-h/a,o[2]=-l/a,o[3]=r/a,o[4]=(l*f-c*u)/a,o[5]=-(r*f-h*u)/a,Oh(this,"precompose",t),o=t.layerStatesArray,Oa(o),yg(e,s,n/2,i/2),a=t.viewState.resolution,r=0,h=o.length;h>r;++r)l=o[r],c=l.layer,c=ng(this,c),l.visible&&a>=l.minResolution&&a<l.maxResolution&&"ready"==l.Ff&&c.l(t,l)&&c.i(t,l,e);yg(e,-s,n/2,i/2),Oh(this,"postcompose",t),this.g||(this.a.style.display="",this.g=!0);for(var d in this.f)if(!(d in t.layerStates)){t.postRenderFunctions.push(this.yf.bind(this));break}t.postRenderFunctions.push(mg)}else this.g&&(this.a.style.display="none",this.g=!1)};var Ph;!function(){var t={},e={O:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.O=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.hg=i()}}(function(){return function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);throw h=Error("Cannot find module '"+a+"'"),h.code="MODULE_NOT_FOUND",h}h=i[a]={O:{}},e[a][0].call(h.O,function(t){var i=e[a][1][t];return s(i?i:t)},h,h.O,t,e,i,n)}return i[a].O}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e){function i(t,e,o,a,r){for(o=o||0,a=a||t.length-1,r=r||s;a>o;){if(a-o>600){var h=a-o+1,l=e-o+1,c=Math.log(h),u=.5*Math.exp(2*c/3),c=.5*Math.sqrt(c*u*(h-u)/h)*(0>l-h/2?-1:1);i(t,e,Math.max(o,Math.floor(e-l*u/h+c)),Math.min(a,Math.floor(e+(h-l)*u/h+c)),r)}for(h=t[e],l=o,u=a,n(t,o,e),0<r(t[a],h)&&n(t,o,a);u>l;){for(n(t,l,u),l++,u--;0>r(t[l],h);)l++;for(;0<r(t[u],h);)u--}0===r(t[o],h)?n(t,o,u):(u++,n(t,u,a)),e>=u&&(o=u+1),u>=e&&(a=u-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function s(t,e){return e>t?-1:t>e?1:0}e.O=i},{}],2:[function(t,e){function i(t,e){return this instanceof i?(this.Ob=Math.max(4,t||9),this.zc=Math.max(2,Math.ceil(.4*this.Ob)),e&&this.Ld(e),void this.clear()):new i(t,e)}function n(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,s){s||(s=f(null)),s.G=1/0,s.K=1/0,s.J=-(1/0),s.N=-(1/0);for(var a;i>e;e++)a=t.children[e],o(s,t.ga?n(a):a);return s}function o(t,e){t.G=Math.min(t.G,e.G),t.K=Math.min(t.K,e.K),t.J=Math.max(t.J,e.J),t.N=Math.max(t.N,e.N)}function a(t,e){return t.G-e.G}function r(t,e){return t.K-e.K}function h(t){return(t.J-t.G)*(t.N-t.K)}function l(t){return t.J-t.G+(t.N-t.K)}function c(t,e){return t.G<=e.G&&t.K<=e.K&&e.J<=t.J&&e.N<=t.N}function u(t,e){return e.G<=t.J&&e.K<=t.N&&e.J>=t.G&&e.N>=t.K}function f(t){return{children:t,height:1,ga:!0,G:1/0,K:1/0,J:-(1/0),N:-(1/0)}}function d(t,e,i,n,s){for(var o,a=[e,i];a.length;)i=a.pop(),e=a.pop(),n>=i-e||(o=e+Math.ceil((i-e)/n/2)*n,p(t,o,e,i,s),a.push(e,o,o,i))}e.O=i;var p=t("quickselect");i.prototype={all:function(){return this.uc(this.data,[])},search:function(t){var e=this.data,i=[],n=this.ka;if(!u(t,e))return i;for(var s,o,a,r,h=[];e;){for(s=0,o=e.children.length;o>s;s++)a=e.children[s],r=e.ga?n(a):a,u(t,r)&&(e.ga?i.push(a):c(t,r)?this.uc(a,i):h.push(a));e=h.pop()}return i},load:function(t){if(!t||!t.length)return this;if(t.length<this.zc){for(var e=0,i=t.length;i>e;e++)this.Da(t[e]);return this}return t=this.wc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Cc(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.yc(t,this.data.height-t.height-1,!0)):this.data=t,this},Da:function(t){return t&&this.yc(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var i,n,s,o,a=this.data,r=this.ka(t),h=[],l=[];a||h.length;){if(a||(a=h.pop(),n=h[h.length-1],i=l.pop(),o=!0),a.ga){t:{s=t;var u=a.children,f=e;if(f){for(var d=0;d<u.length;d++)if(f(s,u[d])){s=d;break t}s=-1}else s=u.indexOf(s)}if(-1!==s){a.children.splice(s,1),h.push(a),this.Jd(h);break}}o||a.ga||!c(a,r)?n?(i++,a=n.children[i],o=!1):a=null:(h.push(a),l.push(i),i=0,n=a,a=a.children[0])}return this},ka:function(t){return t},Qb:a,Rb:r,toJSON:function(){return this.data},uc:function(t,e){for(var i=[];t;)t.ga?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},wc:function(t,e,i,s){var o,a=i-e+1,r=this.Ob;if(r>=a)return o=f(t.slice(e,i+1)),n(o,this.ka),o;s||(s=Math.ceil(Math.log(a)/Math.log(r)),r=Math.ceil(a/Math.pow(r,s-1))),o=f([]),o.ga=!1,o.height=s;var h,l,c,a=Math.ceil(a/r),r=a*Math.ceil(Math.sqrt(r));for(d(t,e,i,r,this.Qb);i>=e;e+=r)for(l=Math.min(e+r-1,i),d(t,e,l,a,this.Rb),h=e;l>=h;h+=a)c=Math.min(h+a-1,l),o.children.push(this.wc(t,h,c,s-1));return n(o,this.ka),o},Id:function(t,e,i,n){for(var s,o,a,r,l,c,u,f;n.push(e),!e.ga&&n.length-1!==i;){for(u=f=1/0,s=0,o=e.children.length;o>s;s++)a=e.children[s],l=h(a),c=(Math.max(a.J,t.J)-Math.min(a.G,t.G))*(Math.max(a.N,t.N)-Math.min(a.K,t.K))-l,f>c?(f=c,u=u>l?l:u,r=a):c===f&&u>l&&(u=l,r=a);e=r||e.children[0]}return e},yc:function(t,e,i){var n=this.ka;i=i?t:n(t);var n=[],s=this.Id(i,this.data,e,n);for(s.children.push(t),o(s,i);e>=0&&n[e].children.length>this.Ob;)this.Pd(n,e),e--;this.Fd(i,n,e)},Pd:function(t,e){var i=t[e],s=i.children.length,o=this.zc;this.Gd(i,o,s),s=this.Hd(i,o,s),s=f(i.children.splice(s,i.children.length-s)),s.height=i.height,s.ga=i.ga,n(i,this.ka),n(s,this.ka),e?t[e-1].children.push(s):this.Cc(i,s)},Cc:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.ga=!1,n(this.data,this.ka)},Hd:function(t,e,i){var n,o,a,r,l,c,u;for(l=c=1/0,n=e;i-e>=n;n++)o=s(t,0,n,this.ka),a=s(t,n,i,this.ka),r=Math.max(0,Math.min(o.J,a.J)-Math.max(o.G,a.G))*Math.max(0,Math.min(o.N,a.N)-Math.max(o.K,a.K)),o=h(o)+h(a),l>r?(l=r,u=n,c=c>o?o:c):r===l&&c>o&&(c=o,u=n);return u},Gd:function(t,e,i){var n=t.ga?this.Qb:a,s=t.ga?this.Rb:r,o=this.vc(t,e,i,n);e=this.vc(t,e,i,s),e>o&&t.children.sort(n)},vc:function(t,e,i,n){t.children.sort(n),n=this.ka;var a,r,h=s(t,0,e,n),c=s(t,i-e,i,n),u=l(h)+l(c);for(a=e;i-e>a;a++)r=t.children[a],o(h,t.ga?n(r):r),u+=l(h);for(a=i-e-1;a>=e;a--)r=t.children[a],o(c,t.ga?n(r):r),u+=l(c);return u},Fd:function(t,e,i){for(;i>=0;i--)o(e[i],t)},Jd:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.ka)},Ld:function(t){var e=["return a"," - b",";"];this.Qb=new Function("a","b",e.join(t[0])),this.Rb=new Function("a","b",e.join(t[1])),this.ka=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),Ph=e.O}(),m=Qh.prototype,m.Da=function(t,e){if(this.f)throw Error("Can not insert value while reading");var i={G:t[0],K:t[1],J:t[2],N:t[3],value:e};this.b.Da(i),console.assert(!(y(e)in this.a),"uid (%s) of value (%s) already exists",y(e),e),this.a[y(e)]=i},m.load=function(t,e){if(this.f)throw Error("Can not insert values while reading");console.assert(t.length===e.length,"extens and values must have same length (%s === %s)",t.length,e.length);for(var i=Array(e.length),n=0,s=e.length;s>n;n++){var o=t[n],a=e[n],o={G:o[0],K:o[1],J:o[2],N:o[3],value:a};i[n]=o,console.assert(!(y(a)in this.a),"uid (%s) of value (%s) already exists",y(a),a),this.a[y(a)]=o}this.b.load(i)},m.remove=function(t){if(this.f)throw Error("Can not remove value while reading");var e=y(t);return console.assert(e in this.a,"uid (%s) of value (%s) does not exist",e,t),t=this.a[e],delete this.a[e],null!==this.b.remove(t)},m.forEach=function(t,e){++this.f;try{return Th(Rh(this),t,e)}finally{--this.f}},m.clear=function(){this.b.clear(),this.a={}},m.F=function(){var t=this.b.data;return[t.G,t.K,t.J,t.N]};var Vh,Wh=-1<navigator.userAgent.indexOf("OPR"),Xh=-1<navigator.userAgent.indexOf("Edge");Vh=!(!navigator.userAgent.match("CriOS")&&"chrome"in window&&"Google Inc."===navigator.vendor&&0==Wh&&0==Xh),w(ci,D),ci.prototype.oa=ba,ci.prototype.aa=function(){return this.ca},w(fi,ci),m=gi.prototype,m.clear=function(){this.g=0,this.b={},this.f=this.a=null},m.forEach=function(t,e){for(var i=this.a;i;)t.call(e,i.Ua,i.va,this),i=i.ma},m.get=function(t){return t=this.b[t],z(void 0!==t,15),t===this.f?t.Ua:(t===this.a?(this.a=this.a.ma,this.a.Sa=null):(t.ma.Sa=t.Sa,t.Sa.ma=t.ma),t.ma=null,t.Sa=this.f,this.f=this.f.ma=t,t.Ua)},m.pop=function(){console.assert(this.a,"oldest must not be null"),console.assert(this.f,"newest must not be null");var t=this.a;return console.assert(t.va in this.b,"oldest is indexed in entries"),delete this.b[t.va],t.ma&&(t.ma.Sa=null),this.a=t.ma,this.a||(this.f=null),--this.g,t.Ua},m.replace=function(t,e){this.get(t),this.b[t].Ua=e},m.set=function(t,e){console.assert(!(t in{}),'key is not a standard property of objects (e.g. "__proto__")'),z(!(t in this.b),16);var i={va:t,ma:null,Sa:this.f,Ua:e};this.f?this.f.ma=i:this.a=i,this.f=i,this.b[t]=i,++this.g};var hi=["canvas","webgl"];w(K,D),m=K.prototype,m.Qd=function(t){this.v.push(t)},m.Rd=function(t){this.i.push(t)},m.Sd=function(t){this.I.push(t)},m.Ec=function(t){var e=t.ed;void 0!==e&&(this.ld[e.toString()]=t),t.setMap(this)},m.$=function(){xa(this.na),xa(this.L),va(this.a,"wheel",this.Na,this),va(this.a,"mousewheel",this.Na,this),void 0!==this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0),this.c&&(cancelAnimationFrame(this.c),this.c=void 0),this.set(mi,null),D.prototype.$.call(this)},m.Vd=function(t,e,i){return this.b?(t=this.ua(t),i=void 0!==i?i:{},this.L.oa(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:yb,null)):void 0},m.ve=function(t,e){if(!this.b)return!1;var i=this.ua(t);e=void 0!==e?e:{};var n=this.L;return void 0!==n.oa(i,this.b,void 0!==e.hitTolerance?e.hitTolerance*this.b.pixelRatio:0,yb,n,void 0!==e.layerFilter?e.layerFilter:yb,null)},m.Ub=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},m.$b=function(){return this.get(mi)},m.ua=function(t){var e=this.b;return e?jg(e.pixelToCoordinateTransform,t.slice()):null},m.Ze=function(){return this.get(ji).fb()},m.Qa=function(){return this.get(li)},m.T=function(){return this.get(ki)},m.be=function(t,e,i,n){var s=this.b;return s&&e in s.wantedTiles&&s.wantedTiles[e][t.getKey()]?(t=i[0]-s.focus[0],i=i[1]-s.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},m.Na=function(t,e){var i=new Id(e||t.type,this,t);this.Wc(i)},m.Wc=function(t){if(this.b){this.ca=t.coordinate,t.frameState=this.b;var e,i=this.i.a;if(!1!==this.M(t))for(e=i.length-1;e>=0;e--){var n=i[e];if(n.get(Ge)&&!n.handleEvent(t))break}}},m.pe=function(){var t=this.b,e=this.sa;if(0!==e.a.length){var i=16,n=i;if(t){var s=t.viewHints;s[Dc]&&(i=this.nb?8:0,n=2),s[1]&&(i=this.ob?8:0,n=2)}if(e.c<i){var o,a,r,s=e.C,h=e.a,l=e.b,c=0,u=h.length;for(a=0;u>a;++a)o=h[a],r=s(o),1/0==r?delete e.f[e.j(o)]:(l[c]=r,h[c++]=o);for(h.length=c,l.length=c,s=(e.a.length>>1)-1;s>=0;s--)Ce(e,s);for(s=0;e.c<i&&n>s&&0<e.a.length;)h=e,c=h.a,console.assert(0<c.length,"must have elements in order to be able to dequeue"),u=h.b,l=c[0],1==c.length?(c.length=0,u.length=0):(c[0]=c.pop(),u[0]=u.pop(),Ce(h,0)),c=h.j(l),console.assert(c in h.f,"key %s is not listed as queued",c),delete h.f[c],h=l[0],l=h.getKey(),0!==h.aa()||l in e.g||(e.g[l]=!0,++e.c,++s,h.load()),console.assert(Object.keys(e.g).length===e.c)}}for(e=this.ta,n=0,i=e.length;i>n;++n)e[n](this,t);e.length=0},m.qe=function(){this.render()},m.se=function(){var t;if(this.$b()&&(t=ni(this),console.assert(null!==t,"expects a non-null value for targetElement")),this.l){for(var e=0,i=this.l.length;i>e;++e)B(this.l[e]);this.l=null}t?(t.appendChild(this.a),t=this.ia?this.ia:t,this.l=[C(t,"keydown",this.Na,this),C(t,"keypress",this.Na,this)],this.g||(this.g=this.xd.bind(this),window.addEventListener("resize",this.g,!1))):(ud(this.a),void 0!==this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0)),this.xd()},m.te=function(){this.render()},m.Yc=function(){this.render()},m.ue=function(){this.X&&(B(this.X),this.X=null),this.S&&(B(this.S),this.S=null);var t=this.T();t&&(this.X=C(t,Ja,this.Yc,this),this.S=C(t,"change",this.Yc,this)),this.render()},m.fe=function(){this.B&&(this.B.forEach(B),this.B=null);var t=this.get(ji);t&&(this.B=[C(t,Ja,this.render,this),C(t,"change",this.render,this)]),this.render()},m.render=function(){void 0===this.c&&(this.c=requestAnimationFrame(this.kb))},m.xf=function(t){return this.get(ji).fb().remove(t)},m.zf=function(t){var e,i,n,s=this.Qa(),o=this.T(),a=db(),r=null;if(void 0!==s&&0<s[0]&&0<s[1]&&o&&Kc(o)){var r=Fc(o,this.b?this.b.viewHints:void 0),h=this.get(ji).Wb(),l={};for(e=0,i=h.length;i>e;++e)l[y(h[e].layer)]=h[e];n=o.aa(),r={animate:!1,attributions:{},coordinateToPixelTransform:this.lb,extent:a,focus:this.ca?this.ca:n.center,index:this.mb++,layerStates:l,layerStatesArray:h,logos:ma({},this.Bd),pixelRatio:this.Cd,pixelToCoordinateTransform:this.Dd,postRenderFunctions:[],size:s,skippedFeatureUids:this.Ad,tileQueue:this.sa,time:t,usedTiles:{},viewState:n,viewHints:r,wantedTiles:{}}}if(r){for(t=this.Ba,e=s=0,i=t.length;i>e;++e)o=t[e],o(this,r)&&(t[s++]=o);t.length=s,r.extent=vb(n.center,n.resolution,n.rotation,r.size,a)}this.b=r,this.L.qd(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.ta,r.postRenderFunctions),0!==this.Ba.length||r.viewHints[Dc]||r.viewHints[1]||lb(r.extent,this.Va)||(this.M(new vd("moveend",this,r)),hb(r.extent,this.Va))),this.M(new vd("postrender",this,r)),setTimeout(this.pe.bind(this),0)},m.xd=function(){var t=ni(this);if(t){var e=getComputedStyle(t);this.set(li,[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set(li,void 0)};var ji="layergroup",li="size",mi="target",ki="view";Ob(Vf),Ob(bg),bg.forEach(function(t){Vf.forEach(function(e){Jb(t,e,Wf),Jb(e,t,Xf)})}),w(oi,D),m=oi.prototype,m.ee=function(){for(var t=this.b;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(pi))&&this.b.appendChild(t)},m.ke=function(){this.g&&(ud(this.b),B(this.g),this.g=null);var t=this.get(qi);t&&(this.g=C(t,"postrender",this.render,this),vi(this),t=this.s?t.s:t.u,this.l?t.insertBefore(this.b,t.childNodes[0]||null):t.appendChild(this.b))},m.render=function(){vi(this)},m.le=function(){vi(this)},m.ne=function(){if(vi(this),void 0!==this.get(si)&&this.autoPan){var t=this.get(qi);if(void 0!==t&&ni(t)){var e=wi(ni(t),t.Qa()),i=this.get(pi),n=i.offsetWidth,s=i.currentStyle||getComputedStyle(i),n=n+(parseInt(s.marginLeft,10)+parseInt(s.marginRight,10)),s=i.offsetHeight,o=i.currentStyle||getComputedStyle(i),s=s+(parseInt(o.marginTop,10)+parseInt(o.marginBottom,10)),a=wi(i,[n,s]),i=this.i;ib(e,a)||(n=a[0]-e[0],s=e[2]-a[2],o=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>n?e[0]=n-i:0>s&&(e[0]=Math.abs(s)+i),0>o?e[1]=o-i:0>a&&(e[1]=Math.abs(a)+i),0===e[0]&&0===e[1])||(i=t.T().la(),i=Ze(t,i),e=[i[0]+e[0],i[1]+e[1]],t.T().animate({center:t.ua(e),duration:this.c.duration,easing:this.c.easing}))}}},m.oe=function(){vi(this)},m.setMap=function(t){this.set(qi,t)},m.fd=function(t){this.set(si,t)};var Ei="bottom-left",Bi="bottom-center",yi="bottom-right",Fi="center-left",Ci="center-center",zi="center-right",ui="top-left",Di="top-center",Ai="top-right",pi="element",qi="map",ri="offset",si="position",ti="positioning";w(Gi,D),m=Gi.prototype,m.clone=function(){var t=new Gi(this.ya());Hi(t,this.b);var e=this.Y();return e&&t.Ta(e.clone()),(e=this.i)&&t.ad(e),t},m.Y=function(){return this.get(this.b)},m.Pe=function(){return this.i},m.Qe=function(){return this.c},m.Re=function(){this.A()},m.zb=function(){this.g&&(B(this.g),this.g=null);var t=this.Y();t&&(this.g=C(t,"change",this.Re,this)),this.A()},m.Ta=function(t){this.set(this.b,t)},m.ad=function(t){this.c=(this.i=t)?Ii(t):void 0,this.A()};var Ji=document.implementation.createDocument("","",null),Ui=Si();w(dj,$i),dj.prototype.W=function(){return"json"},dj.prototype.ib=function(t,e){var i,n=ej(t),s=aj(this,t,e);if("FeatureCollection"===n.type){i=[];var o,a,n=n.features;for(o=0,a=n.length;a>o;++o)i.push(fj(this,n[o],s))}else i=[fj(this,n,s)];
return i},dj.prototype.hc=function(t){t=ej(t).crs;var e;return t?"name"==t.type?e=Nb(t.properties.name):"EPSG"==t.type?e=Nb("EPSG:"+t.properties.code):z(!1,36):e=this.defaultDataProjection,e},dj.prototype.rc=function(t,e){return JSON.stringify(gj(this,t,e))},w(ij,ac),m=ij.prototype,m.clone=function(){var t=new ij(null);return t.P(this.U,this.o.slice()),t},m.da=function(){return gc(this.o,0,this.o.length,this.a)},m.Ma=function(t){var e=[];return e.length=ic(this.o,0,this.o.length,this.a,t,e,0),t=new ij(null),t.P("XY",e),t},m.W=function(){return"LineString"},m.ha=function(t,e){t?(dc(this,e,t,1),this.o||(this.o=[]),this.o.length=ec(this.o,0,t,this.a),this.A()):this.P("XY",null)},m.P=function(t,e){cc(this,t,e),this.A()},w(jj,ac),m=jj.prototype,m.clone=function(){var t=new jj(null);return t.P(this.U,this.o.slice(),this.c.slice()),t},m.da=function(){return hc(this.o,0,this.c,this.a)},m.Ka=function(){return this.c},m.Ma=function(t){var e,i,n=[],s=[],o=this.o,a=this.c,r=this.a,h=0,l=0;for(e=0,i=a.length;i>e;++e){var c=a[e],l=ic(o,h,c,r,t,n,l);s.push(l),h=c}return n.length=l,t=new jj(null),t.P("XY",n,s),t},m.W=function(){return"MultiLineString"},m.ha=function(t,e){if(t){dc(this,e,t,2),this.o||(this.o=[]);var i=fc(this.o,0,t,this.a,this.c);this.o.length=0===i.length?0:i[i.length-1],this.A()}else this.P("XY",null,this.c)},m.P=function(t,e,i){e?0===i.length?console.assert(0===e.length,"flatCoordinates should be an empty array"):console.assert(e.length==i[i.length-1],"length of flatCoordinates array should match the last value of ends"):console.assert(i&&0===i.length,"ends must be truthy and ends.length should be 0"),cc(this,t,e),this.c=i,this.A()},w(mj,ac),m=mj.prototype,m.clone=function(){var t=new mj(null);return t.P(this.U,this.o.slice()),t},m.da=function(){return gc(this.o,0,this.o.length,this.a)},m.W=function(){return"MultiPoint"},m.ha=function(t,e){t?(dc(this,e,t,1),this.o||(this.o=[]),this.o.length=ec(this.o,0,t,this.a),this.A()):this.P("XY",null)},m.P=function(t,e){cc(this,t,e),this.A()},w(nj,ac),m=nj.prototype,m.clone=function(){for(var t=new nj(null),e=this.g.length,i=Array(e),n=0;e>n;++n)i[n]=this.g[n].slice();return oj(t,this.U,this.o.slice(),i),t},m.da=function(t){var e;void 0!==t?(e=Tg(this).slice(),rc(e,this.g,this.a,t)):e=this.o,t=e,e=this.g;var i,n,s=this.a,o=0,a=[],r=0;for(i=0,n=e.length;n>i;++i){var h=e[i];a[r++]=hc(t,o,h,s,a[r]),o=h[h.length-1]}return a.length=r,a},m.Ma=function(t){var e=[],i=[],n=this.o,s=this.g,o=this.a;t=Math.sqrt(t);var a,r,h=0,l=0;for(a=0,r=s.length;r>a;++a){var c=s[a],u=[],l=jc(n,h,c,o,t,e,l,u);i.push(u),h=c[c.length-1]}return e.length=l,n=new nj(null),oj(n,"XY",e,i),n},m.W=function(){return"MultiPolygon"},m.ha=function(t,e){if(t){dc(this,e,t,3),this.o||(this.o=[]);var i,n,s=this.o,o=this.a,a=this.g,r=0,a=a?a:[],h=0;for(i=0,n=t.length;n>i;++i)r=fc(s,r,t[i],o,a[h]),a[h++]=r,r=r[r.length-1];a.length=h,0===a.length?this.o.length=0:(s=a[a.length-1],this.o.length=0===s.length?0:s[s.length-1]),this.A()}else oj(this,"XY",null,this.g)},w(pj,Zb),m=pj.prototype,m.clone=function(){var t=new pj(null),e=rj(this.b);return sj(t),t.b=e,qj(t),t.A(),t},m.Sb=function(t){kb(t);for(var e=this.b,i=0,n=e.length;n>i;++i)mb(t,e[i].F());return t},m.Yb=function(t){if(this.u!=this.f&&(na(this.i),this.l=0,this.u=this.f),0>t||0!==this.l&&t<this.l)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var i,n,s=[],o=this.b,a=!1;for(i=0,n=o.length;n>i;++i){var r=o[i],h=r.Yb(t);s.push(h),h!==r&&(a=!0)}return a?(t=new pj(null),sj(t),t.b=s,qj(t),t.A(),this.i[e]=t):(this.l=t,this)},m.W=function(){return"GeometryCollection"},m.rotate=function(t,e){for(var i=this.b,n=0,s=i.length;s>n;++n)i[n].rotate(t,e);this.A()},m.scale=function(t,e,i){i||(i=ub(this.F()));for(var n=this.b,s=0,o=n.length;o>s;++s)n[s].scale(t,e,i);this.A()},m.Wa=function(t){var e,i,n=this.b;for(e=0,i=n.length;i>e;++e)n[e].Wa(t);this.A()},m.translate=function(t,e){var i,n,s=this.b;for(i=0,n=s.length;n>i;++i)s[i].translate(t,e);this.A()},m.$=function(){sj(this),Zb.prototype.$.call(this)},w(tj,dj);var vj={Point:function(t){return console.assert("Point"==t.type,"object.type should be Point"),new lc(t.coordinates)},LineString:function(t){return console.assert("LineString"==t.type,"object.type should be LineString"),new ij(t.coordinates)},Polygon:function(t){return console.assert("Polygon"==t.type,"object.type should be Polygon"),new sc(t.coordinates)},MultiPoint:function(t){return console.assert("MultiPoint"==t.type,"object.type should be MultiPoint"),new mj(t.coordinates)},MultiLineString:function(t){return console.assert("MultiLineString"==t.type,"object.type should be MultiLineString"),new jj(t.coordinates)},MultiPolygon:function(t){return console.assert("MultiPolygon"==t.type,"object.type should be MultiPolygon"),new nj(t.coordinates)},GeometryCollection:function(t,e){console.assert("GeometryCollection"==t.type,"object.type should be GeometryCollection");var i=t.geometries.map(function(t){return uj(t,e)});return new pj(i)}},xj={Point:function(t){return{type:"Point",coordinates:t.da()}},LineString:function(t){return{type:"LineString",coordinates:t.da()}},Polygon:function(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.da(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.da()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.da()}},MultiPolygon:function(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.da(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.b.map(function(t){var i=ma({},e);return delete i.featureProjection,wj(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};w(zj,$i),m=zj.prototype,m.W=function(){return"xml"},m.ib=function(t,e){if(t instanceof Document)return Aj(this,t,e);if(Mi(t))return this.ec(t,e);if("string"==typeof t){var i=Ni(t);return Aj(this,i,e)}return[]},m.hc=function(t){return t instanceof Document?this.defaultDataProjection:Mi(t)?this.pd(t):"string"==typeof t?(Ni(t),this.defaultDataProjection):null},m.pd=function(){return this.defaultDataProjection},m.rc=function(t,e){var i=this.b(t,e);return console.assert(i.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),this.g.serializeToString(i)},w(Bj,zj);var Cj=/^[\s\xa0]*$/;m=Bj.prototype,m.fc=function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?T([],this.a,t,e,this):T(null,this.a,t,e,this);else if("featureMembers"==i||"featureMember"==i){var s,o,a=e[0],r=a.featureType,h=a.featureNS;if(!r&&t.childNodes){for(r=[],h={},s=0,o=t.childNodes.length;o>s;++s){var l=t.childNodes[s];if(1===l.nodeType){var c=l.nodeName.split(":").pop();if(-1===r.indexOf(c)){var u,f="",d=0,l=l.namespaceURI;for(u in h){if(h[u]===l){f=u;break}++d}f||(f="p"+d,h[f]=l),r.push(f+":"+c)}}}"featureMember"!=i&&(a.featureType=r,a.featureNS=h)}"string"==typeof h&&(s=h,h={},h.p0=s);var p,a={},r=Array.isArray(r)?r:[r];for(p in h){for(c={},s=0,o=r.length;o>s;++s)(-1===r[s].indexOf(":")?"p0":r[s].split(":")[0])===p&&(c[r[s].split(":").pop()]="featureMembers"==i?Oi(this.md,this):Pi(this.md,this));a[h[p]]=c}n="featureMember"==i?T(void 0,a,t,e):T([],a,t,e)}return null===n&&(n=[]),n},m.od=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName");var n=T(null,this.c,t,e,this);return n?cj(n,!1,i):void 0},m.md=function(t,e){var i,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var s,o={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var a=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var r=Ki(i);Cj.test(r)&&(r=void 0),o[a]=r}else"boundedBy"!==a&&(s=a),o[a]=this.od(i,e)}return i=new Gi(o),s&&Hi(i,s),n&&(i.a=n,i.A()),i},m.ec=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&ma(i,aj(this,t,e)),this.fc(t,[i])||[]},m.pd=function(t){return Nb(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},w(Mj,zj);var Nj=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Wj=R(Nj,{rte:Oi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("rte"==t.localName,"localName should be rte");var i=e[0],n=T({flatCoordinates:[],layoutOptions:{}},Tj,t,e);if(n){var s=n.flatCoordinates;delete n.flatCoordinates;var o=n.layoutOptions;delete n.layoutOptions;var o=Pj(o,s),a=new ij(null);return a.P(o,s),cj(a,!1,i),i=new Gi(a),i.fa(n),i}}),trk:Oi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trk"==t.localName,"localName should be trk");var i=e[0],n=T({flatCoordinates:[],ends:[],layoutOptions:{}},Uj,t,e);if(n){var s=n.flatCoordinates;delete n.flatCoordinates;var o=n.ends;delete n.ends;var a=n.layoutOptions;delete n.layoutOptions;var a=Pj(a,s,o),r=new jj(null);return r.P(a,s,o),cj(r,!1,i),i=new Gi(r),i.fa(n),i}}),wpt:Oi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("wpt"==t.localName,"localName should be wpt");var i=e[0],n=T({},Vj,t,e);if(n){var s={},o=Oj([],s,t,n),s=Pj(s,o),o=new lc(o,s);return cj(o,!1,i),i=new Gi(o),i.fa(n),i}})}),Rj=R(Nj,{text:M(V,"linkText"),type:M(V,"linkType")}),Tj=R(Nj,{name:M(V),cmt:M(V),desc:M(V),src:M(V),link:Qj,number:M(Hj),extensions:Sj,type:M(V),rtept:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("rtept"==t.localName,"localName should be rtept");var i=T({},Xj,t,e);if(i){var n=e[e.length-1];Oj(n.flatCoordinates,n.layoutOptions,t,i)}}}),Xj=R(Nj,{ele:M(U),time:M(Fj)}),Uj=R(Nj,{name:M(V),cmt:M(V),desc:M(V),src:M(V),link:Qj,number:M(Hj),type:M(V),extensions:Sj,trkseg:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trkseg"==t.localName,"localName should be trkseg");var i=e[e.length-1];Wi(Yj,t,e),i.ends.push(i.flatCoordinates.length)}}),Yj=R(Nj,{trkpt:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trkpt"==t.localName,"localName should be trkpt");var i=T({},Zj,t,e);if(i){var n=e[e.length-1];Oj(n.flatCoordinates,n.layoutOptions,t,i)}}}),Zj=R(Nj,{ele:M(U),time:M(Fj)}),Vj=R(Nj,{ele:M(U),time:M(Fj),magvar:M(U),geoidheight:M(U),name:M(V),cmt:M(V),desc:M(V),src:M(V),link:Qj,sym:M(V),type:M(V),fix:M(V),sat:M(Hj),hdop:M(U),vdop:M(U),pdop:M(U),ageofdgpsdata:M(U),dgpsid:M(Hj),extensions:Sj});Mj.prototype.ec=function(t,e){if(console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),!(0<=Nj.indexOf(t.namespaceURI)))return[];if("gpx"==t.localName){var i=T([],Wj,t,[aj(this,t,e)]);if(i){var n=i;n||(n=[]);for(var s=0,o=n.length;o>s;++s){var a=n[s];if(this.a){var r=a.get("extensionsNode_")||null;this.a(a,r)}a.set("extensionsNode_",void 0)}return i}}return[]};var ck=["text","type"],bk=R(Nj,{text:O(X),type:O(X)}),hk=R(Nj,"name cmt desc src link number type rtept".split(" ")),ik=R(Nj,{name:O(X),cmt:O(X),desc:O(X),src:O(X),link:O(ak),number:O(Lj),type:O(X),rtept:Ri(O(dk))}),ek=R(Nj,["ele","time"]),jk=R(Nj,"name cmt desc src link number type trkseg".split(" ")),mk=R(Nj,{name:O(X),cmt:O(X),desc:O(X),src:O(X),link:O(ak),number:O(Lj),type:O(X),trkseg:Ri(O(function(t,e,i){Xi({node:t,geometryLayout:e.U,properties:{}},kk,lk,e.da(),i)}))}),lk=Si("trkpt"),kk=R(Nj,{trkpt:O(dk)}),fk=R(Nj,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),gk=R(Nj,{ele:O(Kj),time:O(function(t,e){var i=new Date(1e3*e);t.appendChild(Ji.createTextNode(i.getUTCFullYear()+"-"+Ya(i.getUTCMonth()+1)+"-"+Ya(i.getUTCDate())+"T"+Ya(i.getUTCHours())+":"+Ya(i.getUTCMinutes())+":"+Ya(i.getUTCSeconds())+"Z"))}),magvar:O(Kj),geoidheight:O(Kj),name:O(X),cmt:O(X),desc:O(X),src:O(X),link:O(ak),sym:O(X),type:O(X),fix:O(X),sat:O(Lj),hdop:O(Kj),vdop:O(Kj),pdop:O(Kj),ageofdgpsdata:O(Kj),dgpsid:O(Lj)}),nk={Point:"wpt",LineString:"rte",MultiLineString:"trk"},pk=R(Nj,{rte:O(function(t,e,i){var n=i[0],s=e.ya();t={node:t,properties:s},(e=e.Y())&&(e=cj(e,!0,n),t.geometryLayout=e.U,s.rtept=e.da()),n=hk[i[i.length-1].node.namespaceURI],s=Vi(s,n),Xi(t,ik,Ui,s,i,n)}),trk:O(function(t,e,i){var n=i[0],s=e.ya();t={node:t,properties:s},(e=e.Y())&&(e=cj(e,!0,n),s.trkseg=kj(e)),n=jk[i[i.length-1].node.namespaceURI],s=Vi(s,n),Xi(t,mk,Ui,s,i,n)}),wpt:O(function(t,e,i){var n=i[0],s=i[i.length-1];s.properties=e.ya(),(e=e.Y())&&(e=cj(e,!0,n),s.geometryLayout=e.U,dk(t,e.da(),i))})});Mj.prototype.b=function(t,e){e=bj(this,e);var i=Ji.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers 3"),Xi({node:i},pk,ok,t,[e]),i},w(qk,Aa),qk.prototype.u=function(){this.b=3,this.g.forEach(B),this.g=null,this.M("change")},qk.prototype.v=function(){if(this.b=2,this.f&&(this.a.width=this.f[0],this.a.height=this.f[1]),this.f=[this.a.width,this.a.height],this.g.forEach(B),this.g=null,rk(this),!this.s&&null!==this.j){this.c.width=this.a.width,this.c.height=this.a.height;var t=this.c.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),i=e.data,n=this.j[0]/255,s=this.j[1]/255,o=this.j[2]/255,a=0,r=i.length;r>a;a+=4)i[a]*=n,i[a+1]*=s,i[a+2]*=o;t.putImageData(e,0,0)}this.M("change")},qk.prototype.load=function(){if(0==this.b){console.assert(void 0!==this.l,"this.src_ must not be undefined"),console.assert(!this.g,"no listener keys existing"),this.b=1,this.g=[C(this.a,"error",this.u,this,!0),C(this.a,"load",this.v,this,!0)];try{this.a.src=this.l}catch(t){this.u()}}},w(sk,zg),m=sk.prototype,m.clone=function(){var t,e=this.Fb(1);if(2===this.a.b)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0)}return new sk({anchor:this.g.slice(),anchorOrigin:this.f,anchorXUnits:this.R,anchorYUnits:this.B,crossOrigin:this.I,color:this.c&&this.c.slice?this.c.slice():this.c||void 0,img:t?t:void 0,imgSize:t?this.a.f.slice():void 0,src:t?void 0:this.a.l,offset:this.Z.slice(),offsetOrigin:this.b,size:null!==this.D?this.D.slice():void 0,opacity:this.l,scale:this.i,snapToPixel:this.u,rotation:this.s,rotateWithView:this.v})},m.wb=function(){if(this.j)return this.j;var t=this.g,e=this.Ra();if(this.R==uk||this.B==uk){if(!e)return null;t=this.g.slice(),this.R==uk&&(t[0]*=e[0]),this.B==uk&&(t[1]*=e[1])}if(this.f!=tk){if(!e)return null;t===this.g&&(t=this.g.slice()),(this.f==vk||this.f==wk)&&(t[0]=-t[0]+e[0]),(this.f==xk||this.f==wk)&&(t[1]=-t[1]+e[1])}return this.j=t},m.Fb=function(){var t=this.a;return t.c?t.c:t.a},m.Uc=function(){return this.a.f},m.gb=function(){return this.a.b},m.jd=function(){var t=this.a;if(!t.i)if(t.s){var e=t.f[0],i=t.f[1],n=td(e,i);n.fillRect(0,0,e,i),t.i=n.canvas}else t.i=t.a;return t.i},m.Gb=function(){if(this.C)return this.C;var t=this.Z;if(this.b!=tk){var e=this.Ra(),i=this.a.f;if(!e||!i)return null;t=t.slice(),(this.b==vk||this.b==wk)&&(t[0]=i[0]-e[0]-t[0]),(this.b==xk||this.b==wk)&&(t[1]=i[1]-e[1]-t[1])}return this.C=t},m.Ra=function(){return this.D?this.D:this.a.f},m.$c=function(t,e){return C(this.a,"change",t,e)},m.load=function(){this.a.load()},m.wd=function(t,e){va(this.a,"change",t,e)};var uk="fraction",xk="bottom-left",wk="bottom-right",tk="top-left",vk="top-right";yk.prototype.clone=function(){return new yk({font:this.g,rotation:this.l,rotateWithView:this.i,scale:this.f,text:this.ea(),textAlign:this.C,textBaseline:this.D,fill:this.a?this.a.clone():void 0,stroke:this.b?this.b.clone():void 0,offsetX:this.c,offsetY:this.j})},yk.prototype.ea=function(){return this.s};var zk=["http://www.google.com/kml/ext/2.2"],Y=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Ak={fraction:uk,pixels:"pixels"},$k=R(Y,{displayName:M(V),value:M(V)}),Xk=R(Y,{Data:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Data"==t.localName,"localName should be Data");var i=t.getAttribute("name");Wi($k,t,e);var n=e[e.length-1];null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value)},SchemaData:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("SchemaData"==t.localName,"localName should be SchemaData"),Wi(al,t,e)}}),Zk=R(Y,{LatLonAltBox:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LatLonAltBox"==t.localName,"localName should be LatLonAltBox");var i=T({},bl,t,e);if(i){var n=e[e.length-1];n.extent=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)],n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)}},Lod:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Lod"==t.localName,"localName should be Lod");var i=T({},cl,t,e);if(i){var n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}}),bl=R(Y,{altitudeMode:M(V),minAltitude:M(U),maxAltitude:M(U),north:M(U),south:M(U),east:M(U),west:M(U)}),cl=R(Y,{minLodPixels:M(U),maxLodPixels:M(U),minFadeExtent:M(U),maxFadeExtent:M(U)}),Mk=R(Y,{extrude:M(Dj),altitudeMode:M(V)}),Gk=R(Y,{coordinates:Pi(Ck)}),Tk=R(Y,{innerBoundaryIs:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("innerBoundaryIs"==t.localName,"localName should be innerBoundaryIs");var i=T(void 0,dl,t,e);if(i){var n=e[e.length-1];console.assert(Array.isArray(n),"flatLinearRings should be an array"),console.assert(0<n.length,"flatLinearRings array should not be empty"),n.push(i)}},outerBoundaryIs:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("outerBoundaryIs"==t.localName,"localName should be outerBoundaryIs");var i=T(void 0,el,t,e);if(i){var n=e[e.length-1];console.assert(Array.isArray(n),"flatLinearRings should be an array"),console.assert(0<n.length,"flatLinearRings array should not be empty"),n[0]=i}}}),Ik=R(Y,{when:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("when"==t.localName,"localName should be when");var i=e[e.length-1].zd,n=Ki(t),n=Date.parse(n);i.push(isNaN(n)?0:n)}},R(zk,{coord:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=zk.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("coord"==t.localName,"localName should be coord");var i=e[e.length-1].o,n=Ki(t);(n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n))?i.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),0):i.push(0,0,0,0)}})),Kk=R(Y,{coordinates:Pi(Ck)}),fl=R(Y,{href:M(Dk)},R(zk,{x:M(U),y:M(U),w:M(U),h:M(U)})),gl=R(Y,{Icon:M(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Icon"==t.localName,"localName should be Icon");var i=T({},fl,t,e);return i?i:null}),heading:M(U),hotSpot:M(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),sc:Ak[e],y:parseFloat(t.getAttribute("y")),tc:Ak[i]}}),scale:M(Ek)}),dl=R(Y,{LinearRing:Pi(Fk)}),hl=R(Y,{color:M(Bk),scale:M(Ek)}),il=R(Y,{color:M(Bk),width:M(U)}),Pk=R(Y,{LineString:Oi(Lk),LinearRing:Oi(Nk),MultiGeometry:Oi(Ok),Point:Oi(Rk),Polygon:Oi(Sk)}),jl=R(zk,{Track:Oi(Hk)});R(Y,{ExtendedData:Wk,Region:Yk,Link:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Link"==t.localName,"localName should be Link"),Wi(kl,t,e)},address:M(V),description:M(V),name:M(V),open:M(Dj),phoneNumber:M(V),visibility:M(Dj)});var kl=R(Y,{href:M(Dk)}),el=R(Y,{LinearRing:Pi(Fk)}),ll=R(Y,{Style:M(Uk),key:M(V),styleUrl:M(Dk)});R(Y,{ExtendedData:Wk,Region:Yk,MultiGeometry:M(Ok,"geometry"),LineString:M(Lk,"geometry"),LinearRing:M(Nk,"geometry"),Point:M(Rk,"geometry"),Polygon:M(Sk,"geometry"),Style:M(Uk),StyleMap:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("StyleMap"==t.localName,"localName should be StyleMap");var i=T(void 0,ml,t,e);if(i){var n=e[e.length-1];Array.isArray(i)?n.Style=i:"string"==typeof i?n.styleUrl=i:z(!1,38)}},address:M(V),description:M(V),name:M(V),open:M(Dj),phoneNumber:M(V),styleUrl:M(Dk),visibility:M(Dj)},R(zk,{MultiTrack:M(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=zk.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("MultiTrack"==t.localName,"localName should be MultiTrack");var i=T([],jl,t,e);if(i){var n=new jj(null);return lj(n,i),n}},"geometry"),Track:M(Hk,"geometry")}));var nl=R(Y,{color:M(Bk),fill:M(Dj),outline:M(Dj)}),al=R(Y,{SimpleData:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("SimpleData"==t.localName,"localName should be SimpleData");var i=t.getAttribute("name");if(null!==i){var n=V(t);e[e.length-1][i]=n}}}),Vk=R(Y,{IconStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be an ELEMENT"),console.assert("IconStyle"==t.localName,"localName should be IconStyle");var i=T({},gl,t,e);if(i){var n,s=e[e.length-1],o="Icon"in i?i.Icon:{},a=!("Icon"in i)||0<Object.keys(o).length,r=o.href;r?n=r:a&&(n=void 0);var h,l,c;(r=i.hotSpot)?(h=[r.x,r.y],l=r.sc,c=r.tc):void 0===n?c=l=h=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(h=[.5,0],c=l=uk);var u,r=o.x,f=o.y;void 0!==r&&void 0!==f&&(u=[r,f]);var d,r=o.w,o=o.h;void 0!==r&&void 0!==o&&(d=[r,o]);var p,o=i.heading;void 0!==o&&(p=o*Math.PI/180),i=i.scale,a?(void 0==n&&(d=void 0,void 0===i&&(i=void 0)),a=new sk({anchor:h,anchorOrigin:xk,anchorXUnits:l,anchorYUnits:c,crossOrigin:"anonymous",offset:u,offsetOrigin:xk,rotation:p,scale:i,size:d,src:n}),s.imageStyle=a):s.imageStyle=void 0}},LabelStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LabelStyle"==t.localName,"localName should be LabelStyle");var i=T({},hl,t,e);i&&(e[e.length-1].textStyle=new yk({fill:new Cg({color:"color"in i?i.color:void 0}),scale:i.scale}))},LineStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LineStyle"==t.localName,"localName should be LineStyle");var i=T({},il,t,e);i&&(e[e.length-1].strokeStyle=new Dg({color:"color"in i?i.color:void 0,width:"width"in i?i.width:1}))},PolyStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("PolyStyle"==t.localName,"localName should be PolyStyle");var i=T({},nl,t,e);if(i){var n=e[e.length-1];n.fillStyle=new Cg({color:"color"in i?i.color:void 0});var s=i.fill;void 0!==s&&(n.fill=s),i=i.outline,void 0!==i&&(n.outline=i)}}}),ml=R(Y,{Pair:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Pair"==t.localName,"localName should be Pair");var i=T({},ll,t,e);if(i){var n=i.key;n&&"normal"==n&&((n=i.styleUrl)&&(e[e.length-1]=n),(i=i.Style)&&(e[e.length-1]=i))}}});R(Y,["Document","Placemark"]),R(Y,{Document:O(function(t,e,i){Xi({node:t},Ll,Ml,e,i,void 0,this)}),Placemark:O(zl)});var Ll=R(Y,{Placemark:O(zl)}),Nl=R(Y,{Data:O(function(t,e,i){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&Xi(t,Nl,Ui,[e.displayName],i,["displayName"]),null!==e&&e.value&&Xi(t,Nl,Ui,[e.value],i,["value"])):Xi(t,Nl,Ui,[e],i,["value"])}),value:O(function(t,e){X(t,e)}),displayName:O(function(t,e){t.appendChild(Ji.createCDATASection(e))})}),Ol={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Pl=R(Y,["href"],R(zk,["x","y","w","h"])),Ql=R(Y,{href:O(X)},R(zk,{x:O(Kj),y:O(Kj),w:O(Kj),h:O(Kj)})),Rl=R(Y,["scale","heading","Icon","hotSpot"]),Tl=R(Y,{Icon:O(function(t,e,i){t={node:t};var n=Pl[i[i.length-1].node.namespaceURI],s=Vi(e,n);Xi(t,Ql,Ui,s,i,n),n=Pl[zk[0]],s=Vi(e,n),Xi(t,Ql,Sl,s,i,n)}),heading:O(Kj),hotSpot:O(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.sc),t.setAttribute("yunits",e.tc)}),scale:O(Kl)}),Ul=R(Y,["color","scale"]),Vl=R(Y,{color:O(pl),scale:O(Kl)}),Wl=R(Y,["color","width"]),Xl=R(Y,{color:O(pl),width:O(Kj)}),xl=R(Y,{LinearRing:O(Dl)}),vl=R(Y,{LineString:O(Dl),Point:O(Dl),Polygon:O(Gl),GeometryCollection:O(ql)}),Cl=R(Y,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Al=R(Y,{ExtendedData:O(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var s=n.length,o=0;s>o;o++)Xi(t,Nl,Yl,[{name:n[o],value:e[o]}],i)}),MultiGeometry:O(ql),LineString:O(Dl),LinearRing:O(Dl),Point:O(Dl),Polygon:O(Gl),Style:O(function(t,e,i){t={node:t};var n={},s=e.b,o=e.f,a=e.g;e=e.ea(),a instanceof sk&&(n.IconStyle=a),e&&(n.LabelStyle=e),o&&(n.LineStyle=o),s&&(n.PolyStyle=s),e=Zl[i[i.length-1].node.namespaceURI],n=Vi(n,e),Xi(t,$l,Ui,n,i,e)}),address:O(X),description:O(X),name:O(X),open:O(Jj),phoneNumber:O(X),styleUrl:O(X),visibility:O(Jj)}),El=R(Y,{coordinates:O(function(t,e,i){i=i[i.length-1];var n=i.layout;i=i.stride;var s;"XY"==n||"XYM"==n?s=2:"XYZ"==n||"XYZM"==n?s=3:z(!1,34);var o,a=e.length,r="";if(a>0){for(r+=e[0],n=1;s>n;++n)r+=","+e[n];for(o=i;a>o;o+=i)for(r+=" "+e[o],n=1;s>n;++n)r+=","+e[o+n]}X(t,r)})}),Hl=R(Y,{outerBoundaryIs:O(wl),innerBoundaryIs:O(wl)}),am=R(Y,{color:O(pl)}),Zl=R(Y,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),$l=R(Y,{IconStyle:O(function(t,e,i){t={node:t};var n={},s=e.Ra(),o=e.Uc(),a={href:e.a.l};if(s){a.w=s[0],a.h=s[1];var r=e.wb(),h=e.Gb();h&&o&&0!==h[0]&&h[1]!==s[1]&&(a.x=h[0],a.y=o[1]-(h[1]+s[1])),r&&0!==r[0]&&r[1]!==s[1]&&(n.hotSpot={x:r[0],sc:"pixels",y:s[1]-r[1],tc:"pixels"})}n.Icon=a,s=e.i,1!==s&&(n.scale=s),e=e.s,0!==e&&(n.heading=e),e=Rl[i[i.length-1].node.namespaceURI],n=Vi(n,e),Xi(t,Tl,Ui,n,i,e)}),LabelStyle:O(function(t,e,i){t={node:t};var n={},s=e.a;s&&(n.color=s.a),(e=e.f)&&1!==e&&(n.scale=e),e=Ul[i[i.length-1].node.namespaceURI],n=Vi(n,e),Xi(t,Vl,Ui,n,i,e)}),LineStyle:O(function(t,e,i){t={node:t};var n=Wl[i[i.length-1].node.namespaceURI];e=Vi({color:e.a,width:e.g},n),Xi(t,Xl,Ui,e,i,n)}),PolyStyle:O(function(t,e,i){Xi({node:t},am,bm,[e.a],i)})}),bm=Si("color"),Fl=Si("coordinates"),Yl=Si("Data"),Bl=Si("ExtendedData"),Il=Si("innerBoundaryIs"),sl=Si("Point"),tl=Si("LineString"),yl=Si("LinearRing"),ul=Si("Polygon"),Jl=Si("outerBoundaryIs");!function(){var t={},e={O:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.O=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.fg=i()}}(function(){return function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);throw h=Error("Cannot find module '"+a+"'"),h.code="MODULE_NOT_FOUND",h}h=i[a]={O:{}},e[a][0].call(h.O,function(t){var i=e[a][1][t];return s(i?i:t)},h,h.O,t,e,i,n)}return i[a].O}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e,i){i.read=function(t,e,i,n,s){var o;o=8*s-n-1;var a=(1<<o)-1,r=a>>1,h=-7;s=i?s-1:0;var l=i?-1:1,c=t[e+s];for(s+=l,i=c&(1<<-h)-1,c>>=-h,h+=o;h>0;i=256*i+t[e+s],s+=l,h-=8);for(o=i&(1<<-h)-1,i>>=-h,h+=n;h>0;o=256*o+t[e+s],s+=l,h-=8);if(0===i)i=1-r;else{if(i===a)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,n),i-=r}return(c?-1:1)*o*Math.pow(2,i-n)},i.write=function(t,e,i,n,s,o){var a,r=8*o-s-1,h=(1<<r)-1,l=h>>1,c=23===s?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var u=n?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=h):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-n))&&(n--,a*=2),e=n+l>=1?e+c/a:e+c*Math.pow(2,1-l),e*a>=2&&(n++,a/=2),n+l>=h?(e=0,n=h):n+l>=1?(e=(e*a-1)*Math.pow(2,s),n+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,s),n=0));s>=8;t[i+o]=255&e,o+=u,e/=256,s-=8);for(n=n<<s|e,r+=s;r>0;t[i+o]=255&n,o+=u,n/=256,r-=8);t[i+o-u]|=128*f}},{}],2:[function(t,e){function i(t){this.Ca=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.H=0,this.length=this.Ca.length}function n(t,e,i){var n,o,a=i.Ca;if(o=a[i.H++],n=(112&o)>>4,128>o)return s(t,n,e);if(o=a[i.H++],n|=(127&o)<<3,128>o)return s(t,n,e);if(o=a[i.H++],n|=(127&o)<<10,128>o)return s(t,n,e);if(o=a[i.H++],n|=(127&o)<<17,128>o)return s(t,n,e);if(o=a[i.H++],n|=(127&o)<<24,128>o)return s(t,n,e);if(o=a[i.H++],128>o)return s(t,n|(1&o)<<31,e);throw Error("Expected varint not more than 10 bytes")}function s(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.O=i;var o=t("ieee754");i.g=0,i.b=1,i.a=2,i.f=5,i.prototype={gc:function(t,e,i){for(i=i||this.length;this.H<i;){var n=this.ba(),s=n>>3,o=this.H;this.type=7&n,t(s,e,this),this.H===o&&this.Ef(n)}return e},uf:function(){var t=o.read(this.Ca,this.H,!0,23,4);return this.H+=4,t},tf:function(){var t=o.read(this.Ca,this.H,!0,52,8);return this.H+=8,t},ba:function(t){var e,i,s=this.Ca;return i=s[this.H++],e=127&i,128>i?e:(i=s[this.H++],e|=(127&i)<<7,128>i?e:(i=s[this.H++],e|=(127&i)<<14,128>i?e:(i=s[this.H++],e|=(127&i)<<21,128>i?e:(i=s[this.H],n(e|(15&i)<<28,t,this)))))},vf:function(){return this.ba(!0)},ic:function(){var t=this.ba();return 1===t%2?(t+1)/-2:t/2},sf:function(){return!!this.ba()},jc:function(){for(var t=this.ba()+this.H,e=this.Ca,i="",n=this.H;t>n;){var s=e[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a>t)break;var r,h,l;1===a?128>s&&(o=s):2===a?(r=e[n+1],128===(192&r)&&(o=(31&s)<<6|63&r,127>=o&&(o=null))):3===a?(r=e[n+1],h=e[n+2],128===(192&r)&&128===(192&h)&&(o=(15&s)<<12|(63&r)<<6|63&h,2047>=o||o>=55296&&57343>=o)&&(o=null)):4===a&&(r=e[n+1],h=e[n+2],l=e[n+3],128===(192&r)&&128===(192&h)&&128===(192&l)&&(o=(15&s)<<18|(63&r)<<12|(63&h)<<6|63&l,65535>=o||o>=1114112))&&(o=null),null===o?(o=65533,a=1):o>65535&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),i+=String.fromCharCode(o),n+=a}return this.H=t,i},Ef:function(t){if(t&=7,t===i.g)for(;127<this.Ca[this.H++];);else if(t===i.a)this.H=this.ba()+this.H;else if(t===i.f)this.H+=4;else{if(t!==i.b)throw Error("Unimplemented type: "+t);this.H+=8}}}},{ieee754:1}]},{},[2])(2)})}(),function(){var t={},e={O:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.O=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.ig=i()}}(function(){return function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);throw h=Error("Cannot find module '"+a+"'"),h.code="MODULE_NOT_FOUND",h}h=i[a]={O:{}},e[a][0].call(h.O,function(t){var i=e[a][1][t];return s(i?i:t)},h,h.O,t,e,i,n)}return i[a].O}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e){function i(t,e){this.x=t,this.y=e}e.O=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone().Ed(t)},rotate:function(t){return this.clone().Nd(t);
},round:function(){return this.clone().Od()},angle:function(){return Math.atan2(this.y,this.x)},Ed:function(t){return this.x+=t.x,this.y+=t.y,this},Nd:function(t){var e=Math.cos(t);t=Math.sin(t);var i=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=i,this},Od:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.a=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],2:[function(t,e){e.O.ag=t("./lib/vectortile.js"),e.O.bg=t("./lib/vectortilefeature.js"),e.O.cg=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function i(t,e,i){3===t&&(t=new n(i,i.ba()+i.H),t.length&&(e[t.name]=t))}var n=t("./vectortilelayer");e.O=function(t,e){this.layers=t.gc(i,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function i(t,e,i,s,o){this.properties={},this.extent=i,this.type=0,this.Ha=t,this.xc=-1,this.qb=s,this.sb=o,t.gc(n,this,e)}function n(t,e,i){if(1==t)e.id=i.ba();else if(2==t)for(t=i.ba()+i.H;i.H<t;){var n=e.qb[i.ba()],s=e.sb[i.ba()];e.properties[n]=s}else 3==t?e.type=i.ba():4==t&&(e.xc=i.H)}t("point-geometry"),e.O=i,i.a=["Unknown","Point","LineString","Polygon"],i.prototype.bbox=function(){var t=this.Ha;t.H=this.xc;for(var e=t.ba()+t.H,i=1,n=0,s=0,o=0,a=1/0,r=-(1/0),h=1/0,l=-(1/0);t.H<e;)if(n||(n=t.ba(),i=7&n,n>>=3),n--,1===i||2===i)s+=t.ic(),o+=t.ic(),a>s&&(a=s),s>r&&(r=s),h>o&&(h=o),o>l&&(l=o);else if(7!==i)throw Error("unknown command "+i);return[a,h,r,l]}},{"point-geometry":1}],5:[function(t,e){function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Ha=t,this.qb=[],this.sb=[],this.pb=[],t.gc(n,this,e),this.length=this.pb.length}function n(t,e,i){15===t?e.version=i.ba():1===t?e.name=i.jc():5===t?e.extent=i.ba():2===t?e.pb.push(i.H):3===t?e.qb.push(i.jc()):4===t&&e.sb.push(s(i))}function s(t){for(var e=null,i=t.ba()+t.H;t.H<i;)e=t.ba()>>3,e=1===e?t.jc():2===e?t.uf():3===e?t.tf():4===e?t.vf():5===e?t.ba():6===e?t.ic():7===e?t.sf():null;return e}var o=t("./vectortilefeature.js");e.O=i,i.prototype.feature=function(t){if(0>t||t>=this.pb.length)throw Error("feature index out of bounds");return this.Ha.H=this.pb[t],t=this.Ha.ba()+this.Ha.H,new o(this.Ha,t,this.extent,this.qb,this.sb)}},{"./vectortilefeature.js":4}]},{},[2])(2)})}();var dm=[null],em=R(dm,{nd:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("nd"==t.localName,"localName should be nd"),e[e.length-1].Pa.push(t.getAttribute("ref"))},tag:cm});R(dm,{node:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("node"==t.localName,"localName should be node");var i=e[0],n=e[e.length-1],s=t.getAttribute("id"),o=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Ne[s]=o;var a=T({jb:{}},fm,t,e);pa(a.jb)||(o=new lc(o),cj(o,!1,i),i=new Gi(o),i.a=s,i.A(),i.fa(a.jb),n.features.push(i))},way:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("way"==t.localName,"localName should be way");for(var i=e[0],n=t.getAttribute("id"),s=T({Pa:[],jb:{}},em,t,e),o=e[e.length-1],a=[],r=0,h=s.Pa.length;h>r;r++)Ma(a,o.Ne[s.Pa[r]]);s.Pa[0]==s.Pa[s.Pa.length-1]?(r=new sc(null),r.P("XY",a,[a.length])):(r=new ij(null),r.P("XY",a)),cj(r,!1,i),i=new Gi(r),i.a=n,i.A(),i.fa(s.jb),o.features.push(i)}});var fm=R(dm,{tag:cm}),hm=[null,"http://www.opengis.net/ows/1.1"];R(hm,{ServiceIdentification:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceIdentification"==t.localName,"localName should be ServiceIdentification"),T({},im,t,e)}),ServiceProvider:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceProvider"==t.localName,"localName should be ServiceProvider"),T({},jm,t,e)}),OperationsMetadata:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("OperationsMetadata"==t.localName,"localName should be OperationsMetadata"),T({},km,t,e)})});var lm=R(hm,{DeliveryPoint:M(V),City:M(V),AdministrativeArea:M(V),PostalCode:M(V),Country:M(V),ElectronicMailAddress:M(V)}),mm=R(hm,{Value:Qi(function(t){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Value"==t.localName,"localName should be Value"),V(t)})}),nm=R(hm,{AllowedValues:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("AllowedValues"==t.localName,"localName should be AllowedValues"),T({},mm,t,e)})}),pm=R(hm,{Phone:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Phone"==t.localName,"localName should be Phone"),T({},om,t,e)}),Address:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Address"==t.localName,"localName should be Address"),T({},lm,t,e)})}),rm=R(hm,{HTTP:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("HTTP"==t.localName,"localName should be HTTP"),T({},qm,t,e)})}),qm=R(hm,{Get:Qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Get"==t.localName,"localName should be Get");var i=gm(t);return i?T({href:i},sm,t,e):void 0}),Post:void 0}),tm=R(hm,{DCP:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("DCP"==t.localName,"localName should be DCP"),T({},rm,t,e)})}),km=R(hm,{Operation:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Operation"==t.localName,"localName should be Operation");var i=t.getAttribute("name"),n=T({},tm,t,e);n&&(e[e.length-1][i]=n)}}),om=R(hm,{Voice:M(V),Facsimile:M(V)}),sm=R(hm,{Constraint:Qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Constraint"==t.localName,"localName should be Constraint");var i=t.getAttribute("name");return i?T({name:i},nm,t,e):void 0})}),um=R(hm,{IndividualName:M(V),PositionName:M(V),ContactInfo:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactInfo"==t.localName,"localName should be ContactInfo"),T({},pm,t,e)})}),im=R(hm,{Title:M(V),ServiceTypeVersion:M(V),ServiceType:M(V)}),jm=R(hm,{ProviderName:M(V),ProviderSite:M(gm),ServiceContact:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceContact"==t.localName,"localName should be ServiceContact"),T({},um,t,e)})});M(Bj.prototype.od,"bounds");var vm={"http://www.opengis.net/wfs":{totalInserted:M(Hj),totalUpdated:M(Hj),totalDeleted:M(Hj)}},wm={"http://www.opengis.net/ogc":{FeatureId:Oi(function(t){return t.getAttribute("fid")})}},xm={"http://www.opengis.net/wfs":{Feature:function(t,e){Wi(wm,t,e)}}};M(function(t,e){return T({},vm,t,e)},"transactionSummary"),M(function(t,e){return T([],xm,t,e)},"insertIds");var Fm=[null,"http://www.opengis.net/wms"];R(Fm,{Service:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Service"==t.localName,"localName should be Service"),T({},Gm,t,e)}),Capability:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Capability"==t.localName,"localName should be Capability"),T({},Hm,t,e)})});var Hm=R(Fm,{Request:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Request"==t.localName,"localName should be Request"),T({},Im,t,e)}),Exception:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Exception"==t.localName,"localName should be Exception"),T([],Jm,t,e)}),Layer:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer"),T({},Km,t,e)})}),Gm=R(Fm,{Name:M(V),Title:M(V),Abstract:M(V),KeywordList:M(Dm),OnlineResource:M(gm),ContactInformation:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType shpuld be ELEMENT"),console.assert("ContactInformation"==t.localName,"localName should be ContactInformation"),T({},Lm,t,e)}),Fees:M(V),AccessConstraints:M(V),LayerLimit:M(Hj),MaxWidth:M(Hj),MaxHeight:M(Hj)}),Lm=R(Fm,{ContactPersonPrimary:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactPersonPrimary"==t.localName,"localName should be ContactPersonPrimary"),T({},Mm,t,e)}),ContactPosition:M(V),ContactAddress:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactAddress"==t.localName,"localName should be ContactAddress"),T({},Nm,t,e)}),ContactVoiceTelephone:M(V),ContactFacsimileTelephone:M(V),ContactElectronicMailAddress:M(V)}),Mm=R(Fm,{ContactPerson:M(V),ContactOrganization:M(V)}),Nm=R(Fm,{AddressType:M(V),Address:M(V),City:M(V),StateOrProvince:M(V),PostCode:M(V),Country:M(V)}),Jm=R(Fm,{Format:Oi(V)}),Km=R(Fm,{Name:M(V),Title:M(V),Abstract:M(V),KeywordList:M(Dm),CRS:Qi(V),EX_GeographicBoundingBox:M(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("EX_GeographicBoundingBox"==t.localName,"localName should be EX_GeographicBoundingBox");var i=T({},Om,t,e);if(i){var n=i.westBoundLongitude,s=i.southBoundLatitude,o=i.eastBoundLongitude,i=i.northBoundLatitude;return void 0===n||void 0===s||void 0===o||void 0===i?void 0:[n,s,o,i]}}),BoundingBox:Qi(function(t){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("BoundingBox"==t.localName,"localName should be BoundingBox");var e=[Gj(t.getAttribute("minx")),Gj(t.getAttribute("miny")),Gj(t.getAttribute("maxx")),Gj(t.getAttribute("maxy"))],i=[Gj(t.getAttribute("resx")),Gj(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:Qi(function(t){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Dimension"==t.localName,"localName should be Dimension"),{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),"default":t.getAttribute("default"),multipleValues:Ej(t.getAttribute("multipleValues")),nearestValue:Ej(t.getAttribute("nearestValue")),current:Ej(t.getAttribute("current")),values:V(t)}}),Attribution:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Attribution"==t.localName,"localName should be Attribution"),T({},Pm,t,e)}),AuthorityURL:Qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("AuthorityURL"==t.localName,"localName should be AuthorityURL");var i=ym(t,e);return i?(i.name=t.getAttribute("name"),i):void 0}),Identifier:Qi(V),MetadataURL:Qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("MetadataURL"==t.localName,"localName should be MetadataURL");var i=ym(t,e);return i?(i.type=t.getAttribute("type"),i):void 0}),DataURL:Qi(ym),FeatureListURL:Qi(ym),Style:Qi(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Style"==t.localName,"localName should be Style"),T({},Qm,t,e)}),MinScaleDenominator:M(U),MaxScaleDenominator:M(U),Layer:Qi(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer");var i=e[e.length-1],n=T({},Km,t,e);if(n){var s=Ej(t.getAttribute("queryable"));return void 0===s&&(s=i.queryable),n.queryable=void 0!==s?s:!1,s=Ij(t.getAttribute("cascaded")),void 0===s&&(s=i.cascaded),n.cascaded=s,s=Ej(t.getAttribute("opaque")),void 0===s&&(s=i.opaque),n.opaque=void 0!==s?s:!1,s=Ej(t.getAttribute("noSubsets")),void 0===s&&(s=i.noSubsets),n.noSubsets=void 0!==s?s:!1,(s=Gj(t.getAttribute("fixedWidth")))||(s=i.fixedWidth),n.fixedWidth=s,(s=Gj(t.getAttribute("fixedHeight")))||(s=i.fixedHeight),n.fixedHeight=s,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n}})}),Pm=R(Fm,{Title:M(V),OnlineResource:M(gm),LogoURL:M(Cm)}),Om=R(Fm,{westBoundLongitude:M(U),eastBoundLongitude:M(U),southBoundLatitude:M(U),northBoundLatitude:M(U)}),Im=R(Fm,{GetCapabilities:M(Am),GetMap:M(Am),GetFeatureInfo:M(Am)}),Bm=R(Fm,{Format:Qi(V),DCPType:Qi(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("DCPType"==t.localName,"localName should be DCPType"),T({},Rm,t,e)})}),Rm=R(Fm,{HTTP:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("HTTP"==t.localName,"localName should be HTTP"),T({},Sm,t,e)})}),Sm=R(Fm,{Get:M(ym),Post:M(ym)}),Qm=R(Fm,{Name:M(V),Title:M(V),Abstract:M(V),LegendURL:Qi(Cm),StyleSheetURL:M(ym),StyleURL:M(ym)}),zm=R(Fm,{Format:M(V),OnlineResource:M(gm)}),Em=R(Fm,{Keyword:Oi(V)}),Um=[null,"http://www.opengis.net/wmts/1.0"],Vm=[null,"http://www.opengis.net/ows/1.1"];R(Um,{Contents:M(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Contents"==t.localName,"localName should be Contents"),T({},Wm,t,e)})});var Wm=R(Um,{Layer:Qi(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer"),T({},Xm,t,e)}),TileMatrixSet:Qi(function(t,e){return T({},Ym,t,e)})}),Xm=R(Um,{Style:Qi(function(t,e){var i=T({},Zm,t,e);if(i){var n="true"===t.getAttribute("isDefault");return i.isDefault=n,i}}),Format:Qi(V),TileMatrixSetLink:Qi(function(t,e){return T({},$m,t,e)}),Dimension:Qi(function(t,e){return T({},an,t,e)}),ResourceURL:Qi(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},R(Vm,{Title:M(V),Abstract:M(V),WGS84BoundingBox:M(function(t,e){var i=T([],bn,t,e);return 2!=i.length?void 0:cb(i)}),Identifier:M(V)})),Zm=R(Um,{LegendURL:Qi(function(t){var e={};return e.format=t.getAttribute("format"),e.href=gm(t),e})},R(Vm,{Title:M(V),Identifier:M(V)})),$m=R(Um,{TileMatrixSet:M(V),TileMatrixSetLimits:M(function(t,e){return T([],cn,t,e)})}),cn=R(Um,{TileMatrixLimits:Oi(function(t,e){return T({},dn,t,e)})}),dn=R(Um,{TileMatrix:M(V),MinTileRow:M(Hj),MaxTileRow:M(Hj),MinTileCol:M(Hj),MaxTileCol:M(Hj)}),an=R(Um,{Default:M(V),Value:Qi(V)},R(Vm,{Identifier:M(V)})),bn=R(Vm,{LowerCorner:Oi(Tm),UpperCorner:Oi(Tm)}),Ym=R(Um,{WellKnownScaleSet:M(V),TileMatrix:Qi(function(t,e){return T({},en,t,e)})},R(Vm,{SupportedCRS:M(V),Identifier:M(V)})),en=R(Um,{TopLeftCorner:M(Tm),ScaleDenominator:M(U),TileWidth:M(Hj),TileHeight:M(Hj),MatrixWidth:M(Hj),MatrixHeight:M(Hj)},R(Vm,{Identifier:M(V)}));w(Z,D),m=Z.prototype,m.$=function(){this.Cb(!1),D.prototype.$.call(this)},m.Ue=function(){var t=this.bd();t&&(this.g=Mb(Nb("EPSG:4326"),t),this.a&&this.set(hn,this.g(this.a)))},m.Ve=function(){if(Td){var t=this.cd();t&&void 0===this.b?this.b=navigator.geolocation.watchPosition(this.pf.bind(this),this.qf.bind(this),this.Vc()):t||void 0===this.b||(navigator.geolocation.clearWatch(this.b),this.b=void 0)}},m.pf=function(t){var e=t.coords;this.set(jn,e.accuracy),this.set(kn,null===e.altitude?void 0:e.altitude),this.set(ln,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(mn,null===e.heading?void 0:e.heading*Math.PI/180),this.a?(this.a[0]=e.longitude,this.a[1]=e.latitude):this.a=[e.longitude,e.latitude],t=this.g(this.a),this.set(hn,t),this.set(nn,null===e.speed?void 0:e.speed),t=this.a;var i,n=e.accuracy,e=[];for(i=0;32>i;++i)Ma(e,Yf.offset(t,n,2*Math.PI*i/32));e.push(e[0],e[1]),t=new sc(null),t.P("XY",e,[e.length]),t.Wa(this.g),this.set(on,t),this.A()},m.qf=function(t){t.type="error",this.Cb(!1),this.M(t)},m.Wd=function(){return this.get(jn)},m.Xd=function(){return this.get(on)||null},m.Yd=function(){return this.get(kn)},m.Zd=function(){return this.get(ln)},m.Se=function(){return this.get(mn)},m.Te=function(){return this.get(hn)},m.bd=function(){return this.get(fn)},m.ae=function(){return this.get(nn)},m.cd=function(){return this.get(gn)},m.Vc=function(){return this.get(pn)},m.dd=function(t){this.set(fn,t)},m.Cb=function(t){this.set(gn,t)},m.td=function(t){this.set(pn,t)};var jn="accuracy",on="accuracyGeometry",kn="altitude",ln="altitudeAccuracy",mn="heading",hn="position",fn="projection",nn="speed",gn="tracking",pn="trackingOptions";w(qn,ze),m=qn.prototype,m.$=function(){1==this.state&&rn(this),this.a&&xa(this.a),this.state=5,this.A(),ze.prototype.$.call(this)},m.Db=function(){return this.f},m.getKey=function(){return this.g},m.We=function(){this.state=3,rn(this),this.A()},m.Xe=function(){this.state=this.f.naturalWidth&&this.f.naturalHeight?2:4,rn(this),this.A()},m.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.A(),console.assert(!this.b,"this.imageListenerKeys_ should be null"),this.b=[C(this.f,"error",this.We,this,!0),C(this.f,"load",this.Xe,this,!0)],this.c(this,this.g))},w(sn,Fe),sn.prototype.g=function(t,e){var i=e.target.result,n=this.s,s=this.c;s||(s=n.T().u,console.assert(void 0!==s,"projection should be defined"));var o,a,n=this.b,r=[];for(o=0,a=n.length;a>o;++o){var h=new n[o],l={featureProjection:s};try{r=h.ib(i,l)}catch(c){r=null}if(r&&0<r.length)break}this.M(new vn(wn,t,r,s))},sn.prototype.setMap=function(t){this.a&&(this.a.forEach(B),this.a=null),Fe.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.a,this.a=[C(t,"drop",tn,this),C(t,"dragenter",un,this),C(t,"dragover",un,this),C(t,"drop",un,this)])};var wn="addfeatures";w(vn,ya),w(yn,ci),m=yn.prototype,m.Dc=function(t){zn(this,t),this.A()},m.clear=function(t){if(t){for(var e in this.i)this.i[e].forEach(B);this.a||(this.i={},this.b={},this.c={})}else if(this.V){this.V.forEach(this.lc,this);for(var i in this.ja)this.lc(this.ja[i])}this.a&&this.a.clear(),console.assert(pa(this.i),"featureChangeKeys is an empty object now"),console.assert(pa(this.b),"idIndex is an empty object now"),console.assert(pa(this.c),"undefIdIndex is an empty object now"),this.V&&this.V.clear(),this.u.clear(),this.ja={},this.M(new Dn(Gn)),this.A()},m.Ud=function(t,e){return this.V?this.V.forEach(t,e):this.a?this.a.forEach(t,e):void 0},m.df=function(){var t;return this.a?t=this.a.a:this.V&&(t=Rh(this.V),pa(this.ja)||Ma(t,oa(this.ja))),t},m.F=function(){return console.assert(this.V,"getExtent does not work when useSpatialIndex is set to false"),this.V.F()},m.hd=function(t){t=t.target;var e=y(t).toString(),i=t.Y();if(i){if(i=i.F(),e in this.ja)delete this.ja[e],this.V&&this.V.Da(i,t);else if(this.V){var n=this.V;console.assert(y(t)in n.a,"uid (%s) of value (%s) does not exist",y(t),t);var s=n.a[y(t)];if(!lb([s.G,s.K,s.J,s.N],i)){if(n.f)throw Error("Can not update extent while reading");n.remove(t),n.Da(i,t)}}}else e in this.ja||(this.V&&this.V.remove(t),this.ja[e]=t);i=t.a,void 0!==i?(n=i.toString(),e in this.c?(delete this.c[e],this.b[n]=t):this.b[n]!==t&&(i=Hn(this,t),console.assert(i,"Expected feature to be removed from index"),this.b[n]=t)):e in this.c?console.assert(this.c[e]===t,"feature keyed under %s in undefIdKeys",e):(i=Hn(this,t),console.assert(i,"Expected feature to be removed from index"),this.c[e]=t),this.A(),this.M(new Dn(In,t))},m.lc=function(t){var e=y(t).toString();console.assert(e in this.i,"featureKey exists in featureChangeKeys"),this.i[e].forEach(B),delete this.i[e];var i=t.a;void 0!==i?delete this.b[i.toString()]:delete this.c[e],this.M(new Dn(Fn,t))},w(Dn,ya);var En="addfeature",In="changefeature",Gn="clear",Fn="removefeature";w(Jn,ze),Jn.prototype.$=function(){1==this.state&&(this.Fa.forEach(B),this.Fa=null),ze.prototype.$.call(this)},Jn.prototype.Db=function(){return this.l},Jn.prototype.rd=function(){var t=[];if(this.f.forEach(function(e){e&&2==e.aa()&&t.push({extent:ad(this.b,e.qa),image:e.Db()})},this),this.f.length=0,0===t.length)this.state=3;else{var e=this.j[0],i=$c(this.c,e),n="number"==typeof i?i:i[0],i="number"==typeof i?i:i[1],e=Vc(this.c,e),s=Vc(this.b,this.g),o=ad(this.c,this.j);this.l=Zh(n,i,this.u,s,this.b.F(),e,o,this.i,t,this.s,this.v),this.state=2}this.A()},Jn.prototype.load=function(){if(0==this.state){this.state=1,this.A();var t=0;console.assert(!this.Fa,"this.sourcesListenerKeys_ should be null"),this.Fa=[],this.f.forEach(function(e){var i=e.aa();if(0==i||1==i){t++;var n;n=C(e,"change",function(){var i=e.aa();(2==i||3==i||4==i)&&(B(n),t--,console.assert(t>=0,"leftToLoad should not be negative"),0===t&&(this.Fa.forEach(B),this.Fa=null,this.rd()))},this),this.Fa.push(n)}},this),this.f.forEach(function(t){0==t.aa()&&t.load()}),0===t&&setTimeout(this.rd.bind(this),0)}},w(On,gi),On.prototype.Ia=function(t){for(var e,i;Pn(this);){console.assert(this.a,"oldest must not be null"),e=this.a.Ua,i=e.qa[0].toString();var n;if((n=i in t)&&(e=e.qa,n=Nc(t[i],e[1],e[2])),n)break;xa(this.pop())}},w(Qn,ci),m=Qn.prototype,m.gd=function(){return Pn(this.a)},m.Ia=function(t,e){var i=this.cb(t);i&&i.Ia(e)},m.Tc=function(){return 0},m.getKey=function(){return this.va},m.La=function(t,e,i){return t+"/"+e+"/"+i},m.Xb=function(){return this.sa},m.xa=function(t){return this.tileGrid?this.tileGrid:dd(t)},m.cb=function(t){var e=this.g;return e&&!Ub(e,t)?null:this.a},m.xb=function(){return this.Ba},m.yd=ba,w(Sn,ya),w(Tn,Qn),Tn.prototype.na=function(t){switch(t=t.target,t.aa()){case 1:this.M(new Sn("tileloadstart",t));break;case 2:this.M(new Sn("tileloadend",t));break;case 3:this.M(new Sn("tileloaderror",t))}},Tn.prototype.nc=function(t){this.urls=t;var e=t.join("\n");Un(this,this.Ja?this.Ja.bind(this):Ln(t,this.tileGrid),e)},Tn.prototype.yd=function(t,e,i){t=this.La(t,e,i),this.a.b.hasOwnProperty(t)&&this.a.get(t)},w(Vn,Tn),m=Vn.prototype,m.gd=function(){if(Pn(this.a))return!0;for(var t in this.b)if(Pn(this.b[t]))return!0;return!1},m.Ia=function(t,e){var i=this.cb(t);this.a.Ia(this.a==i?e:{});for(var n in this.b){var s=this.b[n];s.Ia(s==i?e:{})}},m.Tc=function(t){return this.g&&t&&!Ub(this.g,t)?0:this.Vb()},m.Vb=function(){return 0},m.Xb=function(t){return this.g&&t&&!Ub(this.g,t)?!1:Tn.prototype.Xb.call(this,t)},m.xa=function(t){var e=this.g;return!this.tileGrid||e&&!Ub(e,t)?(e=y(t).toString(),e in this.v||(this.v[e]=dd(t)),this.v[e]):this.tileGrid},m.cb=function(t){var e=this.g;return!e||Ub(e,t)?this.a:(t=y(t).toString(),t in this.b||(this.b[t]=new On),this.b[t])},w(Zn,Vn),w(ao,fi),w(bo,Zn);var co=new gd({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});if(function(){var t={},e={O:t};!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.O=i();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.gg=i()}}(function(){return function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);throw h=Error("Cannot find module '"+a+"'"),h.code="MODULE_NOT_FOUND",h}h=i[a]={O:{}},e[a][0].call(h.O,function(t){var i=e[a][1][t];return s(i?i:t)},h,h.O,t,e,i,n)}return i[a].O}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e,i){t=t("./processor"),i.Zf=t},{"./processor":2}],2:[function(t,e){function i(t){var e=!0;try{new ImageData(10,10)}catch(i){e=!1}return function(i){var n=i.buffers,s=i.meta,o=i.width,a=i.height,r=n.length,h=n[0].byteLength;if(i.imageOps){for(h=Array(r),i=0;r>i;++i){var l,c=h,u=i;l=new Uint8ClampedArray(n[i]);var f=o,d=a;l=e?new ImageData(l,f,d):{data:l,width:f,height:d},c[u]=l}o=t(h,s).data}else{for(o=new Uint8ClampedArray(h),a=Array(r),c=Array(r),i=0;r>i;++i)a[i]=new Uint8ClampedArray(n[i]),c[i]=[0,0,0,0];for(n=0;h>n;n+=4){for(i=0;r>i;++i)u=a[i],c[i][0]=u[n],c[i][1]=u[n+1],c[i][2]=u[n+2],c[i][3]=u[n+3];i=t(c,s),o[n]=i[0],o[n+1]=i[1],o[n+2]=i[2],o[n+3]=i[3]}}return o.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n);return n.addEventListener("message",e),n}function s(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function o(t){this.Mb=!!t.eg;var e;e=0===t.threads?0:this.Mb?1:t.threads||1;var i=[];if(e)for(var o=0;e>o;++o)i[o]=n(t,this.Ac.bind(this,o));else i[0]=s(t,this.Ac.bind(this,0));this.tb=i,this.Bc=[],this.rb=0,this.Ga={},this.Nb=null}var a=t("./util").Me;o.prototype.Kd=function(){if(0===this.rb&&0<this.Bc.length){var t=this.Nb=this.Bc.shift(),e=t.Oa[0].width,i=t.Oa[0].height,n=t.Oa.map(function(t){return t.data.buffer}),s=this.tb.length;if(this.rb=s,1===s)this.tb[0].postMessage({buffers:n,meta:t.xe,imageOps:this.Mb,width:e,height:i},n);else for(var o=4*Math.ceil(t.Oa[0].data.length/4/s),a=0;s>a;++a){for(var r=a*o,h=[],l=0,c=n.length;c>l;++l)h.push(n[a].slice(r,r+o));this.tb[a].postMessage({buffers:h,meta:t.xe,imageOps:this.Mb,width:e,height:i},h)}}},o.prototype.Ac=function(t,e){this.dg||(this.Ga[t]=e.data,--this.rb,0===this.rb&&this.Md())},o.prototype.Md=function(){var t,e,i=this.Nb,n=this.tb.length;if(1===n)t=new Uint8ClampedArray(this.Ga[0].buffer),e=this.Ga[0].meta;else{var s=i.Oa[0].data.length;t=new Uint8ClampedArray(s),e=Array(s);for(var s=4*Math.ceil(s/4/n),o=0;n>o;++o){var r=o*s;t.set(new Uint8ClampedArray(this.Ga[o].buffer),r),e[o]=this.Ga[o].meta}}this.Nb=null,this.Ga={},i.vb(null,a(t,i.Oa[0].width,i.Oa[0].height),e),this.Kd()},e.O=o},{"./util":3}],3:[function(t,e,i){var n=!0;try{new ImageData(10,10)}catch(s){n=!1}var o=document.createElement("canvas").getContext("2d");i.Me=function(t,e,i){return n?new ImageData(t,e,i):(e=o.createImageData(e,i),e.data.set(t),e)}},{}]},{},[1])(1)})}(),w(eo,Vn),m=eo.prototype,m.Vb=function(){return this.L},m.La=function(t,e,i){return this.B+Vn.prototype.La.call(this,t,e,i)},m.xb=function(t){return this.S&&void 0!==this.s?t:1},m.Ja=function(t,e,i){var n=this.tileGrid;if(n||(n=this.xa(i)),!(n.a.length<=t[0])){1==e||this.S&&void 0!==this.s||(e=1);var s=Vc(n,t[0]),o=ad(n,t,this.ia),a=Qc($c(n,t[0]),this.i),n=this.L;if(0!==n){var r=this.i;void 0===r&&(r=[0,0]),r[0]=a[0]+2*n,r[1]=a[1]+2*n,a=r,o=gb(o,s*n,o)}if(1!=e&&(a=Pc(a,e,this.i)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},ma(s,this.c),n=a,a=e,e=this.urls){if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.u?"CRS":"SRS"]=i.wa,"STYLES"in this.c||(s.STYLES=""),1!=a)switch(this.s){case"geoserver":n=90*a+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":s.MAP_RESOLUTION=90*a;break;case"carmentaserver":case"qgis":s.DPI=90*a;break;default:z(!1,52)}i=i.Fc,this.u&&"ne"==i.substr(0,2)&&(i=o[0],o[0]=o[1],o[1]=i,i=o[2],o[2]=o[3],o[3]=i),s.BBOX=o.join(","),t=$n(1==e.length?e[0]:e[ia((t[1]<<t[0])+t[2],e.length)],s)}else t=void 0;return t}},m.nc=function(t){Vn.prototype.nc.call(this,t),fo(this)},r("ol.layer.Group",Pf),Pf.prototype.getLayers=Pf.prototype.fb,r("ol.layer.Vector",qg),qg.prototype.getSource=qg.prototype.pa,Hf.prototype.getVisible=Hf.prototype.yb,Hf.prototype.setVisible=Hf.prototype.bf,Hf.prototype.setMinResolution=Hf.prototype.Cf,Hf.prototype.setMaxResolution=Hf.prototype.Bf,r("ol.source.Vector",yn),yn.prototype.getFeatures=yn.prototype.df,yn.prototype.addFeatures=yn.prototype.Dc,yn.prototype.forEachFeature=yn.prototype.Ud,yn.prototype.clear=yn.prototype.clear,yn.prototype.getExtent=yn.prototype.F,r("ol.layer.Tile",og),r("ol.layer.Image",sg),r("ol.source.OSM",bo),r("ol.source.XYZ",Zn),r("ol.source.TileWMS",eo),r("ol.source.ImageWMS",ao),r("ol.Map",K),K.prototype.getView=K.prototype.T,K.prototype.addControl=K.prototype.Qd,K.prototype.on=K.prototype.hb,K.prototype.addOverlay=K.prototype.Sd,K.prototype.getEventPixel=K.prototype.Ub,K.prototype.addInteraction=K.prototype.Rd,K.prototype.hasFeatureAtPixel=K.prototype.ve,K.prototype.getTarget=K.prototype.$b,K.prototype.forEachFeatureAtPixel=K.prototype.Vd,K.prototype.getSize=K.prototype.Qa,K.prototype.getLayers=K.prototype.Ze,K.prototype.removeLayer=K.prototype.xf,r("ol.control.defaults",Cd),r("ol.coordinate.format",function(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}),r("ol.View",vc),vc.prototype.on=vc.prototype.hb,vc.prototype.getZoom=vc.prototype.ce,vc.prototype.getProjection=vc.prototype.af,vc.prototype.fit=vc.prototype.Td,vc.prototype.getCenter=vc.prototype.la,vc.prototype.setCenter=vc.prototype.za,vc.prototype.setZoom=vc.prototype.Df,r("ol.control.MousePosition",Dd),r("ol.Feature",Gi),Gi.prototype.getGeometry=Gi.prototype.Y,Gi.prototype.setGeometry=Gi.prototype.Ta,Gi.prototype.getStyle=Gi.prototype.Pe,Gi.prototype.setStyle=Gi.prototype.ad,Gi.prototype.getProperties=Gi.prototype.ya,Gi.prototype.getStyleFunction=Gi.prototype.Qe,r("ol.geom.Point",lc),lc.prototype.getType=lc.prototype.W,lc.prototype.getCoordinates=lc.prototype.da,lc.prototype.transform=lc.prototype.transform,r("ol.geom.LineString",ij),ij.prototype.getType=ij.prototype.W,ij.prototype.transform=ij.prototype.transform,jj.prototype.getType=jj.prototype.W,Zb.prototype.getExtent=Zb.prototype.F,r("ol.style.Style",Eg),r("ol.style.Circle",Bg),r("ol.style.Fill",Cg),r("ol.style.Stroke",Dg),r("ol.style.Text",yk),r("ol.interaction.DragAndDrop",sn),sn.prototype.on=sn.prototype.hb,r("ol.format.GPX",Mj),Mj.prototype.readFeatures=Mj.prototype.ib,Mj.prototype.writeFeatures=Mj.prototype.rc,r("ol.format.GeoJSON",tj),tj.prototype.readFeatures=tj.prototype.ib,tj.prototype.writeFeatures=tj.prototype.rc,r("ol.Overlay",oi),oi.prototype.setPosition=oi.prototype.fd,r("ol.Collection",I),I.prototype.on=I.prototype.hb,I.prototype.push=I.prototype.push,I.prototype.getArray=I.prototype.Oe,I.prototype.removeAt=I.prototype.kc,I.prototype.insertAt=I.prototype.Zc,I.prototype.getLength=I.prototype.eb,I.prototype.remove=I.prototype.remove,I.prototype.forEach=I.prototype.forEach,I.prototype.clear=I.prototype.clear,r("ol.proj.Projection",Fb),r("ol.proj.transform",Xb),r("ol.proj.transformExtent",Yb),r("ol.proj.setProj4",function(t){console.assert("function"==typeof t,"proj4 argument should be a function"),Eb=t}),r("ol.proj.get",Nb),Fb.prototype.setExtent=Fb.prototype.l,Fb.prototype.getExtent=Fb.prototype.F,r("ol.Geolocation",Z),Z.prototype.getAccuracy=Z.prototype.Wd,Z.prototype.getAccuracyGeometry=Z.prototype.Xd,Z.prototype.getAltitude=Z.prototype.Yd,Z.prototype.getAltitudeAccuracy=Z.prototype.Zd,Z.prototype.getHeading=Z.prototype.Se,Z.prototype.getPosition=Z.prototype.Te,Z.prototype.getProjection=Z.prototype.bd,Z.prototype.getSpeed=Z.prototype.ae,Z.prototype.getTracking=Z.prototype.cd,Z.prototype.getTrackingOptions=Z.prototype.Vc,Z.prototype.setProjection=Z.prototype.dd,Z.prototype.setTracking=Z.prototype.Cb,Z.prototype.setTrackingOptions=Z.prototype.td,Z.prototype.get=Z.prototype.get,Z.prototype.getKeys=Z.prototype.$e,Z.prototype.getProperties=Z.prototype.ya,Z.prototype.set=Z.prototype.set,Z.prototype.setProperties=Z.prototype.fa,Z.prototype.unset=Z.prototype.Mf,
Z.prototype.changed=Z.prototype.A,Z.prototype.dispatchEvent=Z.prototype.M,Z.prototype.getRevision=Z.prototype.$d,Z.prototype.on=Z.prototype.hb,Z.prototype.once=Z.prototype.ff,Z.prototype.un=Z.prototype.Kf,Z.prototype.unByKey=Z.prototype.Lf,r("ol.tilegrid.TileGrid",Rc),r("ol.extent.getWidth",sb),define("ol",function(t){return function(){var e;return e||t.ol}}(this)),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("proj4",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.proj4=t()}}(function(){return function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({"./includedProjections":[function(t,e,i){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd"),t("./lib/projections/ortho")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/ortho":57,"./lib/projections/poly":58,"./lib/projections/sinu":59,"./lib/projections/somerc":60,"./lib/projections/stere":61,"./lib/projections/sterea":62,"./lib/projections/tmerc":63,"./lib/projections/utm":64,"./lib/projections/vandg":65}],1:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var s=t.split(",");this.x=parseFloat(s[0],10),this.y=parseFloat(s[1],10),this.z=parseFloat(s[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var s=t("mgrs");n.fromMGRS=function(t){return new n(s.toPoint(t))},n.prototype.toMGRS=function(t){return s.forward([this.x,this.y],t)},e.exports=n},{mgrs:68}],2:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=s(t);if("object"!=typeof i)return void e(t);var a=r(i),h=n.projections.get(a.projName);h?(o(this,a),o(this,h),this.init(),e(null,this)):e(t)}var s=t("./parseCode"),o=t("./extend"),a=t("./projections"),r=t("./deriveConstants");n.projections=a,n.projections.start(),e.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,i){e.exports=function(t,e,i){var n,s,o,a=i.x,r=i.y,h=i.z||0;for(o=0;3>o;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=a,s="x"):1===o?(n=r,s="y"):(n=h,s="z"),t.axis[o]){case"e":i[s]=n;break;case"w":i[s]=-n;break;case"n":i[s]=n;break;case"s":i[s]=-n;break;case"u":void 0!==i[s]&&(i.z=n);break;case"d":void 0!==i[s]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(t,e,i){var n=Math.PI/2,s=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-s(t)*Math.PI}},{"./sign":21}],5:[function(t,e,i){var n=2*Math.PI,s=3.14159265359,o=t("./sign");e.exports=function(t){return Math.abs(t)<=s?t:t-o(t)*n}},{"./sign":21}],6:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e,i){e.exports=function(t,e,i,n,s){var o,a;o=t/e;for(var r=0;15>r;r++)if(a=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-s*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*s*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}},{}],13:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var s,o,a,r,h=Math.asin(.5*e),l=0;30>l;l++)if(o=Math.sin(h),a=Math.cos(h),r=t*o,s=Math.pow(1-r*r,2)/(2*a)*(e/(1-t*t)-o/(1-r*r)+.5/t*Math.log((1-r)/(1+r))),h+=s,Math.abs(s)<=1e-10)return h;return NaN}},{}],14:[function(t,e,i){e.exports=function(t,e,i,n,s){return t*s-e*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,s,o=.5*t,a=n-2*Math.atan(e),r=0;15>=r;r++)if(i=t*Math.sin(a),s=n-2*Math.atan(e*Math.pow((1-i)/(1+i),o))-a,a+=s,Math.abs(s)<=1e-10)return a;return-9999}},{}],17:[function(t,e,i){var n=1,s=.25,o=.046875,a=.01953125,r=.01068115234375,h=.75,l=.46875,c=.013020833333333334,u=.007120768229166667,f=.3645833333333333,d=.005696614583333333,p=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(s+t*(o+t*(a+t*r))),e[1]=t*(h-t*(o+t*(a+t*r)));var i=t*t;return e[2]=i*(l-t*(c+t*u)),i*=t,e[3]=i*(f-t*d),e[4]=i*t*p,e}},{}],18:[function(t,e,i){var n=t("./pj_mlfn"),s=1e-10,o=20;e.exports=function(t,e,i){for(var a=1/(1-e),r=t,h=o;h;--h){var l=Math.sin(r),c=1-e*l*l;if(c=(n(r,l,Math.cos(r),i)-t)*(c*Math.sqrt(c))*a,r-=c,Math.abs(c)<s)return r}return r}},{"./pj_mlfn":19}],19:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],21:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var s=t*i,o=.5*t;return s=Math.pow((1-s)/(1+s),o),Math.tan(.5*(n-e))/s}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=r(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):r(t,e,i)}function s(t){return t instanceof a?t:t.oProj?t.oProj:a(t)}function o(t,e,i){t=s(t);var o,a=!1;return"undefined"==typeof e?(e=t,t=h,a=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=h,a=!0),e=s(e),i?n(t,e,i):(o={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},a&&(o.oProj=e),o)}var a=t("./Proj"),r=t("./transform"),h=a("WGS84");e.exports=o},{"./Proj":2,"./transform":66}],30:[function(t,e,i){var n=Math.PI/2,s=1,o=2,a=3,r=4,h=5,l=484813681109536e-20,c=1.0026,u=.3826834323650898,f=function(t){return this instanceof f?(this.datum_type=r,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=h),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=s),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=o,this.datum_params[3]*=l,this.datum_params[4]*=l,this.datum_params[5]*=l,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?a:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===a&&(this.grids=t.grids)))):new f(t)};f.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===s?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===a||t.datum_type===a?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,s,o,a,r,h,l=t.x,c=t.y,u=t.z?t.z:0,f=0;if(-n>c&&c>-1.001*n)c=-n;else if(c>n&&1.001*n>c)c=n;else if(-n>c||c>n)return null;return l>Math.PI&&(l-=2*Math.PI),a=Math.sin(c),h=Math.cos(c),r=a*a,o=this.a/Math.sqrt(1-this.es*r),e=(o+u)*h*Math.cos(l),i=(o+u)*h*Math.sin(l),s=(o*(1-this.es)+u)*a,t.x=e,t.y=i,t.z=s,f},geocentric_to_geodetic:function(t){var e,i,s,o,a,r,h,l,c,u,f,d,p,m,g,v,y,b=1e-12,M=b*b,x=30,w=t.x,E=t.y,_=t.z?t.z:0;if(p=!1,e=Math.sqrt(w*w+E*E),i=Math.sqrt(w*w+E*E+_*_),e/this.a<b){if(p=!0,g=0,i/this.a<b)return v=n,void(y=-this.b)}else g=Math.atan2(E,w);s=_/i,o=e/i,a=1/Math.sqrt(1-this.es*(2-this.es)*o*o),l=o*(1-this.es)*a,c=s*a,m=0;do m++,h=this.a/Math.sqrt(1-this.es*c*c),y=e*l+_*c-h*(1-this.es*c*c),r=this.es*h/(h+y),a=1/Math.sqrt(1-r*(2-r)*o*o),u=o*(1-r)*a,f=s*a,d=f*l-u*c,l=u,c=f;while(d*d>M&&x>m);return v=Math.atan(f/Math.abs(u)),t.x=g,t.y=v,t.z=y,t},geocentric_to_geodetic_noniter:function(t){var e,i,s,o,a,r,h,l,f,d,p,m,g,v,y,b,M,x=t.x,w=t.y,E=t.z?t.z:0;if(x=parseFloat(x),w=parseFloat(w),E=parseFloat(E),M=!1,0!==x)e=Math.atan2(w,x);else if(w>0)e=n;else if(0>w)e=-n;else if(M=!0,e=0,E>0)i=n;else{if(!(0>E))return i=n,void(s=-this.b);i=-n}return a=x*x+w*w,o=Math.sqrt(a),r=E*c,l=Math.sqrt(r*r+a),d=r/l,m=o/l,p=d*d*d,h=E+this.b*this.ep2*p,b=o-this.a*this.es*m*m*m,f=Math.sqrt(h*h+b*b),g=h/f,v=b/f,y=this.a/Math.sqrt(1-this.es*g*g),s=v>=u?o/v-y:-u>=v?o/-v-y:E/g+y*(this.es-1),M===!1&&(i=Math.atan(g/v)),t.x=e,t.y=i,t.z=s,t},geocentric_to_wgs84:function(t){if(this.datum_type===s)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],a=this.datum_params[3],r=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],c=l*(t.x-h*t.y+r*t.z)+e,u=l*(h*t.x+t.y-a*t.z)+i,f=l*(-r*t.x+a*t.y+t.z)+n;t.x=c,t.y=u,t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===s)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],a=this.datum_params[3],r=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],c=(t.x-e)/l,u=(t.y-i)/l,f=(t.z-n)/l;t.x=c+h*u-r*f,t.y=-h*c+u+a*f,t.z=r*c-a*u+f}}},e.exports=f},{}],31:[function(t,e,i){var n=1,s=2,o=3,a=5,r=6378137,h=.006694379990141316;e.exports=function(t,e,i){function l(t){return t===n||t===s}var c,u,f;if(t.compare_datums(e))return i;if(t.datum_type===a||e.datum_type===a)return i;var d=t.a,p=t.es,m=e.a,g=e.es,v=t.datum_type;if(v===o)if(0===this.apply_gridshift(t,0,i))t.a=r,t.es=h;else{if(!t.datum_params)return t.a=d,t.es=t.es,i;for(c=1,u=0,f=t.datum_params.length;f>u;u++)c*=t.datum_params[u];if(0===c)return t.a=d,t.es=t.es,i;v=t.datum_params.length>3?s:n}return e.datum_type===o&&(e.a=r,e.es=h),(t.es!==e.es||t.a!==e.a||l(v)||l(e.datum_type))&&(t.geodetic_to_geocentric(i),l(t.datum_type)&&t.geocentric_to_wgs84(i),l(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===o&&this.apply_gridshift(e,1,i),t.a=d,t.es=p,e.a=m,e.es=g,i}},{}],32:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=o(arguments[1]):n[t]=a(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var s=t("./global"),o=t("./projString"),a=t("./wkt");s(n),e.exports=n},{"./global":35,"./projString":38,"./wkt":67}],33:[function(t,e,i){var n=t("./constants/Datum"),s=t("./constants/Ellipsoid"),o=t("./extend"),a=t("./datum"),r=1e-10,h=.16666666666666666,l=.04722222222222222,c=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=s[t.ellps]?s[t.ellps]:s.WGS84;o(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<r)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(h+t.es*(l+t.es*c)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=a(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],35:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":69,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"./includedProjections","./transform":66,mgrs:68}],37:[function(t,e,i){function n(t){return"string"==typeof t}function s(t){return t in h}function o(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function a(t){return"+"===t[0]}function r(t){return n(t)?s(t)?h[t]:o(t)?l(t):a(t)?c(t):void 0:t}var h=t("./defs"),l=t("./wkt"),c=t("./projString");e.exports=r},{"./defs":32,"./projString":38,"./wkt":67}],38:[function(t,e,i){var n=.017453292519943295,s=t("./constants/PrimeMeridian"),o=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var a,r,h,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,o[t]&&(e.to_meter=o[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(s[t]?s[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(a in i)r=i[a],a in l?(h=l[a],"function"==typeof h?h(r):e[h]=r):e[a]=r;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,i){function n(t,e){var i=a.length;return t.names?(a[i]=t,t.names.forEach(function(t){o[t.toLowerCase()]=i}),this):(console.log(e),!0)}var s=[t("./projections/merc"),t("./projections/longlat")],o={},a=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof o[e]&&a[o[e]]?a[o[e]]:void 0},i.start=function(){s.forEach(n)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,i){var n=1e-10,s=t("../common/msfnz"),o=t("../common/qsfnz"),a=t("../common/adjust_lon"),r=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=s(this.e3,this.sin_po,this.cos_po),this.qs1=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=s(this.e3,this.sin_po,this.cos_po),this.qs2=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=o(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=o(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*a(e-this.long0),h=s*Math.sin(r)+this.x0,l=this.rh-s*Math.cos(r)+this.y0;return t.x=h,t.y=l,t},i.inverse=function(t){var e,i,n,s,o,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),s=0,0!==e&&(s=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?r=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,r=this.phi1z(this.e3,i)),o=a(s/this.ns0+this.long0),t.x=o,t.y=r,t},i.phi1z=function(t,e){var i,s,o,a,h,l=r(.5*e);if(n>t)return l;for(var c=t*t,u=1;25>=u;u++)if(i=Math.sin(l),s=Math.cos(l),o=t*i,a=1-o*o,h=.5*a*a/s*(e/(1-c)-i/a+.5/t*Math.log((1-o)/(1+o))),l+=h,Math.abs(h)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,i){var n=t("../common/adjust_lon"),s=Math.PI/2,o=1e-10,a=t("../common/mlfn"),r=t("../common/e0fn"),h=t("../common/e1fn"),l=t("../common/e2fn"),c=t("../common/e3fn"),u=t("../common/gN"),f=t("../common/asinz"),d=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,f,d,p,m,g,v,y,b,M,x,w,E,_,S,k,T,N,C,j,P,L,A=t.x,D=t.y,O=Math.sin(t.y),I=Math.cos(t.y),R=n(A-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=o?(t.x=this.x0+this.a*(s-D)*Math.sin(R),t.y=this.y0-this.a*(s-D)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=o?(t.x=this.x0+this.a*(s+D)*Math.sin(R),t.y=this.y0+this.a*(s+D)*Math.cos(R),t):(T=this.sin_p12*O+this.cos_p12*I*Math.cos(R),S=Math.acos(T),k=S/Math.sin(S),t.x=this.x0+this.a*k*I*Math.sin(R),t.y=this.y0+this.a*k*(this.cos_p12*O-this.sin_p12*I*Math.cos(R)),t):(e=r(this.es),i=h(this.es),f=l(this.es),d=c(this.es),Math.abs(this.sin_p12-1)<=o?(p=this.a*a(e,i,f,d,s),m=this.a*a(e,i,f,d,D),t.x=this.x0+(p-m)*Math.sin(R),t.y=this.y0-(p-m)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=o?(p=this.a*a(e,i,f,d,s),m=this.a*a(e,i,f,d,D),t.x=this.x0+(p+m)*Math.sin(R),t.y=this.y0+(p+m)*Math.cos(R),t):(g=O/I,v=u(this.a,this.e,this.sin_p12),y=u(this.a,this.e,O),b=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(y*I)),M=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(R)),N=0===M?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(M)-Math.PI)<=o?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(R)*Math.cos(b)/Math.sin(M)),x=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(M)/Math.sqrt(1-this.es),E=x*w,_=w*w,C=N*N,j=C*N,P=j*N,L=P*N,S=v*N*(1-C*_*(1-_)/6+j/8*E*(1-2*_)+P/120*(_*(4-7*_)-3*x*x*(1-7*_))-L/48*E),t.x=this.x0+S*Math.sin(M),t.y=this.y0+S*Math.cos(M),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,p,m,g,v,y,b,M,x,w,E,_,S,k,T,N,C,j,P,L,A,D;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*s*this.a)return;return i=e/this.a,p=Math.sin(i),m=Math.cos(i),g=this.long0,Math.abs(e)<=o?v=this.lat0:(v=f(m*this.sin_p12+t.y*p*this.cos_p12/e),y=Math.abs(this.lat0)-s,g=n(Math.abs(y)<=o?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*p,e*this.cos_p12*m-t.y*this.sin_p12*p))),t.x=g,t.y=v,t}return b=r(this.es),M=h(this.es),x=l(this.es),w=c(this.es),Math.abs(this.sin_p12-1)<=o?(E=this.a*a(b,M,x,w,s),e=Math.sqrt(t.x*t.x+t.y*t.y),_=E-e,v=d(_/this.a,b,M,x,w),g=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=o?(E=this.a*a(b,M,x,w,s),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-E,v=d(_/this.a,b,M,x,w),g=n(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),S=u(this.a,this.e,this.sin_p12),N=Math.cos(T),C=this.e*this.cos_p12*N,j=-C*C/(1-this.es),P=3*this.es*(1-j)*this.sin_p12*this.cos_p12*N/(1-this.es),L=e/S,A=L-j*(1+j)*Math.pow(L,3)/6-P*(1+3*j)*Math.pow(L,4)/24,D=1-j*A*A/2-L*A*A*A/6,k=Math.asin(this.sin_p12*Math.cos(A)+this.cos_p12*Math.sin(A)*N),g=n(this.long0+Math.asin(Math.sin(T)*Math.sin(A)/Math.cos(k))),v=Math.atan((1-this.es*D*this.sin_p12/Math.sin(k))*Math.tan(k)/(1-this.es)),t.x=g,t.y=v,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var n=t("../common/mlfn"),s=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),r=t("../common/e3fn"),h=t("../common/gN"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),f=Math.PI/2,d=1e-10;i.init=function(){this.sphere||(this.e0=s(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=r(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,s=t.x,o=t.y;if(s=l(s-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(s)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(s))-this.lat0);else{var a=Math.sin(o),r=Math.cos(o),c=h(this.a,this.e,a),u=Math.tan(o)*Math.tan(o),f=s*Math.cos(o),d=f*f,p=this.es*r*r/(1-this.es),m=this.a*n(this.e0,this.e1,this.e2,this.e3,o);e=c*f*(1-d*u*(1/6-(8-u+8*p)*d/120)),i=m-this.ml0+c*a/r*d*(.5+(5-u+6*p)*d/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,s=t.y/this.a;if(this.sphere){var o=s+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var a=this.ml0/this.a+s,r=u(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(r)-f)<=d)return t.x=this.long0,t.y=f,0>s&&(t.y*=-1),t;var p=h(this.a,this.e,Math.sin(r)),m=p*p*p/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(r),2),v=n*this.a/p,y=v*v;e=r-p*Math.tan(r)/m*v*v*(.5-(1+3*g)*v*v/24),i=v*(1-y*(g/3+(1+3*g)*g*y/15))/Math.cos(r)}return t.x=l(i+this.long0),t.y=c(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/qsfnz"),o=t("../common/msfnz"),a=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,o=t.x,a=t.y,r=n(o-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var h=s(this.e,Math.sin(a));e=this.x0+this.a*this.k0*r,i=this.y0+this.a*h*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=a(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),a=s(i-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=s(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),r=t("../common/msfnz"),h=t("../common/mlfn"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),f=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=r(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=r(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var s=h(this.e0,this.e1,this.e2,this.e3,n);
e=this.a*(this.g-s)}var o=this.ns*l(i-this.long0),a=this.x0+e*Math.sin(o),r=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=r,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,s;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=l(this.long0+o/this.ns),n=c(this.g-i/this.a),t.x=s,t.y=n,t;var a=this.g-i/this.a;return n=u(a,this.e0,this.e1,this.e2,this.e3),s=l(this.long0+o/this.ns),t.x=s,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,i){var n=Math.PI/4,s=t("../common/srat"),o=Math.PI/2,a=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*s(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*s(this.e*Math.sin(i),this.ratexp))-o,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,r=t.y,h=Math.pow(Math.tan(.5*r+n)/this.K,1/this.C),l=a;l>0&&(r=2*Math.atan(h*s(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(r-t.y)<e));--l)t.y=r;return l?(t.x=i,t.y=r,t):null},i.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10,o=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,o,a,r,h,l,c,u=t.x,f=t.y;return o=n(u-this.long0),e=Math.sin(f),i=Math.cos(f),a=Math.cos(o),h=this.sin_p14*e+this.cos_p14*i*a,r=1,h>0||Math.abs(h)<=s?(l=this.x0+this.a*r*i*Math.sin(o)/h,c=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*i*a)/h):(l=this.x0+this.infinity_dist*i*Math.sin(o),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*a)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,s,a,r,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),i=Math.sin(a),s=Math.cos(a),h=o(s*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i),r=n(this.long0+r)):(h=this.phic0,r=0),t.x=r,t.y=h,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,s,o,a,r,h,l=t.x,c=t.y,u=n(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),s=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),a=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(o)),r=this.n*a,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=h*Math.cos(r)/1,t.x=h*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,s,o,a,r,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),s=o/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(s)),i=Math.asin(Math.cos(n)*Math.sin(s)/Math.cos(e)),t.x=this.long0-i/this.alfa,r=e,h=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(h=1),r=t.y,c+=1;while(0===h&&15>c);return c>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,i){var n=Math.PI/2,s=Math.PI/4,o=1e-10,a=t("../common/qsfnz"),r=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<o?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<o?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=a(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=a(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,h,l,c,u,f,d,p,m,g=t.x,v=t.y;if(g=r(g-this.long0),this.sphere){if(c=Math.sin(v),m=Math.cos(v),h=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+m*h:1+this.sinph0*c+this.cosph0*m*h,o>=i)return null;i=Math.sqrt(2/i),e=i*m*Math.sin(g),i*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*m*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(v+this.phi0)<o)return null;i=s-.5*v,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(g),i*=h}}else{switch(f=0,d=0,p=0,h=Math.cos(g),l=Math.sin(g),c=Math.sin(v),u=a(this.e,c),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=u/this.qp,d=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:p=1+this.sinb1*f+this.cosb1*d*h;break;case this.EQUIT:p=1+d*h;break;case this.N_POLE:p=n+v,u=this.qp-u;break;case this.S_POLE:p=v-n,u=this.qp+u}if(Math.abs(p)<o)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),i=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*f-this.sinb1*d*h):(p=Math.sqrt(2/(1+d*h)))*f*this.ymf,e=this.xmf*p*d*l;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(p=Math.sqrt(u))*l,i=h*(this.mode===this.S_POLE?p:-p)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,a,h,l,c,u=t.x/this.a,f=t.y/this.a;if(this.sphere){var d,p=0,m=0;if(d=Math.sqrt(u*u+f*f),i=.5*d,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=o?0:Math.asin(f*m/d),u*=m,f=p*d;break;case this.OBLIQ:i=Math.abs(d)<=o?this.phi0:Math.asin(p*this.sinph0+f*m*this.cosph0/d),u*=m*this.cosph0,f=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:f=-f,i=n-i;break;case this.S_POLE:i-=n}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,f):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,f*=this.dd,l=Math.sqrt(u*u+f*f),o>l)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*l/this.rq),s=Math.cos(a),u*=a=Math.sin(a),this.mode===this.OBLIQ?(c=s*this.sinb1+f*a*this.cosb1/l,h=this.qp*c,f=l*this.cosb1*s-f*this.sinb1*a):(c=f*a/l,h=this.qp*c,f=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),h=u*u+f*f,!h)return t.x=0,t.y=this.phi0,t;c=1-h/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(u,f),i=this.authlat(Math.asin(c),this.apa)}return t.x=r(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,i){var n=1e-10,s=t("../common/msfnz"),o=t("../common/tsfnz"),a=Math.PI/2,r=t("../common/sign"),h=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),a=s(this.e,e,i),r=o(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),c=s(this.e,h,l),u=o(this.e,this.lat2,h),f=o(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(a/c)/Math.log(r/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=a/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=r(i)*(a-2*n));var s,l,c=Math.abs(Math.abs(i)-a);if(c>n)s=o(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(s,this.ns);else{if(c=i*this.ns,0>=c)return null;l=0}var u=this.ns*h(e-this.long0);return t.x=this.k0*(l*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(u))+this.y0,t},i.inverse=function(t){var e,i,n,s,o,r=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(r*r+c*c),i=1):(e=-Math.sqrt(r*r+c*c),i=-1);var u=0;if(0!==e&&(u=Math.atan2(i*r,i*c)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),s=l(this.e,n),-9999===s)return null}else s=-a;return o=h(u/this.ns+this.long0),t.x=o,t.y=s,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],52:[function(t,e,i){var n=t("../common/msfnz"),s=Math.PI/2,o=1e-10,a=57.29577951308232,r=t("../common/adjust_lon"),h=Math.PI/4,l=t("../common/tsfnz"),c=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*a>90&&-90>i*a&&e*a>180&&-180>e*a)return null;var n,c;if(Math.abs(Math.abs(i)-s)<=o)return null;if(this.sphere)n=this.x0+this.a*this.k0*r(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var u=Math.sin(i),f=l(this.e,i,u);n=this.x0+this.a*this.k0*r(e-this.long0),c=this.y0-this.a*this.k0*Math.log(f)}return t.x=n,t.y=c,t},i.inverse=function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=s-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var a=Math.exp(-o/(this.a*this.k0));if(i=c(this.e,a),-9999===i)return null}return e=r(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,s=n(e-this.long0),o=this.x0+this.a*s,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,o=n(e-this.long0),a=i,r=Math.PI*Math.sin(i),h=0;!0;h++){var l=-(a+Math.sin(a)-r)/(1+Math.cos(a));if(a+=l,Math.abs(l)<s)break}a/=2,Math.PI/2-Math.abs(i)<s&&(o=0);var c=.900316316158*this.a*o*Math.cos(a)+this.x0,u=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=c,t.y=u,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var s=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));s<-Math.PI&&(s=-Math.PI),s>Math.PI&&(s=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return t.x=s,t.y=o,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,s=t.y,o=s-this.lat0,a=i-this.long0,r=o/n*1e-5,h=a,l=1,c=0;for(e=1;10>=e;e++)l*=r,c+=this.A[e]*l;var u,f,d=c,p=h,m=1,g=0,v=0,y=0;for(e=1;6>=e;e++)u=m*d-g*p,f=g*d+m*p,m=u,g=f,v=v+this.B_re[e]*m-this.B_im[e]*g,y=y+this.B_im[e]*m+this.B_re[e]*g;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t},i.inverse=function(t){var e,i,s,o=t.x,a=t.y,r=o-this.x0,h=a-this.y0,l=h/this.a,c=r/this.a,u=1,f=0,d=0,p=0;for(e=1;6>=e;e++)i=u*l-f*c,s=f*l+u*c,u=i,f=s,d=d+this.C_re[e]*u-this.C_im[e]*f,p=p+this.C_im[e]*u+this.C_re[e]*f;for(var m=0;m<this.iterations;m++){var g,v,y=d,b=p,M=l,x=c;for(e=2;6>=e;e++)g=y*d-b*p,v=b*d+y*p,y=g,b=v,M+=(e-1)*(this.B_re[e]*y-this.B_im[e]*b),x+=(e-1)*(this.B_im[e]*y+this.B_re[e]*b);y=1,b=0;var w=this.B_re[1],E=this.B_im[1];for(e=2;6>=e;e++)g=y*d-b*p,v=b*d+y*p,y=g,b=v,w+=e*(this.B_re[e]*y-this.B_im[e]*b),E+=e*(this.B_im[e]*y+this.B_re[e]*b);var _=w*w+E*E;d=(M*w+x*E)/_,p=(x*w-M*E)/_}var S=d,k=p,T=1,N=0;for(e=1;9>=e;e++)T*=S,N+=this.D[e]*T;var C=this.lat0+N*n*1e5,j=this.long0+k;return t.x=j,t.y=C,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,i){var n=t("../common/tsfnz"),s=t("../common/adjust_lon"),o=t("../common/phi2z"),a=Math.PI/2,r=Math.PI/4,h=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var o=n(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>a*a&&(a=1);var r,h;if(isNaN(this.longc)){var l=n(this.e,this.lat1,Math.sin(this.lat1)),c=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var u=Math.pow(l,this.bl),f=Math.pow(c,this.bl);r=this.el/u,h=.5*(r-1/r);var d=(this.el*this.el-f*u)/(this.el*this.el+f*u),p=(f-u)/(f+u),m=s(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=s(this.long0);var g=s(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/h),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(o,this.bl),h=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(h*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,o,l=t.x,c=t.y,u=s(l-this.long0);if(Math.abs(Math.abs(c)-a)<=h)o=c>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(r+o*this.gamma0*.5)),e=-1*o*a*this.al/this.bl;else{var f=n(this.e,c,Math.sin(c)),d=this.el/Math.pow(f,this.bl),p=.5*(d-1/d),m=.5*(d+1/d),g=Math.sin(this.bl*u),v=(p*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/m;i=Math.abs(Math.abs(v)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=h?this.al*this.bl*u:this.al*Math.atan2(p*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),l=.5*(n+1/n),c=Math.sin(this.bl*e/this.al),u=(c*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/l,f=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<h?(t.x=this.long0,t.y=a):Math.abs(u+1)<h?(t.x=this.long0,t.y=-1*a):(t.y=o(this.e,f),t.x=s(this.long0-Math.atan2(r*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10,o=t("../common/asinz"),a=Math.PI/2;i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},i.forward=function(t){var e,i,o,a,r,h,l,c,u=t.x,f=t.y;return o=n(u-this.long0),e=Math.sin(f),i=Math.cos(f),a=Math.cos(o),h=this.sin_p14*e+this.cos_p14*i*a,r=1,(h>0||Math.abs(h)<=s)&&(l=this.a*r*i*Math.sin(o),c=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*i*a)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,r,h,l,c,u;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=o(e/this.a),r=Math.sin(i),h=Math.cos(i),c=this.long0,Math.abs(e)<=s?(u=this.lat0,t.x=c,t.y=u,t):(u=o(h*this.sin_p14+t.y*r*this.cos_p14/e),l=Math.abs(this.lat0)-a,Math.abs(l)<=s?(c=n(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=c,t.y=u,t):(c=n(this.long0+Math.atan2(t.x*r,e*this.cos_p14*h-t.y*this.sin_p14*r)),t.x=c,t.y=u,t))},i.names=["ortho"]},{"../common/adjust_lon":5,"../common/asinz":6}],58:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),r=t("../common/adjust_lon"),h=t("../common/adjust_lat"),l=t("../common/mlfn"),c=1e-10,u=t("../common/gN"),f=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,s=t.x,o=t.y,a=r(s-this.long0);if(n=a*Math.sin(o),this.sphere)Math.abs(o)<=c?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(h(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=c)e=this.a*a,i=-1*this.ml0;else{var f=u(this.a,this.e,Math.sin(o))/Math.tan(o);e=f*Math.sin(n),i=this.a*l(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+f*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,s,o,a,h,u,d;if(n=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=c)e=r(n/this.a+this.long0),i=0;else{a=this.lat0+s/this.a,h=n*n/this.a/this.a+a*a,u=a;var p;for(o=f;o;--o)if(p=Math.tan(u),d=-1*(a*(u*p+1)-u-.5*(u*u+h)*p)/((u-a)/p-1),u+=d,Math.abs(d)<=c){i=u;break}e=r(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=c)i=0,e=r(this.long0+n/this.a);else{a=(this.ml0+s)/this.a,h=n*n/this.a/this.a+a*a,u=a;var m,g,v,y,b;for(o=f;o;--o)if(b=this.e*Math.sin(u),m=Math.sqrt(1-b*b)*Math.tan(u),g=this.a*l(this.e0,this.e1,this.e2,this.e3,u),v=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),y=g/this.a,d=(a*(m*y+1)-y-.5*m*(y*y+h))/(this.es*Math.sin(2*u)*(y*y+h-2*a*y)/(4*m)+(a-y)*(m*v-2/Math.sin(2*u))-v),u-=d,Math.abs(d)<=c){i=u;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=r(this.long0+Math.asin(n*m/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],59:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/adjust_lat"),o=t("../common/pj_enfn"),a=20,r=t("../common/pj_mlfn"),h=t("../common/pj_inv_mlfn"),l=Math.PI/2,c=1e-10,u=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},i.forward=function(t){var e,i,s=t.x,o=t.y;if(s=n(s-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(o),l=a;l;--l){var u=(this.m*o+Math.sin(o)-h)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<c)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*s*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var f=Math.sin(o),d=Math.cos(o);i=this.a*r(o,f,d,this.en),e=this.a*s*d/Math.sqrt(1-this.es*f*f)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),o=n(o+this.long0),e=s(e)):(e=h(t.y/this.a,this.es,this.en),a=Math.abs(e),l>a?(a=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),o=n(i)):l>a-c&&(o=this.long0)),t.x=o,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],60:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,s=1/n,o=2*s-Math.pow(s,2),a=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+a*e)/(1-a*e));this.K=r-this.alpha*h+this.alpha*a/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,s=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(o))),r=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*a+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(s))),r=this.lambda0+a/this.alpha,h=0,l=o,c=-1e3,u=0;Math.abs(l-c)>1e-7;){if(++u>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=r,t.y=l,t},i.names=["somerc"]},{}],61:[function(t,e,i){var n=Math.PI/2,s=1e-10,o=t("../common/sign"),a=t("../common/msfnz"),r=t("../common/tsfnz"),h=t("../common/phi2z"),l=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s&&(this.k0=.5*(1+o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=s&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s&&(this.k0=.5*this.cons*a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/r(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=a(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,o,a,h,c,u=t.x,f=t.y,d=Math.sin(f),p=Math.cos(f),m=l(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=s&&Math.abs(f+this.lat0)<=s?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*d+this.coslat0*p*Math.cos(m)),t.x=this.a*e*p*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*d-this.sinlat0*p*Math.cos(m))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,d,this.e))-n,a=Math.cos(i),o=Math.sin(i),Math.abs(this.coslat0)<=s?(h=r(this.e,f*this.con,this.con*d),c=2*this.a*this.k0*h/this.cons,t.x=this.x0+c*Math.sin(u-this.long0),t.y=this.y0-this.con*c*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<s?(e=2*this.a*this.k0/(1+a*Math.cos(m)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*a*Math.cos(m))),t.y=e*(this.cosX0*o-this.sinX0*a*Math.cos(m))+this.y0),t.x=e*a*Math.sin(m)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,a,r,c=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(c/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,s>=c?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/c),e=l(Math.abs(this.coslat0)<s?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(u),c*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=s){if(s>=c)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,o=c*this.cons/(2*this.a*this.k0),i=this.con*h(this.e,o),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s>=c?r=this.X0:(r=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/c),e=l(this.long0+Math.atan2(t.x*Math.sin(a),c*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*h(this.e,Math.tan(.5*(n+r)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],62:[function(t,e,i){var n=t("./gauss"),s=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,o,a;return t.x=s(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*o),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*i*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,o,a,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(r,this.R2);e=Math.sin(h),i=Math.cos(h),a=Math.asin(i*this.sinc0+t.y*e*this.cosc0/r),o=Math.atan2(t.x*e,r*this.cosc0*i-t.y*this.sinc0*e)}else a=this.phic0,o=0;return t.x=o,t.y=a,n.inverse.apply(this,[t]),t.x=s(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],63:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),r=t("../common/mlfn"),h=t("../common/adjust_lon"),l=Math.PI/2,c=1e-10,u=t("../common/sign"),f=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,s=t.x,o=t.y,a=h(s-this.long0),l=Math.sin(o),c=Math.cos(o);if(this.sphere){var u=c*Math.sin(a);if(Math.abs(Math.abs(u)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+u)/(1-u)),e=Math.acos(c*Math.cos(a)/Math.sqrt(1-u*u)),0>o&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=c*a,d=Math.pow(f,2),p=this.ep2*Math.pow(c,2),m=Math.tan(o),g=Math.pow(m,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),y=this.a*r(this.e0,this.e1,this.e2,this.e3,o);i=this.k0*v*f*(1+d/6*(1-g+p+d/20*(5-18*g+Math.pow(g,2)+72*p-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+v*m*(d*(.5+d/24*(5-g+9*p+4*Math.pow(p,2)+d/30*(61-58*g+Math.pow(g,2)+600*p-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,s,o,a,r=6;if(this.sphere){var d=Math.exp(t.x/(this.a*this.k0)),p=.5*(d-1/d),m=this.lat0+t.y/(this.a*this.k0),g=Math.cos(m);e=Math.sqrt((1-g*g)/(1+p*p)),o=f(e),0>m&&(o=-o),a=0===p&&0===g?this.long0:h(Math.atan2(p,g)+this.long0)}else{var v=t.x-this.x0,y=t.y-this.y0;for(e=(this.ml0+y/this.k0)/this.a,i=e,s=0;n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=c);s++)if(s>=r)return 95;if(Math.abs(i)<l){var b=Math.sin(i),M=Math.cos(i),x=Math.tan(i),w=this.ep2*Math.pow(M,2),E=Math.pow(w,2),_=Math.pow(x,2),S=Math.pow(_,2);e=1-this.es*Math.pow(b,2);var k=this.a/Math.sqrt(e),T=k*(1-this.es)/e,N=v/(k*this.k0),C=Math.pow(N,2);o=i-k*x*C/T*(.5-C/24*(5+3*_+10*w-4*E-9*this.ep2-C/30*(61+90*_+298*w+45*S-252*this.ep2-3*E))),a=h(this.long0+N*(1-C/6*(1+2*_+w-C/20*(5-2*w+28*_-3*E+8*this.ep2+24*S)))/M)}else o=l*u(y),a=this.long0}return t.x=a,t.y=o,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],64:[function(t,e,i){var n=.017453292519943295,s=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,s.init.apply(this),this.forward=s.forward,this.inverse=s.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":63}],65:[function(t,e,i){var n=t("../common/adjust_lon"),s=Math.PI/2,o=1e-10,a=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,r=t.x,h=t.y,l=n(r-this.long0);Math.abs(h)<=o&&(e=this.x0+this.R*l,i=this.y0);var c=a(2*Math.abs(h/Math.PI));(Math.abs(l)<=o||Math.abs(Math.abs(h)-s)<=o)&&(e=this.x0,i=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var u=.5*Math.abs(Math.PI/l-l/Math.PI),f=u*u,d=Math.sin(c),p=Math.cos(c),m=p/(d+p-1),g=m*m,v=m*(2/d-1),y=v*v,b=Math.PI*this.R*(u*(m-y)+Math.sqrt(f*(m-y)*(m-y)-(y+f)*(g-y)))/(y+f);0>l&&(b=-b),e=this.x0+b;var M=f+m;return b=Math.PI*this.R*(v*M-u*Math.sqrt((y+f)*(f+1)-M*M))/(y+f),
i=h>=0?this.y0+b:this.y0-b,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,s,a,r,h,l,c,u,f,d,p,m;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,s=t.x/d,a=t.y/d,r=s*s+a*a,h=-Math.abs(a)*(1+r),l=h-2*a*a+s*s,c=-2*h+1+2*a*a+r*r,m=a*a/c+(2*l*l*l/c/c/c-9*h*l/c/c)/27,u=(h-l*l/3/c)/c,f=2*Math.sqrt(-u/3),d=3*m/u/f,Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,i=t.y>=0?(-f*Math.cos(p+Math.PI/3)-l/3/c)*Math.PI:-(-f*Math.cos(p+Math.PI/3)-l/3/c)*Math.PI,e=Math.abs(s)<o?this.long0:n(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(s*s-a*a)+r*r))/2/s),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],66:[function(t,e,i){var n=.017453292519943295,s=57.29577951308232,o=1,a=2,r=t("./datum_transform"),h=t("./adjust_axis"),l=t("./Proj"),c=t("./common/toPoint");e.exports=function u(t,e,i){function f(t,e){return(t.datum.datum_type===o||t.datum.datum_type===a)&&"WGS84"!==e.datumCode}var d;return Array.isArray(i)&&(i=c(i)),t.datum&&e.datum&&(f(t,e)||f(e,t))&&(d=new l("WGS84"),u(t,d,i),t=d),"enu"!==t.axis&&h(t,!1,i),"longlat"===t.projName?(i.x*=n,i.y*=n):(t.to_meter&&(i.x*=t.to_meter,i.y*=t.to_meter),t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=r(t.datum,e.datum,i),e.from_greenwich&&(i.x-=e.from_greenwich),"longlat"===e.projName?(i.x*=s,i.y*=s):(e.forward(i),e.to_meter&&(i.x/=e.to_meter,i.y/=e.to_meter)),"enu"!==e.axis&&h(e,!0,i),i}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],67:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return s(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function s(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[i]={},s(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):s(t,e[i])):e[i]=!0)):void(e[t]=!0)}function o(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function a(t){return t*h}function r(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return o(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var h=.017453292519943295,l=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]),i.unshift("output");var a={};return s(i,a),r(a.output),l(e,a.output)}},{"./extend":34}],68:[function(t,e,i){function n(t){return t*(Math.PI/180)}function s(t){return 180*(t/Math.PI)}function o(t){var e,i,s,o,a,h,l,c,u,f=t.lat,d=t.lon,p=6378137,m=.00669438,g=.9996,v=n(f),y=n(d);u=Math.floor((d+180)/6)+1,180===d&&(u=60),f>=56&&64>f&&d>=3&&12>d&&(u=32),f>=72&&84>f&&(d>=0&&9>d?u=31:d>=9&&21>d?u=33:d>=21&&33>d?u=35:d>=33&&42>d&&(u=37)),e=6*(u-1)-180+3,c=n(e),i=m/(1-m),s=p/Math.sqrt(1-m*Math.sin(v)*Math.sin(v)),o=Math.tan(v)*Math.tan(v),a=i*Math.cos(v)*Math.cos(v),h=Math.cos(v)*(y-c),l=p*((1-m/4-3*m*m/64-5*m*m*m/256)*v-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*v)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*v)-35*m*m*m/3072*Math.sin(6*v));var b=g*s*(h+(1-o+a)*h*h*h/6+(5-18*o+o*o+72*a-58*i)*h*h*h*h*h/120)+5e5,M=g*(l+s*Math.tan(v)*(h*h/2+(5-o+9*a+4*a*a)*h*h*h*h/24+(61-58*o+o*o+600*a-330*i)*h*h*h*h*h*h/720));return 0>f&&(M+=1e7),{northing:Math.round(M),easting:Math.round(b),zoneNumber:u,zoneLetter:r(f)}}function a(t){var e=t.northing,i=t.easting,n=t.zoneLetter,o=t.zoneNumber;if(0>o||o>60)return null;var r,h,l,c,u,f,d,p,m,g,v=.9996,y=6378137,b=.00669438,M=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),x=i-5e5,w=e;"N">n&&(w-=1e7),p=6*(o-1)-180+3,r=b/(1-b),d=w/v,m=d/(y*(1-b/4-3*b*b/64-5*b*b*b/256)),g=m+(3*M/2-27*M*M*M/32)*Math.sin(2*m)+(21*M*M/16-55*M*M*M*M/32)*Math.sin(4*m)+151*M*M*M/96*Math.sin(6*m),h=y/Math.sqrt(1-b*Math.sin(g)*Math.sin(g)),l=Math.tan(g)*Math.tan(g),c=r*Math.cos(g)*Math.cos(g),u=y*(1-b)/Math.pow(1-b*Math.sin(g)*Math.sin(g),1.5),f=x/(h*v);var E=g-h*Math.tan(g)/u*(f*f/2-(5+3*l+10*c-4*c*c-9*r)*f*f*f*f/24+(61+90*l+298*c+45*l*l-252*r-3*c*c)*f*f*f*f*f*f/720);E=s(E);var _=(f-(1+2*l+c)*f*f*f/6+(5-2*c+28*l-3*c*c+8*r+24*l*l)*f*f*f*f*f/120)/Math.cos(g);_=p+s(_);var S;if(t.accuracy){var k=a({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:k.lat,right:k.lon,bottom:E,left:_}}else S={lat:E,lon:_};return S}function r(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function l(t,e,i){var n=c(i),s=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return u(s,o,n)}function c(t){var e=t%g;return 0===e&&(e=g),e}function u(t,e,i){var n=i-1,s=v.charCodeAt(n),o=y.charCodeAt(n),a=s+t-1,r=o+e,h=!1;a>E&&(a=a-E+b-1,h=!0),(a===M||M>s&&a>M||(a>M||M>s)&&h)&&a++,(a===x||x>s&&a>x||(a>x||x>s)&&h)&&(a++,a===M&&a++),a>E&&(a=a-E+b-1),r>w?(r=r-w+b-1,h=!0):h=!1,(r===M||M>o&&r>M||(r>M||M>o)&&h)&&r++,(r===x||x>o&&r>x||(r>x||x>o)&&h)&&(r++,r===M&&r++),r>w&&(r=r-w+b-1);var l=String.fromCharCode(a)+String.fromCharCode(r);return l}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,s="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;s+=e,o++}var a=parseInt(s,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var r=t.charAt(o++);if("A">=r||"B"===r||"Y"===r||r>="Z"||"I"===r||"O"===r)throw"MGRSPoint zone letter "+r+" not handled: "+t;n=t.substring(o,o+=2);for(var h=c(a),l=d(n.charAt(0),h),u=p(n.charAt(1),h);u<m(r);)u+=2e6;var f=i-o;if(f%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,y,b,M,x=f/2,w=0,E=0;return x>0&&(g=1e5/Math.pow(10,x),v=t.substring(o,o+x),w=parseFloat(v)*g,y=t.substring(o+x),E=parseFloat(y)*g),b=w+l,M=E+u,{easting:b,northing:M,zoneLetter:r,zoneNumber:a,accuracy:g}}function d(t,e){for(var i=v.charCodeAt(e-1),n=1e5,s=!1;i!==t.charCodeAt(0);){if(i++,i===M&&i++,i===x&&i++,i>E){if(s)throw"Bad character: "+t;i=b,s=!0}n+=1e5}return n}function p(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,s=!1;i!==t.charCodeAt(0);){if(i++,i===M&&i++,i===x&&i++,i>w){if(s)throw"Bad character: "+t;i=b,s=!0}n+=1e5}return n}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,v="AJSAJS",y="AFAFAF",b=65,M=73,x=79,w=86,E=90;i.forward=function(t,e){return e=e||5,h(o({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=a(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=a(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],69:[function(t,e,i){e.exports={name:"proj4",version:"2.3.15",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}]},{},[36])(36)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("templator",[],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(){var t=v();return t.compile=function(e,i){return c.compile(e,i,t)},t.precompile=function(e,i){return c.precompile(e,i,t)},t.AST=h["default"],t.Compiler=c.Compiler,t.JavaScriptCompiler=f["default"],t.Parser=l.parser,t.parse=l.parse,t}var s=i(1)["default"];e.__esModule=!0;var o=i(2),a=s(o),r=i(21),h=s(r),l=i(22),c=i(27),u=i(28),f=s(u),d=i(25),p=s(d),m=i(20),g=s(m),v=a["default"].create,y=n();y.create=n,g["default"](y),y.Visitor=p["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,i){"use strict";function n(){var t=new r.HandlebarsEnvironment;return d.extend(t,r),t.SafeString=l["default"],t.Exception=u["default"],t.Utils=d,t.escapeExpression=d.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var s=i(3)["default"],o=i(1)["default"];e.__esModule=!0;var a=i(4),r=s(a),h=i(18),l=o(h),c=i(6),u=o(c),f=i(5),d=s(f),p=i(19),m=s(p),g=i(20),v=o(g),y=n();y.create=n,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e},e.__esModule=!0},function(t,e,i){"use strict";function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},h.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var s=i(1)["default"];e.__esModule=!0,e.HandlebarsEnvironment=n;var o=i(5),a=i(6),r=s(a),h=i(7),l=i(15),c=i(17),u=s(c),f="4.0.5";e.VERSION=f;var d=7;e.COMPILER_REVISION=d;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=p;var m="[object Object]";n.prototype={constructor:n,logger:u["default"],log:u["default"].log,registerHelper:function(t,e){if(o.toString.call(t)===m){if(e)throw new r["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===m)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new r["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===m){if(e)throw new r["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var g=u["default"].log;e.log=g,e.createFrame=o.createFrame,e.logger=u["default"]},function(t,e){"use strict";function i(t){return c[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(u,i):t}function a(t){return t||0===t?m(t)&&0===t.length?!0:!1:!0}function r(t){var e=n({},t);return e._parent=t,e}function h(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=s,e.escapeExpression=o,e.isEmpty=a,e.createFrame=r,e.blockParams=h,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},u=/[&<>"'`=]/g,f=/[&<>"'`=]/,d=Object.prototype.toString;e.toString=d;var p=function(t){return"function"==typeof t};p(/x/)&&(e.isFunction=p=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)}),e.isFunction=p;var m=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===d.call(t):!1};e.isArray=m},function(t,e){"use strict";function i(t,e){var s=e&&e.loc,o=void 0,a=void 0;s&&(o=s.start.line,a=s.start.column,t+=" - "+o+":"+a);for(var r=Error.prototype.constructor.call(this,t),h=0;h<n.length;h++)this[n[h]]=r[n[h]];Error.captureStackTrace&&Error.captureStackTrace(this,i),s&&(this.lineNumber=o,this.column=a)}e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){a["default"](t),h["default"](t),c["default"](t),f["default"](t),p["default"](t),g["default"](t),y["default"](t)}var s=i(1)["default"];e.__esModule=!0,e.registerDefaultHelpers=n;var o=i(8),a=s(o),r=i(9),h=s(r),l=i(10),c=s(l),u=i(11),f=s(u),d=i(12),p=s(d),m=i(13),g=s(m),v=i(14),y=s(v)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,i){var s=i.inverse,o=i.fn;if(e===!0)return o(this);if(e===!1||null==e)return s(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):s(this);if(i.data&&i.ids){var a=n.createFrame(i.data);a.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:a}}return o(e,i)})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var s=i(5),o=i(6),a=n(o);e["default"]=function(t){t.registerHelper("each",function(t,e){function i(e,i,o){l&&(l.key=e,l.index=i,l.first=0===i,l.last=!!o,c&&(l.contextPath=c+e)),h+=n(t[e],{data:l,blockParams:s.blockParams([t[e],e],[c+e,null])})}if(!e)throw new a["default"]("Must pass iterator to #each");var n=e.fn,o=e.inverse,r=0,h="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=s.appendContextPath(e.data.contextPath,e.ids[0])+"."),s.isFunction(t)&&(t=t.call(this)),e.data&&(l=s.createFrame(e.data)),t&&"object"==typeof t)if(s.isArray(t))for(var u=t.length;u>r;r++)r in t&&i(r,r,r===t.length-1);else{var f=void 0;for(var d in t)t.hasOwnProperty(d)&&(void 0!==f&&i(f,r-1),f=d,r++);void 0!==f&&i(f,r-1,!0)}return 0===r&&(h=o(this)),h})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var s=i(6),o=n(s);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var s=1;null!=i.hash.level?s=i.hash.level:i.data&&null!=i.data.level&&(s=i.data.level),e[0]=s,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var s=e.data;return e.data&&e.ids&&(s=n.createFrame(e.data),s.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:s,blockParams:n.blockParams([t],[s&&s.contextPath])})})},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){a["default"](t)}var s=i(1)["default"];e.__esModule=!0,e.registerDefaultDecorators=n;var o=i(16),a=s(o)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerDecorator("inline",function(t,e,i,s){var o=t;return e.partials||(e.partials={},o=function(s,o){var a=i.partials;i.partials=n.extend({},a,e.partials);var r=t(s,o);return i.partials=a,r}),e.partials[s.args[0]]=s.fn,o})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(s.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=s.lookupLevel(t),"undefined"!=typeof console&&s.lookupLevel(s.level)<=t){var e=s.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;i>o;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=v.COMPILER_REVISION;if(e!==i){if(i>e){var n=v.REVISION_CHANGES[i],s=v.REVISION_CHANGES[e];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){function i(i,n,s){s.hash&&(n=p.extend({},n,s.hash),s.ids&&(s.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,s);var o=e.VM.invokePartial.call(this,i,n,s);if(null==o&&e.compile&&(s.partials[s.name]=e.compile(i,t.compilerOptions,e),o=s.partials[s.name](n,s)),null!=o){if(s.indent){for(var a=o.split("\n"),r=0,h=a.length;h>r&&(a[r]||r+1!==h);r++)a[r]=s.indent+a[r];o=a.join("\n")}return o}throw new g["default"]("The partial "+s.name+" could not be compiled when running in runtime-only mode")}function n(e){function i(e){return""+t.main(s,e,s.helpers,s.partials,a,h,r)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;n._setup(o),!o.partial&&t.useData&&(a=l(e,a));var r=void 0,h=t.useBlockParams?[]:void 0;return t.useDepths&&(r=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(i=c(t.main,i,s,o.depths||[],a,h))(e,o)}if(!e)throw new g["default"]("No environment passed to template");if(!t||!t.main)throw new g["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var s={strict:function(t,e){if(!(e in t))throw new g["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,s){var a=this.programs[t],r=this.fn(t);return e||s||n||i?a=o(this,t,r,e,i,n,s):a||(a=this.programs[t]=o(this,t,r)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=p.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(s.helpers=i.helpers,s.partials=i.partials,s.decorators=i.decorators):(s.helpers=s.merge(i.helpers,e.helpers),t.usePartial&&(s.partials=s.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(s.decorators=s.merge(i.decorators,e.decorators)))},n._child=function(e,i,n,a){if(t.useBlockParams&&!n)throw new g["default"]("must pass block params");if(t.useDepths&&!a)throw new g["default"]("must pass parent depths");return o(s,e,t[e],i,0,n,a)},n}function o(t,e,i,n,s,o,a){function r(e){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=a;return a&&e!==a[0]&&(r=[e].concat(a)),i(t,e,t.helpers,t.partials,s.data||n,o&&[s.blockParams].concat(o),r)}return r=c(i,r,t,a,n,o),r.program=e,r.depth=a?a.length:0,r.blockParams=s||0,r}function a(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function r(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==h&&(i.data=v.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=p.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new g["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0}function h(){return""}function l(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,i,n,s,o){if(t.decorator){var a={};e=t.decorator(e,a,i,n&&n[0],s,o,n),p.extend(e,a)}return e}var u=i(3)["default"],f=i(1)["default"];e.__esModule=!0,e.checkRevision=n,e.template=s,e.wrapProgram=o,e.resolvePartial=a,e.invokePartial=r,e.noop=h;var d=i(5),p=u(d),m=i(6),g=f(m),v=i(4)},function(t,e){(function(i){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if("Program"===t.type)return t;r["default"].yy=d,d.locInfo=function(t){return new d.SourceLocation(e&&e.srcName,t)};var i=new l["default"](e);return i.accept(r["default"].parse(t))}var s=i(1)["default"],o=i(3)["default"];e.__esModule=!0,e.parse=n;var a=i(23),r=s(a),h=i(24),l=s(h),c=i(26),u=o(c),f=i(5);e.parser=r["default"];var d={};f.extend(d,u)},function(t,e){"use strict";var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,s,o,a){var r=o.length-1;switch(s){case 1:return o[r-1];case 2:this.$=n.prepareProgram(o[r]);break;case 3:this.$=o[r];break;case 4:this.$=o[r];break;case 5:this.$=o[r];break;case 6:this.$=o[r];break;case 7:this.$=o[r];break;case 8:this.$=o[r];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(o[r]),strip:n.stripFlags(o[r],o[r]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[r],value:o[r],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(o[r-2],o[r-1],o[r],this._$);break;case 12:this.$={path:o[r-3],params:o[r-2],hash:o[r-1]};break;case 13:this.$=n.prepareBlock(o[r-3],o[r-2],o[r-1],o[r],!1,this._$);break;case 14:this.$=n.prepareBlock(o[r-3],o[r-2],o[r-1],o[r],!0,this._$);break;case 15:this.$={open:o[r-5],path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:n.stripFlags(o[r-5],o[r])};break;case 16:this.$={path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:n.stripFlags(o[r-5],o[r])};break;case 17:this.$={path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:n.stripFlags(o[r-5],o[r])};break;case 18:this.$={strip:n.stripFlags(o[r-1],o[r-1]),program:o[r]};break;case 19:var h=n.prepareBlock(o[r-2],o[r-1],o[r],o[r],!1,this._$),l=n.prepareProgram([h],o[r-1].loc);l.chained=!0,this.$={strip:o[r-2].strip,program:l,chain:!0};break;case 20:this.$=o[r];break;case 21:this.$={path:o[r-1],strip:n.stripFlags(o[r-2],o[r])};break;case 22:this.$=n.prepareMustache(o[r-3],o[r-2],o[r-1],o[r-4],n.stripFlags(o[r-4],o[r]),this._$);break;case 23:this.$=n.prepareMustache(o[r-3],o[r-2],o[r-1],o[r-4],n.stripFlags(o[r-4],o[r]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[r-3],params:o[r-2],hash:o[r-1],indent:"",strip:n.stripFlags(o[r-4],o[r]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(o[r-2],o[r-1],o[r],this._$);break;case 26:this.$={path:o[r-3],params:o[r-2],hash:o[r-1],strip:n.stripFlags(o[r-4],o[r])};break;case 27:this.$=o[r];break;case 28:this.$=o[r];break;case 29:this.$={type:"SubExpression",path:o[r-3],params:o[r-2],hash:o[r-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[r],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(o[r-2]),value:o[r],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(o[r-1]);break;case 33:this.$=o[r];break;case 34:this.$=o[r];break;case 35:this.$={type:"StringLiteral",value:o[r],original:o[r],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[r]),original:Number(o[r]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[r],original:"true"===o[r],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:this.$=o[r];break;case 41:this.$=o[r];break;case 42:this.$=n.preparePath(!0,o[r],this._$);break;case 43:this.$=n.preparePath(!1,o[r],this._$);break;case 44:o[r-2].push({part:n.id(o[r]),original:o[r],separator:o[r-1]}),this.$=o[r-2];break;case 45:this.$=[{part:n.id(o[r]),original:o[r]}];break;case 46:this.$=[];break;case 47:o[r-1].push(o[r]);break;case 48:this.$=[o[r]];break;case 49:o[r-1].push(o[r]);break;case 50:this.$=[];break;case 51:o[r-1].push(o[r]);break;case 58:this.$=[];break;case 59:o[r-1].push(o[r]);break;case 64:this.$=[];break;case 65:o[r-1].push(o[r]);break;case 70:this.$=[];break;case 71:o[r-1].push(o[r]);break;case 78:this.$=[];break;case 79:o[r-1].push(o[r]);
break;case 82:this.$=[];break;case 83:o[r-1].push(o[r]);break;case 86:this.$=[];break;case 87:o[r-1].push(o[r]);break;case 90:this.$=[];break;case 91:o[r-1].push(o[r]);break;case 94:this.$=[];break;case 95:o[r-1].push(o[r]);break;case 98:this.$=[o[r]];break;case 99:o[r-1].push(o[r]);break;case 100:this.$=[o[r]];break;case 101:o[r-1].push(o[r])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],o=[],a=this.table,r="",h=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,m,g,v,y,b,M,x,w={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||"undefined"==typeof d)&&(d=e()),g=a[m]&&a[m][d]),"undefined"==typeof g||!g.length||!g[0]){var E="";if(!c){x=[];for(y in a[m])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");E=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:x})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:n.push(d),s.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(g[1]),d=null,p?(d=p,p=null):(l=this.lexer.yyleng,r=this.lexer.yytext,h=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[g[1]][1],w.$=s[s.length-b],w._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},f&&(w._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(w,r,l,h,this.yy,g[1],s,o),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),s=s.slice(0,-1*b),o=o.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),s.push(w.$),o.push(w._$),M=a[n[n.length-2]][n[n.length-1]],n.push(M);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(i=this._input.match(this.rules[o[a]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=a,this.options.flex));a++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function s(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e["default"]=i},function(t,e,i){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function s(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],s=t[e-2];return n?"ContentStatement"===n.type?(s||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function o(t,e,i){void 0===e&&(e=-1);var n=t[e+1],s=t[e+2];return n?"ContentStatement"===n.type?(s||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function a(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var s=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==s}}function r(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var s=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==s,n.leftStripped}}var h=i(1)["default"];e.__esModule=!0;var l=i(25),c=h(l);n.prototype=new c["default"],n.prototype.Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,h=0,l=n.length;l>h;h++){var c=n[h],u=this.accept(c);if(u){var f=s(n,h,i),d=o(n,h,i),p=u.openStandalone&&f,m=u.closeStandalone&&d,g=u.inlineStandalone&&f&&d;u.close&&a(n,h,!0),u.open&&r(n,h,!0),e&&g&&(a(n,h),r(n,h)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(n[h-1].original)[1])),e&&p&&(a((c.program||c.inverse).body),r(n,h)),e&&m&&(a(n,h),r((c.inverse||c.program).body))}}return t},n.prototype.BlockStatement=n.prototype.DecoratorBlock=n.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,h=i;if(i&&i.chained)for(n=i.body[0].program;h.chained;)h=h.body[h.body.length-1].program;var l={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:s((n||e).body)};if(t.openStrip.close&&a(e.body,null,!0),i){var c=t.inverseStrip;c.open&&r(e.body,null,!0),c.close&&a(n.body,null,!0),t.closeStrip.open&&r(h.body,null,!0),!this.options.ignoreStandalone&&s(e.body)&&o(n.body)&&(r(e.body),a(n.body))}else t.closeStrip.open&&r(e.body,null,!0);return l},n.prototype.Decorator=n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(){this.parents=[]}function s(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function o(t){s.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function a(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var r=i(1)["default"];e.__esModule=!0;var h=i(6),l=r(h);n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!n.prototype[i.type])throw new l["default"]('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;i>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new l["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function(t){a.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new g["default"](t.path.original+" doesn't match "+e,i)}}function s(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function o(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function a(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function r(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function h(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",s=[],o=0,a="",r=0,h=e.length;h>r;r++){var l=e[r].part,c=e[r].original!==l;if(n+=(e[r].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(s.length>0)throw new g["default"]("Invalid path: "+n,{loc:i});".."===l&&(o++,a+="../")}}return{type:"PathExpression",data:t,depth:o,parts:s,original:n,loc:i}}function l(t,e,i,n,s,o){var a=n.charAt(3)||n.charAt(2),r="{"!==a&&"&"!==a,h=/\*/.test(n);return{type:h?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:r,strip:s,loc:this.locInfo(o)}}function c(t,e,i,s){n(t,i),s=this.locInfo(s);var o={type:"Program",body:e,strip:{},loc:s};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}}function u(t,e,i,s,o,a){s&&s.path&&n(t,s);var r=/\*/.test(t.open);e.blockParams=t.blockParams;var h=void 0,l=void 0;if(i){if(r)throw new g["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=s.strip),l=i.strip,h=i.program}return o&&(o=h,h=e,e=o),{type:r?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:h,openStrip:t.strip,inverseStrip:l,closeStrip:s&&s.strip,loc:this.locInfo(a)}}function f(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function d(t,e,i,s){return n(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(s)}}var p=i(1)["default"];e.__esModule=!0,e.SourceLocation=s,e.id=o,e.stripFlags=a,e.stripComment=r,e.preparePath=h,e.prepareMustache=l,e.prepareRawBlock=c,e.prepareBlock=u,e.prepareProgram=f,e.preparePartialBlock=d;var m=i(6),g=p(m)},function(t,e,i){"use strict";function n(){}function s(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=i.parse(t,e),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function o(t,e,i){function n(){var n=i.parse(t,e),s=(new i.Compiler).compile(n,e),o=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(o)}function s(t,e){return o||(o=n()),o.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;return s._setup=function(t){return o||(o=n()),o._setup(t)},s._child=function(t,e,i,s){return o||(o=n()),o._child(t,e,i,s)},s}function a(t,e){if(t===e)return!0;if(u.isArray(t)&&u.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!a(t[i],e[i]))return!1;return!0}}function r(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var h=i(1)["default"];e.__esModule=!0,e.Compiler=n,e.precompile=s,e.compile=o;var l=i(6),c=h(l),u=i(5),f=i(21),d=h(f),p=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!a(n.args,s.args))return!1}e=this.children.length;for(var i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var n in i)n in i&&(e.knownHelpers[n]=i[n]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,i=e.compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[n]=i,this.useDepths=this.useDepths||i.useDepths,n},accept:function(t){if(!this[t.type])throw new c["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){r(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new c["default"]("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,s="SubExpression"===t.name.type;s&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",s,n,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){r(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,s=n.parts[0],o=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",s,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.path,o=s.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",n.length,o);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,t);
s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",n.length,s.original,d["default"].helpers.simpleId(s))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=d["default"].helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");n>i;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=d["default"].helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&d["default"].helpers.helperExpression(t),s=!i&&(n||e);if(s&&!n){var o=t.path.parts[0],a=this.options;a.knownHelpers[o]?n=!0:a.knownHelpersOnly&&(s=!1)}return n?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;i>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||d["default"].helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else e=t.original||e,e.replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var s=t.params;return this.pushParams(s),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),s},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;i>e;e++){var n=this.options.blockParams[e],s=n&&u.indexOf(n,t);if(n&&s>=0)return[e,s]}}}},function(t,e,i){"use strict";function n(t){this.value=t}function s(){}function o(t,e,i,n){var s=e.popStack(),o=0,a=i.length;for(t&&a--;a>o;o++)s=e.nameLookup(s,i[o],n);return t?[e.aliasable("container.strict"),"(",s,", ",e.quotedString(i[o]),")"]:s}var a=i(1)["default"];e.__esModule=!0;var r=i(4),h=i(6),l=a(h),c=i(5),u=i(29),f=a(u);s.prototype={nameLookup:function(t,e){return s.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=r.COMPILER_REVISION,e=r.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,i){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var s=t.opcodes,o=void 0,a=void 0,r=void 0,h=void 0;for(r=0,h=s.length;h>r;r++)o=s[r],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(n);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var f=this.context,d=f.programs,p=f.decorators;for(r=0,h=d.length;h>r;r++)d[r]&&(u[r]=d[r],p[r]&&(u[r+"_d"]=p[r],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new f["default"](this.options.srcName),this.decorators=new f["default"](this.options.srcName)},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));var n=0;for(var s in this.aliases){var o=this.aliases[s];this.aliases.hasOwnProperty(s)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++n+"="+s,o.children[0]="alias"+n)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var r=this.mergeSource(e);return t?(a.push(r),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",r,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,s=void 0,o=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,a=t):(o&&(s?o.prepend("buffer += "):n=!0,a.add(";"),o=a=void 0),s=!0,e||(i=!1))}),i?o?(o.prepend("return "),a.add(";")):s||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var s=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[s++])),this.resolvePath("context",t,s,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(t,e,i,n,s){var a=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict&&s,this,e,t));for(var r=e.length;r>i;i++)this.replaceStack(function(s){var o=a.nameLookup(s,e[i],t);return n?[" && ",o]:[" != null ? ",o," : ",s]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),s=this.setupHelper(t,e),o=i?[s.name," || "]:"",a=["("].concat(o,n);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",s.callParams))},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),s=this.lastHelper=this.nameLookup("helpers",t,"helper"),o=["(","(helper = ",s," || ",i,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],s=this.setupParams(e,1,n);t&&(e=this.popStack(),delete s.name),i&&(s.indent=JSON.stringify(i)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),n.push(s),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,s=void 0;this.trackIds&&(s=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var o=this.hash;i&&(o.contexts[t]=i),n&&(o.types[t]=n),s&&(o.ids[t]=s),o.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:s,compileChildren:function(t,e){for(var i=t.children,n=void 0,s=void 0,o=0,a=i.length;a>o;o++){n=i[o],s=new this.compiler;var r=this.matchExistingProgram(n);null==r?(this.context.programs.push(""),r=this.context.programs.length,n.index=r,n.name="program"+r,this.context.programs[r]=s.compile(n,e,this.context,!this.precompile),this.context.decorators[r]=s.decorators,this.context.environments[r]=n,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams):(n.index=r,n.name="program"+r,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,s=void 0,o=void 0;if(!this.isInline())throw new l["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof n)i=[a.value],e=["(",i],o=!0;else{s=!0;var r=this.incrStack();e=["((",this.push(r)," = ",a,")"],i=this.topStack()}var h=t.call(this,i);o||this.popStack(),s&&this.stackSlot--,this.push(e.concat(h,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var s=t[e];if(s instanceof n)this.compileStack.push(s);else{var o=this.incrStack();this.pushSource([o," = ",s,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[],s=this.setupHelperArgs(e,t,n,i),o=this.nameLookup("helpers",e,"helper"),a=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:n,paramsInit:s,name:o,callParams:[a].concat(n)}},setupParams:function(t,e,i){var n={},s=[],o=[],a=[],r=!i,h=void 0;r&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(n.fn=c||"container.noop",n.inverse=l||"container.noop");for(var u=e;u--;)h=this.popStack(),i[u]=h,this.trackIds&&(a[u]=this.popStack()),this.stringParams&&(o[u]=this.popStack(),s[u]=this.popStack());return r&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(a)),this.stringParams&&(n.types=this.source.generateArray(o),n.contexts=this.source.generateArray(s)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var s=this.setupParams(t,e,i);return s=this.objectLiteral(s),n?(this.useRegister("options"),i.push("options"),["options=",s]):i?(i.push(s),""):s}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=s.RESERVED_WORDS={},i=0,n=t.length;n>i;i++)e[t[i]]=!0}(),s.isValidJavaScriptVariableName=function(t){return!s.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e,i){if(o.isArray(t)){for(var n=[],s=0,a=t.length;a>s;s++)n.push(e.wrap(t[s],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function s(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=i(5),a=void 0;try{}catch(r){}a||(a=function(t,e,i,n){this.src="",n&&this.add(n)},a.prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,i=this.source.length;i>e;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new a(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof a?t:(t=n(t,this,e),new a(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var s=n(t[i],this);"undefined"!==s&&e.push([this.quotedString(i),":",s])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),i=0,s=t.length;s>i;i++)i&&e.add(","),e.add(n(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e["default"]=s,t.exports=e["default"]}])}),define("app/service/search/coordinates",[],function(){"use strict";function t(){this._formats=[{regexp:/^(34N)[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})[ ,;:]\s*([0-9]{6}|[0-9]{6}[,.]\d{0,9})\s*$/,srid:"EPSG:32634",srname:"UTM 34N",get:function(t){return[Number(t[3].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^(34N)[ ,;:]\s*?([0-9]{6}|[0-9]{6}[,.]\d{0,9})[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})\s*$/,srid:"EPSG:32634",srname:"UTM 34N",get:function(t){return[Number(t[2].replace(",",".")),Number(t[3].replace(",","."))]}},{regexp:/^(35N)[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})[ ,;:]\s*([0-9]{6}|[0-9]{6}[,.]\d{0,9})\s*$/,srid:"EPSG:32635",srname:"UTM 35N",get:function(t){return[Number(t[3].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^(35N)[ ,;:]\s*?([0-9]{6}|[0-9]{6}[,.]\d{0,9})[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})\s*$/,srid:"EPSG:32635",srname:"UTM 35N",get:function(t){return[Number(t[2].replace(",",".")),Number(t[3].replace(",","."))]}},{regexp:/^(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\d{0,9})[ ,;:]\s*([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\d{0,9})\s*$/,srid:"EPSG:3301",srname:"L-EST97",get:function(t){return[Number(t[2].replace(",",".")),Number(t[1].replace(",","."))]}},{regexp:/^([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\d{0,9})[ ,;:]\s*(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\d{0,9})\s*$/,srid:"EPSG:3301",srname:"L-EST97",get:function(t){return[Number(t[1].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^([\-NS])?\s*([0-8]\d?|90)[ ’'°]+([0-9]{2})[ ’']+([0-9]{1,2}[,.]?\d{1,9})["]?[ ,;:]\s*([\-EW])?\s*([0-1]\d{0,2}|\d{2})[ ’'°]+([0-9]{2})[ ’']+([0-9]{1,2}[,.]?\d{1,9})["]?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[6])+Number(t[7])/60+Number(t[8].replace(",","."))/60/60,Number(t[2])+Number(t[3])/60+Number(t[4].replace(",","."))/60/60];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[5]||"W"===t[5]?-e[0]:e[0],e}},{regexp:/^([\-NS])?\s*([0-8]\d?|90)[ .’'°]+([0-9]{1,2}[,.]?\d{1,18})[’']?[ ,;:]\s*([\-EW])?\s*([0-1]\d{0,2}|\d{2})[ ’'°]+([0-9]{1,2}[,.]?\d{1,18})[’']?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[5])+Number(t[6].replace(",","."))/60,Number(t[2])+Number(t[3].replace(",","."))/60];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[4]||"W"===t[4]?-e[0]:e[0],e}},{regexp:/^([\-NS])?\s*([1-8]?\d(?:[,.]\d{1,18})?|90(?:\.0{1,18})?)[’'°]?[ ,;:]\s*([\-EW])?\s*((?:1[0-7]|[1-9])?\d(?:[,.]\d{1,18})?|180(?:\.0{1,18})?)[’'°]?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[4].replace(",",".")),Number(t[2].replace(",","."))];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[3]||"W"===t[3]?-e[0]:e[0],e}}]}return t.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){var e,i,n,s;for(i=0,n=this._formats.length;n>i;i++)if(e=t.match(this._formats[i].regexp),e&&e.length>0)return s=this._formats[i].get(e),{x:s[0],y:s[1],srid:this._formats[i].srid};return!1}},t}),define("app/service/search/nominatim",["jquery","app/service/search/coordinates"],function(t,e){"use strict";function i(t){this._url="https://nominatim.openstreetmap.org",this._mapmodule=t,this._coordinateParser=new e,this._results=null,this._id="nominatim",this._title='<i class="glyphicon glyphicon-map-marker"></i> Leitud aadressid',this._xhr=null}return i.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null,this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._mapmodule.get("overlay").getSource().clear()},find:function(t,e,i){var n,s=this._coordinateParser.test(t),o=this._mapmodule.get("overlay"),a=this;this._results=null,s&&s.srid?(o.getSource().clear(),n=this._mapmodule.transform("point",[s.x,s.y],s.srid,"EPSG:3857"),o.getSource().addFeatures([this._mapmodule.createMarker(n)]),this._mapmodule.setView("center",[n,15]),this.reverse([s.x,s.y],18,function(t){t&&t.place_id&&(t.boundingbox=[s.y,s.y,s.x,s.x],t=a.format([t]),a._results=t),"function"==typeof e&&e(a._title,a._results,i)})):this.geocode(t,function(t){t.length>0&&(t=a.format(t),a._results=t),"function"==typeof e&&e(a._title,a._results,i)})},geocode:function(e,i){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",crossDomain:!0,url:this._url+"/search/",data:{q:e,countrycodes:"ee",format:"json"},dataType:"json",context:this}).done(i).fail(function(t){i(null),"abort"===t.statusText})},reverse:function(e,i,n){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",url:this._url+"/reverse/",data:{lat:e[1],lon:e[0],format:"json",zoom:i,addressdetails:1},dataType:"json",context:this}).done(n).fail(function(t){n(null),"abort"===t.statusText})},format:function(t){var e,i,n,s=[];for(e=0,i=t.length;i>e;e++)t[e]&&t[e].boundingbox&&4===t[e].boundingbox.length&&(n=[parseFloat(t[e].boundingbox[2]),parseFloat(t[e].boundingbox[0]),parseFloat(t[e].boundingbox[3]),parseFloat(t[e].boundingbox[1])],s.push({id:t[e].place_id,name:t[e].display_name,bbox:this._mapmodule.transform("extent",n,"EPSG:4326","EPSG:3857"),type:this._id}));return s},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},i}),define("app/service/featureinfo",["jquery","ol","app/service/search/nominatim"],function(t,e,i){"use strict";function n(t){this._mapmodule=t,this._map=t.get("map"),this._geocode=new i(t),this._tooltip=null,this._styleCache={},this._highlight=null,this._popup=null,this._infoHandlers={},this.init()}return n.prototype={get:function(t){return this["_"+t]},init:function(){this.createFeatureTooltip(),this.createFeatureInfo(),t("#statusbar .geolocation a.unlock").on("click",function(e){e.preventDefault(),t("#statusbar .geolocation").addClass("hidden").find("div").empty(),t("#statusbar .mouse-position").removeClass("hidden")}),t("#statusbar .mouse-position a.lock").on("click",function(e){e.preventDefault(),t("#statusbar .mouse-position").addClass("hidden"),t("#statusbar .geolocation").removeClass("hidden")})},createFeatureTooltip:function(){var t=this,i=!1;this._tooltip=new e.layer.Vector({map:t._map,source:new e.source.Vector({features:[]}),style:function(i,n){var s=i.get("name");return t._styleCache[s]||(t._styleCache[s]=[new e.style.Style({text:new e.style.Text({font:"12px Calibri,sans-serif",text:s,offsetY:-14,fill:new e.style.Fill({color:"#000"}),stroke:new e.style.Stroke({color:"#fff",width:3})})})]),t._styleCache[s]}}),this._map.on("pointermove",function(e){if(!e.dragging){var n=t._map.getEventPixel(e.originalEvent),s=t._map.hasFeatureAtPixel(n);s?(t._map.getTarget().style.cursor="pointer",i=t.showTooltip(e.pixel)):(t._map.getTarget().style.cursor=s?"pointer":"",i=t.showTooltip())}})},showTooltip:function(t){if(!t)return this._tooltip.getSource().clear(),this._highlight=null,!1;var e=this._map.forEachFeatureAtPixel(t,function(t,e){return t});return e!==this._highlight&&(this._tooltip.getSource().clear(),this._tooltip.getSource().addFeatures([e]),this._highlight=e),!0},createFeatureInfo:function(){var i,n=this;this._popup=t('<div id="popup"></div>'),i=new e.Overlay({element:this._popup[0],autoPan:!0,autoPanMargin:50,positioning:"center-center",offset:[0,-10]}),n._map.addOverlay(i),n._map.on("click",function(e){var s,o=e.coordinate,a=n._map.forEachFeatureAtPixel(e.pixel,function(t,e){return[e,t]});n._popup.popover("destroy"),a?(n._tooltip.getSource().clear(),"Point"===a[1].getGeometry().getType()&&(o=a[1].getGeometry().getCoordinates()),s=a[0]&&n._infoHandlers[a[0].get("name")]?n._infoHandlers[a[0].get("name")](a[1]):n.getContent(a[1]),i.setPosition(o),n._popup.popover(s.definition).popover("show"),n._popup.on("shown.bs.popover",function(){s.onShow(a[1])}),n._popup.on("hidden.bs.popover",s.onHide),n._popup.popover("show")):t("#statusbar .mouse-position").hasClass("hidden")&&n.setPositionInfo(o)})},getContent:function(t,e){if(t){var i,n=t.getProperties(),s=[];for(i in n)!n.hasOwnProperty(i)||"string"!=typeof n[i]&&"number"!=typeof n[i]||s.push(i+": "+n[i]);return{definition:{placement:"top",animation:!1,html:!0,title:'<i class="fa fa-map-marker"></i> Kaardiobjekt',content:'<div class="small">'+s.join("<br>")+"</div>"},onShow:function(){},onHide:function(){}}}return{definition:{placement:"top",animation:!1,html:!0,title:'<i class="fa fa-map-marker"></i> Koordinaadid',content:'<div class="small">'+e.join(", ")+"</div>"},onShow:function(){},onHide:function(){}}},setPositionInfo:function(i){var n=this;t("#statusbar .geolocation").find("div").html(function(){var t=e.coordinate.format(n._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);return" "+t}),this._geocode.reverse(this._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),this._mapmodule.get("map").getView().getZoom(),function(e){e&&e.display_name&&t('<i class="text-muted hidden-xs" style="display:none"> &mdash; '+e.display_name+"</i>").appendTo("#statusbar .geolocation div").fadeIn()})}},n}),define("app/service/geolocation",["jquery","ol"],function(t,e){"use strict";function i(t){this._mapmodule=t,this._locator=null,this._features={position:this._mapmodule.createMarker(null),accuracy:new e.Feature},this._firstposition=!0,this.init()}return i.prototype={init:function(){var i=this;this._locator=new e.Geolocation({projection:this._mapmodule.get("map").getView().getProjection(),trackingOptions:{enableHighAccuracy:!0,maximumAge:0}}),this._features.accuracy.setStyle(new e.style.Style({fill:new e.style.Fill({color:"rgba(51, 153, 204, 0.3)"})})),this._locator.on("change:accuracyGeometry",function(){i._features.accuracy.setGeometry(i._locator.getAccuracyGeometry())}),this._locator.on("change:position",function(){var t=i._locator.getPosition();t?(i._features.position.setGeometry(new e.geom.Point(t)),i._firstposition?(i._mapmodule.setView("center",[t,15]),i._firstposition=!1):i._mapmodule.setView("center",[t])):i._features.position.setGeometry(null)}),this._locator.on("change:heading",function(){var t=i._locator.getHeading();t&&this._mapmodule.get("map").getView().setRotation(t)}),this._locator.on("change",function(){i._mapmodule.get("featureInfo").setPositionInfo(i._locator.getPosition())}),this._locator.on("error",function(t){}),t("#statusbar a.btn-geolocation").on("click",function(e){e.preventDefault(),i._locator.getTracking()?(i.disable(),t(this).removeClass("active")):(i.enable(),t(this).addClass("active"))})},enable:function(){var e=this._mapmodule.get("overlay");e.getSource().clear(),e.getSource().addFeatures([this._features.accuracy,this._features.position]),this._locator.setTracking(!0),t("#statusbar .mouse-position a.lock").trigger("click")},disable:function(){var t=this._mapmodule.get("overlay");this._locator.setTracking(!1),this._features.position.setGeometry(null),this._features.accuracy.setGeometry(null),this._mapmodule.get("map").getView().setRotation(0),t.getSource().clear(),this._firstposition=!0}},i}),define("text",["module"],function(t){"use strict";var e,i,n,s,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),u=l&&location.hostname,f=l&&(location.port||void 0),d={},p=t.config&&t.config()||{};return e={version:"2.0.14",strip:function(t){if(t){t=t.replace(r,"");var e=t.match(h);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=a[e];try{t=new ActiveXObject(i)}catch(n){}if(t){a=[i];break}}return t},parseName:function(t){var e,i,n,s=!1,o=t.lastIndexOf("."),a=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!a||o>1)?(e=t.substring(0,o),i=t.substring(o+1)):e=t,n=i||e,o=n.indexOf("!"),-1!==o&&(s="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,s){var o,a,r,h=e.xdRegExp.exec(t);return h?(o=h[2],a=h[3],a=a.split(":"),r=a[1],a=a[0],!(o&&o!==i||a&&a.toLowerCase()!==n.toLowerCase()||(r||a)&&r!==s)):!0},finishLoad:function(t,i,n,s){n=i?e.strip(n):n,p.isBuild&&(d[t]=n),s(n)},load:function(t,i,n,s){if(s&&s.isBuild&&!s.inlineText)return void n();p.isBuild=s&&s.isBuild;var o=e.parseName(t),a=o.moduleName+(o.ext?"."+o.ext:""),r=i.toUrl(a),h=p.useXhr||e.useXhr;return 0===r.indexOf("empty:")?void n():void(!l||h(r,c,u,f)?e.get(r,function(i){e.finishLoad(t,o.strip,i,n)},function(t){n.error&&n.error(t)}):i([a],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,n)}))},write:function(t,i,n,s){if(d.hasOwnProperty(i)){var o=e.jsEscape(d[i]);n.asModule(t+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,i,n,s,o){var a=e.parseName(i),r=a.ext?"."+a.ext:"",h=a.moduleName+r,l=n.toUrl(a.moduleName+r)+".js";
e.load(h,n,function(i){var n=function(t){return s(l,t)};n.asModule=function(t,e){return s.asModule(t,l,e)},e.write(t,h,n,o)},o)}},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),e.get=function(t,e,n){try{var s=i.readFileSync(t,"utf8");"\ufeff"===s[0]&&(s=s.substring(1)),e(s)}catch(o){n&&n(o)}}):"xhr"===p.env||!p.env&&e.createXhr()?e.get=function(t,i,n,s){var o,a=e.createXhr();if(a.open("GET",t,!0),s)for(o in s)s.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),s[o]);p.onXhr&&p.onXhr(a,t),a.onreadystatechange=function(e){var s,o;4===a.readyState&&(s=a.status||0,s>399&&600>s?(o=new Error(t+" HTTP status: "+s),o.xhr=a,n&&n(o)):i(a.responseText),p.onXhrComplete&&p.onXhrComplete(a,t))},a.send(null)}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,s="utf-8",o=new java.io.File(t),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),s)),h="";try{for(i=new java.lang.StringBuffer,n=r.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=r.readLine());)i.append(a),i.append(n);h=String(i.toString())}finally{r.close()}e(h)}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in n,e.get=function(t,e){var i,a,r,h={};o&&(t=t.replace(/\//g,"\\")),r=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),i.init(r,1,0,!1),a=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),a.init(i,"utf-8",i.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(i.available(),h),a.close(),i.close(),e(h.value)}catch(l){throw new Error((r&&r.path||"")+": "+l)}}),e}),define("text!tmpl/map/layerswitcher.html",[],function(){return'<div class="btn-group pull-right layerswitcher">\r\n    <button type="button" class="btn btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\r\n        <span class="display-name hidden-xs">{{ layer_name }}</span>\r\n        <i class="fa fa-globe"></i>\r\n    </button>\r\n    <ul class="dropdown-menu" role="menu">\r\n        {{#each layers}}\r\n            <li class="{{state}}">\r\n                <a href="#" class="blayer" data-name="{{this.name}}" data-crs="{{this.crs}}">{{this.title}}</a>\r\n            </li>\r\n        {{/each}}\r\n    </ul>\r\n</div>\r\n'}),define("app/map",["jquery","ol","proj4","templator","app/service/featureinfo","app/service/geolocation","text!tmpl/map/layerswitcher.html"],function(t,e,i,n,s,o,a){"use strict";function r(t){e.proj.setProj4(i);var n=e.proj.get("EPSG:3301");n.setExtent([40500,5993e3,1064500,7017e3]),this._config=t,this._map=null,this._baseLayers=new e.layer.Group({layers:[]}),this._vectorLayers=new e.layer.Group({layers:[]}),this._el=null,this._featureInfo=null,this._geoLocation=null,this._controls={mouseCoordinates:null},this._overlay=null}return i.defs("EPSG:3301","+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.defs("EPSG:32634","+proj=utm +zone=34 +datum=WGS84 +units=m +no_defs"),i.defs("EPSG:32635","+proj=utm +zone=35 +datum=WGS84 +units=m +no_defs"),r.prototype={get:function(t){return this["_"+t]},init:function(){this.createBaseLayers(this._config.baseLayers),this.createMap(),this.createLayerSwitcher(this._config.baseLayers),this._config.mouseCoordinates&&this.createMouseCoordinatesControl(),this._config.featureInfo&&(this._featureInfo=new s(this)),this._overlay=new e.layer.Vector({map:this._map,source:new e.source.Vector({features:[],useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this._config.locateEnabled&&(this._geoLocation=new o(this))},createBaseLayers:function(t){var i,n,s,o,a=[],r=!1,h="Image";for(i in t)if(t.hasOwnProperty(i))if(r=i===this._config.activeBaseLayer,a=[],"Group"===t[i].type){for(n=0,s=t[i].layers.length;s>n;n++)t[i].layers[n].projection=t[i].projection,o=t[i].layers[n].type.slice(0,h.length)===h?this.createImageLayer(t[i].layers[n]):this.createTileLayer(t[i].layers[n]),a.push(o);this._baseLayers.getLayers().push(new e.layer.Group({id:i,title:t[i].title,layers:a,visible:r}))}else o=t[i].type.slice(0,h.length)===h?this.createImageLayer(t[i]):this.createTileLayer(t[i]),o.set("id",i),o.setVisible(r),this._baseLayers.getLayers().push(o)},createTileLayer:function(t){var i,n="WMS",s=1024;if(t.type.slice(-n.length)===n){for(var o=e.proj.get(t.projection).getExtent(),a=e.extent.getWidth(o)/s,r=new Array(22),h=0,l=r.length;l>h;++h)r[h]=a/Math.pow(2,h);var c=new e.tilegrid.TileGrid({extent:o,resolutions:r,tileSize:[s,s]});t.tileGrid=c}var i=new e.layer.Tile({title:t.title,source:new e.source[t.type](t)});return t.id&&i.set("id",t.id),t.minResolution&&i.setMinResolution(t.minResolution),t.maxResolution&&i.setMaxResolution(t.maxResolution),i},createImageLayer:function(t){var i=new e.layer.Image({title:t.title,source:new e.source[t.type](t)});return t.minResolution&&i.setMinResolution(t.minResolution),t.maxResolution&&i.setMaxResolution(t.maxResolution),i},createLayerSwitcher:function(e){var i,s=this,o=[],r=n.compile(a);for(i in e)e.hasOwnProperty(i)&&o.push({name:i,title:e[i].title,crs:e[i].projection,state:this.isVisible(e[i])?"":"disabled"});this._el=t(r({layer_name:e[this._config.activeBaseLayer].title,layers:o,create_new_layer:"Lisa uus WMS kiht",confirm:"Lisa"})),t("#toolbar").append(this._el),this._el.on("click","a.blayer",function(e){e.preventDefault(),t(this).closest("li").hasClass("disabled")||s.changeBaseLayer(t(this).data("name"))}),this._map.getView().on("change:resolution",function(){Object.keys(e).forEach(function(t){s.isVisible(e[t])?s._el.find('li a[data-name="'+t+'"]').closest("li").removeClass("disabled"):s._el.find('li a[data-name="'+t+'"]').closest("li").addClass("disabled")})})},isVisible:function(t){return t.minResolution&&this._map.getView().getResolution()<t.minResolution?!1:t.maxResolution&&this._map.getView().getResolution()>t.maxResolution?!1:!0},changeBaseLayer:function(t){this._baseLayers.getLayers().forEach(function(e){e.set("visible",e.get("id")===t)}),this._el.find(".display-name").html(this._config.baseLayers[t].title)},createMap:function(){var t=this;this._map=new e.Map({layers:[t._baseLayers,t._vectorLayers],controls:e.control.defaults({attribution:!1,rotate:!1,zoom:!1}),target:document.getElementById(t._config.el),view:new e.View({projection:"EPSG:3857",center:t.transform("point",t._config.center,"EPSG:4326","EPSG:3857"),zoom:t._config.zoom,maxZoom:20})})},createMouseCoordinatesControl:function(){var i=new e.control.MousePosition({coordinateFormat:function(t){return e.coordinate.format(t,"{y}, {x}",5)},projection:"EPSG:4326",className:"pull-left",target:t("#statusbar .mouse-position")[0],undefinedHTML:""});this._map.addControl(i)},transform:function(t,n,s,o){if(i.defs(s)&&i.defs(o))switch(t){case"point":n=e.proj.transform(n,s,o);break;case"extent":n=e.proj.transformExtent(n,s,o)}return n},setView:function(t,e,i){var n;switch(t){case"bounds":this._map.getView().fit(e,this._map.getSize());break;case"center":e[1]?(n=e[1],i&&this._map.getView().getZoom()>n&&(n=this._map.getView().getZoom()),this._map.getView().setCenter(e[0]),this._map.getView().setZoom(n)):this._map.getView().setCenter(e[0])}},getAllFeatures:function(){var i=[];return this._vectorLayers.getLayers().forEach(function(n){n instanceof e.layer.Vector&&t.merge(i,n.getSource().getFeatures())}),i},createMarker:function(t){var i=new e.Feature;return t?i.setGeometry(new e.geom.Point(t)):i.setGeometry(null),i.setStyle(new e.style.Style({image:new e.style.Circle({radius:6,fill:new e.style.Fill({color:"#3399CC"}),stroke:new e.style.Stroke({color:"#fff",width:3})})})),i}},r}),define("text!tmpl/service/search/search.html",[],function(){return'<div class="input-group search pull-right ">\n    <input type="text" class="form-control input-sm" placeholder="{{search}}">\n    <span class="input-group-btn dropdown fill-width">\n        <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true" disabled>\n            <i class="fa fa-search"></i>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" role="menu"></ul>\n    </span>\n</div>'}),define("text!tmpl/service/search/search-item.html",[],function(){return'<li role="presentation" class="small">\n    <a role="menuitem" tabindex="-1" href="#" data-id="{{ id }}" data-type="{{ type }}">{{ name }}</a>\n</li>'}),define("app/service/search/map-features",["jquery"],function(t){"use strict";function e(t){this._mapmodule=t,this._results=null,this._id="mapfeatures",this._title='<i class="fa fa-cube"></i> Leitud aarded'}return e.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null},find:function(t,e,i){var n,s,o,a,r=this,h=[],l=null;setTimeout(function(){for(l=r._mapmodule.getAllFeatures(),n=0,s=l.length;s>n;n++)o=l[n].get("id"),a=l[n].get("name"),a&&a.search(new RegExp(t,"i"))>-1&&h.push({bbox:l[n].getGeometry().getExtent(),name:a,type:r._id,id:o});h.length>0&&(r._results=h),"function"==typeof e&&e(r._title,r._results,i)})},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},e}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var s=t(this),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=s.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),o="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,o)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;s||n.data("bs.carousel",s=new i(this,o)),"number"==typeof e?s.to(e):a?s[a]():o.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var s="prev"==t?-1:1,o=(i+s)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var s=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,s),a=this.interval,r="next"==e?"left":"right",h=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:l,direction:r});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,s.addClass(r),o.addClass(r),s.one("bsTransitionEnd",function(){o.removeClass([e,r].join(" ")).addClass("active"),s.removeClass(["active",r].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var s=function(i){var n,s=t(this),o=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),s.data()),r=s.attr("data-slide-to");r&&(a.interval=!1),e.call(o,a),r&&o.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),s||i.data("bs.collapse",s=new n(this,o)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var h=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][h])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION):s.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var o=e(s),a=o.data("bs.collapse"),r=a?"toggle":s.data();i.call(o,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(s).remove(),t(o).each(function(){var n=t(this),s=e(n),o={relatedTarget:this};s.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(s[0],i.target)||(s.trigger(i=t.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=e(s),a=o.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&s.find(o).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",h=s.find(".dropdown-menu"+r);if(h.length){var l=h.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<h.length-1&&l++,~l||(l=0),h.eq(l).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),o=s.data("bs.modal"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);o||s.data("bs.modal",o=new i(this,a)),"string"==typeof e?o[e](n):a.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),o=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),o="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.tooltip",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),o=s.length;o--;){var a=s[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",h="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",
i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,l=h.test(r);l&&(r=r.replace(h,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=o[0].offsetWidth,f=o[0].offsetHeight;if(l){var d=r,p=this.getPosition(this.$viewport);r="bottom"==r&&c.bottom+f>p.bottom?"top":"top"==r&&c.top-f<p.top?"bottom":"right"==r&&c.right+u>p.width?"left":"left"==r&&c.left-u<p.left?"right":r,o.removeClass(d).addClass(r)}var m=this.getCalculatedOffset(r,c,u,f);this.applyPlacement(m,r);var g=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var h=n[0].offsetWidth,l=n[0].offsetHeight;"top"==i&&l!=o&&(e.top=e.top+o-l);var c=this.getViewportAdjustedDelta(i,e,h,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(i),f=u?2*c.left-s+h:2*c.top-o+l,d=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(f,n[0][d],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&o.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var o=n?{top:0,left:0}:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,a,r,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-o-a.scroll,h=e.top+o-a.scroll+n;r<a.top?s.top=a.top-r:h>a.top+a.height&&(s.top=a.top+a.height-h)}else{var l=e.left-o,c=e.left+o+i;l<a.left?s.left=a.left-l:c>a.right&&(s.left=a.left+a.width-c)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),o="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.popover",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),o="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,o)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),o=/^#./.test(s)&&t(s);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)a!=o[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var a=n.find("> .active"),r=s&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),o="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,o)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s?"top":!1;if("bottom"==this.affixed)return null!=i?s+this.unpin<=o.top?!1:"bottom":t-n>=s+a?!1:"bottom";var r=null==this.affixed,h=r?s:o.top,l=r?a:e;return null!=i&&i>=s?"top":null!=n&&h+l>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,o=n.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(o=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var r=this.getState(a,e,s,o);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var h="affix"+(r?"-"+r:""),l=t.Event(h+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),define("jquery.bootstrap",["jquery"],function(){}),define("app/service/search/search",["jquery","templator","text!tmpl/service/search/search.html","text!tmpl/service/search/search-item.html","app/service/search/nominatim","app/service/search/map-features","jquery.bootstrap"],function(t,e,i,n,s,o){"use strict";function a(t){this._mapmodule=t,this._el=null,this._open=!1,this._result=!1,this._providers={nominatim:null,mapfeatures:null},this._counter=0}return a.prototype={get:function(t){return this["_"+t]},init:function(){this._providers.nominatim=new s(this._mapmodule),this._providers.mapfeatures=new o(this._mapmodule),this.createUi()},createUi:function(){var n=this,s=e.compile(i);this._el=t(s({search:"Otsi"})),t("#toolbar").append(this._el),this._el.find(".dropdown").on("shown.bs.dropdown",function(){n._open=!0}).on("hidden.bs.dropdown",function(){n._open=!1}),this._el.find("input").on("keyup",function(e){var i,s;if(n._result){for(s in n._providers)n._providers.hasOwnProperty(s)&&n._providers[s].clear();n._result=!1,n._el.find(".dropdown-menu").html(""),n._open&&n._el.find(".dropdown-menu").dropdown("toggle")}i=t.trim(n._el.find("input").val()),i.length>1?n._el.find(".dropdown-toggle").prop("disabled",!1):n._el.find(".dropdown-toggle").prop("disabled",!0),13===e.keyCode&&i.length>1&&n.search(i)}),this._el.find(".dropdown-toggle").on("click",function(e){var i=t.trim(n._el.find("input").val());!n._result&&i.length>1&&n.search(i)}),this._el.find(".dropdown-menu").on("click","li a",function(e){e.preventDefault();var i=t(this).attr("data-id"),s=t(this).attr("data-type"),o=n._providers[s].getResultItem(i);o&&o.bbox&&4===o.bbox.length&&(Math.abs(o.bbox[0]-o.bbox[2])<100||Math.abs(o.bbox[1]-o.bbox[3])<100?n._mapmodule.setView("center",[[o.bbox[0],o.bbox[1]],18]):n._mapmodule.setView("bounds",o.bbox))})},search:function(t){var e;this.searchStart();for(e in this._providers)this._providers.hasOwnProperty(e)&&(this._providers[e].find(t,this.showResults,this),this._counter++)},showResults:function(i,s,o){if(s&&s.length>0){o._result=!0;var a=o._el.find(".dropdown-menu"),r=e.compile(n);a.append('<li class="dropdown-header">'+i+"</li>"),t.each(s,function(t,e){a.append(r(e))}),o._open||o._el.find(".dropdown-menu").dropdown("toggle")}o._counter--,0===o._counter&&o.searchEnd()},searchStart:function(){this._el.find(".dropdown-toggle i").removeClass("fa-search").addClass("fa-spinner fa-pulse")},searchEnd:function(){this._el.find(".dropdown-toggle i").removeClass("fa-spinner fa-pulse").addClass("fa-search")}},a}),define("app/service/export",["jquery","ol"],function(t,e){"use strict";function i(e,i,n){if(this._link=t("#download-link"),this._filename=i,!this._link.attr("download")||!n||0===n.length)return!1;switch(this._link.removeAttr("href"),e){case"GPX":this.gpx(n)}this.forceDownload()}return i.prototype={gpx:function(t){var i=(new e.format.GPX).writeFeatures(t),n=this.strToBase64('<?xml version="1.0" encoding="utf-8"?>'+i);this._link.attr("download",this._filename),this._link.attr("href","data:text/gpx+xml;base64,"+n)},forceDownload:function(){var t=document.createEvent("MouseEvent");return t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.getElementById("download-link").dispatchEvent(t),!1},strToBase64:function(t){function e(t){return 26>t?t+65:52>t?t+71:62>t?t-4:62===t?43:63===t?47:65}function i(t){for(var i=2,n="",s=t.length,o=0,a=0;s>a;a++)i=a%3,a>0&&4*a/3%76===0&&(n+="\r\n"),o|=t[a]<<(16>>>i&24),(2===i||t.length-a===1)&&(n+=String.fromCharCode(e(o>>>18&63),e(o>>>12&63),e(o>>>6&63),e(63&o)),o=0);return n.substr(0,n.length-2+i)+(2===i?"":1===i?"=":"==")}function n(t){for(var e,i,n=t.length,s=0,o=0;n>o;o++)i=t.charCodeAt(o),s+=128>i?1:2048>i?2:65536>i?3:2097152>i?4:67108864>i?5:6;e=new Uint8Array(s);for(var a=0,r=0;s>a;r++)i=t.charCodeAt(r),128>i?e[a++]=i:2048>i?(e[a++]=192+(i>>>6),e[a++]=128+(63&i)):65536>i?(e[a++]=224+(i>>>12),e[a++]=128+(i>>>6&63),e[a++]=128+(63&i)):2097152>i?(e[a++]=240+(i>>>18),e[a++]=128+(i>>>12&63),e[a++]=128+(i>>>6&63),e[a++]=128+(63&i)):67108864>i?(e[a++]=248+(i>>>24),e[a++]=128+(i>>>18&63),e[a++]=128+(i>>>12&63),e[a++]=128+(i>>>6&63),e[a++]=128+(63&i)):(e[a++]=252+i/1073741824,e[a++]=128+(i>>>24&63),e[a++]=128+(i>>>18&63),e[a++]=128+(i>>>12&63),e[a++]=128+(i>>>6&63),e[a++]=128+(63&i));return e}return i(n(t))}},i}),define("text!tmpl/service/geocache/filter.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Filter</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-filter"></i> Filtreeri aardeid\n</li>\n{{#each collection}}\n<li class="divider"></li>\n{{#each this}}\n<li>\n    <label>\n        <input type="checkbox" name="{{@../key}}" data-filter="{{@../key}}" value="{{@key}}"> {{this}}\n    </label>\n</li>\n{{/each}}\n{{/each}}\n'}),define("app/service/filter",["jquery","templator","text!tmpl/service/geocache/filter.html"],function(t,e,i){"use strict";function n(n){this._layer=n,this._el=t("#toolbar .filter"),this._tmpl_filter=e.compile(i),this._features=n.getSource().getFeatures(),this._filters={fstatus:{0:"Leidmata",1:"Leitud",2:"Minu aare"},type:{"Tavaline aare":"Tavaline aare",Multiaare:"Multiaare",Veebikaamera:"Veebikaamera","Virtuaalne aare":"Virtuaalne aare","Sündmusaare":"Sündmusaare","Asukohata (tagurpidi) aare":"Asukohata aare","Mõistatusaare":"Mõistatusaare"}}}return n.prototype={get:function(t){return this["_"+t]},init:function(){var t=this.buildPropertyList();this.createUi(t)},buildPropertyList:function(){var t,e,i={};this._layer.getSource().forEachFeature(function(e){var n;t=e.getProperties();for(n in t)t.hasOwnProperty(n)&&this._filters.hasOwnProperty(n)&&(i[n]||(i[n]={}),this._filters[n][t[n]]&&!i[n][t[n]]&&(i[n][t[n]]=this._filters[n][t[n]]))},this);for(e in i)i.hasOwnProperty(e)&&Object.keys(i[e]).length<2&&delete i[e];return i},createUi:function(e){var i=this;this._el.find("ul").html(this._tmpl_filter({collection:e})),this._el.closest(".geocache").find("button.btn-filter").prop("disabled",!1).on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-geotrip").removeClass("active"),t(this).closest(".geocache").find(".geotrip").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".filter").toggleClass("open")}),this._el.find("ul button.close").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").toggleClass("active"),t(this).closest(".filter").toggleClass("open")}),this._el.find("ul li input").on("change",function(t){t.stopPropagation(),i.filter()})},off:function(){this._el.closest(".geocache").find("button.btn-filter").removeClass("active").off().find("b").text(""),this._el.find("ul button.close").off(),this._el.find("ul li input").off(),this._el.find("ul").html(""),this._el.removeClass("open")},filter:function(){var t,e=this.getChecked();this._layer.getSource().clear(),e.count>0?(t=this.query(e.query),this._layer.getSource().addFeatures(t),this._el.closest(".geocache").find("button.btn-filter b").text(t.length)):(this._layer.getSource().addFeatures(this._features),this._el.closest(".geocache").find("button.btn-filter b").text(""))},getChecked:function(){var e,i,n=this._el.find("input").serializeArray(),s={query:{},count:0};for(e=0,i=n.length;i>e;e++)s.query[n[e].name]||(s.query[n[e].name]=[]),-1===t.inArray(n[e].value,s.query[n[e].name])&&(s.query[n[e].name].push(n[e].value),s.count++);return s},query:function(e){var i,n,s,o,a=[],r=[];for(i=0,s=this._features.length;s>i;i++){o=this._features[i].getProperties(),r=[];for(n in e)e.hasOwnProperty(n)&&(o.hasOwnProperty(n)&&t.inArray(o[n],e[n])>-1?r.push(!0):r.push(!1));-1===t.inArray(!1,r)&&a.push(this._features[i])}return a}},n}),define("text!tmpl/service/geocache/tool_loader.html",[],function(){return'<div class="geocache">\n    <div class="btn-group pull-left">\n        <button class="btn btn-secondary btn-sm" type="button" data-toggle="modal" data-target="#modal_geocache">\n            <i class="fa fa-cube"></i>\n            <span class="hidden-xs">{{load_geocaches}}</span>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-filter" disabled title="Filtreeri">\n            <i class="fa fa-filter"></i> <b class="hidden-xs"></b>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-geotrip" disabled title="Geotuur">\n            <i class="fa fa-thumb-tack"></i> <b class="hidden-xs"></b>\n        </button>\n    </div>\n    <div class="filter">\n        <ul class="dropdown-menu scrollable-menu" role="menu"></ul>\n    </div>\n    <div class="geotrip">\n        <ul class="dropdown-menu scrollable-menu sortable" role="menu"></ul>\n    </div>\n\n    <!-- Modal -->\n    <div class="modal fade" id="modal_geocache" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title">{{load_geocaches}}</h4>\n                </div>\n                <div class="modal-body">\n                    <ul class="list-group">\n                        <li class="list-group-item">\n                            <span class="badge">1</span>\n                            Mine <a href="{{auth_url}}" target="geopeitus">geopeitus.ee</a> lehele ja logi seal sisse\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">2</span>\n                            Ava <a href="{{features_url}}" target="geopeitus">link</a>\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">3</span>\n                            Kopeeri siia tekstikasti kogu lehe sisu\n                        </li>\n                    </ul>\n                    <textarea class="form-control" rows="6"></textarea>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary confirm">{{confirm_geocaches}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!tmpl/service/geocache/geotrip.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Geotuur</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-thumb-tack"></i> Lisa aardeid kaardilt\n</li>\n<li class="divider"></li>\n{{#each collection}}\n{{#if this.id}}\n<li class="sort-item">\n    <a href="#" data-id="{{this.id}}">\n        <span>{{@key}}</span>. {{this.name}}\n    </a>\n</li>\n{{/if}}\n{{/each}}\n<li class="divider"></li>\n<li class="dropdown-header footer">\n    <div class="btn-group pull-right">\n        <a class="btn btn-xs btn-secondary export-gpx" download="geotuur.gpx">\n            <i class="fa fa-download"></i> GPX\n        </a>\n        <button type="button" class="btn btn-xs btn-secondary clear">\n            <i class="fa fa-trash-o"></i>\n        </button>\n    </div>\n    <div class="clearfix"></div>\n</li>'}),define("text!tmpl/service/geocache/featureinfo.html",[],function(){return'<p class="text-muted metadata small">\r\n    <i class="fa fa-clock-o"></i> {{date_hidden}}\r\n    <i class="fa fa-user"></i> {{user_id}}<br>\r\n    {{{type_text}}}\r\n    <i class="fa fa-area-chart"></i> {{terrain}}\r\n    <i class="fa fa-star"></i> {{difficulty}}\r\n    <i class="fa fa-expand"></i> {{size}}\r\n</p>\r\n<p>\r\n    \r\n</p>\r\n<p>{{{fstatus}}}</p>\r\n'}),define("text!tmpl/service/geocache/featureinfo_title.html",[],function(){return'<i class="{{type_class}}"></i>\r\n<a href="{{cache_url}}{{id}}" target="_blank">{{name}}</a>\r\n<a href="#" class="cache-toggle" data-id="{{id}}" title="Geotuur">\r\n    <i class="fa {{icon}}"></i>\r\n</a>'}),function(t){"use strict";"function"==typeof define&&define.amd?define("jquery.sortable",["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=y({},e),t[F]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var n in i)!(n in e)&&(e[n]=i[n]);W(e);for(var s in this)"_"===s.charAt(0)&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:$,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),H.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function i(t){w&&w.state!==t&&(h(w,"display",t?"none":""),!t&&w.state&&E.insertBefore(w,b),w.state=t)}function n(t,e,i){if(t){i=i||q,e=e.split(".");var n=e.shift().toUpperCase(),s=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");do if(">*"===n&&t.parentNode===i||(""===n||t.nodeName.toUpperCase()==n)&&(!e.length||((" "+t.className+" ").match(s)||[]).length==e.length))return t;while(t!==i&&(t=t.parentNode))}return null}function s(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function o(t,e,i){t.addEventListener(e,i,!1)}function a(t,e,i){t.removeEventListener(e,i,!1)}function r(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(R," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(R," ")}}function h(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return q.defaultView&&q.defaultView.getComputedStyle?i=q.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function l(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,o=n.length;if(i)for(;o>s;s++)i(n[s],s);return n}return[]}function c(t,e,i,n,s,o,a){var r=q.createEvent("Event"),h=(t||e[F]).options,l="on"+i.charAt(0).toUpperCase()+i.substr(1);r.initEvent(i,!0,!0),r.to=e,r.from=s||e,r.item=n||e,r.clone=w,r.oldIndex=o,r.newIndex=a,e.dispatchEvent(r),h[l]&&h[l].call(t,r)}function u(t,e,i,n,s,o){var a,r,h=t[F],l=h.options.onMove;return a=q.createEvent("Event"),a.initEvent("move",!0,!0),a.to=e,a.from=t,a.dragged=i,a.draggedRect=n,a.related=s||e,a.relatedRect=o||e.getBoundingClientRect(),t.dispatchEvent(a),l&&(r=l.call(h,a)),r}function f(t){t.draggable=!1}function d(){U=!1}function p(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return(e.clientY-(n.top+n.height)>5||e.clientX-(n.right+n.width)>5)&&i}function m(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function g(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function v(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function y(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var b,M,x,w,E,_,S,k,T,N,C,j,P,L,A,D,O,I={},R=/\s+/g,F="Sortable"+(new Date).getTime(),B=window,q=B.document,G=B.parseInt,$=!!("draggable"in q.createElement("div")),z=function(t){return t=q.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),U=!1,V=Math.abs,H=([].slice,[]),X=v(function(t,e,i){if(i&&e.scroll){var n,s,o,a,r=e.scrollSensitivity,h=e.scrollSpeed,l=t.clientX,c=t.clientY,u=window.innerWidth,f=window.innerHeight;if(k!==i&&(S=e.scroll,k=i,S===!0)){S=i;do if(S.offsetWidth<S.scrollWidth||S.offsetHeight<S.scrollHeight)break;while(S=S.parentNode)}S&&(n=S,s=S.getBoundingClientRect(),o=(V(s.right-l)<=r)-(V(s.left-l)<=r),a=(V(s.bottom-c)<=r)-(V(s.top-c)<=r)),o||a||(o=(r>=u-l)-(r>=l),a=(r>=f-c)-(r>=c),(o||a)&&(n=B)),(I.vx!==o||I.vy!==a||I.el!==n)&&(I.el=n,I.vx=o,I.vy=a,clearInterval(I.pid),n&&(I.pid=setInterval(function(){n===B?B.scrollTo(B.pageXOffset+o*h,B.pageYOffset+a*h):(a&&(n.scrollTop+=a*h),o&&(n.scrollLeft+=o*h))},24)))}},30),W=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};e.prototype={constructor:e,_onTapStart:function(t){var e=this,i=this.el,s=this.options,o=t.type,a=t.touches&&t.touches[0],r=(a||t).target,h=r,l=s.filter;if(!("mousedown"===o&&0!==t.button||s.disabled)&&(r=n(r,s.draggable,i))){if(j=g(r),"function"==typeof l){if(l.call(this,t,r,this))return c(e,h,"filter",r,i,j),void t.preventDefault()}else if(l&&(l=l.split(",").some(function(t){return t=n(h,t.trim(),i),t?(c(e,t,"filter",r,i,j),!0):void 0})))return void t.preventDefault();(!s.handle||n(h,s.handle,i))&&this._prepareDragStart(t,a,r)}},_prepareDragStart:function(t,e,i){var n,s=this,a=s.el,h=s.options,c=a.ownerDocument;i&&!b&&i.parentNode===a&&(A=t,E=a,b=i,M=b.parentNode,
_=b.nextSibling,L=h.group,n=function(){s._disableDelayedDrag(),b.draggable=!0,r(b,s.options.chosenClass,!0),s._triggerDragStart(e)},h.ignore.split(",").forEach(function(t){l(b,t.trim(),f)}),o(c,"mouseup",s._onDrop),o(c,"touchend",s._onDrop),o(c,"touchcancel",s._onDrop),h.delay?(o(c,"mouseup",s._disableDelayedDrag),o(c,"touchend",s._disableDelayedDrag),o(c,"touchcancel",s._disableDelayedDrag),o(c,"mousemove",s._disableDelayedDrag),o(c,"touchmove",s._disableDelayedDrag),s._dragStartTimer=setTimeout(n,h.delay)):n())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(t,"mouseup",this._disableDelayedDrag),a(t,"touchend",this._disableDelayedDrag),a(t,"touchcancel",this._disableDelayedDrag),a(t,"mousemove",this._disableDelayedDrag),a(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(A={target:b,clientX:t.clientX,clientY:t.clientY},this._onDragStart(A,"touch")):this.nativeDraggable?(o(b,"dragend",this),o(E,"dragstart",this._onDragStart)):this._onDragStart(A,!0);try{q.selection?q.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){E&&b&&(r(b,this.options.ghostClass,!0),e.active=this,c(this,E,"start",b,E,j))},_emulateDragOver:function(){if(D){if(this._lastX===D.clientX&&this._lastY===D.clientY)return;this._lastX=D.clientX,this._lastY=D.clientY,z||h(x,"display","none");var t=q.elementFromPoint(D.clientX,D.clientY),e=t,i=" "+this.options.group.name,n=H.length;if(e)do{if(e[F]&&e[F].options.groups.indexOf(i)>-1){for(;n--;)H[n]({clientX:D.clientX,clientY:D.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);z||h(x,"display","")}},_onTouchMove:function(t){if(A){e.active||this._dragStarted(),this._appendGhost();var i=t.touches?t.touches[0]:t,n=i.clientX-A.clientX,s=i.clientY-A.clientY,o=t.touches?"translate3d("+n+"px,"+s+"px,0)":"translate("+n+"px,"+s+"px)";O=!0,D=i,h(x,"webkitTransform",o),h(x,"mozTransform",o),h(x,"msTransform",o),h(x,"transform",o),t.preventDefault()}},_appendGhost:function(){if(!x){var t,e=b.getBoundingClientRect(),i=h(b),n=this.options;x=b.cloneNode(!0),r(x,n.ghostClass,!1),r(x,n.fallbackClass,!0),h(x,"top",e.top-G(i.marginTop,10)),h(x,"left",e.left-G(i.marginLeft,10)),h(x,"width",e.width),h(x,"height",e.height),h(x,"opacity","0.8"),h(x,"position","fixed"),h(x,"zIndex","100000"),h(x,"pointerEvents","none"),n.fallbackOnBody&&q.body.appendChild(x)||E.appendChild(x),t=x.getBoundingClientRect(),h(x,"width",2*e.width-t.width),h(x,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),"clone"==L.pull&&(w=b.cloneNode(!0),h(w,"display","none"),E.insertBefore(w,b)),e?("touch"===e?(o(q,"touchmove",this._onTouchMove),o(q,"touchend",this._onDrop),o(q,"touchcancel",this._onDrop)):(o(q,"mousemove",this._onTouchMove),o(q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,b)),o(q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var e,s,o,a=this.el,r=this.options,l=r.group,c=l.put,f=L===l,m=r.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!r.dragoverBubble&&t.stopPropagation()),O=!0,L&&!r.disabled&&(f?m||(o=!E.contains(b)):L.pull&&c&&(L.name===l.name||c.indexOf&&~c.indexOf(L.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(X(t,r,this.el),U)return;if(e=n(t.target,r.draggable,a),s=b.getBoundingClientRect(),o)return i(!0),void(w||_?E.insertBefore(b,w||_):m||E.appendChild(b));if(0===a.children.length||a.children[0]===x||a===t.target&&(e=p(a,t))){if(e){if(e.animated)return;v=e.getBoundingClientRect()}i(f),u(E,a,b,s,e,v)!==!1&&(b.contains(a)||(a.appendChild(b),M=a),this._animate(s,b),e&&this._animate(v,e))}else if(e&&!e.animated&&e!==b&&void 0!==e.parentNode[F]){T!==e&&(T=e,N=h(e),C=h(e.parentNode));var g,v=e.getBoundingClientRect(),y=v.right-v.left,S=v.bottom-v.top,k=/left|right|inline/.test(N.cssFloat+N.display)||"flex"==C.display&&0===C["flex-direction"].indexOf("row"),j=e.offsetWidth>b.offsetWidth,P=e.offsetHeight>b.offsetHeight,A=(k?(t.clientX-v.left)/y:(t.clientY-v.top)/S)>.5,D=e.nextElementSibling,I=u(E,a,b,s,e,v);if(I!==!1){if(U=!0,setTimeout(d,30),i(f),1===I||-1===I)g=1===I;else if(k){var R=b.offsetTop,B=e.offsetTop;g=R===B?e.previousElementSibling===b&&!j||A&&j:B>R}else g=D!==b&&!P||A&&P;b.contains(a)||(g&&!D?a.appendChild(b):e.parentNode.insertBefore(b,g?D:e)),M=b.parentNode,this._animate(s,b),this._animate(v,e)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();h(e,"transition","none"),h(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,h(e,"transition","all "+i+"ms"),h(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){h(e,"transition",""),h(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;a(q,"touchmove",this._onTouchMove),a(t,"mouseup",this._onDrop),a(t,"touchend",this._onDrop),a(t,"touchcancel",this._onDrop)},_onDrop:function(t){var i=this.el,n=this.options;clearInterval(this._loopId),clearInterval(I.pid),clearTimeout(this._dragStartTimer),a(q,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(q,"drop",this),a(i,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(O&&(t.preventDefault(),!n.dropBubble&&t.stopPropagation()),x&&x.parentNode.removeChild(x),b&&(this.nativeDraggable&&a(b,"dragend",this),f(b),r(b,this.options.ghostClass,!1),r(b,this.options.chosenClass,!1),E!==M?(P=g(b),P>=0&&(c(null,M,"sort",b,E,j,P),c(this,E,"sort",b,E,j,P),c(null,M,"add",b,E,j,P),c(this,E,"remove",b,E,j,P))):(w&&w.parentNode.removeChild(w),b.nextSibling!==_&&(P=g(b),P>=0&&(c(this,E,"update",b,E,j,P),c(this,E,"sort",b,E,j,P)))),e.active&&((null===P||-1===P)&&(P=j),c(this,E,"end",b,E,j,P),this.save())),E=b=M=x=_=w=S=k=A=D=O=P=T=N=L=e.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?b&&(this._onDragOver(t),s(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],i=this.el.children,s=0,o=i.length,a=this.options;o>s;s++)t=i[s],n(t,a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||m(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,s){var o=i.children[s];n(o,this.options.draggable,i)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;return void 0===e?i[t]:(i[t]=e,void("group"===t&&W(i)))},destroy:function(){var t=this.el;t[F]=null,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),H.splice(H.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},e.utils={on:o,off:a,css:h,find:l,is:function(t,e){return!!n(t,e,t)},extend:y,throttle:v,closest:n,toggleClass:r,index:g},e.create=function(t,i){return new e(t,i)},t.fn.sortable=function(i){var n,s=arguments;return this.each(function(){var o=t(this),a=o.data("sortable");if(a||!(i instanceof Object)&&i||(a=new e(this,i),o.data("sortable",a)),a){if("widget"===i)return a;"destroy"===i?(a.destroy(),o.removeData("sortable")):"function"==typeof a[i]?n=a[i].apply(a,[].slice.call(s,1)):i in a.options&&(n=a.option.apply(a,s))}}),void 0===n?this:n}}),define("app/service/geocache",["jquery","ol","templator","app/service/export","app/service/filter","text!tmpl/service/geocache/tool_loader.html","text!tmpl/service/geocache/geotrip.html","text!tmpl/service/geocache/featureinfo.html","text!tmpl/service/geocache/featureinfo_title.html","jquery.bootstrap","jquery.sortable"],function(t,e,i,n,s,o,a,r,h){"use strict";function l(t,n){this._name="geocache",this._config=t,this._mapmodule=n,this._el=null,this._filter=null,this._open=!1,this._results=null,this._layer=null,this._route=null,this._styleCache={},this._styleConfig={base:{text:"",font:"normal 16px FontAwesome",textBaseline:"middle",fill:new e.style.Fill({color:"black"}),stroke:new e.style.Stroke({color:"#fff",width:4})},text:{"Tavaline aare":{text:"","class":"fa fa-cube",font:"normal 12px FontAwesome"},Multiaare:{text:"","class":"fa fa-cubes",font:"normal 13px FontAwesome"},Veebikaamera:{text:"","class":"fa fa-camera",font:"normal 12px FontAwesome"},"Virtuaalne aare":{text:"","class":"fa fa-wifi",font:"normal 12px FontAwesome"},"Sündmusaare":{text:"","class":"fa fa-university",font:"normal 12px FontAwesome"},"Asukohata (tagurpidi) aare":{text:"","class":"fa fa-refresh",font:"normal 12px FontAwesome"},"Mõistatusaare":{text:"","class":"fa fa-question-circle",font:"normal 12px FontAwesome"}},color:{0:{fill:new e.style.Fill({color:"black"})},1:{fill:new e.style.Fill({color:"#4c9900"})},2:{fill:new e.style.Fill({color:"red"})}}},this._tmpl_geotrip=i.compile(a),this._tmpl_featureinfo=i.compile(r),this._tmpl_featureinfo_title=i.compile(h),this._geotrip=new e.Collection,this._geotrip.on("add",this.renderTrip,this),this._geotrip.on("remove",this.renderTrip,this)}return l.prototype={get:function(t){return this["_"+t]},init:function(){var t,e=this;this.createUi(),t=this._mapmodule.get("featureInfo").get("infoHandlers"),t&&(t[this._name]=function(t){return e.getContent(t)})},createUi:function(){var e=this,a=i.compile(o);this._el=t(a(t.extend(this._config,{load_geocaches:"Lae aarded",confirm_geocaches:"Lisa aarded kaardile"}))),t("#toolbar").append(this._el),this._el.find(".modal").on("shown.bs.modal",function(t){}),this._el.find("#modal_geocache").on("click","button.confirm",function(i){var n,o=t(this).closest(".modal-content").find("textarea"),a=t.trim(o.val());if(e._geotrip.clear(),a.length>0)try{n=t.parseJSON(a)}catch(r){}n&&(e._layer&&e.removeLayer(),e.createLayer(n),e._filter&&(e._filter.off(),e._filter=null),e._filter=new s(e._layer),e._filter.init()),o.val(""),t(this).closest(".modal").modal("hide")}),this._el.find("button.btn-geotrip").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").removeClass("active"),t(this).closest(".geocache").find(".filter").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip button.close",function(i){i.stopPropagation(),e._el.find("button.btn-geotrip").toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip ul li a",function(i){i.preventDefault();var n=t(this).data("id");e._geotrip.forEach(function(t,i){return Number(t.get("id"))===n?void e._mapmodule.setView("center",[t.getGeometry().getCoordinates(),16]):void 0})}),this._el.on("click",".geotrip ul li button.clear",function(t){e.clearTrip()}),this._el.on("click",".geotrip ul li a.export-gpx",function(t){t.preventDefault();var i,s=[],o=null,a=null;e._geotrip.forEach(function(t){o=t.clone(),o.getGeometry().transform("EPSG:3857","EPSG:4326"),s.push(o)}),a=e._route.getSource().getFeatures()[0],a&&(o=a.clone(),o.getGeometry().transform("EPSG:3857","EPSG:4326"),s.push(o)),i=new n("GPX","geotuur.gpx",s)})},createLayer:function(i){var n,s,o=this;i?(s=new e.format.GeoJSON,n={features:s.readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}):n={format:new e.format.GeoJSON,url:"data/gp.geojson"},this._route=new e.layer.Vector({name:"route",source:new e.source.Vector,style:[new e.style.Style({stroke:new e.style.Stroke({color:"rgba(255, 255, 255, 0.4)",width:7})}),new e.style.Style({stroke:new e.style.Stroke({color:"rgba(255, 0, 0, 0.7)",width:3,lineDash:[15,10]})})]}),this._mapmodule.get("vectorLayers").getLayers().push(this._route),this._layer=new e.layer.Vector({name:"geocache",source:new e.source.Vector(n),style:function(i,n){var s,a=i.get("type"),r=i.get("fstatus");return o._styleCache[a]||(o._styleCache[a]={}),o._styleCache[a][r]||(s=t.extend({},o._styleConfig.base,o._styleConfig.text[a],o._styleConfig.color[r]),o._styleCache[a][r]=[new e.style.Style({text:new e.style.Text(s)})]),o._styleCache[a][r]}}),this._mapmodule.get("vectorLayers").getLayers().push(this._layer)},removeLayer:function(){this._layer.getSource().clear(),this._route.getSource().clear(),this._mapmodule.get("vectorLayers").getLayers().remove(this._layer),this._mapmodule.get("vectorLayers").getLayers().remove(this._route),this._layer=null,this._route=null},getContent:function(e){var i=this,n={0:'<i class="fa fa-square-o"></i> Leidmata',1:'<i class="fa fa-check-square-o"></i> Leitud',2:'<i class="fa fa-user"></i> Minu aare'},s=e.getProperties(),o=t.inArray(e,this._geotrip.getArray());return s.fstatus=n[s.fstatus],s.type_text='<i class="'+this._styleConfig.text[s.type]["class"]+'"></i> '+s.type,{definition:{placement:"top",animation:!1,html:!0,title:this._tmpl_featureinfo_title({type_class:this._styleConfig.text[s.type]["class"],cache_url:this._config.cache_url,id:s.id,name:s.name,icon:o>-1?"fa-minus-square":"fa-thumb-tack"}),content:this._tmpl_featureinfo(s)},onShow:function(e){t("a.cache-toggle").on("click",function(n){n.preventDefault(),t(this).find("i").toggleClass("fa-thumb-tack fa-minus-square"),t.inArray(e,i._geotrip.getArray())>-1?i._geotrip.remove(e):i._geotrip.push(e)})},onHide:function(){t("a.cache-toggle").off()}}},renderTrip:function(t){var i=[""],n=this._geotrip.getLength(),s=[],o=this;this._geotrip.forEach(function(t,e){i.push(t.getProperties()),s.push(t.getGeometry().getCoordinates())}),0===n?(this._el.find("button.btn-geotrip").removeClass("active").prop("disabled",!0).find("b").text(""),this._el.find(".geotrip").removeClass("open")):this._el.find("button.btn-geotrip").is(":disabled")&&this._el.find("button.btn-geotrip").prop("disabled",!1),n>0&&this._el.find("button.btn-geotrip b").text(n),this._el.find(".geotrip ul").html(this._tmpl_geotrip({collection:i})),this._el.find(".geotrip .sortable").sortable({draggable:"li.sort-item",onUpdate:function(t){o.reorderTrip(),o.renderTrip()}}),this._route.getSource().clear(),this._el.find(".geotrip ul li a.export-gpx").removeAttr("href"),n>1&&this._route.getSource().addFeatures([new e.Feature({name:"Geotuur",geometry:new e.geom.LineString(s)})])},reorderTrip:function(){function e(t){var e;return a._geotrip.forEach(function(i,n){i.get("id")===t&&(e=i)}),e}var i,n,s=[],o=null,a=this;for(this._el.find(".geotrip .sortable li.sort-item").each(function(e,i){s.push(t(i).find("a").attr("data-id"))}),i=0,n=s.length;n>i;i++)o=e(s[i]),this._geotrip.remove(o),this._geotrip.insertAt(i,o)},clearTrip:function(){this._route.getSource().clear(),this._geotrip.clear();var t=this._mapmodule.get("featureInfo").get("popup");t&&t.popover("destroy")}},l}),define("app/service/osm-edit",[],function(){"use strict";var t=function(t,e){var i="http://openstreetmap.us/iD/release/#editor=id&background=custom:http://kaart.maakaart.ee/orto/{z}/{x}/{y}.jpeg&map=";t.append('<a href="#" id="osm-edit"><i class="fa fa-pencil"></i></a>'),t.on("click","a#osm-edit",function(t){t.preventDefault();var n=e.transform("point",e.get("map").getView().getCenter(),"EPSG:3857","EPSG:4326"),s=e.get("map").getView().getZoom();window.open(i+s+"/"+n[1]+"/"+n[0])})};return t}),define("app/service/data-import",["ol"],function(t){"use strict";var e=function(e){var i=e.get("map"),n={Point:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#ff0",width:1})})})],LineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:3})})],Polygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new t.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:1})})],MultiPolygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new t.style.Stroke({color:"#00f",width:1})})]},s=function(t,e){var i=t.getStyleFunction();return i?i.call(t,e):n[t.getGeometry().getType()]},o=new t.interaction.DragAndDrop({formatConstructors:[t.format.GPX,t.format.GeoJSON]});i.addInteraction(o),o.on("addfeatures",function(n){var o=new t.source.Vector({features:n.features,projection:n.projection});i.getLayers().push(new t.layer.Vector({source:o,style:s})),e.setView("bounds",o.getExtent())})};return e}),define("app/service/fullscreen",["jquery"],function(t){"use strict";function e(e){this._active=!1,this._el=e;var i=this.test();i&&(this._el.on("click",t.proxy(this.toggle,this)),t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",t.proxy(this.toggleState,this)))}return e.prototype={test:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?(this._el.removeClass("disabled"),!0):!1},toggle:function(t){t.preventDefault(),this._active?this.off():this.on()},toggleState:function(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(this._active=!0,this._el.addClass("active")):(this._active=!1,this._el.removeClass("active"))},on:function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},off:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},e}),define("text!tmpl/service/wms-layers.html",[],function(){return'<li class="divider"></li>\n{{#each layers}}\n<li class="wms-layer">\n    <a href="#" class="toggle-layer" data-id="{{this.id}}">\n        <i class="fa {{this.checked}}"></i>\n        {{this.title}}\n    </a>\n    <a href="#" class="remove-layer" data-id="{{this.id}}"><i class="fa fa-close"></i></a>\n</li>\n{{/each}}\n<li>\n    <a href="#" class="add-wms-layer" data-toggle="modal" data-target="#modal_wmslayer">\n        <i class="fa fa-plus"></i> {{title}}\n    </a>\n</li>\n'}),define("text!tmpl/service/wms-modal.html",[],function(){return'<!-- Modal -->\n<div class="modal fade" id="modal_wmslayer" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">{{title}}</h4>\n            </div>\n            <div class="modal-body text-muted">\n                Sisesta siia kasti WMS (1.1.1) aadress koos LAYERS ja SRS parameetriga.\n                <textarea class="form-control" rows="3"></textarea>\n                <em class="small"><b>Näide:</b> (katastrikaart)<br>http://kaart.maaamet.ee/wms/alus?layers=TOPOYKSUS_6569,TOPOYKSUS_7793&SRS=EPSG:3301</em>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-secondary confirm">{{confirm}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("app/service/wms-layer",["jquery","templator","text!tmpl/service/wms-layers.html","text!tmpl/service/wms-modal.html"],function(t,e,i,n){"use strict";var s=function(s,o){this._parentEl=s,this._mapmodule=o,this._layer_conf={type:"TileWMS",url:null,projection:"EPSG:3301",gutter:20,crossOrigin:null},this._layer_conf_params={LAYERS:null,TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},this._tmpl={layers:e.compile(i),modal:e.compile(n)},this._layers=[],this._el=this.render(this._layers),this._modal=t(this._tmpl.modal({title:"Lisa WMS kiht",confirm:"Lisa"})),t("body").append(this._modal),this._modal.on("click","button.confirm",t.proxy(function(t){t.preventDefault();var e=this.createLayer(this._modal.find("textarea").val().trim());e&&(this.addLayer(e),this._modal.find("textarea").val(""),this._modal.modal("hide"))},this)),this._parentEl.on("click","li.wms-layer a.toggle-layer",t.proxy(function(e){e.preventDefault(),e.stopPropagation(),t(e.currentTarget).children("i").toggleClass("fa-check-square-o fa-square-o"),this.toggleLayer(t(e.currentTarget).data("id"))},this)),this._parentEl.on("click","li.wms-layer a.remove-layer",t.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.removeLayer(t(e.currentTarget).data("id"))},this))};return s.prototype={get:function(t){return this["_"+t]},createLayer:function(e){var i=null,n=null,s=null;return this.isUrlValid(e)?(n=this.parseUrl(e),i=t.extend({},this._layer_conf),i.params=t.extend({},this._layer_conf_params),n.query.LAYERS||n.query.layers?(i.params.LAYERS=n.query.LAYERS||n.query.layers,delete n.query.LAYERS,delete n.query.layers,n.query.SRS||n.query.srs?(i.projection=n.query.srs||n.query.SRS,delete n.query.SRS,delete n.query.srs,s=Object.keys(n.query).map(function(t){return t+"="+n.query}).join("&"),i.url=n.protocol+"//"+n.host+n.pathname+"?"+s,i.id=this.uuid(),i.title="Kiht "+(this._layers.length+1),this._mapmodule.createTileLayer(i)):void alert("WMS aadress peab sisaldama SRS parameetrit")):void alert("WMS aadress peab sisaldama LAYERS parameetrit")):void 0},addLayer:function(t){this._layers.push(t),this._mapmodule.get("vectorLayers").getLayers().push(t),this._el&&this._el.remove(),this._el=this.render(this._layers)},render:function(e){var i=t(this._tmpl.layers({title:"Lisa WMS kiht",layers:e.map(function(t){return{id:t.get("id"),title:t.get("title"),checked:t.getVisible()?"fa-check-square-o":"fa-square-o"}})}));return this._parentEl.append(i),i},toggleLayer:function(t){var e=this._layers.find(function(e){return e.get("id")===t});e&&e.setVisible(!e.getVisible())},removeLayer:function(t){var e=this._layers.find(function(e){return e.get("id")===t});e&&(this._mapmodule.get("vectorLayers").getLayers().remove(e),this._layers.splice(this._layers.indexOf(e),1),this._el&&this._el.remove(),this._el=this.render(this._layers))},isUrlValid:function(t){var e=t.match(/(http(s)?:\/\/.)?(www\.)?[\-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([\-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);return null!==e},parseUrl:function(t){var e=document.createElement("a");return e.href=t,{protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host,query:JSON.parse('{"'+e.search.substr(1).replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)})}},uuid:function(){return Math.random().toString(36).substr(2,10)}},s}),define("app/main",["jquery","config/settings","app/map","app/service/search/search","app/service/geocache","app/service/osm-edit","app/service/data-import","app/service/fullscreen","app/service/wms-layer"],function(t,e,i,n,s,o,a,r,h){"use strict";function l(t){this._settings=t}l.prototype={get:function(t){return this["_"+t]},init:function(){}},t(function(){function c(){var e=t("body").height(),i=t("header").outerHeight(!0),n=t("footer").outerHeight(!0);t("body").find(".scrollable-menu").css("max-height",e-(i+n)+"px")}var u,f=new l(e);f.init(),f.mapmodule=new i(f.get("settings").map),f.mapmodule.init(),u=new o(t('.layerswitcher a[data-name="osm"]').closest("li"),f.mapmodule),f.wms=new h(t(".layerswitcher ul"),f.mapmodule),f.get("settings").map.geocodingEnabled&&(f.geocoding=new n(f.mapmodule),f.geocoding.init()),f.geocache=new s(f.get("settings").geocache,f.mapmodule),f.geocache.init(),f.dataimport=new a(f.mapmodule),f.fullscreen=new r(t(".btn-fullscreen")),t("#statusbar a.info-toggle").on("click",function(e){e.preventDefault(),t("#statusbar .info").toggleClass("hidden")}),c(),t(window).on("resize",c)})});