/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */

/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/* store.js - Copyright (c) 2010-2017 Marcus Westin */

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

/*
 Copyright (c) 2013, Rodrigo González, Sapienlab All Rights Reserved.
 Available via MIT LICENSE. See https://github.com/roro89/jsonpack/blob/master/LICENSE.md for details.
 */

/**
 * jQuery plugin for Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */

function ea(t,e){if(e){var i=da;t=t.split(".");for(var n=0;n<t.length-1;n++){var s=t[n];s in i||(i[s]={}),i=i[s]}t=t[t.length-1],n=i[t],e=e(n),e!=n&&null!=e&&ca(i,t,{configurable:!0,writable:!0,value:e})}}function r(t,e){t=t.split(".");var i=fa;t[0]in i||!i.execScript||i.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||void 0===e?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=e}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function ha(){}function x(t){return t.mg||(t.mg=++ia)}function ja(t){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function la(t,e,i,n){this.O=t,this.R=e,this.N=i,this.P=n}function ma(t,e,i,n,s){return void 0!==s?(s.O=t,s.R=e,s.N=i,s.P=n,s):new la(t,e,i,n)}function na(t,e,i){return t.O<=e&&e<=t.R&&t.N<=i&&i<=t.P}function y(t,e){if(!t)throw new ja(e)}function oa(t,e,i){return Math.min(Math.max(t,e),i)}function qa(t,e,i,n){return t=i-t,e=n-e,t*t+e*e}function ra(t){return t*Math.PI/180}function sa(t,e){return t%=e,0>t*e?t+e:t}function ta(t,e,i){return t+i*(e-t)}function ua(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function va(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function wa(t){for(var e=xa(),i=0,n=t.length;n>i;++i)ya(e,t[i]);return e}function za(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Aa(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Ba(t,e,i){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,e*e+t*t}function Ca(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Da(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function xa(){return[1/0,1/0,-(1/0),-(1/0)]}function Ea(t,e,i,n,s){return s?(s[0]=t,s[1]=e,s[2]=i,s[3]=n,s):[t,e,i,n]}function Fa(t){return Ea(1/0,1/0,-(1/0),-(1/0),t)}function Ga(t,e){var i=t[0];return t=t[1],Ea(i,t,i,t,e)}function Ha(t,e,i,n,s){for(s=Fa(s);i>e;e+=n){var r=s,o=t[e],a=t[e+1];r[0]=Math.min(r[0],o),r[1]=Math.min(r[1],a),r[2]=Math.max(r[2],o),r[3]=Math.max(r[3],a)}return s}function Ia(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ja(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function ya(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ka(t){var e=0;return La(t)||(e=Ma(t)*Na(t)),e}function Oa(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Pa(t,e,i,n,s){var r=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var o=Math.sin(i);i=r*e,r*=o,e*=n;var a=n*o,h=t[0],l=t[1];t=h-i+a,n=h-i-a,o=h+i-a,i=h+i+a,a=l-r-e,h=l-r+e;var c=l+r+e;return r=l+r-e,Ea(Math.min(t,n,o,i),Math.min(a,h,c,r),Math.max(t,n,o,i),Math.max(a,h,c,r),s)}function Na(t){return t[3]-t[1]}function Qa(t,e){var i=xa();return Ra(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function Ma(t){return t[2]-t[0]}function Ra(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function La(t){return t[2]<t[0]||t[3]<t[1]}function Ua(t){for(var e in t)delete t[e]}function Va(t){var e,i=[];for(e in t)i.push(t[e]);return i}function Wa(t){for(var e in t)return!1;return!e}function Xa(t){this.radius=t}function Ya(t,e){var i=e||{},n=i.radius||6371008.8;i=i.projection||"EPSG:3857",t=t.clone().Ya(i,"EPSG:4326");var s=t.F();i=0;var r;switch(s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":e=t.I(),i=Za(e,n);break;case"MultiLineString":case"Polygon":for(e=t.I(),t=0,s=e.length;s>t;++t)i+=Za(e[t],n);break;case"MultiPolygon":for(e=t.I(),t=0,s=e.length;s>t;++t){var o=e[t],a=0;for(r=o.length;r>a;++a)i+=Za(o[a],n)}break;case"GeometryCollection":for(n=$a(t.a),t=0,s=n.length;s>t;++t)i+=Ya(n[t],e);break;default:throw Error("Unsupported geometry type: "+s)}return i}function Za(t,e){for(var i=0,n=0,s=t.length;s-1>n;++n)i+=ab(t[n],t[n+1],e);return i}function ab(t,e,i){var n=ra(t[1]),s=ra(e[1]),r=(s-n)/2;return t=ra(e[0]-t[0])/2,n=Math.sin(r)*Math.sin(r)+Math.sin(t)*Math.sin(t)*Math.cos(n)*Math.cos(s),2*i*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))}function bb(t,e){var i=e||{},n=i.radius||6371008.8;i=i.projection||"EPSG:3857",t=t.clone().Ya(i,"EPSG:4326");var s=t.F();i=0;var r;switch(s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(e=t.I(),i=Math.abs(db(e[0],n)),t=1,s=e.length;s>t;++t)i-=Math.abs(db(e[t],n));break;case"MultiPolygon":for(e=t.I(),t=0,s=e.length;s>t;++t){var o=e[t];i+=Math.abs(db(o[0],n));var a=1;for(r=o.length;r>a;++a)i-=Math.abs(db(o[a],n))}break;case"GeometryCollection":for(n=$a(t.a),t=0,s=n.length;s>t;++t)i+=bb(n[t],e);break;default:throw Error("Unsupported geometry type: "+s)}return i}function db(t,e){for(var i=0,n=t.length,s=t[n-1][0],r=t[n-1][1],o=0;n>o;o++){var a=t[o][0],h=t[o][1];i+=ra(a-s)*(2+Math.sin(ra(r))+Math.sin(ra(h))),s=a,r=h}return i*e*e/2}function gb(t){this.Qa=t.code,this.a=t.units,this.b=void 0!==t.extent?t.extent:null,this.Sc=void 0!==t.worldExtent?t.worldExtent:null,this.fd=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.i=void 0!==t.global?t.global:!1,this.f=!(!this.i||!this.b),this.u=t.getPointResolution,this.c=null,this.g=t.metersPerUnit;var e=t.code,i=fb||window.proj4;"function"==typeof i&&(e=i.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.fd=e.axis),void 0===t.metersPerUnit&&(this.g=e.to_meter),void 0===t.units&&(this.a=e.units)))}function hb(t){return t.g||eb[t.a]}function ib(t){gb.call(this,{code:t,units:"m",extent:jb,global:!0,worldExtent:kb,getPointResolution:function(t,e){return t/pa(e[1]/6378137)}})}function nb(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(var s=0;n>s;s+=i){e[s]=lb*t[s]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));r>lb?r=lb:-lb>r&&(r=-lb),e[s+1]=r}return e}function pb(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(var s=0;n>s;s+=i)e[s]=180*t[s]/lb,e[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return e}function rb(t,e){gb.call(this,{code:t,units:"degrees",extent:sb,axisOrientation:e,global:!0,metersPerUnit:tb,worldExtent:sb})}function xb(t,e,i){t=t.Qa,e=e.Qa,t in wb||(wb[t]={}),wb[t][e]=i}function yb(t,e){var i;return t in wb&&e in wb[t]&&(i=wb[t][e]),i}function Ab(t,e,i,n){t=Bb(t);var s=t.u;return s?e=s(e,i):"degrees"==t.a&&!n||"degrees"==n||(s=Db(t,Bb("EPSG:4326")),e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e=s(e,e,2),e=(ab(e.slice(0,2),e.slice(2,4),zb.radius)+ab(e.slice(4,6),e.slice(6,8),zb.radius))/2,t=n?eb[n]:hb(t),void 0!==t&&(e/=t)),e}function Fb(t){t.forEach(Gb),t.forEach(function(e){t.forEach(function(t){e!==t&&xb(e,t,Hb)})})}function Gb(t){vb[t.Qa]=t,xb(t,t,Hb)}function Ib(t){return t?"string"==typeof t?Bb(t):t:Bb("EPSG:3857")}function Jb(t){return function(e,i,n){var s=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(s);var r;for(r=0;s>r;r+=n){var o=t([e[r],e[r+1]]);for(i[r]=o[0],i[r+1]=o[1],o=n-1;o>=2;--o)i[r+o]=e[r+o]}return i}}function Bb(t){var e=null;if(t instanceof gb)e=t;else if("string"==typeof t&&(e=vb[t]||null,!e)){var i=fb||window.proj4;"function"==typeof i&&void 0!==i.defs(t)&&(e=new gb({code:t}),Gb(e))}return e}function Kb(t,e){if(t===e)return!0;var i=t.a===e.a;return t.Qa===e.Qa?i:Db(t,e)===Hb&&i}function Lb(t,e){return t=Bb(t),e=Bb(e),Db(t,e)}function Db(t,e){var i=t.Qa,n=e.Qa,s=yb(i,n);if(!s){var r=fb||window.proj4;if("function"==typeof r){var o=r.defs(i),a=r.defs(n);void 0!==o&&void 0!==a&&(o===a?Fb([e,t]):(r=r(n,i),s=r.forward,r=r.inverse,e=Bb(e),t=Bb(t),xb(e,t,Jb(s)),xb(t,e,Jb(r))),s=yb(i,n))}}return s||(s=Mb),s}function Mb(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}return t}function Hb(t,e){if(void 0!==e){for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}else t=t.slice();return t}function Nb(t,e,i){return Lb(e,i)(t,void 0,t.length)}function Ob(t,e,i){e=Lb(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),Ea(t,e,i,n,void 0)}function Pb(t,e){return t>e?1:e>t?-1:0}function Qb(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(i>0){for(i=1;n>i;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;n>i;++i)if(t[i]<=e)return i}else for(i=1;n>i;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function Rb(t,e){var i=Array.isArray(e)?e:[e],n=i.length;for(e=0;n>e;e++)t[t.length]=i[e]}function Sb(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0}function Tb(t){var e,i=Ub,n=t.length,s=Array(t.length);for(e=0;n>e;e++)s[e]={index:e,value:t[e]};for(s.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=s[e].value}function Vb(t,e){var i=e||Pb;return t.every(function(e,n){return 0===n?!0:(e=i(t[n-1],e),!(e>0||0===e))})}function Wb(t){if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,y(Vb(this.a,function(t,e){return e-t}),17),!t.origins)for(var e=0,i=this.a.length-1;i>e;++e)if(n){if(this.a[e]/this.a[e+1]!==n){n=void 0;break}}else var n=this.a[e]/this.a[e+1];this.u=n,this.maxZoom=this.a.length-1,this.f=void 0!==t.origin?t.origin:null,this.i=null,void 0!==t.origins&&(this.i=t.origins,y(this.i.length==this.a.length,20)),n=t.extent,void 0===n||this.f||this.i||(this.f=[n[0],n[3]]),y(!this.f&&this.i||this.f&&!this.i,18),this.c=null,void 0!==t.tileSizes&&(this.c=t.tileSizes,y(this.c.length==this.a.length,19)),this.g=void 0!==t.tileSize?t.tileSize:this.c?null:256,y(!this.g&&this.c||this.g&&!this.c,22),this.l=void 0!==n?n:null,this.b=null,this.j=[0,0],void 0!==t.sizes?this.b=t.sizes.map(function(t){return new la(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):n&&Xb(this,n)}function ac(t,e,i,n,s){var r=null,o=e[0]-1;if(2===t.u)var a=e[1],h=e[2];else r=bc(t,e,s);for(;o>=t.minZoom&&(2===t.u?(a=Math.floor(a/2),h=Math.floor(h/2),e=ma(a,a,h,h,n)):e=cc(t,r,o,n),!i.call(null,o,e));)--o}function dc(t,e,i,n){return e[0]<t.maxZoom?2===t.u?(t=2*e[1],e=2*e[2],ma(t,t+1,e,e+1,i)):(n=bc(t,e,n),cc(t,n,e[0]+1,i)):null}function ec(t,e,i){var n=t.f?t.f:t.i[e],s=t.a[e];return t=va(fc(t,e),t.j),Ea(n[0]+i.O*t[0]*s,n[1]+i.N*t[1]*s,n[0]+(i.R+1)*t[0]*s,n[1]+(i.P+1)*t[1]*s,void 0)}function cc(t,e,i,n){gc(t,e[0],e[1],i,!1,$b);var s=$b[1],r=$b[2];return gc(t,e[2],e[3],i,!0,$b),ma(s,$b[1],r,$b[2],n)}function hc(t,e){var i=t.f?t.f:t.i[e[0]],n=t.a[e[0]];return t=va(fc(t,e[0]),t.j),[i[0]+(e[1]+.5)*t[0]*n,i[1]+(e[2]+.5)*t[1]*n]}function bc(t,e,i){var n=t.f?t.f:t.i[e[0]],s=t.a[e[0]];t=va(fc(t,e[0]),t.j);var r=n[0]+e[1]*t[0]*s;return e=n[1]+e[2]*t[1]*s,Ea(r,e,r+t[0]*s,e+t[1]*s,i)}function gc(t,e,i,n,s,r){var o=t.f?t.f:t.i[n],a=t.a[n];return t=va(fc(t,n),t.j),e=Math.floor((e-o[0])/a+(s?.5:0))/t[0],i=Math.floor((i-o[1])/a+(s?0:.5))/t[1],s?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),s=e,void 0!==r?(r[0]=n,r[1]=s,r[2]=i,n=r):n=[n,s,i],n}function fc(t,e){return t.g?t.g:t.c[e]}function Xb(t,e){for(var i=t.a.length,n=Array(i),s=t.minZoom;i>s;++s)n[s]=cc(t,e,s);t.b=n}function ic(t){var e=t.c;if(!e){e=jc(t);var i=kc(e,void 0,void 0);e=new Wb({extent:e,origin:[e[0],e[3]],resolutions:i,tileSize:void 0}),t.c=e}return e}function kc(t,e,i){e=void 0!==e?e:42;var n=Na(t);for(t=Ma(t),i=va(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;e>t;++t)n[t]=i/Math.pow(2,t);return n}function jc(t){t=Bb(t);var e=t.C();return e||(t=180*eb.degrees/hb(t),e=Ea(-t,-t,t,t)),e}function lc(t){this.xd=t.html}function mc(t){function e(e){var i=t.listener,n=t.gd||t.target;return t.jd&&z(t),i.call(n,e)}return t.hd=e}function nc(t,e,i,n){for(var s,r=0,o=t.length;o>r;++r)if(s=t[r],s.listener===e&&s.gd===i)return n&&(s.deleteIndex=r),s}function oc(t,e){return(t=t.qa)?t[e]:void 0}function pc(t){var e=t.qa;return e||(e=t.qa={}),e}function qc(t,e){var i=oc(t,e);if(i){for(var n=0,s=i.length;s>n;++n)t.removeEventListener(e,i[n].hd),Ua(i[n]);i.length=0,(i=t.qa)&&(delete i[e],0===Object.keys(i).length&&delete t.qa)}}function B(t,e,i,n,s){var r=pc(t),o=r[e];return o||(o=r[e]=[]),(r=nc(o,i,n,!1))?s||(r.jd=!1):(r={gd:n,jd:!!s,listener:i,target:t,type:e},t.addEventListener(e,mc(r)),o.push(r)),r}function rc(t,e,i,n){(t=oc(t,e))&&(i=nc(t,i,n,!0))&&z(i)}function z(t){if(t&&t.target){t.target.removeEventListener(t.type,t.hd);var e=oc(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&qc(t.target,t.type)}Ua(t)}}function sc(){}function tc(t){t.Oa||(t.Oa=!0,t.aa())}function uc(t){this.type=t,this.target=null}function vc(t){t.stopPropagation()}function wc(){this.da={},this.V={},this.K={}}function xc(t,e){return e?e in t.K:0<Object.keys(t.K).length}function yc(){wc.call(this),this.i=0}function D(t){yc.call(this),x(this),this.u={},void 0!==t&&this.va(t)}function Fc(t){return zc.hasOwnProperty(t)?zc[t]:zc[t]="change:"+t}function Gc(t,e,i){var n=Fc(e);t.f(new Hc(n,e,i)),t.f(new Hc("propertychange",e,i))}function Hc(t,e,i){uc.call(this,t),this.key=e,this.oldValue=i}function J(t,e){if(D.call(this),this.b=!!(e||{}).unique,this.a=t?t:[],this.b)for(t=0,e=this.a.length;e>t;++t)Ic(this,this.a[t],t);Jc(this)}function Jc(t){t.set(Kc,t.a.length)}function Ic(t,e,i){for(var n=0,s=t.a.length;s>n;++n)if(t.a[n]===e&&n!==i)throw new ja(58)}function Lc(t,e){uc.call(this,t),this.element=e}function Mc(t,e,i){uc.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function Nc(t,e,i,n,s){Mc.call(this,t,e,s),this.originalEvent=i,this.pixel=e.Kb(i),this.coordinate=e.xa(this.pixel),this.dragging=void 0!==n?n:!1}function $c(t,e,i,n,s){Nc.call(this,t,e,i.a,n,s),this.a=i}function ad(t,e){this.a=t,this.c=e}function bd(t){ad.call(this,t,{mousedown:this.vf,mousemove:this.wf,mouseup:this.zf,mouseover:this.yf,mouseout:this.xf}),this.f=t.i,this.i=[]}function cd(t,e){t=t.i;var i=e.clientX;e=e.clientY;for(var n,s=0,r=t.length;r>s&&(n=t[s]);s++){var o=Math.abs(e-n[1]);if(25>=Math.abs(i-n[0])&&25>=o)return!0}return!1}function dd(t){var e=ed(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function id(t){ad.call(this,t,{MSPointerDown:this.Ef,MSPointerMove:this.Ff,MSPointerUp:this.If,MSPointerOut:this.Gf,MSPointerOver:this.Hf,MSPointerCancel:this.Df,MSGotPointerCapture:this.Bf,MSLostPointerCapture:this.Cf}),this.f=t.i,this.i=["","unavailable","touch","pen","mouse"]}function qd(t,e){var i=e;return"number"==typeof e.pointerType&&(i=ed(e,e),i.pointerType=t.i[e.pointerType]),i}function sd(t){ad.call(this,t,{pointerdown:this.pg,pointermove:this.qg,pointerup:this.tg,pointerout:this.rg,pointerover:this.sg,pointercancel:this.og,gotpointercapture:this.Te,lostpointercapture:this.sf})}function rd(t,e,i){uc.call(this,t),this.a=e,t=i?i:{},this.buttons=ud(t),this.pressure=vd(t,this.buttons),this.bubbles="bubbles"in t?t.bubbles:!1,this.cancelable="cancelable"in t?t.cancelable:!1,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t?t.ctrlKey:!1,this.altKey="altKey"in t?t.altKey:!1,this.shiftKey="shiftKey"in t?t.shiftKey:!1,this.metaKey="metaKey"in t?t.metaKey:!1,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t?t.isPrimary:!1,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function ud(t){if(t.buttons||wd)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function vd(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function xd(t,e){ad.call(this,t,{touchstart:this.Ig,touchmove:this.Hg,touchend:this.Gg,touchcancel:this.Fg}),this.f=t.i,this.j=e,this.i=void 0,this.g=0,this.b=void 0}function yd(t,e,i){return e=ed(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.g,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.i===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function zd(t,e,i){function n(){e.preventDefault()}var s,r=Array.prototype.slice.call(e.changedTouches),o=r.length;for(s=0;o>s;++s){var a=yd(t,e,r[s]);a.preventDefault=n,i.call(t,e,a)}}function Ad(t,e){var i=t.j.i;if(e=e.changedTouches[0],t.i===e.identifier){var n=[e.clientX,e.clientY];i.push(n),setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},2500)}}function Cd(t){wc.call(this),this.g=t,this.i={},this.c={},this.a=[],Xc?Dd(this,new sd(this)):Yc?Dd(this,new id(this)):(t=new bd(this),Dd(this,t),Wc&&Dd(this,new xd(this,t))),t=this.a.length;for(var e,i=0;t>i;i++)e=this.a[i],Ed(this,Object.keys(e.c))}function Dd(t,e){var i=Object.keys(e.c);i&&(i.forEach(function(t){var i=e.c[t];i&&(this.c[t]=i.bind(e))},t),t.a.push(e))}function Ed(t,e){e.forEach(function(t){B(this.g,t,this.b,this)},t)}function Fd(t,e){e.forEach(function(t){rc(this.g,t,this.b,this)},t)}function ed(t,e){for(var i,n={},s=0,r=Gd.length;r>s;s++)i=Gd[s][0],n[i]=t[i]||e[i]||Gd[s][1];return n}function Bd(t,e,i){e.bubbles=!1,fd(t,"pointerleave",e,i)}function hd(t,e,i){t.out(e,i);var n=e.target,s=e.relatedTarget;n&&s&&n.contains(s)||Bd(t,e,i)}function gd(t,e,i){e.bubbles=!0,fd(t,"pointerover",e,i);var n=e.target,s=e.relatedTarget;n&&s&&n.contains(s)||(e.bubbles=!1,fd(t,"pointerenter",e,i))}function fd(t,e,i,n){t.f(new rd(e,n,i))}function td(t,e){t.f(new rd(e.type,e,e))}function Hd(t,e){wc.call(this),this.i=t,this.j=0,this.u=!1,this.c=[],this.B=e?e*Tc:Tc,this.b=null,t=this.i.a,this.v=0,this.A={},this.g=new Cd(t),this.a=null,this.l=B(this.g,"pointerdown",this.bf,this),this.s=B(this.g,"pointermove",this.wg,this)}function Id(t,e){var i=new $c("click",t.i,e);t.f(i),0!==t.j?(clearTimeout(t.j),t.j=0,i=new $c("dblclick",t.i,e),t.f(i)):t.j=setTimeout(function(){this.j=0;var t=new $c("singleclick",this.i,e);this.f(t)}.bind(t),250)}function Jd(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.A[e.pointerId]:"pointerdown"==e.type&&(t.A[e.pointerId]=!0),t.v=Object.keys(t.A).length}function Kd(t,e){return Math.abs(e.clientX-t.b.clientX)>t.B||Math.abs(e.clientY-t.b.clientY)>t.B}function Ld(t,e){this.l=t,this.b=e,this.a=[],this.f=[],this.i={}}function Nd(t,e){for(var i=t.a,n=t.f,s=i.length,r=i[e],o=n[e],a=e;s>>1>e;){var h=2*e+1,l=2*e+2;h=s>l&&n[l]<n[h]?l:h,i[e]=i[h],n[e]=n[h],e=h}i[e]=r,n[e]=o,Md(t,a,e)}function Md(t,e,i){var n=t.a;t=t.f;for(var s=n[i],r=t[i];i>e;){var o=i-1>>1;if(!(t[o]>r))break;n[i]=n[o],t[i]=t[o],i=o}n[i]=s,t[i]=r}function Od(t,e){Ld.call(this,function(e){return t.apply(null,e)},function(t){return t[0].Xa()}),this.s=e,this.g=0,this.c={}}function Pd(t){return function(e){return e?[oa(e[0],t[0],t[2]),oa(e[1],t[1],t[3])]:void 0}}function Qd(t){return t}function Rd(t){return function(e,i,n){return void 0!==e?(e=Qb(t,e,n),e=oa(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]):void 0}}function Sd(t,e,i){return function(n,s,r){return void 0!==n?(n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-r/2+.5))+s,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)):void 0}}function Td(t){return void 0!==t?0:void 0}function Ud(t,e){return void 0!==t?t+e:void 0}function Vd(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function Wd(){var t=ra(5);return function(e,i){return void 0!==e?Math.abs(e+i)<=t?0:e+i:void 0}}function Xd(t){t=""+t;var e=t.indexOf(".");return e=-1===e?t.length:e,e>2?t:Array(3-e).join("0")+t}function Yd(t,e){var i=e.yb(),n=e.ba();e=n[0],n=n[1];var s=t[0]-e;t=t[1]-n,0===s&&0===t&&(s=1);var r=Math.sqrt(s*s+t*t);return[e+i*s/r,n+i*t/r]}function Zd(t,e){var i=t[0];t=t[1];var n=e[0],s=e[1];e=n[0],n=n[1];var r=s[0];s=s[1];var o=r-e,a=s-n;return i=0===o&&0===a?0:(o*(i-e)+a*(t-n))/(o*o+a*a||0),0>=i?(t=e,i=n):i>=1?(t=r,i=s):(t=e+i*o,i=n+i*a),[t,i]}function $d(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function ae(t,e){var i=Math.cos(e);e=Math.sin(e);var n=t[1]*i+t[0]*e;t[0]=t[0]*i-t[1]*e,t[1]=n}function be(t,e){var i=t[0]-e[0];return t=t[1]-e[1],i*i+t*t}function ce(t,e){return Math.sqrt(be(t,e))}function ee(t,e){return be(t,Zd(t,e))}function le(t){return 1-Math.pow(1-t,3)}function me(t){return 3*t*t-2*t*t*t}function ne(t){return t}function oe(){return!0}function pe(){return!1}function qe(t,e,i,n,s,r){for(var o=r?r:[],a=0;i>e;e+=n){var h=t[e],l=t[e+1];o[a++]=s[0]*h+s[2]*l+s[4],o[a++]=s[1]*h+s[3]*l+s[5]}return r&&o.length!=a&&(o.length=a),o}function se(){return[1,0,0,1,0,0]}function te(t,e){var i=t[0],n=t[1],s=t[2],r=t[3],o=t[4],a=t[5],h=e[0],l=e[1],c=e[2],u=e[3],f=e[4];e=e[5],t[0]=i*h+s*l,t[1]=n*h+r*l,t[2]=i*c+s*u,t[3]=n*c+r*u,t[4]=i*f+s*e+o,t[5]=n*f+r*e+a}function ue(t,e,i,n,s){return t[0]=e,t[1]=0,t[2]=0,t[3]=i,t[4]=n,t[5]=s,t}function ve(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function we(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function xe(t,e,i,n,s,r,o,a){var h=Math.sin(r);return r=Math.cos(r),t[0]=n*r,t[1]=s*h,t[2]=-n*h,t[3]=s*r,t[4]=o*n*r-a*n*h+e,t[5]=o*s*h+a*s*r+i,t}function ye(){D.call(this),this.s=xa(),this.A=-1,this.c={},this.l=this.g=0,this.$=se()}function ze(){ye.call(this),this.U="XY",this.a=2,this.o=null}function Ae(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Be(t,e,i){t.a=Ae(e),t.U=e,t.o=i}function Ce(t,e,i,n){if(e)i=Ae(e);else{for(e=0;n>e;++e){if(0===i.length)return t.U="XY",void(t.a=2);i=i[0]}i=i.length;var s;2==i?s="XY":3==i?s="XYZ":4==i&&(s="XYZM"),e=s}t.U=e,t.a=i}function De(t,e,i,n,s,r,o){var a=t[e],h=t[e+1],l=t[i]-a,c=t[i+1]-h;if(0!==l||0!==c)if(r=((s-a)*l+(r-h)*c)/(l*l+c*c),r>1)e=i;else if(r>0){for(s=0;n>s;++s)o[s]=ta(t[e+s],t[i+s],r);return void(o.length=n)}for(s=0;n>s;++s)o[s]=t[e+s];o.length=n}function Ee(t,e,i,n,s){var r=t[e],o=t[e+1];for(e+=n;i>e;e+=n){var a=t[e],h=t[e+1];r=qa(r,o,a,h),r>s&&(s=r),r=a,o=h}return s}function Fe(t,e,i,n,s){var r,o=0;for(r=i.length;r>o;++o){var a=i[o];s=Ee(t,e,a,n,s),e=a}return s}function Ge(t,e,i,n,s,r,o,a,h,l,c){if(e==i)return l;if(0===s){var u=qa(o,a,t[e],t[e+1]);if(l>u){for(c=0;n>c;++c)h[c]=t[e+c];return h.length=n,u}return l}for(var f=c?c:[NaN,NaN],p=e+n;i>p;)if(De(t,p-n,p,n,o,a,f),u=qa(o,a,f[0],f[1]),l>u){for(l=u,c=0;n>c;++c)h[c]=f[c];h.length=n,p+=n}else p+=n*Math.max((Math.sqrt(u)-Math.sqrt(l))/s|0,1);if(r&&(De(t,i-n,e,n,o,a,f),u=qa(o,a,f[0],f[1]),l>u)){for(l=u,c=0;n>c;++c)h[c]=f[c];h.length=n}return l}function He(t,e,i,n,s,r,o,a,h,l,c){c=c?c:[NaN,NaN];var u,f=0;for(u=i.length;u>f;++f){var p=i[f];l=Ge(t,e,p,n,s,r,o,a,h,l,c),e=p}return l}function Ie(t,e){var i,n=0,s=0;for(i=e.length;i>s;++s)t[n++]=e[s];return n}function Je(t,e,i,n){var s,r=0;for(s=i.length;s>r;++r){var o,a=i[r];for(o=0;n>o;++o)t[e++]=a[o]}return e}function Ke(t,e,i,n,s){s=s?s:[];var r,o=0,a=0;for(r=i.length;r>a;++a)e=Je(t,e,i[a],n),s[o++]=e;return s.length=o,s}function Le(t,e,i,n,s){s=void 0!==s?s:[];for(var r=0;i>e;e+=n)s[r++]=t.slice(e,e+n);return s.length=r,s}function Me(t,e,i,n,s){s=void 0!==s?s:[];var r,o=0,a=0;for(r=i.length;r>a;++a){var h=i[a];s[o++]=Le(t,e,h,n,s[o]),e=h}return s.length=o,s}function Ne(t,e,i,n,s){s=void 0!==s?s:[];var r,o=0,a=0;for(r=i.length;r>a;++a){var h=i[a];s[o++]=Me(t,e,h,n,s[o]),e=h[h.length-1]}return s.length=o,s}function Oe(t,e,i,n,s,r,o){var a=(i-e)/n;if(3>a){for(;i>e;e+=n)r[o++]=t[e],r[o++]=t[e+1];return o}var h=Array(a);h[0]=1,h[a-1]=1,i=[e,i-n];for(var l,c=0;0<i.length;){var u=i.pop(),f=i.pop(),p=0,d=t[f],m=t[f+1],g=t[u],v=t[u+1];for(l=f+n;u>l;l+=n){var y=t[l],b=t[l+1],x=d,w=m,M=g-x,k=v-w;if(0!==M||0!==k){var _=((y-x)*M+(b-w)*k)/(M*M+k*k);_>1?(x=g,w=v):_>0&&(x+=M*_,w+=k*_)}y=qa(y,b,x,w),y>p&&(c=l,p=y)}p>s&&(h[(c-e)/n]=1,c>f+n&&i.push(f,c),u>c+n&&i.push(c,u))}for(l=0;a>l;++l)h[l]&&(r[o++]=t[e+l*n],r[o++]=t[e+l*n+1]);return o}function Pe(t,e,i,n,s,r,o,a){var h,l=0;for(h=i.length;h>l;++l){var c=i[l];t:{var u=t,f=c,p=n,d=s,m=r,g=o;if(e!=f){var v=d*Math.round(u[e]/d),y=d*Math.round(u[e+1]/d);e+=p,m[g++]=v,m[g++]=y;do{var b=d*Math.round(u[e]/d);if(o=d*Math.round(u[e+1]/d),e+=p,e==f){m[g++]=b,m[g++]=o,o=g;break t}}while(b==v&&o==y);for(;f>e;){var x=d*Math.round(u[e]/d),w=d*Math.round(u[e+1]/d);if(e+=p,x!=b||w!=o){var M=b-v,k=o-y,_=x-v,S=w-y;M*S==k*_&&(0>M&&M>_||M==_||M>0&&_>M)&&(0>k&&k>S||k==S||k>0&&S>k)||(m[g++]=b,m[g++]=o,v=b,y=o),b=x,o=w}}m[g++]=b,m[g++]=o}o=g}a.push(o),e=c}return o}function Qe(t,e){ze.call(this),this.b=this.j=-1,this.ga(t,e)}function Re(t,e){ze.call(this),this.ga(t,e)}function Se(t,e,i,n,s,r){for(var o=0,a=t[i-n],h=t[i-n+1];i>e;e+=n){var l=t[e],c=t[e+1];r>=h?c>r&&(l-a)*(r-h)-(s-a)*(c-h)>0&&o++:r>=c&&0>(l-a)*(r-h)-(s-a)*(c-h)&&o--,a=l,h=c}return 0!==o}function Te(t,e,i,n,s,r,o){for(var a,h,l,c,u,f=s[r+1],p=[],d=0,m=i.length;m>d;++d){var g=i[d];for(l=t[g-n],u=t[g-n+1],a=e;g>a;a+=n)c=t[a],h=t[a+1],(u>=f&&f>=h||f>=u&&h>=f)&&(l=(f-u)/(h-u)*(c-l)+l,p.push(l)),l=c,u=h}for(d=NaN,m=-(1/0),p.sort(Pb),l=p[0],a=1,h=p.length;h>a;++a){if(c=p[a],g=Math.abs(c-l),g>m){l=(l+c)/2;t:if(0!==i.length&&Se(t,e,i[0],n,l,f)){var v=1;for(u=i.length;u>v;++v)if(Se(t,i[v-1],i[v],n,l,f)){u=!1;break t}u=!0}else u=!1;u&&(d=l,m=g)}l=c}return isNaN(d)&&(d=s[r]),o?(o.push(d,f,m),o):[d,f,m]}function Ue(t,e,i,n){for(var s=0,r=t[i-n],o=t[i-n+1];i>e;e+=n){var a=t[e],h=t[e+1];s+=(a-r)*(h+o),r=a,o=h}return s>0}function Ve(t,e,i,n){var s=0;n=void 0!==n?n:!1;var r,o=0;for(r=e.length;r>o;++o){var a=e[o];if(s=Ue(t,s,a,i),0===o){if(n&&s||!n&&!s)return!1}else if(n&&!s||!n&&s)return!1;s=a}return!0}function bf(t,e,i,n,s){s=void 0!==s?s:!1;var r,o=0;for(r=i.length;r>o;++o){var a=i[o],h=Ue(t,e,a,n);if(0===o?s&&h||!s&&!h:s&&!h||!s&&h){h=t;for(var l=a,c=n;l-c>e;){var u;for(u=0;c>u;++u){var f=h[e+u];h[e+u]=h[l-c+u],h[l-c+u]=f}e+=c,l-=c}}e=a}return e}function cf(t,e,i,n){var s,r=0,o=0;for(s=e.length;s>o;++o)r=bf(t,r,e[o],i,n);return r}function df(t,e){ze.call(this),this.b=[],this.v=-1,this.B=null,this.L=this.G=this.J=-1,this.j=null,this.ga(t,e)}function ef(t,e,i,n){Be(t,e,i),t.b=n,t.D()}function ff(t){var e=t[0],i=t[1],n=t[2];return t=t[3],e=[e,i,e,t,n,t,n,i,e,i],i=new df(null),ef(i,"XY",e,[e.length]),i}function gf(t){D.call(this),t=Sa({},t),this.a=[0,0],this.g=[],this.dc=this.dc.bind(this),this.v=Ib(t.projection);var e={};e.center=void 0!==t.center?t.center:null;var i=void 0!==t.minZoom?t.minZoom:0,n=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var r=t.resolutions,o=r[i],a=void 0!==r[n]?r[n]:r[r.length-1];n=Rd(r)}else{o=Ib(t.projection),a=o.C(),r=(a?Math.max(Ma(a),Na(a)):360*eb.degrees/hb(o))/256/Math.pow(2,0);var h=r/Math.pow(2,28);o=t.maxResolution,void 0!==o?i=0:o=r/Math.pow(s,i),a=t.minResolution,void 0===a&&(a=void 0!==t.maxZoom?void 0!==t.maxResolution?o/Math.pow(s,n):r/Math.pow(s,n):h),n=i+Math.floor(Math.log(o/a)/Math.log(s)),a=o/Math.pow(s,n-i),n=Sd(s,o,n-i)}this.c=o,this.l=a,this.B=s,this.j=t.resolutions,this.s=i,(void 0!==t.enableRotation?t.enableRotation:1)?(i=t.constrainRotation,i=void 0===i||!0===i?Wd():!1===i?Ud:"number"==typeof i?Vd(i):Ud):i=Td,this.b={center:void 0!==t.extent?Pd(t.extent):Qd,resolution:n,rotation:i},void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.c,t.zoom-this.s),this.j&&(e.resolution=oa(Number(this.ua()||e.resolution),this.l,this.c))),e.rotation=void 0!==t.rotation?t.rotation:0,this.va(e)}function kf(t){jf(t,0,-t.a[0]);for(var e=0,i=t.g.length;i>e;++e){var n=t.g[e];n[0].callback&&n[0].callback(!1)}t.g.length=0}function mf(t,e,i){var n=t.ba();if(void 0!==n){var s=[n[0]-i[0],n[1]-i[1]];ae(s,e-t.ya()),t=s,t[0]+=i[0],t[1]+=i[1]}return s}function lf(t,e,i){var n,s=t.ba();return t=t.ua(),void 0!==s&&void 0!==t&&(n=[i[0]-e*(i[0]-s[0])/t,i[1]-e*(i[1]-s[1])/t]),n}function nf(t){var e=[100,100];return t='.ol-viewport[data-view="'+x(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function of(t,e,i){return t=i||nf(t),Math.max(Ma(e)/t[0],Na(e)/t[1])}function pf(t){var e=t.ba(),i=t.v,n=t.ua(),s=t.ya();return{center:e.slice(),projection:void 0!==i?i:null,resolution:n,rotation:s,zoom:t.td()}}function hf(t){return!!t.ba()&&void 0!==t.ua()}function jf(t,e,i){t.a[e]+=i,t.D()}function qf(t,e){t.set("resolution",e),0<t.a[0]&&kf(t)}function rf(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function sf(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tf(t){D.call(this);var e=Sa({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0!==t.visible?t.visible:!0,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.va(e),this.a={layer:this,Jc:!0}}function uf(t){return t.a.opacity=oa(t.get("opacity"),0,1),t.a.Eg=t.Hc(),t.a.visible=t.wb(),t.a.extent=t.C(),t.a.zIndex=t.la(),t.a.maxResolution=t.get("maxResolution"),t.a.minResolution=Math.max(t.get("minResolution"),0),t.a}function vf(t){var e=t||{};t=Sa({},e),delete t.layers,e=e.layers,tf.call(this,t),this.c=[],this.b={},B(this,Fc(wf),this.Ye,this),e?Array.isArray(e)?e=new J(e.slice(),{unique:!0}):y(e instanceof J,43):e=new J(void 0,{unique:!0}),this.set(wf,e)}function zf(t,e){switch(t){case"MAP_RENDERER":t=xf,t.push(e);break;case"LAYER_RENDERER":t=yf,t.push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function Af(){for(var t=[Bf,Cf,Df,Ef],e=0,i=t.length;i>e;++e)zf("LAYER_RENDERER",t[e])}function Ff(t){D.call(this);var e=Gf(t);this.Ia=void 0!==t.loadTilesWhileAnimating?t.loadTilesWhileAnimating:!1,this.Pa=void 0!==t.loadTilesWhileInteracting?t.loadTilesWhileInteracting:!1,this.ha=void 0!==t.pixelRatio?t.pixelRatio:Tc,this.ec=e.logos,this.Ca=function(){this.j=void 0,this.yg.call(this)}.bind(this),this.Ga=se(),this.fc=se(),this.Ha=0,this.v=this.G=this.J=this.g=this.b=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Wc?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.a.appendChild(this.A),this.s=document.createElement("DIV"),this.s.className="ol-overlaycontainer-stopevent";for(var i="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),n=0,s=i.length;s>n;++n)B(this.s,i[n],vc);this.a.appendChild(this.s),this.ea=new Hd(this,t.moveTolerance);for(var r in Zc)B(this.ea,Zc[r],this.ud,this);this.$=e.keyboardEventTarget,this.l=null,B(this.a,"wheel",this.jb,this),B(this.a,"mousewheel",this.jb,this),this.controls=e.controls||new J,this.interactions=e.interactions||new J,this.B=e.overlays,this.Qd={},this.ab=e.tf.create(this.a,this),this.L=null,this.ia=[],this.Aa=new Od(this.Re.bind(this),this.mf.bind(this)),this.gc={},B(this,Fc("layergroup"),this.We,this),B(this,Fc("view"),this.pf,this),B(this,Fc("size"),this.ff,this),B(this,Fc("target"),this.lf,this),this.va(e.values),this.controls.forEach(function(t){t.setMap(this)},this),B(this.controls,"add",function(t){t.element.setMap(this)},this),B(this.controls,"remove",function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),B(this.interactions,"add",function(t){t.element.setMap(this)},this),B(this.interactions,"remove",function(t){
t.element.setMap(null)},this),this.B.forEach(this.dd,this),B(this.B,"add",function(t){this.dd(t.element)},this),B(this.B,"remove",function(t){var e=t.element.id;void 0!==e&&delete this.Qd[e.toString()],t.element.setMap(null)},this)}function Hf(t){return t=t.Ic(),void 0!==t?"string"==typeof t?document.getElementById(t):t:null}function Gf(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var s=t.logo;"string"==typeof s?n[s]="":s instanceof HTMLElement?n[x(s).toString()]=s:s&&(y("string"==typeof s.href,44),y("string"==typeof s.src,45),n[s.src]=s.href)}s=t.layers instanceof vf?t.layers:new vf({layers:t.layers}),i.layergroup=s,i.target=t.target,i.view=void 0!==t.view?t.view:new gf;var r;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:y(!1,46),0<=r.indexOf("dom")&&(r=r.concat(Jf))):r=Jf,s=0;var o=r.length;t:for(;o>s;++s)for(var a=r[s],h=0,l=xf.length;l>h;++h){var c=xf[h];if(c.handles(a)){var u=c;break t}}if(!u)throw Error("Unable to create a map renderer for types: "+r.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var f=new J(t.controls.slice());else y(t.controls instanceof J,47),f=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var p=new J(t.interactions.slice());else y(t.interactions instanceof J,48),p=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new J(t.overlays.slice()):(y(t.overlays instanceof J,49),t=t.overlays):t=new J,{controls:f,interactions:p,keyboardEventTarget:e,logos:n,overlays:t,tf:u,values:i}}function Kf(t){D.call(this),this.element=t.element?t.element:null,this.b=this.G=null,this.l=[],this.render=t.render?t.render:ha,t.target&&(t=t.target,this.G="string"==typeof t?document.getElementById(t):t)}function Mf(t){var e=Sa({},t);delete e.source,tf.call(this,e),this.l=this.g=this.c=null,t.map&&this.setMap(t.map),B(this,Fc("source"),this.jf,this),this.set("source",t.source?t.source:null)}function Nf(t){t=t?t:{},this.g=document.createElement("UL"),this.c=document.createElement("LI"),this.g.appendChild(this.c),this.c.style.display="none",this.a=void 0!==t.collapsed?t.collapsed:!0,this.A=void 0!==t.collapsible?t.collapsible:!0,this.A||(this.a=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.j=document.createElement("span"),this.j.textContent=n):this.j=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.s=document.createElement("span"),this.s.textContent=n):this.s=n;var s=this.A&&!this.a?this.j:this.s;n=document.createElement("button"),n.setAttribute("type","button"),n.title=i,n.appendChild(s),B(n,"click",this.L,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.a&&this.A?" ol-collapsed":"")+(this.A?"":" ol-uncollapsible"),i.appendChild(this.g),i.appendChild(n),Kf.call(this,{element:i,render:t.render?t.render:Of,target:t.target}),this.B=[],this.v=!0,this.J={}}function Of(t){if(t=t.frameState){for(var e={},i=[],n=t.layerStatesArray,s=t.viewState.resolution,r=0,o=n.length;o>r;++r){var a=n[r];if(a.visible&&s>=a.minResolution&&s<a.maxResolution&&(a=a.layer.fa())&&(a=a.$)&&(a=a(t)))if(Array.isArray(a))for(var h=0,l=a.length;l>h;++h)a[h]in e||(i.push(a[h]),e[a[h]]=!0);else a in e||(i.push(a),e[a]=!0)}if(!Sb(i,this.B)){for(;this.g.lastChild!==this.c;)this.g.removeChild(this.g.lastChild);for(e=0,n=i.length;n>e;++e)s=document.createElement("LI"),s.innerHTML=i[e],this.g.appendChild(s);0===i.length&&0<this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<i.length&&this.element.classList.remove("ol-logo-only"),e=0<i.length||!Wa(t.logos),this.v!=e&&(this.element.style.display=e?"":"none",this.v=e),this.B=i,t=t.logos,i=this.J;for(u in i)u in t||(sf(i[u]),delete i[u]);for(var c in t)if(n=t[c],n instanceof HTMLElement&&(this.c.appendChild(n),i[c]=n),!(c in i)){var u=new Image;u.src=c,""===n?e=u:(e=document.createElement("a"),e.href=n,e.appendChild(u)),this.c.appendChild(e),i[c]=e}this.c.style.display=Wa(t)?"none":""}}else this.v&&(this.element.style.display="none",this.v=!1)}function Pf(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation";i=document.createElement("button"),i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),B(i,"click",Pf.prototype.A,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:Qf,this.g=t.resetNorth?t.resetNorth:void 0,Kf.call(this,{element:n,render:e,target:t.target}),this.j=void 0!==t.duration?t.duration:250,this.c=void 0!==t.autoHide?t.autoHide:!0,this.s=void 0,this.c&&this.element.classList.add("ol-hidden")}function Qf(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.s){var e="rotate("+t+"rad)";if(this.c){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.s=t}}function Rf(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",o=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=r,a.appendChild("string"==typeof n?document.createTextNode(n):n),B(a,"click",Rf.prototype.c.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=o,n.appendChild("string"==typeof s?document.createTextNode(s):s),B(n,"click",Rf.prototype.c.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),Kf.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function Sf(t){t=t?t:{};var e=new J;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Rf(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new Pf(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new Nf(t.attributionOptions)),e}function Tf(){this.a=[],this.f=this.i=0}function Uf(t){t.a.length=0,t.i=0,t.f=0}function Vf(t){if(6>t.a.length)return!1;var e=Date.now()-100,i=t.a.length-3;if(t.a[i+2]<e)return!1;for(var n=i-3;n>0&&t.a[n+2]>e;)n-=3;if(e=t.a[i+2]-t.a[n+2],1e3/60>e)return!1;var s=t.a[i]-t.a[n];return i=t.a[i+1]-t.a[n+1],t.i=Math.atan2(i,s),t.f=Math.sqrt(s*s+i*i)/e,.05<t.f}function Wf(t){D.call(this),this.A=null,this.lb(!0),this.handleEvent=t.handleEvent}function Xf(t,e,i,n){if(void 0!==e){var s=t.ya(),r=t.ba();void 0!==s&&r&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:le}):t.rotate(e,i)}}function Yf(t,e,i,n){var s=t.ua();if(e=t.constrainResolution(s,e,0),void 0!==e){var r=t.j;e=oa(e,t.l||r[r.length-1],t.c||r[0])}i&&void 0!==e&&e!==s&&(r=t.ba(),i=lf(t,e,i),i=t.b.center(i),i=[(e*r[0]-s*i[0])/(e-s),(e*r[1]-s*i[1])/(e-s)]),Zf(t,e,i,n)}function Zf(t,e,i,n){if(e){var s=t.ua(),r=t.ba();void 0!==s&&r&&e!==s&&n?t.animate({resolution:e,anchor:i,duration:n,easing:le}):(i&&(i=lf(t,e,i),t.Ba(i)),qf(t,e))}}function $f(t){t=t?t:{},this.a=t.delta?t.delta:1,Wf.call(this,{handleEvent:ag}),this.b=void 0!==t.duration?t.duration:250}function ag(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){e=t.coordinate,i=i.shiftKey?-this.a:this.a;var n=t.map.T();Yf(n,i,e,this.b),t.preventDefault(),e=!0}return!e}function bg(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function cg(t){return t=t.originalEvent,0==t.button&&!(Rc&&Sc&&t.ctrlKey)}function dg(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function eg(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function fg(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function gg(t){return y(t.a,56),"mouse"==t.a.pointerType}function hg(t){return t=t.a,t.isPrimary&&0===t.button}function ig(t){t=t?t:{},Wf.call(this,{handleEvent:t.handleEvent?t.handleEvent:jg}),this.Ia=t.handleDownEvent?t.handleDownEvent:pe,this.Pa=t.handleDragEvent?t.handleDragEvent:ha,this.ec=t.handleMoveEvent?t.handleMoveEvent:ha,this.fc=t.handleUpEvent?t.handleUpEvent:pe,this.s=!1,this.G={},this.c=[]}function kg(t){for(var e=t.length,i=0,n=0,s=0;e>s;s++)i+=t[s].clientX,n+=t[s].clientY;return[i/e,n/e]}function jg(t){if(!(t instanceof $c))return!0;var e=!1,i=t.type;if("pointerdown"===i||"pointerdrag"===i||"pointerup"===i){i=t.a;var n=i.pointerId.toString();"pointerup"==t.type?delete this.G[n]:"pointerdown"==t.type?this.G[n]=i:n in this.G&&(this.G[n]=i),this.c=Va(this.G)}return this.s?"pointerdrag"==t.type?this.Pa(t):"pointerup"==t.type&&(this.s=this.fc(t)&&0<this.c.length):"pointerdown"==t.type?(this.s=t=this.Ia(t),e=this.qb(t)):"pointermove"==t.type&&this.ec(t),!e}function lg(t){ig.call(this,{handleDownEvent:mg,handleDragEvent:ng,handleUpEvent:og}),t=t?t:{},this.a=t.kinetic,this.b=null,this.l=t.condition?t.condition:dg,this.g=!1}function ng(t){var e=this.c,i=kg(e);if(e.length==this.j){if(this.a&&this.a.a.push(i[0],i[1],Date.now()),this.b){var n=this.b[0]-i[0],s=i[1]-this.b[1];t=t.map.T();var r=pf(t);s=n=[n,s];var o=r.resolution;s[0]*=o,s[1]*=o,ae(n,r.rotation),s=n,r=r.center,s[0]+=r[0],s[1]+=r[1],n=t.b.center(n),t.Ba(n)}}else this.a&&Uf(this.a);this.b=i,this.j=e.length}function og(t){var e=t.map;if(t=e.T(),0===this.c.length){if(!this.g&&this.a&&Vf(this.a)){var i=(.05-this.a.f)/-.005,n=this.a.i,s=t.ba();s=e.ra(s),e=e.xa([s[0]-i*Math.cos(n),s[1]-i*Math.sin(n)]),t.animate({center:t.b.center(e),duration:500,easing:le})}return jf(t,1,-1),!1}return this.a&&Uf(this.a),this.b=null,!0}function mg(t){if(0<this.c.length&&this.l(t)){var e=t.map.T();return this.b=null,this.s||jf(e,1,1),0<e.a[0]&&e.Ba(t.frameState.viewState.center),this.a&&Uf(this.a),this.g=1<this.c.length,!0}return!1}function pg(t){t=t?t:{},ig.call(this,{handleDownEvent:qg,handleDragEvent:rg,handleUpEvent:sg}),this.b=t.condition?t.condition:bg,this.a=void 0,this.g=void 0!==t.duration?t.duration:250}function rg(t){if(gg(t)){var e=t.map,i=e.T();if(i.b.rotation!==Td){if(e=e.kb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a){e=t-this.a;var n=i.ya();Xf(i,n-e)}this.a=t}}}function sg(t){if(!gg(t))return!0;t=t.map.T(),jf(t,1,-1);var e=t.ya(),i=this.g;return e=t.constrainRotation(e,0),Xf(t,e,void 0,i),!1}function qg(t){return gg(t)&&cg(t)&&this.b(t)?(jf(t.map.T(),1,1),this.a=void 0,!0):!1}function tg(t){this.Va=null,this.f=document.createElement("div"),this.f.style.position="absolute",this.f.className="ol-box "+t,this.i=this.b=this.a=null}function ug(t){var e=t.b,i=t.i;t=t.f.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function vg(t){var e=t.b,i=t.i;e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.xa,t.a),e[4]=e[0].slice(),t.Va?t.Va.ga([e]):t.Va=new df([e])}function wg(t){ig.call(this,{handleDownEvent:xg,handleDragEvent:yg,handleUpEvent:zg}),t=t?t:{},this.a=new tg(t.className||"ol-dragbox"),this.l=void 0!==t.minArea?t.minArea:64,this.b=null,this.v=t.condition?t.condition:oe,this.j=t.boxEndCondition?t.boxEndCondition:Ag}function Ag(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=this.l}function yg(t){if(gg(t)){var e=this.a,i=t.pixel;e.b=this.b,e.i=i,vg(e),ug(e),this.f(new Bg(Cg,t.coordinate,t))}}function zg(t){return gg(t)?(this.a.setMap(null),this.j(t,this.b,t.pixel)&&(this.g(t),this.f(new Bg(Dg,t.coordinate,t))),!1):!0}function xg(t){if(gg(t)&&cg(t)&&this.v(t)){this.b=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.b;return e.b=this.b,e.i=i,vg(e),ug(e),this.f(new Bg(Eg,t.coordinate,t)),!0}return!1}function Bg(t,e,i){uc.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function Fg(t){t=t?t:{};var e=t.condition?t.condition:eg;this.B=void 0!==t.duration?t.duration:200,this.J=void 0!==t.out?t.out:!1,wg.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Gg(t){Wf.call(this,{handleEvent:Hg}),t=t||{},this.a=function(t){return dg(t)&&fg(t)},this.b=void 0!==t.condition?t.condition:this.a,this.c=void 0!==t.duration?t.duration:100,this.g=void 0!==t.pixelDelta?t.pixelDelta:128}function Hg(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){e=t.map.T();var n=e.ua()*this.g,s=0,r=0;40==i?r=-n:37==i?s=-n:39==i?s=n:r=n,n=[s,r],ae(n,e.ya()),i=this.c,(s=e.ba())&&(n=e.b.center([s[0]+n[0],s[1]+n[1]]),i?e.animate({duration:i,easing:ne,center:n}):e.Ba(n)),t.preventDefault(),e=!0}}return!e}function Ig(t){Wf.call(this,{handleEvent:Jg}),t=t?t:{},this.b=t.condition?t.condition:fg,this.a=t.delta?t.delta:1,this.c=void 0!==t.duration?t.duration:100}function Jg(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.T(),Yf(i,e,void 0,this.c),t.preventDefault(),e=!0)}return!e}function Kg(t){Wf.call(this,{handleEvent:Lg}),t=t||{},this.g=0,this.s=void 0!==t.duration?t.duration:250,this.J=void 0!==t.timeout?t.timeout:80,this.L=void 0!==t.useAnchor?t.useAnchor:!0,this.G=t.constrainResolution||!1,this.a=null,this.j=this.c=this.l=this.b=void 0}function Lg(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var i=t.originalEvent;if(this.L&&(this.a=t.coordinate),"wheel"==t.type){var n=i.deltaY;Pc&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Tc),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}else"mousewheel"==t.type&&(n=-i.wheelDeltaY,Qc&&(n/=3));if(0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.c||400<t-this.b)&&(this.c=4>Math.abs(n)?Mg:Ng),this.c===Mg){e=e.T(),this.j?clearTimeout(this.j):jf(e,1,1),this.j=setTimeout(this.v.bind(this),400),i=e.ua()*Math.pow(2,n/300);var s=e.l,r=e.c,o=0;if(s>i?(i=Math.max(i,s/1.5),o=1):i>r&&(i=Math.min(i,1.5*r),o=-1),this.a){var a=lf(e,i,this.a);e.Ba(e.b.center(a))}return qf(e,i),0===o&&this.G&&e.animate({resolution:e.constrainResolution(i,n>0?-1:1),easing:le,anchor:this.a,duration:this.s}),o>0?e.animate({resolution:s,easing:le,anchor:this.a,duration:500}):0>o&&e.animate({resolution:r,easing:le,anchor:this.a,duration:500}),this.b=t,!1}return this.g+=n,n=Math.max(this.J-(t-this.b),0),clearTimeout(this.l),this.l=setTimeout(this.B.bind(this,e),n),!1}function Og(t){ig.call(this,{handleDownEvent:Pg,handleDragEvent:Qg,handleUpEvent:Rg}),t=t||{},this.b=null,this.g=void 0,this.a=!1,this.j=0,this.v=void 0!==t.threshold?t.threshold:.3,this.l=void 0!==t.duration?t.duration:250}function Qg(t){var e=0,i=this.c[0],n=this.c[1];if(i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX),void 0!==this.g&&(e=i-this.g,this.j+=e,!this.a&&Math.abs(this.j)>this.v&&(this.a=!0)),this.g=i,t=t.map,i=t.T(),i.b.rotation!==Td){n=t.a.getBoundingClientRect();var s=kg(this.c);s[0]-=n.left,s[1]-=n.top,this.b=t.xa(s),this.a&&(n=i.ya(),t.render(),Xf(i,n+e,this.b))}}function Rg(t){if(2>this.c.length){if(t=t.map.T(),jf(t,1,-1),this.a){var e=t.ya(),i=this.b,n=this.l;e=t.constrainRotation(e,0),Xf(t,e,i,n)}return!1}return!0}function Pg(t){return 2<=this.c.length?(t=t.map,this.b=null,this.g=void 0,this.a=!1,this.j=0,this.s||jf(t.T(),1,1),!0):!1}function Sg(t){ig.call(this,{handleDownEvent:Tg,handleDragEvent:eh,handleUpEvent:fh}),t=t?t:{},this.j=t.constrainResolution||!1,this.b=null,this.l=void 0!==t.duration?t.duration:400,this.a=void 0,this.g=1}function eh(t){var e=1,i=this.c[0],n=this.c[1],s=i.clientX-n.clientX;i=i.clientY-n.clientY,s=Math.sqrt(s*s+i*i),void 0!==this.a&&(e=this.a/s),this.a=s,t=t.map,s=t.T(),n=s.ua();var r=s.c,o=s.l;i=n*e,i>r?(e=r/n,i=r):o>i&&(e=o/n,i=o),1!=e&&(this.g=e),e=t.a.getBoundingClientRect(),n=kg(this.c),n[0]-=e.left,n[1]-=e.top,this.b=t.xa(n),t.render(),Zf(s,i,this.b)}function fh(t){if(2>this.c.length){t=t.map.T(),jf(t,1,-1);var e=t.ua();if(this.j||e<t.l||e>t.c){var i=this.b,n=this.l;e=t.constrainResolution(e,0,this.g-1),Zf(t,e,i,n)}return!1}return!0}function Tg(t){return 2<=this.c.length?(t=t.map,this.b=null,this.a=void 0,this.g=1,this.s||jf(t.T(),1,1),!0):!1}function gh(t,e,i,n){wc.call(this),this.extent=t,this.i=i,this.resolution=e,this.state=n}function hh(t,e,i,n,s){this.c=void 0!==s?s:null,gh.call(this,t,e,i,void 0!==s?0:2),this.b=n}function ih(t,e,i,n,s){uc.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=s}function jh(t){wc.call(this),this.highWaterMark=void 0!==t?t:2048,this.c=0,this.b={},this.a=this.i=null}function kh(t){return t.c>t.highWaterMark}function lh(t,e,i){t.get(e),t.b[e].cb=i}function uh(){var t=sh;return t||(t=sh=rf(1,1)),t}function xh(t,e){var i=uh();return t!=i.font&&(i.font=t),i.measureText(e).width}function yh(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function Ah(t,e,i,n,s,r,o,a,h,l,c){if(1!=i){var u=t.globalAlpha;t.globalAlpha=u*i}e&&t.setTransform.apply(t,e),t.drawImage(n,s,r,o,a,h,l,o*c,a*c),u&&(t.globalAlpha=u),e&&t.setTransform.apply(t,zh)}function Dh(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function Eh(t){var e=[];return e[0]=oa(t[0]+.5|0,0,255),e[1]=oa(t[1]+.5|0,0,255),e[2]=oa(t[2]+.5|0,0,255),e[3]=oa(t[3],0,1),e}function Gh(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Dh(t)}function Hh(){}function Ih(t,e,i,n,s){this.i=t,this.g=e,this.c=i,this.A=n,this.Pa=s,this.H=this.a=this.f=this.$=this.L=this.J=null,this.ea=this.qa=this.s=this.B=this.v=this.V=0,this.ha=!1,this.b=this.ia=0,this.Oa=!1,this.da=0,this.ca="",this.Ca=this.Aa=0,this.Ga=!1,this.l=this.Ha=0,this.G=this.u=this.j=null,this.K=[],this.Ia=se()}function Jh(t,e,i){if(t.H){e=qe(e,0,i,2,t.A,t.K),i=t.i;var n=t.Ia,s=i.globalAlpha;1!=t.s&&(i.globalAlpha=s*t.s);var r=t.ia;t.ha&&(r+=t.Pa);var o,a=0;for(o=e.length;o>a;a+=2){var h=e[a]-t.V,l=e[a+1]-t.v;if(t.Oa&&(h=Math.round(h),l=Math.round(l)),0!==r||1!=t.b){var c=h+t.V,u=l+t.v;xe(n,c,u,t.b,t.b,r,-c,-u),i.setTransform.apply(i,n)}i.drawImage(t.H,t.qa,t.ea,t.da,t.B,h,l,t.da,t.B)}0===r&&1==t.b||i.setTransform(1,0,0,1,0,0),1!=t.s&&(i.globalAlpha=s)}}function Kh(t,e,i,n){var s=0;if(t.G&&""!==t.ca){t.j&&Lh(t,t.j),t.u&&Mh(t,t.u);var r=t.G,o=t.i,a=t.$,h=r.textAlign?r.textAlign:"center";for(a?(a.font!=r.font&&(a.font=o.font=r.font),a.textAlign!=h&&(a.textAlign=h),a.textBaseline!=r.textBaseline&&(a.textBaseline=o.textBaseline=r.textBaseline)):(o.font=r.font,o.textAlign=h,o.textBaseline=r.textBaseline,t.$={font:r.font,textAlign:h,textBaseline:r.textBaseline}),e=qe(e,s,i,n,t.A,t.K),r=t.i,o=t.Ha,t.Ga&&(o+=t.Pa);i>s;s+=n){if(a=e[s]+t.Aa,h=e[s+1]+t.Ca,0!==o||1!=t.l){var l=xe(t.Ia,a,h,t.l,t.l,o,-a,-h);r.setTransform.apply(r,l)}t.u&&r.strokeText(t.ca,a,h),t.j&&r.fillText(t.ca,a,h)}0===o&&1==t.l||r.setTransform(1,0,0,1,0,0)}}function Nh(t,e,i,n,s,r){var o=t.i;for(t=qe(e,i,n,s,t.A,t.K),o.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),i=2;e>i;i+=2)o.lineTo(t[i],t[i+1]);return r&&o.closePath(),n}function Oh(t,e,i,n,s){var r,o=0;for(r=n.length;r>o;++o)i=Nh(t,e,i,n[o],s,!0);return i}function Lh(t,e){var i=t.i,n=t.J;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.J={fillStyle:e.fillStyle})}function Mh(t,e){var i=t.i,n=t.L;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Uc&&(Sb(n.lineDash,e.lineDash)||i.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Uc&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.L={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Rh(t){yc.call(this),this.a=t}function Sh(t,e,i){return function(n,s){return Th(t,e,n,s,function(t){i[n]||(i[n]={}),i[n][t.ja.toString()]=t})}}function Uh(t){var e=t.a;e.wb()&&"ready"==e.Hc()&&t.D()}function Vh(t,e){e.Md()&&t.postRenderFunctions.push(function(t,e,i){e=x(t).toString(),e in i.usedTiles&&t.hb(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function Wh(t,e){e=e.ea,void 0!==e&&("string"==typeof e?t.logos[e]="":e&&(y("string"==typeof e.href,44),y("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Xh(t,e,i,n){e=x(e).toString(),i=i.toString(),e in t?i in t[e]?(t=t[e][i],n.O<t.O&&(t.O=n.O),n.R>t.R&&(t.R=n.R),n.N<t.N&&(t.N=n.N),n.P>t.P&&(t.P=n.P)):t[e][i]=n:(t[e]={},t[e][i]=n)}function Yh(t,e,i,n,s,r,o,a){var h=x(e).toString();h in t.wantedTiles||(t.wantedTiles[h]={});var l=t.wantedTiles[h];t=t.tileQueue;var c,u,f;for(f=i.minZoom;o>=f;++f){var p=cc(i,r,f,p),d=i.a[f];for(c=p.O;c<=p.R;++c)for(u=p.N;u<=p.P;++u)if(a>=o-f){var m=Zh(e,f,c,u,n,s);0==m.state&&(l[m.Xa()]=!0,m.Xa()in t.i||t.j([m,h,hc(i,m.ja),d]))}else e.be(f,c,u,s)}}function $h(t){Rh.call(this,t),this.$=se()}function ai(t,e,i){var n=e.pixelRatio,s=e.size[0]*n,r=e.size[1]*n,o=e.viewState.rotation,a=[i[0],i[3]],h=[i[2],i[3]],l=[i[2],i[1]];i=[i[0],i[1]],we(e.coordinateToPixelTransform,a),we(e.coordinateToPixelTransform,h),we(e.coordinateToPixelTransform,l),we(e.coordinateToPixelTransform,i),t.save(),yh(t,-o,s/2,r/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),yh(t,o,s/2,r/2)}function bi(t,e,i,n,s){var r=t.a;if(xc(r,e)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,h=n.viewState.rotation;yh(i,-h,o/2,a/2),t=void 0!==s?s:ci(t,n,0),r.f(new ih(e,new Ih(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),yh(i,h,o/2,a/2)}}function ci(t,e,i){var n=e.viewState,s=e.pixelRatio,r=s/n.resolution;return xe(t.$,s*e.size[0]/2,s*e.size[1]/2,r,-r,-n.rotation,-n.center[0]+i,-n.center[1])}function di(t){$h.call(this,t),this.j=se()}function Bf(t){di.call(this,t),this.H=null,this.c=se(),this.l=[],this.b=null}function ei(){this.a={},this.f=0}function gi(t,e){this.g=e,this.f={},this.b={}}function hi(){if(32<fi.f){var t,e=0;for(t in fi.a){var i=fi.a[t];0!==(3&e++)||xc(i)||(delete fi.a[t],--fi.f)}}}function ii(t,e){var i=x(e).toString();if(i in t.f)return t.f[i];for(var n,s=t.F(),r=0,o=yf.length;o>r;++r){var a=yf[r];if(a.handles(s,e)){n=a.create(t,e);break}}if(!n)throw Error("Unable to create renderer for layer: "+e.F());return t.f[i]=n,t.b[i]=B(n,"change",t.u,t),n}function If(t,e){var i=t.f[e];return delete t.f[e],z(t.b[e]),delete t.b[e],i}function Ub(t,e){return t.zIndex-e.zIndex}function ji(t,e){gi.call(this,t,e),this.c=rf(),this.a=this.c.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.style.display="block",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.i=!0,this.l=se()}function ki(t,e,i){var n=t.g,s=t.c;if(xc(n,e)){var r=i.extent,o=i.pixelRatio,a=i.viewState.rotation,h=i.viewState,l=i.pixelRatio/h.resolution;t=xe(t.l,t.a.width/2,t.a.height/2,l,-l,-h.rotation,-h.center[0],-h.center[1]),n.f(new ih(e,new Ih(s,o,r,t,a),i,s,null))}}function Cf(t){di.call(this,t),this.context=null===this.context?null:rf(),this.b=null,this.c=[],this.G=xa(),this.ha=new la(0,0,0,0),this.l=se(),this.J=0}function li(t,e){return e=e.state,t=t.a.get("useInterimTilesOnError"),2==e||4==e||3==e&&!t}function ri(){}function ui(t,e,i,n,s,r){this.Oa=r,this.Ha=xa(),this.Pa=t,this.Ga=e,this.overlaps=s,this.pixelRatio=n,this.$=0,this.resolution=i,this.c=this.J=this.G=null,this.f=[],this.coordinates=[],this.Ca={},this.ha=se(),this.a=[],this.da=null,this.state={},this.ea=0,this.Ia=se()}function vi(t,e,i,n,s,r,o,a){e.beginPath(),e.moveTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,s),e.lineTo.apply(e,r),e.lineTo.apply(e,i),o&&(t.L=o[2],t.ma(e)),a&&(wi(e,a),e.stroke())}function xi(t,e,i,n,s,r,o,a,h,l,c,u,f,p,d,m,g,v,y){var b=v||y,x=t.Ia;r*=p,o*=p,i-=r,n-=o,d&&(i=Math.round(i),n=Math.round(n)),d=m+c>s.width?s.width-c:m,h=h+u>s.height?s.height-u:h,m=t.Ha;var w=g[3]+d*p+g[1],M=g[0]+h*p+g[2],k=i-g[3],_=n-g[0];if(b||0!==f)var S=[k,_],P=[k+w,_],C=[k+w,_+M],E=[k,_+M];g=null,0!==f?(r=i+r,o=n+o,g=xe(x,r,o,1,1,f,-r,-o),Fa(m),ya(m,we(x,S)),ya(m,we(x,P)),ya(m,we(x,C)),ya(m,we(x,E))):Ea(k,_,k+w,_+M,m),f=e.canvas,f=m[0]<=f.width&&0<=m[2]&&m[1]<=f.height&&0<=m[3],a?(f||1!=a[4])&&(Ja(a,m),(t=f?[e,g?g.slice(0):null,l,s,c,u,d,h,i,n,p]:null)&&b&&t.push(v,y,S,P,C,E),a.push(t)):f&&(b&&vi(t,e,S,P,C,E,v,y),Ah(e,g,l,s,c,u,d,h,i,n,p))}function yi(t,e){var i=t.pixelRatio;return 1==i?e:e.map(function(t){return t*i})}function zi(t,e,i,n,s,r,o){var a=t.coordinates.length,h=Ai(t);o&&(i+=s),o=[e[i],e[i+1]];var l,c=[NaN,NaN],u=!0;for(l=i+s;n>l;l+=s){c[0]=e[l],c[1]=e[l+1];var f=h[1],p=h[2],d=h[3],m=c[0],g=c[1],v=0;m<h[0]?v|=16:m>p&&(v|=4),f>g?v|=8:g>d&&(v|=2),0===v&&(v=1),f=v,f!==y?(u&&(t.coordinates[a++]=o[0],t.coordinates[a++]=o[1]),t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],u=!1):1===f?(t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],u=!1):u=!0,o[0]=c[0],o[1]=c[1];var y=f}return(r&&u||l===i+s)&&(t.coordinates[a++]=o[0],t.coordinates[a++]=o[1]),a}function Bi(t,e,i,n,s,r){for(var o=0,a=n.length;a>o;++o){var h=n[o];i=zi(t,e,i,h,s,!1,!1),r.push(i),i=h}return i}function Ci(t,e){t.G=[0,e,0],t.f.push(t.G),t.J=[0,e,0],t.a.push(t.J)}function wi(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Uc&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}function Ei(t,e,i){if(e&&5<e.length){var n=e[4];if(1==n||n==e.length-5){if(i={O:e[0],N:e[1],R:e[2],P:e[3],value:i},!t.Oa.ue(i))for(t.Oa.Y(i),i=5,n=e.length;n>i;++i){var s=e[i];s&&(11<s.length&&vi(t,s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Ah.apply(void 0,s))}e.length=5,Fa(e)}}}function Fi(t,e,i,n,s,r,o){if(t.da&&Sb(i,t.ha))var a=t.da;else t.da||(t.da=[]),a=qe(t.coordinates,0,t.coordinates.length,2,i,t.da),ve(t.ha,i);for(var h,l,c,u,f,p,d,m,g,v=!Wa(n),y=0,b=s.length,w=0,M=0,k=0,_=null,S=null,P=t.Ca,C=t.ea,E={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:C},T=t.f!=s||t.overlaps?0:200;b>y;){var j=s[y];switch(j[0]){case 0:var A=j[1];v&&n[x(A).toString()]||!A.S()?y=j[2]:void 0===o||Ra(o,A.S().C())?++y:y=j[2]+1;break;case 1:M>T&&(t.ma(e),M=0),k>T&&(e.stroke(),k=0),M||k||(e.beginPath(),u=f=NaN),++y;break;case 2:w=j[1];var N=a[w],L=a[w+1],D=a[w+2]-N,I=a[w+3]-L,O=Math.sqrt(D*D+I*I);e.moveTo(N+O,L),e.arc(N,L,O,0,2*Math.PI,!0),++y;break;case 3:e.closePath(),++y;break;case 4:w=j[1],h=j[2];var R=j[4],F=6==j.length?j[5]:void 0;E.geometry=j[3],E.feature=A,y in P||(P[y]=[]);var B=P[y];F?F(a,w,h,2,B):(B[0]=a[w],B[1]=a[w+1],B.length=2),R(B,E),++y;break;case 6:w=j[1],h=j[2],g=j[3],l=j[4],c=j[5],m=r?null:j[6];var q=j[7],U=j[8],$=j[9],G=j[10],z=j[11],V=j[12],H=j[13],W=j[14],X=j[15];if(16<j.length)var Y=j[16],J=j[17],Z=j[18];else Y=ph,J=Z=!1;for(z&&(V+=C);h>w;w+=2)xi(t,e,a[w],a[w+1],g,l,c,m,q,U,$,G,V,H,W,X,Y,J?_:null,Z?S:null);Ei(t,m,A),++y;break;case 5:var K=j[1],Q=j[2],tt=j[3];m=r?null:j[4];var et=j[5],it=j[6],nt=j[7],st=j[8],rt=j[9],ot=j[10],at=j[11],ht=j[12],lt=j[13],ct=j[14],ut=void 0,ft=a[K],pt=a[K+1],dt=0;for(ut=K+2;Q>ut;ut+=2){var mt=a[ut],gt=a[ut+1];dt+=Math.sqrt((mt-ft)*(mt-ft)+(gt-pt)*(gt-pt)),ft=mt,pt=gt}var vt=dt,yt=st(ht);if(et||vt>=yt){t:{var bt=void 0,xt=void 0,wt=void 0,Mt=a,kt=K,_t=Q,St=ht,Pt=st,Ct=(vt-yt)*ti[t.l[lt].textAlign],Et=nt,Tt=[],jt=Mt[kt]>Mt[_t-2],At=St.length,Nt=Mt[kt],Lt=Mt[kt+1];kt+=2;for(var Dt=Mt[kt],It=Mt[kt+1],Ot=0,Rt=Math.sqrt(Math.pow(Dt-Nt,2)+Math.pow(It-Lt,2)),Ft="",Bt=0,qt=0;At>qt;++qt){xt=jt?At-qt-1:qt;var Ut=St.charAt(xt);Ft=jt?Ut+Ft:Ft+Ut;var $t=Pt(Ft)-Bt;Bt+=$t;for(var Gt=Ct+$t/2;_t-2>kt&&Gt>Ot+Rt;)Nt=Dt,Lt=It,kt+=2,Dt=Mt[kt],It=Mt[kt+1],Ot+=Rt,Rt=Math.sqrt(Math.pow(Dt-Nt,2)+Math.pow(It-Lt,2));var zt=Gt-Ot,Vt=Math.atan2(It-Lt,Dt-Nt);if(jt&&(Vt+=Vt>0?-Math.PI:Math.PI),void 0!==bt){var Ht=Vt-bt;if(Ht+=Ht>Math.PI?-2*Math.PI:Ht<-Math.PI?2*Math.PI:0,Math.abs(Ht)>Et){var Wt=null;break t}}var Xt=zt/Rt,Yt=ta(Nt,Dt,Xt),Jt=ta(Lt,It,Xt);bt==Vt?(jt&&(wt[0]=Yt,wt[1]=Jt,wt[2]=$t/2),wt[4]=Ft):(Ft=Ut,Bt=$t,wt=[Yt,Jt,$t/2,Vt,Ft],jt?Tt.unshift(wt):Tt.push(wt),bt=Vt),Ct+=$t}Wt=Tt}if(Wt){var Zt;if(ot){var Kt=0;for(Zt=Wt.length;Zt>Kt;++Kt){var Qt=Wt[Kt],te=Qt[4],ee=t.W(te,lt,"",ot);l=Qt[2]+at,c=tt*ee.height+2*(.5-tt)*at-rt,xi(t,e,Qt[0],Qt[1],ee,l,c,m,ee.height,1,0,0,Qt[3],ct,!1,ee.width,ph,null,null)}}if(it)for(Kt=0,Zt=Wt.length;Zt>Kt;++Kt)Qt=Wt[Kt],te=Qt[4],ee=t.W(te,lt,it,""),l=Qt[2],c=tt*ee.height-rt,xi(t,e,Qt[0],Qt[1],ee,l,c,m,ee.height,1,0,0,Qt[3],ct,!1,ee.width,ph,null,null)}}Ei(t,m,A),++y;break;case 7:if(void 0!==r){A=j[1];var ie=r(A);if(ie)return ie}++y;break;case 8:T?M++:t.ma(e),++y;break;case 9:w=j[1],h=j[2];var ne=a[w],se=a[w+1];for(p=ne+.5|0,d=se+.5|0,(p!==u||d!==f)&&(e.moveTo(ne,se),u=p,f=d),w+=2;h>w;w+=2)ne=a[w],se=a[w+1],p=ne+.5|0,d=se+.5|0,(w==h-2||p!==u||d!==f)&&(e.lineTo(ne,se),u=p,f=d);++y;break;case 10:_=j,t.L=j[2],M&&(t.ma(e),M=0,k&&(e.stroke(),k=0)),e.fillStyle=j[1],++y;break;case 11:S=j,k&&(e.stroke(),k=0),wi(e,j),++y;break;case 12:T?k++:e.stroke(),++y;break;default:++y}}M&&t.ma(e),k&&e.stroke()}function Gi(t){var e=t.a;e.reverse();var i,n=e.length,s=-1;for(i=0;n>i;++i){var r=e[i],o=r[0];if(7==o)s=i;else if(0==o){for(r[2]=i,r=t.a,o=i;o>s;){var a=r[s];r[s]=r[o],r[o]=a,++s,--o}s=-1}}}function Hi(t,e,i,n){var s=e.fillStyle;("string"!=typeof s||e.ve!=s)&&(i.call(t,e,n),e.ve=s)}function Ii(t,e,i){var n=e.strokeStyle,s=e.lineCap,r=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,h=e.lineWidth,l=e.miterLimit;(e.Be!=n||e.we!=s||r!=e.kd&&!Sb(e.kd,r)||e.xe!=o||e.ye!=a||e.ze!=h||e.Ae!=l)&&(i.call(t,e),e.Be=n,e.we=s,e.kd=r,e.xe=o,e.ye=a,e.ze=h,e.Ae=l)}function Di(t,e){t.G[2]=t.f.length,t.G=null,t.J[2]=t.a.length,t.J=null,e=[7,e],t.f.push(e),t.a.push(e)}function Ai(t){return t.c||(t.c=Aa(t.Ga),0<t.$&&za(t.c,t.resolution*(t.$+1)/2,t.c)),t.c}function Ji(t,e,i,n,s,r){
ui.call(this,t,e,i,n,s,r),this.H=this.qa=this.B=null,this.A=this.K=this.s=this.l=this.u=this.v=this.V=this.j=this.g=this.b=this.i=void 0}function Ki(t,e,i,n,s,r){ui.call(this,t,e,i,n,s,r)}function Li(t,e,i,n,s){var r=t.coordinates.length;return e=zi(t,e,i,n,s,!1,!1),r=[9,r,e],t.f.push(r),t.a.push(r),n}function Mi(t,e,i,n,s,r){ui.call(this,t,e,i,n,s,r)}function Ni(t,e,i,n,s){var r=t.state,o=void 0!==r.fillStyle;r=void 0!=r.strokeStyle;var a=n.length,h=[1];for(t.f.push(h),t.a.push(h),h=0;a>h;++h){var l=n[h],c=t.coordinates.length;i=zi(t,e,i,l,s,!0,!r),i=[9,c,i],t.f.push(i),t.a.push(i),r&&(i=[3],t.f.push(i),t.a.push(i)),i=l}return e=[8],t.a.push(e),o&&t.f.push(e),r&&(o=[12],t.f.push(o),t.a.push(o)),i}function Oi(t,e){var i=t.state;void 0!==i.fillStyle&&Hi(t,i,t.ed,e),void 0!==i.strokeStyle&&Ii(t,i,t.gb)}function Pi(t,e,i,n,s,r){for(ui.call(this,t,e,i,n,s,r),this.ca="",this.u=this.V=0,this.v=void 0,this.B=0,this.b=null,this.K={},this.i=null,this.ia={},this.g={},this.l={},this.qa=this.s=this.j="",this.Aa={};kh(qh);)qh.pop()}function Ri(t,e,i,n){var s=t.g,r=t.i,o=t.pixelRatio,a=ti[s.textAlign||"center"],h=ti[s.textBaseline];r=r&&r.lineWidth?r.lineWidth:0,a=a*e.width/o+2*(.5-a)*r,h=h*e.height/o+2*(.5-h)*r,t.f.push([6,i,n,e,(a-t.V)*o,(h-t.u)*o,t.A,e.height,1,0,0,t.v,t.B,1,!0,e.width,s.padding==ph?ph:s.padding.map(function(t){return t*o}),!!s.backgroundFill,!!s.backgroundStroke]),t.a.push([6,i,n,e,(a-t.V)*o,(h-t.u)*o,t.A,e.height,1,0,0,t.v,t.B,1/o,!0,e.width,s.padding,!!s.backgroundFill,!!s.backgroundStroke])}function Qi(t,e,i,n){var s=t.i,r=t.g,o=t.b,a=t.qa;s&&(a in t.ia||(t.ia[a]={strokeStyle:s.strokeStyle,lineCap:s.lineCap,lineDashOffset:s.lineDashOffset,lineWidth:s.lineWidth,lineJoin:s.lineJoin,miterLimit:s.miterLimit,lineDash:s.lineDash}));var h=t.j;t.j in t.l||(t.l[t.j]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var l=t.s;o&&(l in t.K||(t.K[l]={fillStyle:o.fillStyle}));var c=t.pixelRatio;o=ti[r.textBaseline];var u=t.u*c,f=t.ca,p=r.font,d=r.scale;s=s?s.lineWidth*d/2:0;var m=t.Aa[p];m||(t.Aa[p]=m={}),t.f.push([5,e,i,o,n,r.overflow,l,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=xh(p,t)),e*d*c},u,a,s*c,f,h,1]),t.a.push([5,e,i,o,n,r.overflow,l,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=xh(p,t)),e*d},u,a,s,f,h,1/c])}function Si(t,e,i,n,s,r,o){this.f=r,this.b=null,this.K=t,this.i=e,this.u=s,this.l=n,this.s=i,this.c=o,this.a={},this.g=rf(1,1),this.j=se()}function Ui(t,e,i){var n,s=Math.floor(t.length/2);if(e>=s)for(n=s;e>n;n++)t[n][i]=!0;else if(s>e)for(n=e+1;s>n;n++)t[n][i]=!0}function Vi(t){if(void 0!==Ti[t])return Ti[t];for(var e=2*t+1,i=Array(e),n=0;e>n;n++)i[n]=Array(e);e=t;for(var s=n=0;e>=n;)Ui(i,t+e,t+n),Ui(i,t+n,t+e),Ui(i,t-n,t+e),Ui(i,t-e,t+n),Ui(i,t-e,t-n),Ui(i,t-n,t-e),Ui(i,t+n,t-e),Ui(i,t+e,t-n),n++,s+=1+2*n,2*(s-e)+1>0&&(--e,s+=1-2*e);return Ti[t]=i}function Wi(t,e){var i=null;return t.f&&(e?(i=t.b,i[4]++):(i=t.b=xa(),i.push(1))),i}function Xi(t){for(var e in t.a){var i,n=t.a[e];for(i in n)n[i].Tb()}}function Zi(t,e){var i=t.i;t=i[0];var n=i[1],s=i[2];return i=i[3],t=[t,n,t,i,s,i,s,n],qe(t,0,8,2,e,t),t}function $i(t,e,i){var n=void 0!==e?e.toString():"0";return e=t.a[n],void 0===e&&(e={},t.a[n]=e),n=e[i],void 0===n&&(n=new aj[i](t.K,t.i,t.s,t.l,t.u,t.f),e[i]=n),n}function Yi(t,e,i,n,s,r,o,a){var h=Object.keys(t.a).map(Number);h.sort(Pb);var l,c;for(l=h.length-1;l>=0;--l){var u=h[l].toString(),f=t.a[u];for(c=si.length-1;c>=0;--c){var p=si[c],d=f[p];if(void 0!==d)if(!a||"Image"!=p&&"Text"!=p){p=e;var m=i,g=s,v=r,y=o;if(d.ea=n,d=Fi(d,p,m,g,d.a,v,y))return d}else(p=a[u])?p.push(d,i.slice(0)):a[u]=[d,i.slice(0)]}}}function bj(t,e){return x(t)-x(e)}function cj(t,e){return t=.5*t/e,t*t}function dj(t,e,i,n,s,r){var o,a=!1;if(o=i.W()){var h=o.Ub();2==h||3==h?o.Zd(s,r):(0==h&&o.load(),o.yd(s,r),a=!0)}return(s=(0,i.tb)(e))&&(n=s.Lb(n),i.Gc()?ej(t,n,i,e):(0,fj[n.F()])(t,n,i,e)),a}function ej(t,e,i,n){if("GeometryCollection"==e.F()){e=$a(e.a);for(var s=0,r=e.length;r>s;++s)ej(t,e[s],i,n)}else $i(t,i.la(),"Default").ld(e,n,i.Gc())}function Df(t){$h.call(this,t),this.g=t.s?qi.$a(9):null,this.c=!1,this.A=-1,this.s=NaN,this.u=xa(),this.b=this.l=null,this.j=!0,this.context=rf(),B(qh,"clear",this.Id,this)}function Ef(t){this.context=null,Cf.call(this,t),this.s=t.s?qi.$a(9):null,this.A=!1,this.ea=se(),this.J="vector"==t.b?1:0,B(qh,"clear",this.Kd,this)}function M(t){if(t=Sa({},t),delete t.renderer,t.controls||(t.controls=Sf()),!t.interactions){var e=t,i={},n=new J,s=new Tf;(void 0!==i.altShiftDragRotate?i.altShiftDragRotate:1)&&n.push(new pg),(void 0!==i.doubleClickZoom?i.doubleClickZoom:1)&&n.push(new $f({delta:i.zoomDelta,duration:i.zoomDuration})),(void 0!==i.dragPan?i.dragPan:1)&&n.push(new lg({kinetic:s})),(void 0!==i.pinchRotate?i.pinchRotate:1)&&n.push(new Og),(void 0!==i.pinchZoom?i.pinchZoom:1)&&n.push(new Sg({constrainResolution:i.constrainResolution,duration:i.zoomDuration})),(void 0!==i.keyboard?i.keyboard:1)&&(n.push(new Gg),n.push(new Ig({delta:i.zoomDelta,duration:i.zoomDuration}))),(void 0!==i.mouseWheelZoom?i.mouseWheelZoom:1)&&n.push(new Kg({constrainResolution:i.constrainResolution,duration:i.zoomDuration})),(void 0!==i.shiftDragZoom?i.shiftDragZoom:1)&&n.push(new Fg({duration:i.zoomDuration})),e.interactions=n}Ff.call(this,t)}function lj(t){this.c=t.opacity,this.V=t.rotateWithView,this.l=t.rotation,this.b=t.scale,this.s=t.snapToPixel}function mj(t){this.A=this.u=this.f=null,this.ma=void 0!==t.fill?t.fill:null,this.da=[0,0],this.j=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.i=t.radius2,this.g=void 0!==t.angle?t.angle:0,this.pa=void 0!==t.stroke?t.stroke:null,this.v=this.G=this.B=null,this.K=t.atlasManager,nj(this,this.K),lj.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0})}function nj(t,e){var i="",n="",s=0,r=null,o=0,a=0;if(t.pa){var h=t.pa.a;null===h&&(h=oh),h=Gh(h),a=t.pa.b,void 0===a&&(a=1),r=t.pa.f,o=t.pa.g,Uc||(r=null,o=0),n=t.pa.j,void 0===n&&(n="round"),i=t.pa.c,void 0===i&&(i="round"),s=t.pa.u,void 0===s&&(s=10)}var l=2*(t.a+a)+1;if(i={strokeStyle:h,Yd:a,size:l,lineCap:i,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:s},void 0===e){var c=rf(l,l);t.u=c.canvas,e=l=t.u.width,t.od(i,c,0,0),t.ma?t.A=t.u:(c=rf(i.size,i.size),t.A=c.canvas,t.md(i,c,0,0))}else l=Math.round(l),(n=!t.ma)&&(c=t.md.bind(t,i)),t.pa?(s=t.pa,void 0===s.i&&(s.i="s",s.i=s.a?"string"==typeof s.a?s.i+s.a:s.i+x(s.a).toString():s.i+"-",s.i+=","+(void 0!==s.c?s.c.toString():"-")+","+(s.f?s.f.toString():"-")+","+(void 0!==s.g?s.g:"-")+","+(void 0!==s.j?s.j:"-")+","+(void 0!==s.u?s.u.toString():"-")+","+(void 0!==s.b?s.b.toString():"-")),s=s.i):s="-",t.ma?(r=t.ma,void 0===r.f&&(r.f=r.a instanceof CanvasPattern||r.a instanceof CanvasGradient?x(r.a).toString():"f"+(r.a?Dh(r.a):"-")),r=r.f):r="-",t.f&&s==t.f[1]&&r==t.f[2]&&t.a==t.f[3]&&t.i==t.f[4]&&t.g==t.f[5]&&t.j==t.f[6]||(t.f=["r"+s+r+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.i?t.i.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.j?t.j.toString():"-"),s,r,t.a,t.i,t.g,t.j]),c=e.add(t.f[0],l,l,t.od.bind(t,i),c),t.u=c.image,t.da=[c.offsetX,c.offsetY],e=c.image.width,t.A=n?c.a:t.u;t.B=[l/2,l/2],t.G=[l,l],t.v=[e,e]}function oj(t){t=t||{},mj.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function pj(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=void 0}function qj(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineDashOffset,this.j=t.lineJoin,this.u=t.miterLimit,this.b=t.width,this.i=void 0}function rj(t){t=t||{},this.Va=null,this.tb=sj,void 0!==t.geometry&&this.pb(t.geometry),this.ma=void 0!==t.fill?t.fill:null,this.H=void 0!==t.image?t.image:null,this.ab=void 0!==t.renderer?t.renderer:null,this.pa=void 0!==t.stroke?t.stroke:null,this.ca=void 0!==t.text?t.text:null,this.Mg=t.zIndex}function tj(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else y(t instanceof rj,41),e=[t];t=function(){return e}}return t}function vj(){if(!uj){var t=new pj({color:"rgba(255,255,255,0.4)"}),e=new qj({color:"#3399CC",width:1.25});uj=[new rj({image:new oj({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return uj}function wj(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new rj({fill:new pj({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new rj({stroke:new qj({color:e,width:5})}),new rj({stroke:new qj({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new rj({image:new oj({radius:6,fill:new pj({color:i}),stroke:new qj({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function sj(t){return t.S()}function N(t){D.call(this),this.b=void 0,this.a="geometry",this.g=null,this.j=void 0,this.c=null,B(this,Fc(this.a),this.Nb,this),void 0!==t&&(t instanceof ye||!t?this.pb(t):this.va(t))}function xj(t,e){rc(t,Fc(t.a),t.Nb,t),t.a=e,B(t,Fc(t.a),t.Nb,t),t.Nb()}function Xj(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var i=t;else y(t instanceof rj,41),i=[t];e=function(){return i}}return e}function O(t){D.call(this),t=t||{},this.a=null,this.c=Mb,this.g=new Xa(6378137),this.b=void 0,B(this,Fc("projection"),this.Nf,this),B(this,Fc("tracking"),this.nf,this),void 0!==t.projection&&this.Bd(t.projection),void 0!==t.trackingOptions&&this.Wd(t.trackingOptions),this.Zb(void 0!==t.tracking?t.tracking:!1)}function Yj(t,e,i,n,s){var r=NaN,o=NaN,a=(i-e)/n;if(1===a)r=t[e],o=t[e+1];else if(2==a)r=.5*t[e]+.5*t[e+n],o=.5*t[e+1]+.5*t[e+n+1];else if(0!==a){o=t[e],a=t[e+1];var h=0;r=[0];var l;for(l=e+n;i>l;l+=n){var c=t[l],u=t[l+1];h+=Math.sqrt((c-o)*(c-o)+(u-a)*(u-a)),r.push(h),o=c,a=u}for(i=.5*h,h=0,l=r.length,c=!1;l>h;)o=h+(l-h>>1),a=+Pb(r[o],i),0>a?h=o+1:(l=o,c=!a);o=c?h:~h,0>o?(i=(i-r[-o-2])/(r[-o-1]-r[-o-2]),e+=(-o-2)*n,r=ta(t[e],t[e+n],i),o=ta(t[e+1],t[e+n+1],i)):(r=t[e+o*n],o=t[e+o*n+1])}return s?(s[0]=r,s[1]=o,s):[r,o]}function Zj(t,e,i,n,s){if(0==e)return null;if(n<t[0+i-1])return s?(e=t.slice(0,0+i),e[i-1]=n,e):null;if(t[e-1]<n)return s?(e=t.slice(e-i,e),e[i-1]=n,e):null;if(n==t[0+i-1])return t.slice(0,0+i);for(s=0/i,e/=i;e>s;){var r=s+e>>1;n<t[(r+1)*i-1]?e=r:s=r+1}if(e=t[s*i-1],n==e)return t.slice((s-1)*i,(s-1)*i+i);r=(n-e)/(t[(s+1)*i-1]-e),e=[];var o;for(o=0;i-1>o;++o)e.push(ta(t[(s-1)*i+o],t[s*i+o],r));return e.push(n),e}function ak(t,e){ze.call(this),this.b=null,this.v=this.B=this.j=-1,this.ga(t,e)}function bk(t,e,i){Be(t,e,i),t.D()}function ck(t){t=t||{},this.f=t.font,this.g=t.rotation,this.c=t.rotateWithView,this.a=t.scale,this.ca=t.text,this.j=t.textAlign,this.u=t.textBaseline,this.ma=void 0!==t.fill?t.fill:new pj({color:"#333"}),this.l=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.K=void 0!==t.placement?t.placement:"point";var e=void 0===t.overflow?t.exceedLength:t.overflow;this.s=void 0!==e?e:!1,this.pa=void 0!==t.stroke?t.stroke:null,this.i=void 0!==t.offsetX?t.offsetX:0,this.b=void 0!==t.offsetY?t.offsetY:0,this.A=t.backgroundFill?t.backgroundFill:null,this.V=t.backgroundStroke?t.backgroundStroke:null,this.v=void 0===t.padding?null:t.padding}function dk(t,e,i){wc.call(this),i=i?i:{},this.ja=t,this.state=e,this.a=null,this.key="",this.b=void 0===i.transition?250:i.transition,this.u={}}function ek(t){t.f("change")}function ni(t){if(!t.a)return t;var e=t.a;do{if(2==e.state)return e;e=e.a}while(e);return t}function fk(t){if(t.a){var e=t.a;do{if(2==e.state){e.a=null;break}1==e.state?t=e:0==e.state?t.a=e.a:t=e,e=t.a}while(e)}}function mi(t){t.state=2,ek(t)}function oi(t,e,i){if(!t.b)return 1;var n=t.u[e];if(n){if(-1===n)return 1}else n=i,t.u[e]=n;return e=i-n+1e3/60,e>=t.b?1:Math.pow(e/t.b,3)}function gk(t,e,i,n,s,r){dk.call(this,t,e,r),this.c=n,this.g=i,this.H=new Image,null!==n&&(this.H.crossOrigin=n),this.i=null,this.j=s}function hk(t){t.i.forEach(z),t.i=null}function ik(){var t=rf(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function jk(){this.f=qi.$a(void 0),this.a={}}function kk(t,e,i){var n=t.a[x(i)];Ia([n.O,n.N,n.R,n.P],e)||(t.remove(i),t.Y(e,i))}function lk(t){return t.f.all().map(function(t){return t.value})}function mk(t,e){return t.f.search({O:e[0],N:e[1],R:e[2],P:e[3]}).map(function(t){return t.value})}function ok(t,e,i,n){return nk(mk(t,e),i,n)}function nk(t,e,i){for(var n,s=0,r=t.length;r>s&&!(n=e.call(i,t[s]));s++);return n}function pk(t){D.call(this),this.id=t.id,this.insertFirst=void 0!==t.insertFirst?t.insertFirst:!0,this.stopEvent=void 0!==t.stopEvent?t.stopEvent:!0,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan?t.autoPan:!1,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Hb:"",Qb:"",Xb:"",bc:"",visible:!0},this.b=null,B(this,Fc(qk),this.Ue,this),B(this,Fc(rk),this.$e,this),B(this,Fc(sk),this.af,this),B(this,Fc(tk),this.cf,this),B(this,Fc(uk),this.df,this),void 0!==t.element&&this.set(qk,t.element),this.Vd(void 0!==t.offset?t.offset:[0,0]),this.set(uk,void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Cd(t.position)}function wk(t,e){var i=t.getBoundingClientRect();return t=i.left+window.pageXOffset,i=i.top+window.pageYOffset,[t,i,t+e[0],i+e[1]]}function xk(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function vk(t){var e=t.get(rk),i=t.get(tk);if(e&&e.b&&i){i=e.ra(i);var n=e.kb();e=t.element.style;var s=t.get(sk),r=t.get(uk);xk(t,!0);var o=s[0];s=s[1],"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.Qb&&(t.a.Qb=e.left=""),o=Math.round(n[0]-i[0]-o)+"px",t.a.Xb!=o&&(t.a.Xb=e.right=o)):(""!==t.a.Xb&&(t.a.Xb=e.right=""),("bottom-center"==r||"center-center"==r||"top-center"==r)&&(o-=t.element.offsetWidth/2),o=Math.round(i[0]+o)+"px",t.a.Qb!=o&&(t.a.Qb=e.left=o)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.bc&&(t.a.bc=e.top=""),i=Math.round(n[1]-i[1]-s)+"px",t.a.Hb!=i&&(t.a.Hb=e.bottom=i)):(""!==t.a.Hb&&(t.a.Hb=e.bottom=""),("center-left"==r||"center-center"==r||"center-right"==r)&&(s-=t.element.offsetHeight/2),i=Math.round(i[1]+s)+"px",t.a.bc!=i&&(t.a.bc=e.top=i))}else xk(t,!1)}function yk(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Kf.call(this,{element:e,render:t.render?t.render:zk,target:t.target}),B(this,Fc(Ak),this.v,this),t.coordinateFormat&&this.set(Bk,t.coordinateFormat),t.projection&&this.set(Ak,Bb(t.projection)),this.B=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.j=e.innerHTML,this.g=this.c=this.a=null}function zk(t){t=t.frameState,t?this.a!=t.viewState.projection&&(this.a=t.viewState.projection,this.c=null):this.a=null,Ck(this,this.g)}function Ck(t,e){var i=t.B;if(e&&t.a){if(!t.c){var n=t.get(Ak);t.c=n?Db(t.a,n):Mb}(e=t.b.xa(e))&&(t.c(e,e),i=(i=t.get(Bk))?i(e):e.toString())}t.j&&i==t.j||(t.element.innerHTML=i,t.j=i)}function Dk(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.g=document.createElement("DIV"),this.g.className=e+"-inner",this.a=document.createElement("DIV"),this.a.className=e+" ol-unselectable",this.a.appendChild(this.g),this.s=null,this.j=void 0!==t.minWidth?t.minWidth:64,this.c=!1,this.v=void 0,this.A="",Kf.call(this,{element:this.a,render:t.render?t.render:Ek,target:t.target}),B(this,Fc(Fk),this.B,this),this.set(Fk,t.units||"metric")}function Ek(t){(t=t.frameState)?this.s=t.viewState:this.s=null,Hk(this)}function Hk(t){var e=t.s;if(e){var i=e.center,n=e.projection,s=t.get(Fk);e=Ab(n,e.resolution,i,"degrees"==s?"degrees":"m"),"degrees"!=s&&(e*=hb(n));var r=t.j*e;for(i="","degrees"==s?(i=eb.degrees,"degrees"==n.a?r*=i:e/=i,i/60>r?(i="″",e*=3600):i>r?(i="′",e*=60):i="°"):"imperial"==s?.9144>r?(i="in",e/=.0254):1609.344>r?(i="ft",e/=.3048):(i="mi",e/=1609.344):"nautical"==s?(e/=1852,i="nm"):"metric"==s?.001>r?(i="μm",e*=1e6):1>r?(i="mm",e*=1e3):1e3>r?i="m":(i="km",e/=1e3):"us"==s?.9144>r?(i="in",e*=39.37):1609.344>r?(i="ft",e/=.30480061):(i="mi",e/=1609.3472):y(!1,33),s=3*Math.floor(Math.log(t.j*e)/Math.log(10));;){if(r=Gk[(s%3+3)%3]*Math.pow(10,Math.floor(s/3)),n=Math.round(r/e),isNaN(n))return t.a.style.display="none",void(t.c=!1);if(n>=t.j)break;++s}e=r+" "+i,t.A!=e&&(t.g.innerHTML=e,t.A=e),t.v!=n&&(t.g.style.width=n+"px",t.v=n),t.c||(t.a.style.display="",t.c=!0)}else t.c&&(t.a.style.display="none",t.c=!1)}function Jk(t){return Kk(t,!1,[]).join("")}function Kk(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Kk(t,e,i);return i}function Lk(t){return(new DOMParser).parseFromString(t,"application/xml")}function Mk(t){return function(e,i){e=t.call(this,e,i),void 0!==e&&i[i.length-1].push(e)}}function Nk(t){return function(e,i){e=t.call(this,e,i),void 0!==e&&(i[i.length-1]=e)}}function Ok(t){return function(e,i){var n=t.call(this,e,i);if(void 0!==n){i=i[i.length-1],e=e.localName;var s;s=e in i?i[e]:i[e]=[],s.push(n)}}}function P(t,e){return function(i,n){var s=t.call(this,i,n);void 0!==s&&(n[n.length-1][void 0!==e?e:i.localName]=s)}}function S(t){return function(e,i,n){t.call(this,e,i,n),n[n.length-1].node.appendChild(e)}}function Pk(t){var e,i;return function(n,s,r){if(void 0===e){e={};var o={};o[n.localName]=t,e[n.namespaceURI]=o,i=Qk(n.localName)}Rk(e,i,s,r)}}function Qk(t){return function(e,i,n){return e=i[i.length-1].node,i=t,void 0===i&&(i=n),Ik.createElementNS(e.namespaceURI,i)}}function Tk(t,e){for(var i=e.length,n=Array(i),s=0;i>s;++s)n[s]=t[e[s]];return n}function U(t,e,i){i=void 0!==i?i:{};var n,s=0;for(n=t.length;n>s;++s)i[t[s]]=e;return i}function Uk(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var s=t[e.namespaceURI];void 0!==s&&(s=s[e.localName],void 0!==s&&s.call(n,e,i))}}function V(t,e,i,n){return n.push(t),Uk(e,i,n,void 0),n.pop()}function Rk(t,e,i,n,s,r){for(var o,a,h=(void 0!==s?s:i).length,l=0;h>l;++l)o=i[l],void 0!==o&&(a=e.call(r,o,n,void 0!==s?s[l]:void 0),void 0!==a&&t[a.namespaceURI][a.localName].call(r,a,o,n))}function Vk(t,e,i,n,s,r,o){s.push(t),Rk(e,i,n,s,r,o),s.pop()}function Wk(t,e,i){return function(n,s,r){var o=new XMLHttpRequest;o.open("GET","function"==typeof t?t(n,s,r):t,!0),"arraybuffer"==e.F()&&(o.responseType="arraybuffer"),o.onload=function(){if(!o.status||200<=o.status&&300>o.status){var t=e.F();if("json"==t||"text"==t)var n=o.responseText;else"xml"==t?(n=o.responseXML)||(n=Lk(o.responseText)):"arraybuffer"==t&&(n=o.response);n&&i.call(this,e.zb(n,{featureProjection:r}),e.Mc(n),null)}}.bind(this),o.onerror=function(){}.bind(this),o.send()}}function Xk(t,e){return Wk(t,e,function(t){this.lc(t)})}function Yk(){this.a=this.defaultDataProjection=null}function Zk(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.Mc(e),featureProjection:i.featureProjection}),$k(t,n)}function $k(t,e){return Sa({dataProjection:t.defaultDataProjection,featureProjection:t.a},e)}function al(t,e,i){var n,s=i?Bb(i.featureProjection):null,r=i?Bb(i.dataProjection):null;if(n=s&&r&&!Kb(s,r)?t instanceof ye?(e?t.clone():t).Ya(e?s:r,e?r:s):Ob(t,r,s):t,e&&i&&void 0!==i.decimals){var o=Math.pow(10,i.decimals);n===t&&(n=n.clone()),n.sb(function(t){for(var e=0,i=t.length;i>e;++e)t[e]=Math.round(t[e]*o)/o;return t})}return n}function bl(){Yk.call(this)}function cl(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function el(t,e){ze.call(this),this.b=[],this.j=this.v=-1,this.ga(t,e)}function gl(t){var e=t.o,i=t.b;t=t.U;var n,s=[],r=0,o=0;for(n=i.length;n>o;++o){var a=i[o],h=new ak(null);bk(h,t,e.slice(r,a)),s.push(h),r=a}return s}function fl(t,e,i,n){Be(t,e,i),t.b=n,t.D()}function hl(t,e){var i,n=t.U,s=[],r=[],o=0;for(i=e.length;i>o;++o){var a=e[o];0===o&&(n=a.U),Rb(s,a.X()),r.push(s.length)}fl(t,n,s,r)}function il(t,e){ze.call(this),this.ga(t,e)}function jl(t,e){ze.call(this),this.b=[],this.v=-1,this.B=null,this.L=this.G=this.J=-1,this.j=null,this.ga(t,e)}function Qh(t){if(t.v!=t.i){var e,i=t.o,n=t.b,s=t.a,r=0,o=[],a=0;for(e=n.length;e>a;++a){var h=n[a];r=Ha(i,r,h[0],s),o.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=h[h.length-1]}for(i=Ph(t),n=t.b,s=t.a,a=0,e=[],h=0,r=n.length;r>h;++h){var l=n[h];e=Te(i,a,l,s,o,2*h,e),a=l[l.length-1]}t.B=e,t.v=t.i}return t.B}function Ph(t){if(t.L!=t.i){var e=t.o;t:{var i,n=t.b,s=0;for(i=n.length;i>s;++s)if(!Ve(e,n[s],t.a,void 0)){n=!1;break t}n=!0}n?t.j=e:(t.j=e.slice(),t.j.length=cf(t.j,t.b,t.a)),t.L=t.i}return t.j}function kl(t,e,i,n){Be(t,e,i),t.b=n,t.D()}function ll(){this.b=new XMLSerializer,Yk.call(this)}function ml(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Rb(n,t.i(e,i));return n}function nl(t){return t=Jk(t),pl(t)}function pl(t){return(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))?void 0!==t[1]||!1:void 0}function ql(t){return t=Jk(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function W(t){return t=Jk(t),rl(t)}function rl(t){return(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))?parseFloat(t[1]):void 0}function sl(t){return t=Jk(t),tl(t)}function tl(t){return(t=/^\s*(\d+)\s*$/.exec(t))?parseInt(t[1],10):void 0}function X(t){return Jk(t).trim()}function ul(t,e){Y(t,e?"1":"0")}function vl(t,e){t.appendChild(Ik.createTextNode(e.toPrecision()))}function wl(t,e){t.appendChild(Ik.createTextNode(e.toString()))}function Y(t,e){t.appendChild(Ik.createTextNode(e))}function xl(t){t=t?t:{},ll.call(this),this.defaultDataProjection=Bb("EPSG:4326"),this.f=t.readExtensions}function zl(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function Al(t,e,i){var n="XY",s=2;if(t.hasZ&&t.hasM?(n="XYZM",s=4):t.hasZ?(n="XYZ",s=3):t.hasM&&(n="XYM",s=3),4!==s){var r,o=0;for(r=e.length/4;r>o;o++)e[o*s]=e[4*o],e[o*s+1]=e[4*o+1],t.hasZ&&(e[o*s+2]=e[4*o+2]),t.hasM&&(e[o*s+2]=e[4*o+3]);if(e.length=e.length/4*s,i)for(o=0,r=i.length;r>o;o++)i[o]=i[o]/4*s}return n}function Bl(t,e){var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),Uk(Cl,t,e)}function Dl(t,e){e[e.length-1].extensionsNode_=t}function Ll(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,Vk({node:t},Ml,Sk,[e.linkText,e.linkType],i,Nl)}function Ol(t,e,i){var n=i[i.length-1],s=n.node.namespaceURI,r=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}e="rtept"==t.nodeName?Pl[s]:Ql[s],n=Tk(r,e),Vk({node:t,properties:r},Rl,Sk,n,i,e)}function Zl(t,e){return(t=t.S())&&(t=Yl[t.F()])?Ik.createElementNS(e[e.length-1].node.namespaceURI,t):void 0}function am(t){ye.call(this),this.a=t?t:null,bm(this)}function $a(t){var e,i=[],n=0;for(e=t.length;e>n;++n)i.push(t[n].clone());return i}function cm(t){var e;if(t.a){var i=0;for(e=t.a.length;e>i;++i)rc(t.a[i],"change",t.D,t)}}function bm(t){var e;if(t.a){var i=0;for(e=t.a.length;e>i;++i)B(t.a[i],"change",t.D,t)}}function dm(t){t=t?t:{},Yk.call(this),this.defaultDataProjection=Bb(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.a=Bb(t.featureProjection)),this.f=t.geometryName,this.b=t.extractGeometryName}function em(t,e){return t?al((0,fm[t.type])(t),!1,e):null}function gm(t,e){return(0,hm[t.F()])(al(t,!0,e),e)}function dl(t,e,i){e="Feature"===e.type?e:{type:"Feature",geometry:e},i=em(e.geometry,i);var n=new N;return t.f?xj(n,t.f):t.b&&void 0!==e.geometry_name&&xj(n,e.geometry_name),n.pb(i),void 0!==e.id&&n.Qc(e.id),e.properties&&n.va(e.properties),n}function im(t,e,i){i=$k(t,i),t={type:"Feature"};var n=e.b;return void 0!==n&&(t.id=n),(n=e.S())?t.geometry=gm(n,i):t.geometry=null,i=e.Ma(),delete i[e.a],Wa(i)?t.properties=null:t.properties=i,t}function jm(t,e,i,n,s,r){wc.call(this),this.j=null,this.H=t?t:new Image,null!==n&&(this.H.crossOrigin=n),this.b=r?document.createElement("CANVAS"):null,this.g=r,this.c=null,this.i=s,this.a=i,this.u=e,this.l=!1,2==this.i&&km(this)}function km(t){var e=rf(1,1);try{e.drawImage(t.H,0,0),e.getImageData(0,0,1,1)}catch(i){t.l=!0}}function lm(t){t=t||{},this.g=void 0!==t.anchor?t.anchor:[.5,.5],this.u=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.v=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.G=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;y(!(void 0!==n&&e),4),y(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||x(e).toString()),y(void 0!==n&&0<n.length,6);var s=void 0!==t.src?0:2;if(void 0!==t.color){var r=t.color;r=Array.isArray(r)?r:Fh(r)}else r=null;this.j=r,r=this.G;var o=this.j,a=fi.get(n,r,o);a||(a=new jm(e,n,i,r,s,o),fi.set(n,r,o,a)),this.a=a,this.da=void 0!==t.offset?t.offset:[0,0],this.i=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.K=null,this.A=void 0!==t.size?t.size:null,lj.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1})}function om(t){return t=Jk(t),(t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))?(t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]):void 0}function pm(t){t=Jk(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""===t?i:void 0}function qm(t){var e=Jk(t).trim();return t=t.baseURI,t&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function rm(t){return W(t)}function sm(t,e){return V(null,tm,t,e)}function um(t,e){if(e=V({o:[],ce:[]},vm,t,e)){t=e.o,e=e.ce;var i,n=0;for(i=Math.min(t.length,e.length);i>n;++n)t[4*n+3]=e[n];return e=new ak(null),bk(e,"XYZM",t),e}}function wm(t,e){var i=V({},xm,t,e);return(t=V(null,ym,t,e))?(e=new ak(null),bk(e,"XYZ",t),e.va(i),e):void 0}function zm(t,e){var i=V({},xm,t,e);return(t=V(null,ym,t,e))?(e=new df(null),ef(e,"XYZ",t,[t.length]),e.va(i),e):void 0}function Am(t,e){if(t=V([],Bm,t,e),!t)return null;if(0===t.length)return new am(t);var i,n=!0,s=t[0].F(),r=1;for(i=t.length;i>r;++r)if(e=t[r],e.F()!=s){n=!1;break}if(n)if("Point"==s){var o=t[0];for(n=o.U,s=o.X(),r=1,i=t.length;i>r;++r)e=t[r],Rb(s,e.X());e=o=new il(null),Be(e,n,s),e.D(),Cm(o,t)}else if("LineString"==s)o=new el(null),hl(o,t),Cm(o,t);else if("Polygon"==s){e=o=new jl(null),r=e.U,i=[],n=[];var a;for(s=0,a=t.length;a>s;++s){var h=t[s];0===s&&(r=h.U);var l,c=i.length,u=h.Da(),f=0;for(l=u.length;l>f;++f)u[f]+=c;Rb(i,h.X()),n.push(u)}kl(e,r,i,n),Cm(o,t)}else"GeometryCollection"==s?o=new am(t):y(!1,37);else o=new am(t);return o}function Dm(t,e){var i=V({},xm,t,e);return(t=V(null,ym,t,e))?(e=new Re(null),Be(e,"XYZ",t),e.D(),e.va(i),e):void 0}function Em(t,e){var i=V({},xm,t,e);if((t=V([null],Fm,t,e))&&t[0]){e=new df(null);var n,s=t[0],r=[s.length],o=1;for(n=t.length;n>o;++o)Rb(s,t[o]),r.push(s.length);return ef(e,"XYZ",s,r),e.va(i),e}}function Gm(t,e){if(e=V({},Hm,t,e),!e)return null;t="fillStyle"in e?e.fillStyle:void 0;var i=e.fill;void 0===i||i||(t=null),i="imageStyle"in e?e.imageStyle:void 0,void 0==i&&(i=void 0);var n="textStyle"in e?e.textStyle:void 0,s="strokeStyle"in e?e.strokeStyle:void 0;return e=e.outline,void 0===e||e||(s=null),[new rj({fill:t,image:i,stroke:s,text:n,zIndex:void 0})]}function Cm(t,e){var i,n,s,r=e.length,o=Array(e.length),a=Array(e.length),h=Array(e.length),l=n=s=!1;for(i=0;r>i;++i){var c=e[i];o[i]=c.get("extrude"),a[i]=c.get("tessellate"),h[i]=c.get("altitudeMode"),l=l||void 0!==o[i],n=n||void 0!==a[i],s=s||h[i]}l&&t.set("extrude",o),n&&t.set("tessellate",a),s&&t.set("altitudeMode",h)}function Im(t,e){Uk(Jm,t,e)}function Km(t,e){Uk(Lm,t,e)}function an(t,e){e=Array.isArray(e)?e:Fh(e),e=[255*(4==e.length?e[3]:1),e[2],e[1],e[0]];var i;for(i=0;4>i;++i){var n=parseInt(e[i],10).toString(16);e[i]=1==n.length?"0"+n:n}Y(t,e.join(""))}function bn(t,e,i){t={node:t};var n=e.F();if("GeometryCollection"==n)var s=$a(e.a),r=pn;else if("MultiPoint"==n){s=e.o,r=e.U,e=e.a,n=[];var o,a=0;for(o=s.length;o>a;a+=e){var h=new Re(null),l=h;Be(l,r,s.slice(a,a+e)),l.D(),n.push(h)}s=n,r=qn}else if("MultiLineString"==n)s=gl(e),r=rn;else if("MultiPolygon"==n){s=e.U,r=e.o,e=e.b,n=[],a=0;var c;for(o=0,h=e.length;h>o;++o){l=e[o].slice();var u=l[l.length-1];if(0!==a){var f=0;for(c=l.length;c>f;++f)l[f]-=a}f=new df(null),ef(f,s,r.slice(a,u),l),n.push(f),a=u}s=n,r=sn}else y(!1,39);Vk(t,tn,r,s,i)}function un(t,e,i){Vk({node:t},vn,wn,[e],i)}function xn(t,e,i){var n={node:t};e.b&&t.setAttribute("id",e.b),t=e.Ma();var s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[e.a]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!s[t]});if(0<r.length){var o=Tk(t,r);Vk(n,yn,zn,[{names:r,values:o}],i)}(r=e.Sa())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.f&&(t.Style=r),(r=r.sa())&&(t.name=r.sa())),r=An[i[i.length-1].node.namespaceURI],t=Tk(t,r),Vk(n,yn,Sk,t,i,r),t=i[0],(e=e.S())&&(e=al(e,!0,t)),Vk(n,yn,pn,[e],i)}function Bn(t,e,i){var n=e.X();t={node:t},t.layout=e.U,t.stride=e.Z(),e=e.Ma(),e.coordinates=n,n=Cn[i[i.length-1].node.namespaceURI],e=Tk(e,n),Vk(t,Dn,Sk,e,i,n)}function En(t,e,i){var n=e.U,s=e.o,r=e.b;e=[];var o,a=0,h=0;for(o=r.length;o>h;++h){var l=r[h],c=new Qe(null),u=c;Be(u,n,s.slice(a,l)),u.D(),e.push(c),a=l}n=e.shift(),t={node:t},Vk(t,Fn,Gn,e,i),Vk(t,Fn,Hn,[n],i)}function In(t,e){vl(t,Math.round(1e6*e)/1e6)}function Qn(t,e,i){return Ik.createElementNS(mm[0],"gx:"+i)}function Kn(t,e){return Ik.createElementNS(e[e.length-1].node.namespaceURI,"Placemark")}function pn(t,e){return t?Ik.createElementNS(e[e.length-1].node.namespaceURI,Mn[t.F()]):void 0}function ao(t,e,i,n){this.g=t,this.a=e,this.f=this.b=null,this.i=i,this.u=n,this.j=se()}function bo(t,e){e[e.length-1].ac[t.getAttribute("k")]=t.getAttribute("v")}function go(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function ho(t,e){return V({},io,t,e)}function jo(t,e){return V({},ko,t,e)}function lo(t,e){return(e=ho(t,e))?(t=[tl(t.getAttribute("width")),tl(t.getAttribute("height"))],e.size=t,e):void 0}function mo(t,e){return V([],no,t,e)}function Qo(t){var e=X(t).split(" ");return!e||2!=e.length||(t=+e[0],e=+e[1],isNaN(t)||isNaN(e))?void 0:[t,e]}function cp(t,e,i){if(ze.call(this),e=e?e:0,t){Ce(this,i,t,0),this.o||(this.o=[]),i=this.o,t=Ie(i,t),i[t++]=i[0]+e;var n;for(e=1,n=this.a;n>e;++e)i[t++]=i[e];i.length=t}else Be(this,"XY",null);this.D()}function dp(t){t=t?t:{},Wf.call(this,{handleEvent:oe}),this.c=t.formatConstructors?t.formatConstructors:[],this.j=t.projection?Bb(t.projection):null,this.a=null,this.b=t.source||null,this.target=t.target?t.target:null}function ep(t){t=t.dataTransfer.files;var e,i=0;for(e=t.length;e>i;++i){var n=t.item(i),s=new FileReader;s.addEventListener("load",this.g.bind(this,n)),s.readAsText(n)}}function fp(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function ip(t){var e=t.A;e&&(e=t.target?t.target:e.a,t.a=[B(e,"drop",ep,t),B(e,"dragenter",fp,t),B(e,"dragover",fp,t),B(e,"drop",fp,t)])}function jp(t){t.a&&(t.a.forEach(z),t.a=null)}function gp(t,e,i,n){uc.call(this,t),this.features=i,this.file=e,this.projection=n}function kp(t){t=t?t:{};var e=Sa({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Mf.call(this,e),this.s=void 0!==t.declutter?t.declutter:!1,this.j=void 0!==t.renderBuffer?t.renderBuffer:100,
this.v=null,this.A=void 0,e=t.style,this.v=void 0!==e?e:vj,this.A=null===e?void 0:tj(this.v),this.D(),this.B=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1,this.G=void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1,this.b=t.renderMode||"vector",this.type="VECTOR"}function lp(){return[[-(1/0),-(1/0),1/0,1/0]]}function mp(t){D.call(this),this.j=Bb(t.projection),this.$=np(t.attributions),this.ea=t.logo,this.ha=void 0!==t.state?t.state:"ready",this.A=void 0!==t.wrapX?t.wrapX:!1}function np(t){if(!t)return null;if(t instanceof lc)return function(){return[t.xd]};if(Array.isArray(t)){if(t[0]instanceof lc){var e=t.map(function(t){return t.xd});return function(){return e}}return t.map(function(t){return new lc({html:t})}),function(){return t}}return"function"==typeof t?t:function(){return[t]}}function op(t){t=t||{},mp.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.v=ha,this.B=t.format,this.L=void 0==t.overlaps?!0:t.overlaps,this.J=t.url,void 0!==t.loader?this.v=t.loader:void 0!==this.J&&(y(this.B,7),this.v=Xk(this.J,this.B)),this.ia=void 0!==t.strategy?t.strategy:lp;var e=void 0!==t.useSpatialIndex?t.useSpatialIndex:!0;if(this.a=e?new jk:null,this.G=new jk,this.b={},this.g={},this.l={},this.s={},this.c=null,t.features instanceof J)var i=t.features,n=i.a;else Array.isArray(t.features)&&(n=t.features);e||void 0!==i||(i=new J(n)),void 0!==n&&pp(this,n),void 0!==i&&qp(this,i)}function sp(t,e,i){t.s[e]=[B(i,"change",t.Nd,t),B(i,"propertychange",t.Nd,t)]}function rp(t,e,i){var n=!0,s=i.b;return void 0!==s?s.toString()in t.g?n=!1:t.g[s.toString()]=i:(y(!(e in t.l),30),t.l[e]=i),n}function pp(t,e){var i,n=[],s=[],r=[],o=0;for(i=e.length;i>o;o++){var a=e[o],h=x(a).toString();rp(t,h,a)&&s.push(a)}for(o=0,i=s.length;i>o;o++)a=s[o],h=x(a).toString(),sp(t,h,a),(e=a.S())?(h=e.C(),n.push(h),r.push(a)):t.b[h]=a;for(t.a&&t.a.load(n,r),o=0,i=s.length;i>o;o++)t.f(new tp("addfeature",s[o]))}function qp(t,e){var i=!1;B(t,"addfeature",function(t){i||(i=!0,e.push(t.feature),i=!1)}),B(t,"removefeature",function(t){i||(i=!0,e.remove(t.feature),i=!1)}),B(e,"add",function(t){i||(i=!0,this.fb(t.element),i=!1)},t),B(e,"remove",function(t){i||(i=!0,this.La(t.element),i=!1)},t),t.c=e}function ij(t,e,i,n){t.a?ok(t.a,e,i,n):t.c&&t.c.forEach(i,n)}function hj(t,e,i,n){var s=t.G;e=t.ia(e,i);var r,o=0;for(r=e.length;r>o;++o){var a=e[o];ok(s,a,function(t){return Ca(t.extent,a)})||(t.v.call(t,a,i,n),s.Y(a,{extent:a.slice()}))}}function up(t,e){for(var i in t.g)if(t.g[i]===e){delete t.g[i];break}}function tp(t,e){uc.call(this,t),this.feature=e}function vp(t){if(ig.call(this,{handleDownEvent:wp,handleDragEvent:xp,handleEvent:yp,handleUpEvent:zp}),this.fe=t.condition?t.condition:hg,this.Ga=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey&&"singleclick"==t.type},this.Ha=t.deleteCondition?t.deleteCondition:this.Ga,this.gc=t.insertVertexCondition?t.insertVertexCondition:oe,this.Ca=this.b=null,this.Aa=[0,0],this.v=this.J=!1,this.a=new jk,this.ha=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.j=this.ia=!1,this.g=[],this.B=new kp({source:new op({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:Ap(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ea={Point:this.bg,LineString:this.Ed,LinearRing:this.Ed,Polygon:this.cg,MultiPoint:this.$f,MultiLineString:this.Zf,MultiPolygon:this.ag,Circle:this.Xf,GeometryCollection:this.Yf},this.$=null,t.source?(this.$=t.source,t=new J(this.$.Kc()),B(this.$,"addfeature",this.gf,this),B(this.$,"removefeature",this.kf,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.l=t,this.l.forEach(this.kc,this),B(this.l,"add",this.Vf,this),B(this.l,"remove",this.Wf,this),this.L=null}function Cp(t,e){t.v||(t.v=!0,t.f(new Dp("modifystart",t.l,e)))}function Ep(t,e){Fp(t,e),t.b&&0===t.l.Wa()&&(t.B.fa().La(t.b),t.b=null),rc(e,"change",t.Dd,t)}function Fp(t,e){t=t.a;var i=[];t.forEach(function(t){e===t.feature&&i.push(t)});for(var n=i.length-1;n>=0;--n)t.remove(i[n])}function Gp(t,e){var i=t.b;i?i.S().ga(e):(i=new N(new Re(e)),t.b=i,t.B.fa().fb(i))}function Hp(t,e){return t.index-e.index}function wp(t){if(!this.fe(t))return!1;Bp(this,t.pixel,t.map);var e=t.map.xa(t.pixel);this.g.length=0,this.v=!1;var i=this.b;if(i){var n=[];i=i.S().I();var s=wa([i]);s=mk(this.a,s);var r={};s.sort(Hp);for(var o=0,a=s.length;a>o;++o){var h=s[o],l=h.M,c=x(h.feature),u=h.depth;u&&(c+="-"+u.join("-")),r[c]||(r[c]=Array(2)),"Circle"===h.geometry.F()&&1===h.index?(l=Ip(e,h),$d(l,i)&&!r[c][0]&&(this.g.push([h,0]),r[c][0]=h)):$d(l[0],i)&&!r[c][0]?(this.g.push([h,0]),r[c][0]=h):$d(l[1],i)&&!r[c][1]?("LineString"!==h.geometry.F()&&"MultiLineString"!==h.geometry.F()||!r[c][0]||0!==r[c][0].index)&&(this.g.push([h,1]),r[c][1]=h):this.gc(t)&&x(l)in this.Ca&&!r[c][0]&&!r[c][1]&&n.push([h,i])}for(n.length&&Cp(this,t),t=n.length-1;t>=0;--t)this.rf.apply(this,n[t])}return!!this.b}function xp(t){this.J=!1,Cp(this,t),t=t.coordinate;for(var e=0,i=this.g.length;i>e;++e){var n=this.g[e],s=n[0],r=s.depth,o=s.geometry,a=s.M;for(n=n[1];t.length<o.Z();)t.push(a[n][t.length]);switch(o.F()){case"Point":var h=t;a[0]=a[1]=t;break;case"MultiPoint":h=o.I(),h[s.index]=t,a[0]=a[1]=t;break;case"LineString":h=o.I(),h[s.index+n]=t,a[n]=t;break;case"MultiLineString":h=o.I(),h[r[0]][s.index+n]=t,a[n]=t;break;case"Polygon":h=o.I(),h[r[0]][s.index+n]=t,a[n]=t;break;case"MultiPolygon":h=o.I(),h[r[1]][r[0]][s.index+n]=t,a[n]=t;break;case"Circle":a[0]=a[1]=t,0===s.index?(this.j=!0,o.Ba(t)):(this.j=!0,o.Rc(ce(o.ba(),t))),this.j=!1}h&&(s=o,r=h,this.j=!0,s.ga(r),this.j=!1)}Gp(this,t)}function zp(t){for(var e,i,n=this.g.length-1;n>=0;--n)if(e=this.g[n][0],i=e.geometry,"Circle"===i.F()){var s=i.ba(),r=e.zc[0];e=e.zc[1],r.M[0]=r.M[1]=s,e.M[0]=e.M[1]=s,kk(this.a,Ga(s),r),kk(this.a,i.C(),e)}else kk(this.a,wa(e.M),e);return this.v&&(this.f(new Dp("modifyend",this.l,t)),this.v=!1),!1}function yp(t){if(!(t instanceof $c))return!0;if(this.L=t,0<t.map.T().a[1]||"pointermove"!=t.type||this.s||(this.Aa=t.pixel,Bp(this,t.pixel,t.map)),this.b&&this.Ha(t)){if("singleclick"==t.type&&this.J)var e=!0;else if(this.L&&"pointerdrag"!=this.L.type){var i=this.L;Cp(this,i);var n,s,r=this.g,o={};for(s=r.length-1;s>=0;--s){var a=r[s],h=a[0];e=x(h.feature),h.depth&&(e+="-"+h.depth.join("-")),e in o||(o[e]={}),0===a[1]?(o[e].right=h,o[e].index=h.index):1==a[1]&&(o[e].left=h,o[e].index=h.index+1)}for(e in o){var l=o[e].right,c=o[e].left;s=o[e].index;var u=s-1;h=void 0!==c?c:l,0>u&&(u=0),a=h.geometry;var f=n=a.I(),p=!1;switch(a.F()){case"MultiLineString":2<n[h.depth[0]].length&&(n[h.depth[0]].splice(s,1),p=!0);break;case"LineString":2<n.length&&(n.splice(s,1),p=!0);break;case"MultiPolygon":f=f[h.depth[1]];case"Polygon":f=f[h.depth[0]],4<f.length&&(s==f.length-1&&(s=0),f.splice(s,1),p=!0,0===s&&(f.pop(),f.push(f[0]),u=f.length-1))}p&&(p=a,this.j=!0,p.ga(n),this.j=!1,n=[],void 0!==c&&(this.a.remove(c),n.push(c.M[0])),void 0!==l&&(this.a.remove(l),n.push(l.M[1])),void 0!==c&&void 0!==l&&(c={depth:h.depth,feature:h.feature,geometry:h.geometry,index:u,M:n},this.a.Y(wa(c.M),c)),Jp(this,a,s,h.depth,-1),this.b&&(this.B.fa().La(this.b),this.b=null),r.length=0)}this.f(new Dp("modifyend",this.l,i)),this.v=!1,e=!0}else e=!1;i=e}return"singleclick"==t.type&&(this.J=!1),jg.call(this,t)&&!i}function Bp(t,e,i){function n(t,e){return Kp(s,t)-Kp(s,e)}var s=i.xa(e),r=za(Ga(s),i.T().ua()*t.ha);if(r=mk(t.a,r),0<r.length){r.sort(n);var o=r[0],a=o.M,h=Ip(s,o),l=i.ra(h),c=ce(e,l);if(c<=t.ha){if(e={},"Circle"===o.geometry.F()&&1===o.index)t.ia=!0,Gp(t,h);else for(c=i.ra(a[0]),o=i.ra(a[1]),i=be(l,c),l=be(l,o),c=Math.sqrt(Math.min(i,l)),t.ia=c<=t.ha,t.ia&&(h=i>l?a[1]:a[0]),Gp(t,h),l=1,i=r.length;i>l&&(h=r[l].M,$d(a[0],h[0])&&$d(a[1],h[1])||$d(a[0],h[1])&&$d(a[1],h[0]));++l)e[x(h)]=!0;return e[x(a)]=!0,void(t.Ca=e)}}t.b&&(t.B.fa().La(t.b),t.b=null)}function Kp(t,e){var i=e.geometry;return"Circle"===i.F()&&1===e.index?(t=be(i.ba(),t),i=Math.sqrt(t)-i.yb(),i*i):ee(t,e.M)}function Ip(t,e){var i=e.geometry;return"Circle"===i.F()&&1===e.index?(e=[NaN,NaN],i.Ja(t[0],t[1],e,1/0),t=e):t=Zd(t,e.M),t}function Jp(t,e,i,n,s){ok(t.a,e.C(),function(t){t.geometry===e&&(void 0===n||void 0===t.depth||Sb(t.depth,n))&&t.index>i&&(t.index+=s)})}function Ap(){var t=wj();return function(){return t.Point}}function Dp(t,e,i){uc.call(this,t),this.features=e,this.mapBrowserEvent=i}function Lp(t){ig.call(this,{handleEvent:Mp,handleDownEvent:oe,handleUpEvent:Np}),t=t?t:{},this.j=t.source?t.source:null,this.L=void 0!==t.vertex?t.vertex:!0,this.v=void 0!==t.edge?t.edge:!0,this.g=t.features?t.features:null,this.ha=[],this.B={},this.$={},this.l={},this.J=null,this.b=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.ia=Op.bind(this),this.a=new jk,this.ea={Point:this.jg,LineString:this.Hd,LinearRing:this.Hd,Polygon:this.kg,MultiPoint:this.hg,MultiLineString:this.gg,MultiPolygon:this.ig,GeometryCollection:this.fg,Circle:this.eg}}function Pp(t,e,i,n){var s=n.xa([e[0]-t.b,e[1]+t.b]),r=n.xa([e[0]+t.b,e[1]-t.b]);s=wa([s,r]);var o=mk(t.a,s);t.L&&!t.v&&(o=o.filter(function(t){return"Circle"!==t.feature.S().F()}));var a=!1;s=!1;var h=r=null;if(0<o.length){t.J=i,o.sort(t.ia);var l=o[0].M;a="Circle"===o[0].feature.S().F(),t.L&&!t.v?(i=n.ra(l[0]),a=n.ra(l[1]),i=be(e,i),e=be(e,a),a=Math.sqrt(Math.min(i,e)),(a=a<=t.b)&&(s=!0,r=i>e?l[1]:l[0],h=n.ra(r))):t.v&&(r=a?Yd(i,o[0].feature.S()):Zd(i,l),h=n.ra(r),ce(e,h)<=t.b&&(s=!0,t.L&&!a&&(i=n.ra(l[0]),a=n.ra(l[1]),i=be(h,i),e=be(h,a),a=Math.sqrt(Math.min(i,e)),a=a<=t.b)))&&(r=i>e?l[1]:l[0],h=n.ra(r)),s&&(h=[Math.round(h[0]),Math.round(h[1])])}return{Dg:s,vertex:r,Lg:h}}function Mp(t){var e=Pp(this,t.pixel,t.coordinate,t.map);return e.Dg&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.Lg),jg.call(this,t)}function Np(){var t=Va(this.l);return t.length&&(t.forEach(this.$d,this),this.l={}),!1}function Op(t,e){return ee(this.J,t.M)-ee(this.J,e.M)}function Qp(t){t=t?t:{};var e=Sa({},t);delete e.preload,delete e.useInterimTilesOnError,Mf.call(this,e),this.set("preload",void 0!==t.preload?t.preload:0),this.set("useInterimTilesOnError",void 0!==t.useInterimTilesOnError?t.useInterimTilesOnError:!0),this.type="TILE"}function Rp(t,e){var i=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o){return o?t.replace(i,o[0].toString()).replace(n,o[1].toString()).replace(s,function(){return(-o[2]-1).toString()}).replace(r,function(){var t=e.b?e.b[o[0]]:null;return y(t,55),(t.P-t.N+1+o[2]).toString()}):void 0}}function Sp(t,e){for(var i=t.length,n=Array(i),s=0;i>s;++s)n[s]=Rp(t[s],e);return Tp(n)}function Tp(t){return 1===t.length?t[0]:function(e,i,n){return e?t[sa((e[1]<<e[0])+e[2],t.length)](e,i,n):void 0}}function Up(){}function Vp(t){jh.call(this,t)}function Wp(t){if(0!==t.c){var e=t.a.Ka.split("/").map(Number)[0];t.forEach(function(t){if(t.ja[0]!==e){var i=t.ja;this.remove(i[0]+"/"+i[1]+"/"+i[2]),tc(t)}},t)}}function Xp(t,e,i,n){t=i-t,e=n-e;var s=Math.sqrt(t*t+e*e);return[Math.round(i+t/s),Math.round(n+e/s)]}function Yp(t,e,i,n,s,r,o,a,h,l,c){var u=rf(Math.round(i*t),Math.round(i*e));if(0===h.length)return u.canvas;u.scale(i,i);var f=xa();h.forEach(function(t){Ja(f,t.extent)});var p=rf(Math.round(i*Ma(f)/n),Math.round(i*Na(f)/n)),d=i/n;h.forEach(function(t){p.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-f[0])*d,-(t.extent[3]-f[3])*d,Ma(t.extent)*d,Na(t.extent)*d)});var m=[o[0],o[3]];return a.b.forEach(function(t){var e=t.source,s=t.target,o=e[1][0],a=e[1][1],h=e[2][0],l=e[2][1];t=(s[0][0]-m[0])/r;var c=-(s[0][1]-m[1])/r,d=(s[1][0]-m[0])/r,g=-(s[1][1]-m[1])/r,v=(s[2][0]-m[0])/r,y=-(s[2][1]-m[1])/r;s=e[0][0],e=e[0][1],o-=s,a-=e,h-=s,l-=e;t:{for(o=[[o,a,0,0,d-t],[h,l,0,0,v-t],[0,0,o,a,g-c],[0,0,h,l,y-c]],a=o.length,h=0;a>h;h++){l=h;for(var b=Math.abs(o[h][h]),x=h+1;a>x;x++){var w=Math.abs(o[x][h]);w>b&&(b=w,l=x)}if(0===b){o=null;break t}for(b=o[l],o[l]=o[h],o[h]=b,l=h+1;a>l;l++)for(b=-o[l][h]/o[h][h],x=h;a+1>x;x++)o[l][x]=h==x?0:o[l][x]+b*o[h][x]}for(h=Array(a),l=a-1;l>=0;l--)for(h[l]=o[l][a]/o[l][l],b=l-1;b>=0;b--)o[b][a]-=o[b][l]*h[l];o=h}o&&(u.save(),u.beginPath(),h=(t+d+v)/3,l=(c+g+y)/3,a=Xp(h,l,t,c),d=Xp(h,l,d,g),v=Xp(h,l,v,y),u.moveTo(d[0],d[1]),u.lineTo(a[0],a[1]),u.lineTo(v[0],v[1]),u.clip(),u.transform(o[0],o[2],o[1],o[3],t,c),u.translate(f[0]-s,f[3]-e),u.scale(n/i,-n/i),u.drawImage(p.canvas,0,0),u.restore())}),c&&(u.save(),u.strokeStyle="black",u.lineWidth=1,a.b.forEach(function(t){var e=t.target;t=(e[0][0]-m[0])/r;var i=-(e[0][1]-m[1])/r,n=(e[1][0]-m[0])/r,s=-(e[1][1]-m[1])/r,o=(e[2][0]-m[0])/r;e=-(e[2][1]-m[1])/r,u.beginPath(),u.moveTo(n,s),u.lineTo(t,i),u.lineTo(o,e),u.closePath(),u.stroke()}),u.restore()),u.canvas}function Zp(t,e,i,n,s){this.i=t,this.c=e;var r={},o=Lb(this.c,this.i);this.f=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=o(t)),r[e]},this.g=n,this.s=s*s,this.b=[],this.u=!1,this.l=this.i.f&&!!n&&!!this.i.C()&&Ma(n)==Ma(this.i.C()),this.a=this.i.C()?Ma(this.i.C()):null,this.j=this.c.C()?Ma(this.c.C()):null,t=[i[0],i[3]],e=[i[2],i[3]],n=[i[2],i[1]],i=[i[0],i[1]],s=this.f(t);var a=this.f(e),h=this.f(n),l=this.f(i);if($p(this,t,e,n,i,s,a,h,l,10),this.u){var c=1/0;this.b.forEach(function(t){c=Math.min(c,t.source[0][0],t.source[1][0],t.source[2][0])}),this.b.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-c>this.a/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-c>this.a/2&&(e[0][0]-=this.a),e[1][0]-c>this.a/2&&(e[1][0]-=this.a),e[2][0]-c>this.a/2&&(e[2][0]-=this.a),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.a/2&&(t.source=e)}},this)}r={}}function $p(t,e,i,n,s,r,o,a,h,l){var c=wa([r,o,a,h]),u=t.a?Ma(c)/t.a:null,f=t.a,p=t.i.f&&u>.5&&1>u,d=!1;if(l>0){if(t.c.i&&t.j){var m=wa([e,i,n,s]);d|=.25<Ma(m)/t.j}!p&&t.i.i&&u&&(d|=u>.25)}if(d||!t.g||Ra(c,t.g)){if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(l>0))return;d=!0}if(l>0&&(d||(c=t.f([(e[0]+n[0])/2,(e[1]+n[1])/2]),f=p?(sa(r[0],f)+sa(a[0],f))/2-sa(c[0],f):(r[0]+a[0])/2-c[0],c=(r[1]+a[1])/2-c[1],d=f*f+c*c>t.s),d))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(p=[(i[0]+n[0])/2,(i[1]+n[1])/2],f=t.f(p),c=[(s[0]+e[0])/2,(s[1]+e[1])/2],u=t.f(c),$p(t,e,i,p,c,r,o,f,u,l-1),$p(t,c,p,n,s,u,f,a,h,l-1)):(p=[(e[0]+i[0])/2,(e[1]+i[1])/2],f=t.f(p),c=[(n[0]+s[0])/2,(n[1]+s[1])/2],u=t.f(c),$p(t,e,p,c,s,r,f,u,h,l-1),$p(t,p,i,n,c,f,o,a,u,l-1)));if(p){if(!t.l)return;t.u=!0}t.b.push({source:[r,a,h],target:[e,n,s]}),t.b.push({source:[r,o,a],target:[e,i,n]})}}function aq(t){var e=xa();return t.b.forEach(function(t){t=t.source,ya(e,t[0]),ya(e,t[1]),ya(e,t[2])}),e}function bq(t,e,i,n,s,r,o,a,h,l,c){if(dk.call(this,s,0),this.G=void 0!==c?c:!1,this.B=o,this.v=a,this.A=null,this.c=e,this.j=n,this.l=r?r:s,this.i=[],this.rb=null,this.g=0,r=bc(n,this.l),a=this.j.C(),s=this.c.C(),r=a?Qa(r,a):r,0===Ka(r))this.state=4;else if((a=t.C())&&(s=s?Qa(s,a):a),a=Oa(r),c=n.a[this.l[0]],n=Nb(a,i,t),a=Ab(i,c,a),c=hb(i),void 0!==c&&(a*=c),c=hb(t),void 0!==c&&(a/=c),c=t.C(),(!c||Da(c,n[0],n[1]))&&(n=Ab(t,a,n)/a,isFinite(n)&&n>0&&(a/=n)),n=a,!isFinite(n)||0>=n)this.state=4;else if(this.s=new Zp(t,i,r,s,n*(void 0!==l?l:.5)),0===this.s.b.length)this.state=4;else if(this.g=oa(Qb(e.a,n,0),e.minZoom,e.maxZoom),i=aq(this.s),s&&(t.f?(i[1]=oa(i[1],s[1],s[3]),i[3]=oa(i[3],s[1],s[3])):i=Qa(i,s)),Ka(i)){for(t=cc(e,i,this.g),e=t.O;e<=t.R;e++)for(i=t.N;i<=t.P;i++)(l=h(this.g,e,i,o))&&this.i.push(l);0===this.i.length&&(this.state=4)}else this.state=4}function cq(t){mp.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.Ca=void 0!==t.opaque?t.opaque:!1,this.Ia=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Vp(t.cacheSize),this.l=[0,0],this.Ka="",this.Ha={transition:t.transition}}function Th(t,e,i,n,s){if(t=t.vb(e),!t)return!1;e=!0;for(var r,o,a=n.O;a<=n.R;++a)for(var h=n.N;h<=n.P;++h)r=i+"/"+a+"/"+h,o=!1,t.b.hasOwnProperty(r)&&(r=t.get(r),(o=2===r.state)&&(o=!1!==s(r))),o||(e=!1);return e}function pi(t,e,i,n){return n=t.Ea(n),i=t.Mb(i),e=va(fc(n,e),t.l),1==i?e:ua(e,i,t.l)}function dq(t,e,i){var n=void 0!==i?i:t.j;if(i=t.Ea(n),t.A&&n.i){var s=e;e=s[0],t=hc(i,s),n=jc(n),Da(n,t[0],t[1])?e=s:(s=Ma(n),t[0]+=s*Math.ceil((n[0]-t[0])/s),e=gc(i,t[0],t[1],e,!1,void 0))}if(s=e[0],n=e[1],t=e[2],i.minZoom>s||s>i.maxZoom)i=!1;else{var r=i.C();i=(i=r?cc(i,r,s):i.b?i.b[s]:null)?na(i,n,t):!0}return i?e:null}function eq(t,e){uc.call(this,t),this.tile=e}function fq(t){if(cq.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.c?this.c.bind(this):Up,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");gq(this,this.c?this.c.bind(this):Sp(e,this.tileGrid),i)}else if(t.url){e=t.url,i=[];var n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var s,r=n[2].charCodeAt(0);for(s=n[1].charCodeAt(0);r>=s;++s)i.push(e.replace(n[0],String.fromCharCode(s)))}else if(n=n=/\{(\d+)-(\d+)\}/.exec(e))for(r=parseInt(n[2],10),s=parseInt(n[1],10);r>=s;s++)i.push(e.replace(n[0],s.toString()));else i.push(e);i=this.urls=i,gq(this,this.c?this.c.bind(this):Sp(i,this.tileGrid),e)}t.tileUrlFunction&&gq(this,t.tileUrlFunction),this.B={}}function gq(t,e,i){t.tileUrlFunction=e,Wp(t.a),"undefined"!=typeof i?t.Ka!==i&&(t.Ka=i,t.D()):t.D()}function hq(t){fq.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:iq,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:gk,this.b={},this.v={},this.Ga=t.reprojectionErrorThreshold}function jq(t,e,i,n,s,r,o){return e=[e,i,n],s=(i=dq(t,e,r))?t.tileUrlFunction(i,s,r):void 0,s=new t.tileClass(e,void 0!==s?0:4,void 0!==s?s:"",t.crossOrigin,t.tileLoadFunction,t.Ha),s.key=o,B(s,"change",t.Aa,t),s}function Zh(t,e,i,n,s,r){var o=t.j;if(o&&r&&!Kb(o,r)){var a=t.vb(r);n=[e,i,n];var h;if(e=n[0]+"/"+n[1]+"/"+n[2],a.b.hasOwnProperty(e)&&(h=a.get(e)),i=t.Ka,h&&h.key==i)return h;var l=t.Ea(o),c=t.Ea(r),u=dq(t,n,r);return t=new bq(o,l,r,c,n,u,t.Mb(s),t.Dc(),function(t,e,i,n){return kq(this,t,e,i,n,o)}.bind(t),t.Ga,!1),t.key=i,h?(t.a=h,fk(t),lh(a,e,t)):a.set(e,t),t}return kq(t,e,i,n,s,o||r)}function kq(t,e,i,n,s,r){var o=e+"/"+i+"/"+n,a=t.Ka;if(t.a.b.hasOwnProperty(o)){var h=t.a.get(o);if(h.key!=a){var l=h;h=jq(t,e,i,n,s,r,a),0==l.state?h.a=l.a:h.a=l,fk(h),lh(t.a,o,h)}}else h=jq(t,e,i,n,s,r,a),t.a.set(o,h);return h}function iq(t,e){t.W().src=e}function lq(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857";if(void 0!==t.tileGrid)var i=t.tileGrid;else{i={extent:jc(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize};var n={};Sa(n,void 0!==i?i:{}),void 0===n.extent&&(n.extent=Bb("EPSG:3857").C()),n.resolutions=kc(n.extent,n.maxZoom,n.tileSize),delete n.maxZoom,i=new Wb(n)}hq.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0,transition:t.transition})}function mq(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+n}function nq(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],lq.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0!==t.opaque?t.opaque:!0,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function oq(t){t=t||{};var e=t.params||{};hq.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0,transition:t.transition}),this.L=void 0!==t.gutter?t.gutter:0,this.g=e,this.G=!0,this.s=t.serverType,this.J=void 0!==t.hidpi?t.hidpi:!0,this.ia=xa();t:{t=(""+(this.g.VERSION||"1.3.0")).split("."),e=["1","3"];for(var i=0;i<Math.max(t.length,e.length);i++){var n=parseInt(t[i]||"0",10),s=parseInt(e[i]||"0",10);if(n>s){t=1;break t}if(s>n){t=-1;break t}}t=0}this.G=t>=0,t=0,e=[];for(r in this.g)e[t++]=r+"-"+this.g[r];var r=e.join("/");this.Ka!==r&&(this.Ka=r,this.D())}function py2_round(t){return Math.floor(Math.abs(t)+.5)*Math.sign(t)}function encode(t,e,i){t=py2_round(t*i),e=py2_round(e*i);var n=t-e;n<<=1,0>t-e&&(n=~n);for(var s="";n>=32;)s+=String.fromCharCode((32|31&n)+63),n>>=5;return s+=String.fromCharCode(n+63)}function flipped(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].slice().reverse());return e}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=rt.type(t);return"function"===i||rt.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(rt.isFunction(e))return rt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return rt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(mt.test(e))return rt.filter(e,t,i);e=rt.filter(e,t)}return rt.grep(t,function(t){return Q.call(e,t)>-1!==i})}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e={};return rt.each(t.match(wt)||[],function(t,i){e[i]=!0}),e}function o(){Y.removeEventListener("DOMContentLoaded",o),t.removeEventListener("load",o),rt.ready()}function a(){this.expando=rt.expando+a.uid++}function h(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Et,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ct.test(i)?rt.parseJSON(i):i}catch(s){}Pt.set(t,e,i)}else i=void 0;return i}function l(t,e,i,n){var s,r=1,o=20,a=n?function(){return n.cur()}:function(){return rt.css(t,e,"")},h=a(),l=i&&i[3]||(rt.cssNumber[e]?"":"px"),c=(rt.cssNumber[e]||"px"!==l&&+h)&&jt.exec(rt.css(t,e));if(c&&c[3]!==l){l=l||c[3],i=i||[],c=+h||1;do r=r||".5",c/=r,rt.style(t,e,c+l);while(r!==(r=a()/h)&&1!==r&&--o)}return i&&(c=+c||+h||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=c,n.end=s)),s}function c(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],i):i}function u(t,e){for(var i=0,n=t.length;n>i;i++)St.set(t[i],"globalEval",!e||St.get(e[i],"globalEval"))}function f(t,e,i,n,s){for(var r,o,a,h,l,f,p=e.createDocumentFragment(),d=[],m=0,g=t.length;g>m;m++)if(r=t[m],r||0===r)if("object"===rt.type(r))rt.merge(d,r.nodeType?[r]:r);else if(Rt.test(r)){for(o=o||p.appendChild(e.createElement("div")),a=(Dt.exec(r)||["",""])[1].toLowerCase(),h=Ot[a]||Ot._default,o.innerHTML=h[1]+rt.htmlPrefilter(r)+h[2],f=h[0];f--;)o=o.lastChild;rt.merge(d,o.childNodes),o=p.firstChild,o.textContent=""}else d.push(e.createTextNode(r));for(p.textContent="",m=0;r=d[m++];)if(n&&rt.inArray(r,n)>-1)s&&s.push(r);else if(l=rt.contains(r.ownerDocument,r),o=c(p.appendChild(r),"script"),l&&u(o),i)for(f=0;r=o[f++];)It.test(r.type||"")&&i.push(r);return p}function p(){return!0}function d(){return!1}function m(){try{return Y.activeElement}catch(t){}}function g(t,e,i,n,s,r){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)g(t,a,i,n,e[a],r);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),s===!1)s=d;else if(!s)return this;return 1===r&&(o=s,s=function(t){return rt().off(t),o.apply(this,arguments)},s.guid=o.guid||(o.guid=rt.guid++)),t.each(function(){rt.event.add(this,e,s,n,i)})}function v(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=zt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){var i,n,s,r,o,a,h,l;if(1===e.nodeType){if(St.hasData(t)&&(r=St.access(t),o=St.set(e,r),l=r.events)){delete o.handle,o.events={};for(s in l)for(i=0,n=l[s].length;n>i;i++)rt.event.add(e,s,l[s][i])}Pt.hasData(t)&&(a=Pt.access(t),h=rt.extend({},a),Pt.set(e,h))}}function w(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Lt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function M(t,e,i,n){e=Z.apply([],e);var s,r,o,a,h,l,u=0,p=t.length,d=p-1,m=e[0],g=rt.isFunction(m);if(g||p>1&&"string"==typeof m&&!nt.checkClone&&Gt.test(m))return t.each(function(s){var r=t.eq(s);g&&(e[0]=m.call(this,s,r.html())),M(r,e,i,n)});if(p&&(s=f(e,t[0].ownerDocument,!1,t,n),r=s.firstChild,1===s.childNodes.length&&(s=r),r||n)){for(o=rt.map(c(s,"script"),y),a=o.length;p>u;u++)h=s,u!==d&&(h=rt.clone(h,!0,!0),a&&rt.merge(o,c(h,"script"))),i.call(t[u],h,u);if(a)for(l=o[o.length-1].ownerDocument,rt.map(o,b),u=0;a>u;u++)h=o[u],It.test(h.type||"")&&!St.access(h,"globalEval")&&rt.contains(l,h)&&(h.src?rt._evalUrl&&rt._evalUrl(h.src):rt.globalEval(h.textContent.replace(Vt,"")))}return t}function k(t,e,i){for(var n,s=e?rt.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||rt.cleanData(c(n)),n.parentNode&&(i&&rt.contains(n.ownerDocument,n)&&u(c(n,"script")),n.parentNode.removeChild(n));return t}function _(t,e){var i=rt(e.createElement(t)).appendTo(e.body),n=rt.css(i[0],"display");return i.detach(),n}function S(t){var e=Y,i=Wt[t];return i||(i=_(t,e),"none"!==i&&i||(Ht=(Ht||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ht[0].contentDocument,e.write(),e.close(),i=_(t,e),Ht.detach()),Wt[t]=i),i}function P(t,e,i){var n,s,r,o,a=t.style;return i=i||Jt(t),i&&(o=i.getPropertyValue(e)||i[e],""!==o||rt.contains(t.ownerDocument,t)||(o=rt.style(t,e)),!nt.pixelMarginRight()&&Yt.test(o)&&Xt.test(e)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r)),void 0!==o?o+"":o}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ie.length;i--;)if(t=ie[i]+e,t in ne)return t}function T(t,e,i){var n=jt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function j(t,e,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=rt.css(t,i+At[r],!0,s)),n?("content"===i&&(o-=rt.css(t,"padding"+At[r],!0,s)),"margin"!==i&&(o-=rt.css(t,"border"+At[r]+"Width",!0,s))):(o+=rt.css(t,"padding"+At[r],!0,s),"padding"!==i&&(o+=rt.css(t,"border"+At[r]+"Width",!0,s)));return o}function A(e,i,n){var s=!0,r="width"===i?e.offsetWidth:e.offsetHeight,o=Jt(e),a="border-box"===rt.css(e,"boxSizing",!1,o);if(Y.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[i])),0>=r||null==r){if(r=P(e,i,o),(0>r||null==r)&&(r=e.style[i]),Yt.test(r))return r;s=a&&(nt.boxSizingReliable()||r===e.style[i]),r=parseFloat(r)||0}return r+j(e,i,n||(a?"border":"content"),s,o)+"px"}function N(t,e){for(var i,n,s,r=[],o=0,a=t.length;a>o;o++)n=t[o],n.style&&(r[o]=St.get(n,"olddisplay"),i=n.style.display,e?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Nt(n)&&(r[o]=St.access(n,"olddisplay",S(n.nodeName)))):(s=Nt(n),"none"===i&&s||St.set(n,"olddisplay",s?i:rt.css(n,"display"))));for(o=0;a>o;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[o]||"":"none"));return t}function L(t,e,i,n,s){return new L.prototype.init(t,e,i,n,s)}function D(){return t.setTimeout(function(){se=void 0}),se=rt.now()}function I(t,e){var i,n=0,s={height:t};for(e=e?1:0;4>n;n+=2-e)i=At[n],s["margin"+i]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function O(t,e,i){for(var n,s=(B.tweeners[e]||[]).concat(B.tweeners["*"]),r=0,o=s.length;o>r;r++)if(n=s[r].call(i,e,t))return n}function R(t,e,i){var n,s,r,o,a,h,l,c,u=this,f={},p=t.style,d=t.nodeType&&Nt(t),m=St.get(t,"fxshow");i.queue||(a=rt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,rt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],l=rt.css(t,"display"),c="none"===l?St.get(t,"olddisplay")||S(t.nodeName):l,"inline"===c&&"none"===rt.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],oe.exec(s)){if(delete e[n],r=r||"toggle"===s,s===(d?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;d=!0}f[n]=m&&m[n]||rt.style(t,n)}else l=void 0;if(rt.isEmptyObject(f))"inline"===("none"===l?S(t.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(d=m.hidden):m=St.access(t,"fxshow",{}),r&&(m.hidden=!d),d?rt(t).show():u.done(function(){rt(t).hide()}),u.done(function(){var e;St.remove(t,"fxshow");for(e in f)rt.style(t,e,f[e])});for(n in f)o=O(d?m[n]:0,n,u),n in m||(m[n]=o.start,d&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,s,r,o;for(i in t)if(n=rt.camelCase(i),s=e[n],r=t[i],rt.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),o=rt.cssHooks[n],o&&"expand"in o){r=o.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=s)}else e[n]=s}function B(t,e,i){var n,s,r=0,o=B.prefilters.length,a=rt.Deferred().always(function(){delete h.elem}),h=function(){if(s)return!1;for(var e=se||D(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,r=1-n,o=0,h=l.tweens.length;h>o;o++)l.tweens[o].run(r);return a.notifyWith(t,[l,r,i]),1>r&&h?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{},easing:rt.easing._default},i),originalProperties:e,originalOptions:i,startTime:se||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=rt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(F(c,l.opts.specialEasing);o>r;r++)if(n=B.prefilters[r].call(l,t,c,l.opts))return rt.isFunction(n.stop)&&(rt._queueHooks(l.elem,l.opts.queue).stop=rt.proxy(n.stop,n)),n;return rt.map(c,O,l),rt.isFunction(l.opts.start)&&l.opts.start.call(t,l),rt.fx.timer(rt.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(t){return t.getAttribute&&t.getAttribute("class")||"";
}function U(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(wt)||[];if(rt.isFunction(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function $(t,e,i,n){function s(a){var h;return r[a]=!0,rt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||o||r[l]?o?!(h=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),h}var r={},o=t===Se;return s(e.dataTypes[0])||!r["*"]&&s("*")}function G(t,e){var i,n,s=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function z(t,e,i){for(var n,s,r,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){h.unshift(s);break}if(h[0]in i)r=h[0];else{for(s in i){if(!h[0]||t.converters[s+" "+h[0]]){r=s;break}o||(o=s)}r=r||o}return r?(r!==h[0]&&h.unshift(r),i[r]):void 0}function V(t,e,i,n){var s,r,o,a,h,l={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=r,r=c.shift())if("*"===r)r=h;else if("*"!==h&&h!==r){if(o=l[h+" "+r]||l["* "+r],!o)for(s in l)if(a=s.split(" "),a[1]===r&&(o=l[h+" "+a[0]]||l["* "+a[0]])){o===!0?o=l[s]:l[s]!==!0&&(r=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+h+" to "+r}}}return{state:"success",data:e}}function H(t,e,i,n){var s;if(rt.isArray(e))rt.each(e,function(e,s){i||Te.test(t)?n(t,s):H(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)});else if(i||"object"!==rt.type(e))n(t,e);else for(s in e)H(t+"["+s+"]",e[s],i,n)}function W(t){return rt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var X=[],Y=t.document,J=X.slice,Z=X.concat,K=X.push,Q=X.indexOf,tt={},et=tt.toString,it=tt.hasOwnProperty,nt={},st="2.2.0",rt=function(t,e){return new rt.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ht=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:st,constructor:rt,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return rt.each(this,t)},map:function(t){return this.pushStack(rt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:X.sort,splice:X.splice},rt.extend=rt.fn.extend=function(){var t,e,i,n,s,r,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||rt.isFunction(o)||(o={}),a===h&&(o=this,a--);h>a;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],n=t[e],o!==n&&(l&&n&&(rt.isPlainObject(n)||(s=rt.isArray(n)))?(s?(s=!1,r=i&&rt.isArray(i)?i:[]):r=i&&rt.isPlainObject(i)?i:{},o[e]=rt.extend(l,r,n)):void 0!==n&&(o[e]=n));return o},rt.extend({expando:"jQuery"+(st+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!rt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"!==rt.type(t)||t.nodeType||rt.isWindow(t)?!1:t.constructor&&!it.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=rt.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(at,"ms-").replace(ht,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,s=0;if(i(t))for(n=t.length;n>s&&e.call(t[s],s,t[s])!==!1;s++);else for(s in t)if(e.call(t[s],s,t[s])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?rt.merge(n,"string"==typeof t?[t]:t):K.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:Q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],r=0,o=t.length,a=!i;o>r;r++)n=!e(t[r],r),n!==a&&s.push(t[r]);return s},map:function(t,e,n){var s,r,o=0,a=[];if(i(t))for(s=t.length;s>o;o++)r=e(t[o],o,n),null!=r&&a.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&a.push(r);return Z.apply([],a)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(i=t[e],e=t,t=i),rt.isFunction(t)?(n=J.call(arguments,2),s=function(){return t.apply(e||this,n.concat(J.call(arguments)))},s.guid=t.guid=t.guid||rt.guid++,s):void 0},now:Date.now,support:nt}),"function"==typeof Symbol&&(rt.fn[Symbol.iterator]=X[Symbol.iterator]),rt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,i,n){var s,r,o,a,h,l,u,p,d=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:q)!==N&&A(e),e=e||N,D)){if(11!==m&&(l=vt.exec(t)))if(s=l[1]){if(9===m){if(!(o=e.getElementById(s)))return i;if(o.id===s)return i.push(o),i}else if(d&&(o=d.getElementById(s))&&F(e,o)&&o.id===s)return i.push(o),i}else{if(l[2])return K.apply(i,e.getElementsByTagName(t)),i;if((s=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return K.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&!V[t+" "]&&(!I||!I.test(t))){if(1!==m)d=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=B),u=S(t),r=u.length,h=ft.test(a)?"#"+a:"[id='"+a+"']";r--;)u[r]=h+" "+f(u[r]);p=u.join(","),d=yt.test(t)&&c(e.parentNode)||e}if(p)try{return K.apply(i,d.querySelectorAll(p)),i}catch(g){}finally{a===B&&e.removeAttribute("id")}}}return C(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>M.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function s(t){var e=N.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)M.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||W)-(~t.sourceIndex||W);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var s,r=t([],i.length,e),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,r=$++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r)}:function(e,i,o){var a,h,l,c=[U,r];if(o){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[B]||(e[B]={}),h=l[e.uniqueID]||(l[e.uniqueID]={}),(a=h[n])&&a[0]===U&&a[1]===r)return c[2]=a[2];if(h[n]=c,c[2]=t(e,i,o))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var s=0,r=i.length;r>s;s++)e(t,i[s],n);return n}function g(t,e,i,n,s){for(var r,o=[],a=0,h=t.length,l=null!=e;h>a;a++)(r=t[a])&&(!i||i(r,n,s))&&(o.push(r),l&&e.push(a));return o}function v(t,e,i,s,r,o){return s&&!s[B]&&(s=v(s)),r&&!r[B]&&(r=v(r,o)),n(function(n,o,a,h){var l,c,u,f=[],p=[],d=o.length,v=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:g(v,f,t,a,h),b=i?r||(n?t:d||s)?[]:o:y;if(i&&i(y,b,a,h),s)for(l=g(b,p),s(l,[],a,h),c=l.length;c--;)(u=l[c])&&(b[p[c]]=!(y[p[c]]=u));if(n){if(r||t){if(r){for(l=[],c=b.length;c--;)(u=b[c])&&l.push(y[c]=u);r(null,b=[],l,h)}for(c=b.length;c--;)(u=b[c])&&(l=r?tt(n,u):f[c])>-1&&(n[l]=!(o[l]=u))}}else b=g(b===o?b.splice(d,b.length):b),r?r(null,o,b,h):K.apply(o,b)})}function y(t){for(var e,i,n,s=t.length,r=M.relative[t[0].type],o=r||M.relative[" "],a=r?1:0,h=p(function(t){return t===e},o,!0),l=p(function(t){return tt(e,t)>-1},o,!0),c=[function(t,i,n){var s=!r&&(n||i!==E)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,s}];s>a;a++)if(i=M.relative[t[a].type])c=[p(d(c),i)];else{if(i=M.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;s>n&&!M.relative[t[n].type];n++);return v(a>1&&d(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),s>n&&y(t=t.slice(n)),s>n&&f(t))}c.push(i)}return d(c)}function b(t,i){var s=i.length>0,r=t.length>0,o=function(n,o,a,h,l){var c,u,f,p=0,d="0",m=n&&[],v=[],y=E,b=n||r&&M.find.TAG("*",l),x=U+=null==y?1:Math.random()||.1,w=b.length;for(l&&(E=o===N||o||l);d!==w&&null!=(c=b[d]);d++){if(r&&c){for(u=0,o||c.ownerDocument===N||(A(c),a=!D);f=t[u++];)if(f(c,o||N,a)){h.push(c);break}l&&(U=x)}s&&((c=!f&&c)&&p--,n&&m.push(c))}if(p+=d,s&&d!==p){for(u=0;f=i[u++];)f(m,v,o,a);if(n){if(p>0)for(;d--;)m[d]||v[d]||(v[d]=J.call(h));v=g(v)}K.apply(h,v),l&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(h)}return l&&(U=x,E=y),m};return s?n(o):o}var x,w,M,k,_,S,P,C,E,T,j,A,N,L,D,I,O,R,F,B="sizzle"+1*new Date,q=t.document,U=0,$=0,G=i(),z=i(),V=i(),H=function(t,e){return t===e&&(j=!0),0},W=1<<31,X={}.hasOwnProperty,Y=[],J=Y.pop,Z=Y.push,K=Y.push,Q=Y.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ht=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(rt),ft=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Mt=function(){A()};try{K.apply(Y=Q.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch(kt){K={apply:Y.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,L=N.documentElement,D=!_(N),(i=N.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Mt,!1):i.attachEvent&&i.attachEvent("onunload",Mt)),w.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=s(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(N.getElementsByClassName),w.getById=s(function(t){return L.appendChild(t).id=B,!N.getElementsByName||!N.getElementsByName(B).length}),w.getById?(M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var i=e.getElementById(t);return i?[i]:[]}},M.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete M.find.ID,M.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),M.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},M.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&D?e.getElementsByClassName(t):void 0},O=[],I=[],(w.qsa=gt.test(N.querySelectorAll))&&(s(function(t){L.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||I.push(".#.+[+~]")}),s(function(t){var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=gt.test(R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&s(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),O.push("!=",rt)}),I=I.length&&new RegExp(I.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(L.compareDocumentPosition),F=e||gt.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=e?function(t,e){if(t===e)return j=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===N||t.ownerDocument===q&&F(q,t)?-1:e===N||e.ownerDocument===q&&F(q,e)?1:T?tt(T,t)-tt(T,e):0:4&i?-1:1)}:function(t,e){if(t===e)return j=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,a=[t],h=[e];if(!s||!r)return t===N?-1:e===N?1:s?-1:r?1:T?tt(T,t)-tt(T,e):0;if(s===r)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;a[n]===h[n];)n++;return n?o(a[n],h[n]):a[n]===q?-1:h[n]===q?1:0},N):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&A(t),i=i.replace(ct,"='$1']"),w.matchesSelector&&D&&!V[i+" "]&&(!O||!O.test(i))&&(!I||!I.test(i)))try{var n=R.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&A(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&A(t);var i=M.attrHandle[e.toLowerCase()],n=i&&X.call(M.attrHandle,e.toLowerCase())?i(t,e,!D):void 0;return void 0!==n?n:w.attributes||!D?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(j=!w.detectDuplicates,T=!w.sortStable&&t.slice(0),t.sort(H),j){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return T=null,t},k=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},M=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var r=e.attr(s,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ot," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,h){var l,c,u,f,p,d,m=r!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a,b=!1;if(g){if(r){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[o?g.firstChild:g.lastChild],o&&y){for(f=g,u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),l=c[t]||[],p=l[0]===U&&l[1],b=p&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[U,p,b];break}}else if(y&&(f=e,u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),l=c[t]||[],p=l[0]===U&&l[1],b=p),b===!1)for(;(f=++p&&f&&f[m]||(b=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),c[t]=[U,b]),f!==e)););return b-=s,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var s,r=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[B]?r(i):r.length>1?(s=[t,t,"",i],M.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=r(t,i),o=s.length;o--;)n=tt(t,s[o]),t[n]=!(e[n]=s[o])}):function(t){return r(t,0,s)}):r}},pseudos:{not:n(function(t){var e=[],i=[],s=P(t.replace(at,"$1"));return s[B]?n(function(t,e,i,n){for(var r,o=s(t,null,n,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,s(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var i;do if(i=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},M.pseudos.nth=M.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})M.pseudos[x]=h(x);return u.prototype=M.filters=M.pseudos,M.setFilters=new u,S=e.tokenize=function(t,i){var n,s,r,o,a,h,l,c=z[t+" "];if(c)return i?0:c.slice(0);for(a=t,h=[],l=M.preFilter;a;){(!n||(s=ht.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),h.push(r=[])),n=!1,(s=lt.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(at," ")}),a=a.slice(n.length));for(o in M.filter)!(s=pt[o].exec(a))||l[o]&&!(s=l[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):z(t,h).slice(0)},P=e.compile=function(t,e){var i,n=[],s=[],r=V[t+" "];if(!r){for(e||(e=S(t)),i=e.length;i--;)r=y(e[i]),r[B]?n.push(r):s.push(r);r=V(t,b(s,n)),r.selector=t}return r},C=e.select=function(t,e,i,n){var s,r,o,a,h,l="function"==typeof t&&t,u=!n&&S(t=l.selector||t);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&w.getById&&9===e.nodeType&&D&&M.relative[r[1].type]){if(e=(M.find.ID(o.matches[0].replace(xt,wt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(s=pt.needsContext.test(t)?0:r.length;s--&&(o=r[s],!M.relative[a=o.type]);)if((h=M.find[a])&&(n=h(o.matches[0].replace(xt,wt),yt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(s,1),t=n.length&&f(r),!t)return K.apply(i,n),i;break}}return(l||P(t,u))(n,e,!D,i,!e||yt.test(t)&&c(e.parentNode)||e),i},w.sortStable=B.split("").sort(H).join("")===B,w.detectDuplicates=!!j,A(),w.sortDetached=s(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.uniqueSort=rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&rt(t).is(i))break;n.push(t)}return n},ft=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},pt=rt.expr.match.needsContext,dt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?rt.find.matchesSelector(n,t)?[n]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,i=this.length,n=[],s=this;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;i>e;e++)if(rt.contains(s[e],this))return!0}));for(e=0;i>e;e++)rt.find(t,s[e],n);return n=this.pushStack(i>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&pt.test(t)?rt(t):t||[],!1).length}});var gt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=rt.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||gt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),dt.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return s=Y.getElementById(n[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?void 0!==i.ready?i.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};yt.prototype=rt.fn,gt=rt(Y);var bt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};rt.fn.extend({has:function(t){var e=rt(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(rt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,r=[],o=pt.test(t)||"string"!=typeof t?rt(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?rt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?Q.call(rt(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.uniqueSort(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ut(t,"parentNode")},parentsUntil:function(t,e,i){return ut(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return ut(t,"nextSibling")},prevAll:function(t){return ut(t,"previousSibling")},nextUntil:function(t,e,i){return ut(t,"nextSibling",i)},prevUntil:function(t,e,i){return ut(t,"previousSibling",i)},siblings:function(t){return ft((t.parentNode||{}).firstChild,t)},children:function(t){return ft(t.firstChild)},contents:function(t){return t.contentDocument||rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(i,n){var s=rt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=rt.filter(n,s)),this.length>1&&(xt[t]||rt.uniqueSort(s),bt.test(t)&&s.reverse()),this.pushStack(s)}});var wt=/\S+/g;rt.Callbacks=function(t){t="string"==typeof t?r(t):rt.extend({},t);var e,i,n,s,o=[],a=[],h=-1,l=function(){for(s=t.once,n=e=!0;a.length;h=-1)for(i=a.shift();++h<o.length;)o[h].apply(i[0],i[1])===!1&&t.stopOnFalse&&(h=o.length,i=!1);t.memory||(i=!1),e=!1,s&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(h=o.length-1,a.push(i)),function n(e){rt.each(e,function(e,i){rt.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==rt.type(i)&&n(i)})}(arguments),i&&!e&&l()),this},remove:function(){return rt.each(arguments,function(t,e){for(var i;(i=rt.inArray(e,o,i))>-1;)o.splice(i,1),h>=i&&h--}),this},has:function(t){return t?rt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=a=[],i||(o=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(i){rt.each(e,function(e,r){var o=rt.isFunction(t[e])&&t[e];s[r[1]](function(){var t=o&&o.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,n):n}},s={};return n.pipe=n.then,rt.each(e,function(t,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,r=J.call(arguments),o=r.length,a=1!==o||t&&rt.isFunction(t.promise)?o:0,h=1===a?t:rt.Deferred(),l=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?J.call(arguments):s,n===e?h.notifyWith(i,n):--a||h.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);o>s;s++)r[s]&&rt.isFunction(r[s].promise)?r[s].promise().progress(l(s,i,e)).done(l(s,n,r)).fail(h.reject):--a;return a||h.resolveWith(n,r),h.promise()}});var Mt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){(t===!0?--rt.readyWait:rt.isReady)||(rt.isReady=!0,t!==!0&&--rt.readyWait>0||(Mt.resolveWith(Y,[rt]),rt.fn.triggerHandler&&(rt(Y).triggerHandler("ready"),rt(Y).off("ready"))))}}),rt.ready.promise=function(e){return Mt||(Mt=rt.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(rt.ready):(Y.addEventListener("DOMContentLoaded",o),t.addEventListener("load",o))),Mt.promise(e)},rt.ready.promise();var kt=function(t,e,i,n,s,r,o){var a=0,h=t.length,l=null==i;if("object"===rt.type(i)){s=!0;for(a in i)kt(t,e,a,i[a],!0,r,o)}else if(void 0!==n&&(s=!0,rt.isFunction(n)||(o=!0),l&&(o?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(rt(t),i)})),e))for(;h>a;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return s?t:l?e.call(t):h?e(t[0],i):r},_t=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!_t(t))return{};var e=t[this.expando];return e||(e={},_t(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[e]=i;else for(n in e)s[n]=e[n];
return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,rt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,s,r=t[this.expando];if(void 0!==r){if(void 0===e)this.register(t);else{rt.isArray(e)?n=e.concat(e.map(rt.camelCase)):(s=rt.camelCase(e),e in r?n=[e,s]:(n=s,n=n in r?[n]:n.match(wt)||[])),i=n.length;for(;i--;)delete r[n[i]]}(void 0===e||rt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!rt.isEmptyObject(e)}};var St=new a,Pt=new a,Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/[A-Z]/g;rt.extend({hasData:function(t){return Pt.hasData(t)||St.hasData(t)},data:function(t,e,i){return Pt.access(t,e,i)},removeData:function(t,e){Pt.remove(t,e)},_data:function(t,e,i){return St.access(t,e,i)},_removeData:function(t,e){St.remove(t,e)}}),rt.fn.extend({data:function(t,e){var i,n,s,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(s=Pt.get(r),1===r.nodeType&&!St.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=rt.camelCase(n.slice(5)),h(r,n,s[n])));St.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof t?this.each(function(){Pt.set(this,t)}):kt(this,function(e){var i,n;if(r&&void 0===e){if(i=Pt.get(r,t)||Pt.get(r,t.replace(Et,"-$&").toLowerCase()),void 0!==i)return i;if(n=rt.camelCase(t),i=Pt.get(r,n),void 0!==i)return i;if(i=h(r,n,void 0),void 0!==i)return i}else n=rt.camelCase(t),this.each(function(){var i=Pt.get(this,n);Pt.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Pt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Pt.remove(this,t)})}}),rt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=St.get(t,e),i&&(!n||rt.isArray(i)?n=St.access(t,e,rt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=rt.queue(t,e),n=i.length,s=i.shift(),r=rt._queueHooks(t,e),o=function(){rt.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return St.get(t,i)||St.access(t,i,{empty:rt.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",i])})})}}),rt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?rt.queue(this[0],t):void 0===e?this:this.each(function(){var i=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=rt.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)i=St.get(r[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],Nt=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},Lt=/^(?:checkbox|radio)$/i,Dt=/<([\w:-]+)/,It=/^$|\/(?:java|ecma)script/i,Ot={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ot.optgroup=Ot.option,Ot.tbody=Ot.tfoot=Ot.colgroup=Ot.caption=Ot.thead,Ot.th=Ot.td;var Rt=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),i=Y.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ft=/^key/,Bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qt=/^([^.]*)(?:\.(.+)|)/;rt.event={global:{},add:function(t,e,i,n,s){var r,o,a,h,l,c,u,f,p,d,m,g=St.get(t);if(g)for(i.handler&&(r=i,i=r.handler,s=r.selector),i.guid||(i.guid=rt.guid++),(h=g.events)||(h=g.events={}),(o=g.handle)||(o=g.handle=function(e){return"undefined"!=typeof rt&&rt.event.triggered!==e.type?rt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],l=e.length;l--;)a=qt.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p&&(u=rt.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=rt.event.special[p]||{},c=rt.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&rt.expr.match.needsContext.test(s),namespace:d.join(".")},r),(f=h[p])||(f=h[p]=[],f.delegateCount=0,u.setup&&u.setup.call(t,n,d,o)!==!1||t.addEventListener&&t.addEventListener(p,o)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),s?f.splice(f.delegateCount++,0,c):f.push(c),rt.event.global[p]=!0)},remove:function(t,e,i,n,s){var r,o,a,h,l,c,u,f,p,d,m,g=St.hasData(t)&&St.get(t);if(g&&(h=g.events)){for(e=(e||"").match(wt)||[""],l=e.length;l--;)if(a=qt.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p){for(u=rt.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,f=h[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=f.length;r--;)c=f[r],!s&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(r,1),c.selector&&f.delegateCount--,u.remove&&u.remove.call(t,c));o&&!f.length&&(u.teardown&&u.teardown.call(t,d,g.handle)!==!1||rt.removeEvent(t,p,g.handle),delete h[p])}else for(p in h)rt.event.remove(t,p+e[l],i,n,!0);rt.isEmptyObject(h)&&St.remove(t,"handle events")}},dispatch:function(t){t=rt.event.fix(t);var e,i,n,s,r,o=[],a=J.call(arguments),h=(St.get(this,"events")||{})[t.type]||[],l=rt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(o=rt.event.handlers.call(this,t,h),e=0;(s=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((rt.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,r,o=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)r=e[i],s=r.selector+" ",void 0===n[s]&&(n[s]=r.needsContext?rt(s,this).index(h)>-1:rt.find(s,this,null,[h]).length),n[s]&&n.push(r);n.length&&o.push({elem:h,handlers:n})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,r=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Y,n=i.documentElement,s=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[rt.expando])return t;var e,i,n,s=t.type,r=t,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Bt.test(s)?this.mouseHooks:Ft.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new rt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&rt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},rt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?p:d):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={constructor:rt.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,r=t.handleObj;return(!s||s!==n&&!rt.contains(n,s))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),rt.fn.extend({on:function(t,e,i,n){return g(this,t,e,i,n)},one:function(t,e,i,n){return g(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,rt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=d),this.each(function(){rt.event.remove(this,t,i,e)})}});var Ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,$t=/<script|<style|<link/i,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;rt.extend({htmlPrefilter:function(t){return t.replace(Ut,"<$1></$2>")},clone:function(t,e,i){var n,s,r,o,a=t.cloneNode(!0),h=rt.contains(t.ownerDocument,t);if(!(nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(o=c(a),r=c(t),n=0,s=r.length;s>n;n++)w(r[n],o[n]);if(e)if(i)for(r=r||c(t),o=o||c(a),n=0,s=r.length;s>n;n++)x(r[n],o[n]);else x(t,a);return o=c(a,"script"),o.length>0&&u(o,!h&&c(t,"script")),a},cleanData:function(t){for(var e,i,n,s=rt.event.special,r=0;void 0!==(i=t[r]);r++)if(_t(i)){if(e=i[St.expando]){if(e.events)for(n in e.events)s[n]?rt.event.remove(i,n):rt.removeEvent(i,n,e.handle);i[St.expando]=void 0}i[Pt.expando]&&(i[Pt.expando]=void 0)}}}),rt.fn.extend({domManip:M,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return kt(this,function(t){return void 0===t?rt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(rt.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!$t.test(t)&&!Ot[(Dt.exec(t)||["",""])[1].toLowerCase()]){t=rt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(rt.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return M(this,arguments,function(e){var i=this.parentNode;rt.inArray(this,t)<0&&(rt.cleanData(c(this)),i&&i.replaceChild(e,this))},t)}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var i,n=[],s=rt(t),r=s.length-1,o=0;r>=o;o++)i=o===r?this:this.clone(!0),rt(s[o])[e](i),K.apply(n,i.get());return this.pushStack(n)}});var Ht,Wt={HTML:"block",BODY:"block"},Xt=/^margin/,Yt=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),Jt=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},Zt=function(t,e,i,n){var s,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];s=i.apply(t,n||[]);for(r in e)t.style[r]=o[r];return s},Kt=Y.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Kt.appendChild(o);var e=t.getComputedStyle(a);i="1%"!==e.top,r="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",s="4px"===e.marginRight,Kt.removeChild(o)}var i,n,s,r,o=Y.createElement("div"),a=Y.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),rt.extend(nt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),r},reliableMarginRight:function(){var e,i=a.appendChild(Y.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Kt.appendChild(o),e=!parseFloat(t.getComputedStyle(i).marginRight),Kt.removeChild(o),a.removeChild(i),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","O","Moz","ms"],ne=Y.createElement("div").style;rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=P(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,o,a=rt.camelCase(e),h=t.style;return e=rt.cssProps[a]||(rt.cssProps[a]=E(a)||a),o=rt.cssHooks[e]||rt.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(s=o.get(t,!1,n))?s:h[e]:(r=typeof i,"string"===r&&(s=jt.exec(i))&&s[1]&&(i=l(t,e,s),r="number"),void(null!=i&&i===i&&("number"===r&&(i+=s&&s[3]||(rt.cssNumber[a]?"":"px")),nt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(h[e]=i))))}},css:function(t,e,i,n){var s,r,o,a=rt.camelCase(e);return e=rt.cssProps[a]||(rt.cssProps[a]=E(a)||a),o=rt.cssHooks[e]||rt.cssHooks[a],o&&"get"in o&&(s=o.get(t,!0,i)),void 0===s&&(s=P(t,e,n)),"normal"===s&&e in ee&&(s=ee[e]),""===i||i?(r=parseFloat(s),i===!0||isFinite(r)?r||0:s):s}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,i,n){return i?Qt.test(rt.css(t,"display"))&&0===t.offsetWidth?Zt(t,te,function(){return A(t,e,n)}):A(t,e,n):void 0},set:function(t,i,n){var s,r=n&&Jt(t),o=n&&j(t,e,n,"border-box"===rt.css(t,"boxSizing",!1,r),r);return o&&(s=jt.exec(i))&&"px"!==(s[3]||"px")&&(t.style[e]=i,i=rt.css(t,e)),T(t,i,o)}}}),rt.cssHooks.marginLeft=C(nt.reliableMarginLeft,function(t,e){return e?(parseFloat(P(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),rt.cssHooks.marginRight=C(nt.reliableMarginRight,function(t,e){return e?Zt(t,{display:"inline-block"},P,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+At[n]+e]=r[n]||r[n-2]||r[0];return s}},Xt.test(t)||(rt.cssHooks[t+e].set=T)}),rt.fn.extend({css:function(t,e){return kt(this,function(t,e,i){var n,s,r={},o=0;if(rt.isArray(e)){for(n=Jt(t),s=e.length;s>o;o++)r[e[o]]=rt.css(t,e[o],!1,n);return r}return void 0!==i?rt.style(t,e,i):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Nt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=L,L.prototype={constructor:L,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||rt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(rt.cssNumber[i]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,i=L.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[rt.cssProps[t.prop]]&&!rt.cssHooks[t.prop]?t.elem[t.prop]=t.now:rt.style(t.elem,t.prop,t.now+t.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},rt.fx=L.prototype.init,rt.fx.step={};var se,re,oe=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;rt.Animation=rt.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return l(i.elem,t,jt.exec(e),i),i}]},tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var i,n=0,s=t.length;s>n;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[R],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),rt.speed=function(t,e,i){var n=t&&"object"==typeof t?rt.extend({},t):{complete:i||!i&&e||rt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!rt.isFunction(e)&&e};return n.duration=rt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in rt.fx.speeds?rt.fx.speeds[n.duration]:rt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){rt.isFunction(n.old)&&n.old.call(this),n.queue&&rt.dequeue(this,n.queue)},n},rt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=rt.isEmptyObject(t),r=rt.speed(e,i,n),o=function(){var e=B(this,rt.extend({},t),r);(s||St.get(this,"finish"))&&e.stop(!0)};return o.finish=o,s||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",r=rt.timers,o=St.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&ae.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));(e||!i)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=St.get(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=rt.timers,o=n?n.length:0;for(i.finish=!0,rt.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;o>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var i=rt.fn[e];rt.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(I(e,!0),t,n,s)}}),rt.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),rt.timers=[],rt.fx.tick=function(){var t,e=0,i=rt.timers;for(se=rt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||rt.fx.stop(),se=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){re||(re=t.setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){t.clearInterval(re),re=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,i){return e=rt.fx?rt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),i=e.appendChild(Y.createElement("option"));t.type="checkbox",nt.checkOn=""!==t.value,nt.optSelected=i.selected,e.disabled=!0,nt.optDisabled=!i.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",nt.radioValue="t"===t.value}();var he,le=rt.expr.attrHandle;rt.fn.extend({attr:function(t,e){return kt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,i){var n,s,r=t.nodeType;return 3!==r&&8!==r&&2!==r?"undefined"==typeof t.getAttribute?rt.prop(t,e,i):(1===r&&rt.isXMLDoc(t)||(e=e.toLowerCase(),s=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void rt.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:(n=rt.find.attr(t,e),null==n?void 0:n)):void 0},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,s=0,r=e&&e.match(wt);if(r&&1===t.nodeType)for(;i=r[s++];)n=rt.propFix[i]||i,rt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),he={set:function(t,e,i){return e===!1?rt.removeAttr(t,i):t.setAttribute(i,i),i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=le[e]||rt.find.attr;le[e]=function(t,e,n){var s,r;return n||(r=le[e],le[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,le[e]=r),s}});var ce=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return kt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[rt.propFix[t]||t]})}}),rt.extend({prop:function(t,e,i){var n,s,r=t.nodeType;return 3!==r&&8!==r&&2!==r?(1===r&&rt.isXMLDoc(t)||(e=rt.propFix[e]||e,s=rt.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this});var fe=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,i,n,s,r,o,a,h=0;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];i=this[h++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(fe," ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=rt.trim(n),s!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,s,r,o,a,h=0;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];i=this[h++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(fe," ")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=rt.trim(n),s!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(i){rt(this).toggleClass(t.call(this,i,q(this),e),e)}):this.each(function(){var e,n,s,r;if("string"===i)for(n=0,s=rt(this),r=t.match(wt)||[];e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(void 0===t||"boolean"===i)&&(e=q(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(i)+" ").replace(fe," ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g;rt.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=rt.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,rt(this).val()):t,null==s?s="":"number"==typeof s?s+="":rt.isArray(s)&&(s=rt.map(s,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=rt.valHooks[s.type]||rt.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(pe,""):null==i?"":i)):void 0}}),rt.extend({valHooks:{option:{get:function(t){return rt.trim(t.value)}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,r="select-one"===t.type||0>s,o=r?null:[],a=r?s+1:n.length,h=0>s?a:r?s:0;a>h;h++)if(i=n[h],(i.selected||h===s)&&(nt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!rt.nodeName(i.parentNode,"optgroup"))){if(e=rt(i).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var i,n,s=t.options,r=rt.makeArray(e),o=s.length;o--;)n=s[o],(n.selected=rt.inArray(rt.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>-1:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var de=/^(?:focusinfocus|focusoutblur)$/;rt.extend(rt.event,{trigger:function(e,i,n,s){var r,o,a,h,l,c,u,f=[n||Y],p=it.call(e,"type")?e.type:e,d=it.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||Y,3!==n.nodeType&&8!==n.nodeType&&!de.test(p+rt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[rt.expando]?e:new rt.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:rt.makeArray(i,[e]),u=rt.event.special[p]||{},s||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!s&&!u.noBubble&&!rt.isWindow(n)){for(h=u.delegateType||p,de.test(h+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||Y)&&f.push(a.defaultView||a.parentWindow||t)}for(r=0;(o=f[r++])&&!e.isPropagationStopped();)e.type=r>1?h:u.bindType||p,c=(St.get(o,"events")||{})[e.type]&&St.get(o,"handle"),c&&c.apply(o,i),c=l&&o[l],c&&c.apply&&_t(o)&&(e.result=c.apply(o,i),e.result===!1&&e.preventDefault());return e.type=p,s||e.isDefaultPrevented()||u._default&&u._default.apply(f.pop(),i)!==!1||!_t(n)||l&&rt.isFunction(n[p])&&!rt.isWindow(n)&&(a=n[l],a&&(n[l]=null),rt.event.triggered=p,n[p](),rt.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(t,e,i){var n=rt.extend(new rt.Event,i,{type:t,isSimulated:!0});rt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}}),rt.fn.extend({trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?rt.event.trigger(t,e,i,!0):void 0}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),nt.focusin="onfocusin"in t,nt.focusin||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){rt.event.simulate(e,t.target,rt.event.fix(t))};rt.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=St.access(n,e);s||n.addEventListener(t,i,!0),St.access(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=St.access(n,e)-1;s?St.access(n,e,s):(n.removeEventListener(t,i,!0),St.remove(n,e))}}});var me=t.location,ge=rt.now(),ve=/\?/;rt.parseJSON=function(t){return JSON.parse(t+"")},rt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return(!i||i.getElementsByTagName("parsererror").length)&&rt.error("Invalid XML: "+e),i};var ye=/#.*$/,be=/([?&])_=[^&]*/,xe=/^(.*?):[ \t]*([^\r\n]*)$/gm,we=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,ke=/^\/\//,_e={},Se={},Pe="*/".concat("*"),Ce=Y.createElement("a");Ce.href=me.href,rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:we.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,rt.ajaxSettings),e):G(rt.ajaxSettings,t)},ajaxPrefilter:U(_e),ajaxTransport:U(Se),ajax:function(e,i){function n(e,i,n,a){var l,u,y,b,w,k=i;2!==x&&(x=2,h&&t.clearTimeout(h),s=void 0,o=a||"",M.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=z(f,M,n)),b=V(f,b,M,l),l?(f.ifModified&&(w=M.getResponseHeader("Last-Modified"),w&&(rt.lastModified[r]=w),w=M.getResponseHeader("etag"),w&&(rt.etag[r]=w)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=b.state,u=b.data,y=b.error,l=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),M.status=e,M.statusText=(i||k)+"",l?m.resolveWith(p,[u,k,M]):m.rejectWith(p,[M,k,y]),M.statusCode(v),v=void 0,c&&d.trigger(l?"ajaxSuccess":"ajaxError",[M,f,l?u:y]),
g.fireWith(p,[M,k]),c&&(d.trigger("ajaxComplete",[M,f]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var s,r,o,a,h,l,c,u,f=rt.ajaxSetup({},i),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?rt(p):rt.event,m=rt.Deferred(),g=rt.Callbacks("once memory"),v=f.statusCode||{},y={},b={},x=0,w="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=xe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else M.always(t[M.status]);return this},abort:function(t){var e=t||w;return s&&s.abort(e),n(0,e),this}};if(m.promise(M).complete=g.add,M.success=M.done,M.error=M.fail,f.url=((e||f.url||me.href)+"").replace(ye,"").replace(ke,me.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=rt.trim(f.dataType||"*").toLowerCase().match(wt)||[""],null==f.crossDomain){l=Y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ce.protocol+"//"+Ce.host!=l.protocol+"//"+l.host}catch(k){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=rt.param(f.data,f.traditional)),$(_e,f,i,M),2===x)return M;c=rt.event&&f.global,c&&0===rt.active++&&rt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Me.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(ve.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=be.test(r)?r.replace(be,"$1_="+ge++):r+(ve.test(r)?"&":"?")+"_="+ge++)),f.ifModified&&(rt.lastModified[r]&&M.setRequestHeader("If-Modified-Since",rt.lastModified[r]),rt.etag[r]&&M.setRequestHeader("If-None-Match",rt.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||i.contentType)&&M.setRequestHeader("Content-Type",f.contentType),M.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Pe+"; q=0.01":""):f.accepts["*"]);for(u in f.headers)M.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(f.beforeSend.call(p,M,f)===!1||2===x))return M.abort();w="abort";for(u in{success:1,error:1,complete:1})M[u](f[u]);if(s=$(Se,f,i,M)){if(M.readyState=1,c&&d.trigger("ajaxSend",[M,f]),2===x)return M;f.async&&f.timeout>0&&(h=t.setTimeout(function(){M.abort("timeout")},f.timeout));try{x=1,s.send(y,n)}catch(k){if(!(2>x))throw k;n(-1,k)}}else n(-1,"No Transport");return M},getJSON:function(t,e,i){return rt.get(t,e,i,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,i,n,s){return rt.isFunction(i)&&(s=s||n,n=i,i=void 0),rt.ajax(rt.extend({url:t,type:e,dataType:s,data:i,success:n},rt.isPlainObject(t)&&t))}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){var e;return rt.isFunction(t)?this.each(function(e){rt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=rt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(i){rt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return!rt.expr.filters.visible(t)},rt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ee=/%20/g,Te=/\[\]$/,je=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var i,n=[],s=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){s(this.name,this.value)});else for(i in t)H(i,t[i],e,s);return n.join("&").replace(Ee,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Ne.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!Lt.test(t))}).map(function(t,e){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:i.replace(je,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Le={0:200,1223:204},De=rt.ajaxSettings.xhr();nt.cors=!!De&&"withCredentials"in De,nt.ajax=De=!!De,rt.ajaxTransport(function(e){var i,n;return nt.cors||De&&!e.crossDomain?{send:function(s,r){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(o in s)a.setRequestHeader(o,s[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Le[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(h){if(i)throw h}},abort:function(){i&&i()}}:void 0}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,s){e=rt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ie=[],Oe=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||rt.expando+"_"+ge++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,i,n){var s,r,o,a=e.jsonp!==!1&&(Oe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Oe,"$1"+s):e.jsonp!==!1&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return o||rt.error(s+" was not called"),o[0]},e.dataTypes[0]="json",r=t[s],t[s]=function(){o=arguments},n.always(function(){void 0===r?rt(t).removeProp(s):t[s]=r,e[s]&&(e.jsonpCallback=i.jsonpCallback,Ie.push(s)),o&&rt.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),nt.createHTMLDocument=function(){var t=Y.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),rt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(nt.createHTMLDocument?Y.implementation.createHTMLDocument(""):Y);var n=dt.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=f([t],e,s),s&&s.length&&rt(s).remove(),rt.merge([],n.childNodes))};var Re=rt.fn.load;rt.fn.load=function(t,e,i){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var n,s,r,o=this,a=t.indexOf(" ");return a>-1&&(n=rt.trim(t.slice(a)),t=t.slice(0,a)),rt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),o.length>0&&rt.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){r=arguments,o.html(n?rt("<div>").append(rt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(o,r||[t.responseText,e,t])})}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length},rt.offset={setOffset:function(t,e,i){var n,s,r,o,a,h,l,c=rt.css(t,"position"),u=rt(t),f={};"static"===c&&(t.style.position="relative"),a=u.offset(),r=rt.css(t,"top"),h=rt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(r+h).indexOf("auto")>-1,l?(n=u.position(),o=n.top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(h)||0),rt.isFunction(e)&&(e=e.call(t,i,rt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+o),null!=e.left&&(f.left=e.left-a.left+s),"using"in e?e.using.call(t,f):u.css(f)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,i,n=this[0],s={top:0,left:0},r=n&&n.ownerDocument;return r?(e=r.documentElement,rt.contains(e,n)?(s=n.getBoundingClientRect(),i=W(r),{top:s.top+i.pageYOffset-e.clientTop,left:s.left+i.pageXOffset-e.clientLeft}):s):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0)-t.scrollTop(),n.left+=rt.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||Kt})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;rt.fn[t]=function(n){return kt(this,function(t,n,s){var r=W(t);return void 0===s?r?r[e]:t[n]:void(r?r.scrollTo(i?r.pageXOffset:s,i?s:r.pageYOffset):t[n]=s)},t,n,arguments.length)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=C(nt.pixelPosition,function(t,i){return i?(i=P(t,e),Yt.test(i)?rt(t).position()[e]+"px":i):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){rt.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||s===!0?"margin":"border");return kt(this,function(e,i,n){var s;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?rt.css(e,i,o):rt.style(e,i,n,o)},e,r?n:void 0,r,null)}})}),rt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var Fe=t.jQuery,Be=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=Be),e&&t.jQuery===rt&&(t.jQuery=Fe),rt},e||(t.jQuery=t.$=rt),rt}),define("config/settings",[],function(){"use strict";return{geocache:{auth_url:"http://geopeitus.ee",features_url:"http://www.geopeitus.ee/index.php?p=301&status[]=1&format=2",cache_url:"http://geopeitus.ee/aare/"},map:{el:"map",center:[25.5,58.5],zoom:7,extent:[21,57,29,60],baseLayers:{osm:{type:"OSM",title:"OSM",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",projection:"EPSG:3857",crossOrigin:null},ma_orto:{type:"Group",title:"Foto",projection:"EPSG:3301",layers:[{type:"XYZ",projection:"EPSG:3857",url:"http://tiles.maaamet.ee/tm/tms/1.0.0/foto@GMC/{z}/{x}/{-y}.png",minResolution:1,crossOrigin:null},{type:"TileWMS",url:"http://kaart.maaamet.ee/wms/fotokaart",params:{LAYERS:"EESTIFOTO",TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},maxResolution:1,gutter:20,crossOrigin:null}]},ma_kaart:{type:"Group",title:"Põhikaart",projection:"EPSG:3301",layers:[{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/kaart/{z}/{x}/{-y}.png",minResolution:7,crossOrigin:null},{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/epk_vv/{z}/{x}/{-y}.png",minResolution:1,maxResolution:7.8125,crossOrigin:null},{type:"TileWMS",url:"http://kaart.maaamet.ee/wms/alus",params:{LAYERS:"pohi_vv",TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},maxResolution:1,gutter:20,crossOrigin:null}]}},activeBaseLayer:"osm",geocodingEnabled:!0,locateEnabled:!0,clustered:!1,mouseCoordinates:!0,featureInfo:!0,scaleLine:!0,measureTool:!0},streetview_url:"https://www.google.com/maps/@?api=1&map_action=pano&viewpoint="}});var m,ca="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},da="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;ea("Math.cosh",function(t){if(t)return t;var e=Math.exp;return function(t){return t=Number(t),(e(t)+e(-t))/2}}),ea("Object.is",function(t){return t?t:function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}});var fa=this,ia=0;w(ja,Error);var pa=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),Sa="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,s=arguments.length;s>n;++n){var r=arguments[n];if(void 0!==r&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])}return i};Xa.prototype.offset=function(t,e,i){var n=ra(t[1]);e/=this.radius;var s=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(ra(t[0])+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(s)))/Math.PI,180*s/Math.PI]};var eb={};eb.degrees=12741994*Math.PI/360,eb.ft=.3048,eb.m=1,eb["us-ft"]=1200/3937;var fb=null;gb.prototype.C=function(){return this.b},gb.prototype.j=function(t){this.b=t,this.f=!(!this.i||!t)},w(ib,gb);var lb=6378137*Math.PI,jb=[-lb,-lb,lb,lb],kb=[-180,-85,180,85],mb=[new ib("EPSG:3857"),new ib("EPSG:102100"),new ib("EPSG:102113"),new ib("EPSG:900913"),new ib("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ib("urn:ogc:def:crs:EPSG::3857"),new ib("http://www.opengis.net/gml/srs/epsg.xml#3857")];w(rb,gb);var sb=[-180,-90,180,90],tb=6378137*Math.PI/180,ub=[new rb("CRS:84"),new rb("EPSG:4326","neu"),new rb("urn:ogc:def:crs:EPSG::4326","neu"),new rb("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new rb("urn:ogc:def:crs:OGC:1.3:CRS84"),new rb("urn:ogc:def:crs:OGC:2:84"),new rb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new rb("urn:x-ogc:def:crs:EPSG:4326","neu")],vb={},wb={},zb=new Xa(6371008.8);Fb(mb),Fb(ub),ub.forEach(function(t){mb.forEach(function(e){xb(t,e,nb),xb(e,t,pb)})});var $b=[0,0,0];Wb.prototype.C=function(){return this.l},sc.prototype.Oa=!1,sc.prototype.aa=ha,uc.prototype.preventDefault=uc.prototype.stopPropagation=function(){this.Rd=!0},w(wc,sc),wc.prototype.addEventListener=function(t,e){var i=this.K[t];i||(i=this.K[t]=[]),-1===i.indexOf(e)&&i.push(e)},wc.prototype.f=function(t){var e="string"==typeof t?new uc(t):t;t=e.type,e.target=this;var i=this.K[t];if(i){t in this.V||(this.V[t]=0,this.da[t]=0),++this.V[t];for(var n=0,s=i.length;s>n;++n)if(!1===i[n].call(this,e)||e.Rd){var r=!1;break}if(--this.V[t],0===this.V[t]){for(e=this.da[t],delete this.da[t];e--;)this.removeEventListener(t,ha);delete this.V[t]}return r}},wc.prototype.aa=function(){var t,e=pc(this);for(t in e)qc(this,t)},wc.prototype.removeEventListener=function(t,e){var i=this.K[t];i&&(e=i.indexOf(e),t in this.da?(i[e]=ha,++this.da[t]):(i.splice(e,1),0===i.length&&delete this.K[t]))},w(yc,wc),m=yc.prototype,m.D=function(){++this.i,this.f("change")},m.Pe=function(){return this.i},m.nb=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,s=Array(n),r=0;n>r;++r)s[r]=B(this,t[r],e,i);return s}return B(this,t,e,i)},m.once=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,s=Array(n),r=0;n>r;++r)s[r]=B(this,t[r],e,i,!0);return s}return B(this,t,e,i,!0)},m.cc=function(t,e,i){if(Array.isArray(t))for(var n=0,s=t.length;s>n;++n)rc(this,t[n],e,i);else rc(this,t,e,i)},w(D,yc);var zc={};m=D.prototype,m.get=function(t){var e;return this.u.hasOwnProperty(t)&&(e=this.u[t]),e},m.Rf=function(){return Object.keys(this.u)},m.Ma=function(){return Sa({},this.u)},m.set=function(t,e,i){i?this.u[t]=e:(i=this.u[t],this.u[t]=e,i!==e&&Gc(this,t,i))},m.va=function(t,e){for(var i in t)this.set(i,t[i],e)},m.Jg=function(t,e){if(t in this.u){var i=this.u[t];delete this.u[t],e||Gc(this,t,i)}},w(Hc,uc),w(J,D),m=J.prototype,m.clear=function(){for(;0<this.Wa();)this.pop()},m.forEach=function(t,e){t=e?t.bind(e):t,e=this.a;for(var i=0,n=e.length;n>i;++i)t(e[i],i,e)},m.Le=function(){return this.a},m.item=function(t){return this.a[t]},m.Wa=function(){return this.get(Kc)},m.Pb=function(t,e){this.b&&Ic(this,e),this.a.splice(t,0,e),Jc(this),this.f(new Lc("add",e))},m.pop=function(){return this.Nc(this.Wa()-1)},m.push=function(t){this.b&&Ic(this,t);var e=this.Wa();return this.Pb(e,t),this.Wa()},m.remove=function(t){var e,i=this.a,n=0;for(e=i.length;e>n;++n)if(i[n]===t)return this.Nc(n)},m.Nc=function(t){var e=this.a[t];return this.a.splice(t,1),Jc(this),this.f(new Lc("remove",e)),e},m.Ag=function(t,e){var i=this.Wa();if(i>t)this.b&&Ic(this,e,t),i=this.a[t],this.a[t]=e,this.f(new Lc("remove",i)),this.f(new Lc("add",e));else{for(;t>i;++i)this.Pb(i,void 0);this.Pb(t,e)}};var Kc="length";w(Lc,uc),w(Mc,uc),w(Nc,Mc),Nc.prototype.preventDefault=function(){Mc.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Nc.prototype.stopPropagation=function(){Mc.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Oc="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Pc=-1!==Oc.indexOf("firefox"),Qc=-1!==Oc.indexOf("safari")&&-1==Oc.indexOf("chrom"),Rc=-1!==Oc.indexOf("webkit")&&-1==Oc.indexOf("edge"),Sc=-1!==Oc.indexOf("macintosh"),Tc=window.devicePixelRatio||1,Uc=!1;!function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return t?(void 0!==t.setLineDash&&(Uc=!0),!0):!1}catch(e){return!1}}();var Vc="geolocation"in navigator,Wc="ontouchstart"in window,Xc="PointerEvent"in window,Yc=!!navigator.msPointerEnabled,Zc={Yg:"singleclick",Ng:"click",Og:"dblclick",Rg:"pointerdrag",Ug:"pointermove",Qg:"pointerdown",Xg:"pointerup",Wg:"pointerover",Vg:"pointerout",Sg:"pointerenter",Tg:"pointerleave",Pg:"pointercancel"};w($c,Nc),w(bd,ad),m=bd.prototype,m.vf=function(t){if(!cd(this,t)){1..toString()in this.f&&this.cancel(t);var e=dd(t);this.f[1..toString()]=t,fd(this.a,"pointerdown",e,t)}},m.wf=function(t){if(!cd(this,t)){var e=dd(t);fd(this.a,"pointermove",e,t)}},m.zf=function(t){if(!cd(this,t)){var e=this.f[1..toString()];e&&e.button===t.button&&(e=dd(t),fd(this.a,"pointerup",e,t),delete this.f[1..toString()])}},m.yf=function(t){if(!cd(this,t)){var e=dd(t);gd(this.a,e,t)}},m.xf=function(t){if(!cd(this,t)){var e=dd(t);hd(this.a,e,t)}},m.cancel=function(t){var e=dd(t);this.a.cancel(e,t),delete this.f[1..toString()]},w(id,ad),m=id.prototype,m.Ef=function(t){this.f[t.pointerId.toString()]=t;var e=qd(this,t);fd(this.a,"pointerdown",e,t)},m.Ff=function(t){var e=qd(this,t);fd(this.a,"pointermove",e,t)},m.If=function(t){var e=qd(this,t);fd(this.a,"pointerup",e,t),delete this.f[t.pointerId.toString()]},m.Gf=function(t){var e=qd(this,t);hd(this.a,e,t)},m.Hf=function(t){var e=qd(this,t);gd(this.a,e,t)},m.Df=function(t){var e=qd(this,t);this.a.cancel(e,t),delete this.f[t.pointerId.toString()]},m.Cf=function(t){this.a.f(new rd("lostpointercapture",t,t))},m.Bf=function(t){this.a.f(new rd("gotpointercapture",t,t))},w(sd,ad),m=sd.prototype,m.pg=function(t){td(this.a,t)},m.qg=function(t){td(this.a,t)},m.tg=function(t){td(this.a,t)},m.rg=function(t){td(this.a,t)},m.sg=function(t){td(this.a,t)},m.og=function(t){td(this.a,t)},m.sf=function(t){td(this.a,t)},m.Te=function(t){td(this.a,t)},w(rd,uc);var wd=!1;try{wd=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}w(xd,ad),m=xd.prototype,m.Ud=function(){this.g=0,this.b=void 0},m.Ig=function(t){var e=t.touches,i=Object.keys(this.f),n=i.length;if(n>=e.length){var s,r=[];for(s=0;n>s;++s){var o,a=i[s],h=this.f[a];if(!(o=1==a))t:{for(var l=e.length,c=0;l>c;c++)if(o=e[c],o.identifier===a-2){o=!0;break t}o=!1}o||r.push(h.out)}for(s=0;s<r.length;++s)this.mc(t,r[s])}e=t.changedTouches[0],i=Object.keys(this.f).length,(0===i||1===i&&1..toString()in this.f)&&(this.i=e.identifier,void 0!==this.b&&clearTimeout(this.b)),Ad(this,t),this.g++,zd(this,t,this.ng)},m.ng=function(t,e){this.f[e.pointerId]={target:e.target,out:e,Pd:e.target};var i=this.a;e.bubbles=!0,fd(i,"pointerover",e,t),i=this.a,e.bubbles=!1,fd(i,"pointerenter",e,t),fd(this.a,"pointerdown",e,t)},m.Hg=function(t){t.preventDefault(),zd(this,t,this.Af)},m.Af=function(t,e){var i=this.f[e.pointerId];if(i){var n=i.out,s=i.Pd;fd(this.a,"pointermove",e,t),n&&s!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=s,n.target=s,e.target?(hd(this.a,n,t),gd(this.a,e,t)):(e.target=s,e.relatedTarget=null,this.mc(t,e))),i.out=e,i.Pd=e.target}},m.Gg=function(t){Ad(this,t),zd(this,t,this.Kg)},m.Kg=function(t,e){fd(this.a,"pointerup",e,t),this.a.out(e,t),Bd(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.i=void 0,this.b=setTimeout(this.Ud.bind(this),200))},m.Fg=function(t){zd(this,t,this.mc)},m.mc=function(t,e){this.a.cancel(e,t),this.a.out(e,t),Bd(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.i=void 0,this.b=setTimeout(this.Ud.bind(this),200))},w(Cd,wc),Cd.prototype.b=function(t){var e=this.c[t.type];e&&e(t)},Cd.prototype.out=function(t,e){t.bubbles=!0,fd(this,"pointerout",t,e)},Cd.prototype.cancel=function(t,e){fd(this,"pointercancel",t,e)},Cd.prototype.aa=function(){for(var t,e=this.a.length,i=0;e>i;i++)t=this.a[i],Fd(this,Object.keys(t.c));wc.prototype.aa.call(this)};var Gd=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];w(Hd,wc),m=Hd.prototype,m.vd=function(t){Jd(this,t);var e=new $c("pointerup",this.i,t);this.f(e),e.Rd||this.u||0!==t.button||Id(this,this.b),0===this.v&&(this.c.forEach(z),this.c.length=0,this.u=!1,this.b=null,tc(this.a),this.a=null)},m.bf=function(t){Jd(this,t);var e=new $c("pointerdown",this.i,t);this.f(e),this.b=t,0===this.c.length&&(this.a=new Cd(document),this.c.push(B(this.a,"pointermove",this.Qf,this),B(this.a,"pointerup",this.vd,this),B(this.g,"pointercancel",this.vd,this)))},m.Qf=function(t){if(Kd(this,t)){this.u=!0;var e=new $c("pointerdrag",this.i,t,this.u);this.f(e)}t.preventDefault()},m.wg=function(t){this.f(new $c(t.type,this.i,t,!(!this.b||!Kd(this,t))))},m.aa=function(){this.s&&(z(this.s),this.s=null),this.l&&(z(this.l),this.l=null),this.c.forEach(z),this.c.length=0,this.a&&(tc(this.a),this.a=null),this.g&&(tc(this.g),this.g=null),wc.prototype.aa.call(this)},Ld.prototype.clear=function(){this.a.length=0,this.f.length=0,Ua(this.i)},Ld.prototype.j=function(t){y(!(this.b(t)in this.i),31);var e=this.l(t);return 1/0!=e?(this.a.push(t),this.f.push(e),this.i[this.b(t)]=!0,Md(this,0,this.a.length-1),!0):!1},w(Od,Ld),Od.prototype.j=function(t){var e=Ld.prototype.j.call(this,t);return e&&B(t[0],"change",this.u,this),e},Od.prototype.u=function(t){t=t.target;var e=t.state;(2===e||3===e||4===e||5===e)&&(rc(t,"change",this.u,this),t=t.Xa(),t in this.c&&(delete this.c[t],--this.g),this.s())};var re=Array(6);w(ye,D),ye.prototype.C=function(t){this.A!=this.i&&(this.s=this.Ib(this.s),this.A=this.i);var e=this.s;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},ye.prototype.Ya=function(t,e){var i=this.$;t=Bb(t);var n="tile-pixels"==t.a?function(n,s,r){var o=t.C(),a=t.Sc;return o=Na(a)/Na(o),xe(i,a[0],a[3],o,-o,0,0,0),qe(n,0,n.length,r,i,s),Lb(t,e)(n,s,r)}:Lb(t,e);return this.sb(n),this},w(ze,ye),m=ze.prototype,m.Ib=function(t){return Ha(this.o,0,this.o.length,this.a,t)},m.X=function(){return this.o},m.Lb=function(t){if(this.l!=this.i&&(Ua(this.c),this.g=0,this.l=this.i),0>t||0!==this.g&&t<=this.g)return this;var e=t.toString();if(this.c.hasOwnProperty(e))return this.c[e];var i=this.ib(t);return i.X().length<this.o.length?this.c[e]=i:(this.g=t,this)},m.ib=function(){return this},m.Z=function(){return this.a},m.sb=function(t){this.o&&(t(this.o,this.o,this.a),this.D())},m.rotate=function(t,e){var i=this.X();if(i){var n=i.length,s=this.Z(),r=i?i:[],o=Math.cos(t);t=Math.sin(t);var a=e[0];e=e[1];for(var h=0,l=0;n>l;l+=s){var c=i[l]-a,u=i[l+1]-e;for(r[h++]=a+c*o-u*t,r[h++]=e+c*t+u*o,c=l+2;l+s>c;++c)r[h++]=i[c]}i&&r.length!=h&&(r.length=h),this.D()}},m.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var s=i;if(s||(s=Oa(this.C())),i=this.X()){e=i.length;var r=this.Z(),o=i?i:[],a=s[0];s=s[1];for(var h=0,l=0;e>l;l+=r){var c=i[l]-a,u=i[l+1]-s;for(o[h++]=a+t*c,o[h++]=s+n*u,c=l+2;l+r>c;++c)o[h++]=i[c]}i&&o.length!=h&&(o.length=h),this.D()}},w(Qe,ze),m=Qe.prototype,m.clone=function(){var t=new Qe(null);return Be(t,this.U,this.o.slice()),t.D(),t},m.Ja=function(t,e,i,n){return n<Ba(this.C(),t,e)?n:(this.b!=this.i&&(this.j=Math.sqrt(Ee(this.o,0,this.o.length,this.a,0)),this.b=this.i),Ge(this.o,0,this.o.length,this.a,this.j,!0,t,e,i,n))},m.I=function(){return Le(this.o,0,this.o.length,this.a)},m.ib=function(t){var e=[];return e.length=Oe(this.o,0,this.o.length,this.a,t,e,0),t=new Qe(null),Be(t,"XY",e),t.D(),t},m.F=function(){return"LinearRing"},m.ga=function(t,e){t?(Ce(this,e,t,1),this.o||(this.o=[]),this.o.length=Je(this.o,0,t,this.a)):Be(this,"XY",null),this.D()},w(Re,ze),m=Re.prototype,m.clone=function(){var t=new Re(null);return Be(t,this.U,this.o.slice()),t.D(),t},m.Ja=function(t,e,i,n){var s=this.o;if(t=qa(t,e,s[0],s[1]),n>t){for(n=this.a,e=0;n>e;++e)i[e]=s[e];return i.length=n,t}return n},m.I=function(){return this.o?this.o.slice():[]},m.Ib=function(t){return Ga(this.o,t)},m.F=function(){return"Point"},m.ga=function(t,e){t?(Ce(this,e,t,0),this.o||(this.o=[]),this.o.length=Ie(this.o,t)):Be(this,"XY",null),this.D()},w(df,ze),m=df.prototype,m.clone=function(){var t=new df(null);return ef(t,this.U,this.o.slice(),this.b.slice()),t},m.Ja=function(t,e,i,n){return n<Ba(this.C(),t,e)?n:(this.G!=this.i&&(this.J=Math.sqrt(Fe(this.o,0,this.b,this.a,0)),this.G=this.i),He(this.o,0,this.b,this.a,this.J,!0,t,e,i,n))},m.I=function(t){if(void 0!==t){var e=this.Za().slice();bf(e,0,this.b,this.a,t)}else e=this.o;return Me(e,0,this.b,this.a)},m.Da=function(){return this.b},m.Ac=function(){if(this.v!=this.i){var t=Oa(this.C());this.B=Te(this.Za(),0,this.b,this.a,t,0),this.v=this.i}return this.B},m.Za=function(){if(this.L!=this.i){var t=this.o;Ve(t,this.b,this.a)?this.j=t:(this.j=t.slice(),this.j.length=bf(this.j,0,this.b,this.a)),this.L=this.i}return this.j},m.ib=function(t){var e=[],i=[];return e.length=Pe(this.o,0,this.b,this.a,Math.sqrt(t),e,0,i),t=new df(null),ef(t,"XY",e,i),t},m.F=function(){return"Polygon"},m.ga=function(t,e){t?(Ce(this,e,t,2),this.o||(this.o=[]),t=Ke(this.o,0,t,this.a,this.b),this.o.length=0===t.length?0:t[t.length-1],this.D()):ef(this,"XY",null,this.b)},w(gf,D),m=gf.prototype,m.animate=function(t){var e=arguments.length;if(e>1&&"function"==typeof arguments[e-1]){var i=arguments[e-1];--e}if(hf(this)){for(var n=Date.now(),s=this.ba().slice(),r=this.ua(),o=this.ya(),a=[],h=0;e>h;++h){var l=arguments[h],c={start:n,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||me};l.center&&(c.Ab=s,c.Cb=l.center,s=c.Cb),void 0!==l.zoom?(c.Bb=r,c.bb=this.constrainResolution(this.c,l.zoom-this.s,0),r=c.bb):l.resolution&&(c.Bb=r,c.bb=l.resolution,r=c.bb),void 0!==l.rotation&&(c.$b=o,c.Db=o+(sa(l.rotation-o+Math.PI,2*Math.PI)-Math.PI),o=c.Db),c.callback=i,c.Ab&&c.Cb&&!$d(c.Ab,c.Cb)||c.Bb!==c.bb||c.$b!==c.Db?n+=c.duration:c.complete=!0,a.push(c)}this.g.push(a),jf(this,0,1),this.dc()}else e=arguments[e-1],e.center&&this.Ba(e.center),void 0!==e.zoom&&this.Xd(e.zoom),void 0!==e.rotation&&this.Rb(e.rotation),i&&i(!0)},m.dc=function(){if(void 0!==this.A&&(cancelAnimationFrame(this.A),this.A=void 0),0<this.a[0]){for(var t=Date.now(),e=!1,i=this.g.length-1;i>=0;--i){for(var n=this.g[i],s=!0,r=0,o=n.length;o>r;++r){var a=n[r];if(!a.complete){if(e=t-a.start,e=0<a.duration?e/a.duration:1,e>=1?(a.complete=!0,e=1):s=!1,e=a.easing(e),a.Ab){var h=a.Ab[0],l=a.Ab[1];this.set("center",[h+e*(a.Cb[0]-h),l+e*(a.Cb[1]-l)])}if(a.Bb&&a.bb&&(h=1===e?a.bb:a.Bb+e*(a.bb-a.Bb),a.anchor&&this.set("center",lf(this,h,a.anchor)),this.set("resolution",h)),void 0!==a.$b&&void 0!==a.Db&&(e=1===e?sa(a.Db+Math.PI,2*Math.PI)-Math.PI:a.$b+e*(a.Db-a.$b),a.anchor&&this.set("center",mf(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}s&&(this.g[i]=null,jf(this,0,-1),(n=n[0].callback)&&n(!0))}this.g=this.g.filter(Boolean),e&&void 0===this.A&&(this.A=requestAnimationFrame(this.dc))}},m.constrainResolution=function(t,e,i){return this.b.resolution(t,e||0,i||0)},m.constrainRotation=function(t,e){return this.b.rotation(t,e||0)},m.ba=function(){return this.get("center")},m.Tf=function(){return this.v},m.ua=function(){return this.get("resolution")},m.ya=function(){return this.get("rotation")},m.td=function(){var t=this.ua();if(void 0!==t){var e,i=this.s||0;if(this.j){i=e=Qb(this.j,t,1);var n=this.j[e];e=e==this.j.length-1?2:n/this.j[e+1]}else n=this.c,e=this.B;i+=Math.log(n/t)/Math.log(e)}return i},m.Ce=function(t,e){e=e||{};var i=e.size;if(i||(i=nf(this)),t instanceof ze)if("Circle"===t.F()){t=t.C();var n=ff(t);n.rotate(this.ya(),Oa(t))}else n=t;else y(Array.isArray(t),24),y(!La(t),25),n=ff(t);var s,r=void 0!==e.padding?e.padding:[0,0,0,0],o=void 0!==e.constrainResolution?e.constrainResolution:!0,a=void 0!==e.nearest?e.nearest:!1;s=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.c,e.maxZoom-this.s,0):0;var h=n.X(),l=this.ya();t=Math.cos(-l),l=Math.sin(-l);var c=1/0,u=1/0,f=-(1/0),p=-(1/0);n=n.Z();for(var d=0,m=h.length;m>d;d+=n){var g=h[d]*t-h[d+1]*l,v=h[d]*l+h[d+1]*t;c=Math.min(c,g),u=Math.min(u,v),f=Math.max(f,g),p=Math.max(p,v)}i=of(this,[c,u,f,p],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i=isNaN(i)?s:Math.max(i,s),o&&(s=this.constrainResolution(i,0,0),!a&&i>s&&(s=this.constrainResolution(s,-1,0)),i=s),l=-l,s=(c+f)/2+(r[1]-r[3])/2*i,r=(u+p)/2+(r[0]-r[2])/2*i,t=[s*t-r*l,r*t+s*l],r=e.callback?e.callback:ha,void 0!==e.duration?this.animate({resolution:i,center:t,duration:e.duration,easing:e.easing},r):(qf(this,i),this.Ba(t),setTimeout(r.bind(void 0,!0),0))},m.rotate=function(t,e){void 0!==e&&(e=mf(this,t,e),this.Ba(e)),this.Rb(t)},m.Ba=function(t){this.set("center",t),0<this.a[0]&&kf(this)},m.Rb=function(t){this.set("rotation",t),0<this.a[0]&&kf(this)},m.Xd=function(t){qf(this,this.constrainResolution(this.c,t-this.s,0))},w(tf,D),m=tf.prototype,m.F=function(){return this.type},m.C=function(){return this.get("extent")},m.wb=function(){return this.get("visible")},m.la=function(){return this.get("zIndex")},m.Bg=function(t){this.set("maxResolution",t)},m.Cg=function(t){this.set("minResolution",t);
},m.lg=function(t){this.set("visible",t)},w(vf,tf),m=vf.prototype,m.Ob=function(){this.D()},m.Ye=function(){this.c.forEach(z),this.c.length=0;var t=this.Sb();this.c.push(B(t,"add",this.Xe,this),B(t,"remove",this.Ze,this));for(var e in this.b)this.b[e].forEach(z);Ua(this.b),t=t.a;var i;for(e=0,i=t.length;i>e;e++){var n=t[e];this.b[x(n).toString()]=[B(n,"propertychange",this.Ob,this),B(n,"change",this.Ob,this)]}this.D()},m.Xe=function(t){t=t.element;var e=x(t).toString();this.b[e]=[B(t,"propertychange",this.Ob,this),B(t,"change",this.Ob,this)],this.D()},m.Ze=function(t){t=x(t.element).toString(),this.b[t].forEach(z),delete this.b[t],this.D()},m.Sb=function(){return this.get(wf)},m.Ec=function(t){var e=void 0!==t?t:[],i=e.length;this.Sb().forEach(function(t){t.Ec(e)}),t=uf(this);var n;for(n=e.length;n>i;i++){var s=e[i];s.opacity*=t.opacity,s.visible=s.visible&&t.visible,s.maxResolution=Math.min(s.maxResolution,t.maxResolution),s.minResolution=Math.max(s.minResolution,t.minResolution),void 0!==t.extent&&(s.extent=void 0!==s.extent?Qa(s.extent,t.extent):t.extent)}return e},m.Hc=function(){return"ready"};var wf="layers",xf=[],yf=[];w(Ff,D),m=Ff.prototype,m.pe=function(t){this.controls.push(t)},m.qe=function(t){this.interactions.push(t)},m.re=function(t){this.B.push(t)},m.dd=function(t){var e=t.id;void 0!==e&&(this.Qd[e.toString()]=t),t.setMap(this)},m.aa=function(){tc(this.ea),rc(this.a,"wheel",this.jb,this),rc(this.a,"mousewheel",this.jb,this),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.set("target",null),D.prototype.aa.call(this)},m.Fe=function(t,e,i){return this.b?(t=this.xa(t),i=void 0!==i?i:{},this.ab.wa(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:oe,null)):void 0},m.qf=function(t,e){if(!this.b)return!1;t=this.xa(t),e=void 0!==e?e:{};var i=this.ab;return void 0!==i.wa(t,this.b,void 0!==e.hitTolerance?e.hitTolerance*this.b.pixelRatio:0,oe,i,void 0!==e.layerFilter?e.layerFilter:oe,null)},m.Me=function(t){return this.xa(this.Kb(t))},m.Kb=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},m.Ic=function(){return this.get("target")},m.xa=function(t){var e=this.b;return e?we(e.pixelToCoordinateTransform,t.slice()):null},m.Oe=function(){return this.interactions},m.Sf=function(){return this.get("layergroup").Sb()},m.ra=function(t){var e=this.b;return e?we(e.coordinateToPixelTransform,t.slice(0,2)):null},m.Gc=function(){return this.ab},m.kb=function(){return this.get("size")},m.T=function(){return this.get("view")},m.Se=function(){return this.a},m.Re=function(t,e,i,n){var s=this.b;return s&&e in s.wantedTiles&&s.wantedTiles[e][t.Xa()]?(t=i[0]-s.focus[0],i=i[1]-s.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},m.jb=function(t,e){t=new Nc(e||t.type,this,t),this.ud(t)},m.ud=function(t){if(this.b){this.L=t.coordinate,t.frameState=this.b;var e,i=this.interactions.a;if(!1!==this.f(t))for(e=i.length-1;e>=0;e--){var n=i[e];if(n.get("active")&&!n.handleEvent(t))break}}},m.ef=function(){var t=this.b,e=this.Aa;if(0!==e.a.length){var i=16,n=i;if(t){var s=t.viewHints;s[0]&&(i=this.Ia?8:0,n=2),s[1]&&(i=this.Pa?8:0,n=2)}if(e.g<i){s=e.l;var r,o=e.a,a=e.f,h=0,l=o.length;for(r=0;l>r;++r){var c=o[r],u=s(c);1/0==u?delete e.i[e.b(c)]:(a[h]=u,o[h++]=c)}for(o.length=h,a.length=h,s=(e.a.length>>1)-1;s>=0;s--)Nd(e,s);for(s=0,o=!1;e.g<i&&n>s&&0<e.a.length;)a=e,l=a.a,c=a.f,h=l[0],1==l.length?(l.length=0,c.length=0):(l[0]=l.pop(),c[0]=c.pop(),Nd(a,0)),l=a.b(h),delete a.i[l],h=h[0],l=h.Xa(),a=h.state,5===a?o=!0:0!==a||l in e.c||(e.c[l]=!0,++e.g,++s,h.load());0===s&&o&&e.s()}}for(e=this.ia,n=0,i=e.length;i>n;++n)e[n](this,t);e.length=0},m.ff=function(){this.render()},m.lf=function(){var t;if(this.Ic()&&(t=Hf(this)),this.l){for(var e=0,i=this.l.length;i>e;++e)z(this.l[e]);this.l=null}if(t){t.appendChild(this.a);var n=this.$?this.$:t;this.l=[B(n,"keydown",this.jb,this),B(n,"keypress",this.jb,this)],this.c||(this.c=this.ae.bind(this),window.addEventListener("resize",this.c,!1))}else{t=this.ab;for(n in t.f)tc(If(t,n));sf(this.a),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0)}this.ae()},m.mf=function(){this.render()},m.wd=function(){this.render()},m.pf=function(){this.J&&(z(this.J),this.J=null),this.G&&(z(this.G),this.G=null);var t=this.T();t&&(this.a.setAttribute("data-view",x(t)),this.J=B(t,"propertychange",this.wd,this),this.G=B(t,"change",this.wd,this)),this.render()},m.We=function(){this.v&&(this.v.forEach(z),this.v=null);var t=this.get("layergroup");t&&(this.v=[B(t,"propertychange",this.render,this),B(t,"change",this.render,this)]),this.render()},m.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.Ca))},m.xg=function(t){return this.interactions.remove(t)},m.yg=function(){var t,e=Date.now(),i=this.kb(),n=this.T(),s=xa(),r=this.b,o=null;if(void 0!==i&&0<i[0]&&0<i[1]&&n&&hf(n)){o=this.b?this.b.viewHints:void 0,void 0!==o?(o[0]=n.a[0],o[1]=n.a[1]):o=n.a.slice();var a=this.get("layergroup").Ec(),h={},l=0;for(t=a.length;t>l;++l)h[x(a[l].layer)]=a[l];l=pf(n),n=l.center,t=l.resolution/this.ha,n[0]=Math.round(n[0]/t)*t,n[1]=Math.round(n[1]/t)*t,o={animate:!1,coordinateToPixelTransform:this.Ga,extent:s,focus:this.L?this.L:n,index:this.Ha++,layerStates:h,layerStatesArray:a,logos:Sa({},this.ec),pixelRatio:this.ha,pixelToCoordinateTransform:this.fc,postRenderFunctions:[],size:i,skippedFeatureUids:this.gc,tileQueue:this.Aa,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{}}}o&&(o.extent=Pa(l.center,l.resolution,l.rotation,o.size,s)),this.b=o,this.ab.j(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.ia,o.postRenderFunctions),!r||this.g&&(La(this.g)||Ia(o.extent,this.g))||(this.f(new Mc("movestart",this,r)),this.g=Fa(this.g)),!this.g||o.viewHints[0]||o.viewHints[1]||Ia(o.extent,this.g)||(this.f(new Mc("moveend",this,o)),Aa(o.extent,this.g))),this.f(new Mc("postrender",this,o)),setTimeout(this.ef.bind(this),0)},m.ae=function(){var t=Hf(this);if(t){var e=getComputedStyle(t);this.set("size",[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set("size",void 0)};var Jf=["canvas","webgl"];w(Kf,D),Kf.prototype.aa=function(){sf(this.element),D.prototype.aa.call(this)},Kf.prototype.setMap=function(t){this.b&&sf(this.element);for(var e=0,i=this.l.length;i>e;++e)z(this.l[e]);this.l.length=0,(this.b=t)&&((this.G?this.G:t.s).appendChild(this.element),this.render!==ha&&this.l.push(B(t,"postrender",this.render,this)),t.render())};var Lf=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}();w(Mf,tf),m=Mf.prototype,m.Ec=function(t){return t=t?t:[],t.push(uf(this)),t},m.fa=function(){return this.get("source")||null},m.Hc=function(){var t=this.fa();return t?t.ha:"undefined"},m.hf=function(){this.D()},m.jf=function(){this.l&&(z(this.l),this.l=null);var t=this.fa();t&&(this.l=B(t,"change",this.hf,this)),this.D()},m.setMap=function(t){this.c&&(z(this.c),this.c=null),t||this.D(),this.g&&(z(this.g),this.g=null),t&&(this.c=B(t,"precompose",function(t){var e=uf(this);e.Jc=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[x(this)]=e},this),this.g=B(this,"change",t.render,t),this.D())},w(Nf,Kf),Nf.prototype.L=function(t){if(t.preventDefault(),this.element.classList.toggle("ol-collapsed"),this.a){t=this.s;var e=t.parentNode;e&&e.replaceChild(this.j,t)}else t=this.j,(e=t.parentNode)&&e.replaceChild(this.s,t);this.a=!this.a},w(Pf,Kf),Pf.prototype.A=function(t){t.preventDefault(),void 0!==this.g?this.g():(t=this.b.T())&&void 0!==t.ya()&&(0<this.j?t.animate({rotation:0,duration:this.j,easing:le}):t.Rb(0))},w(Rf,Kf),Rf.prototype.c=function(t,e){if(e.preventDefault(),e=this.b.T()){var i=e.ua();i&&(t=e.constrainResolution(i,t),0<this.a?(0<e.a[0]&&kf(e),e.animate({resolution:t,duration:this.a,easing:le})):qf(e,t))}},w(Wf,D),Wf.prototype.lb=function(t){this.set("active",t)},Wf.prototype.setMap=function(t){this.A=t},w($f,Wf),w(ig,Wf),ig.prototype.qb=function(t){return t},w(lg,ig),lg.prototype.qb=pe,w(pg,ig),pg.prototype.qb=pe,w(tg,sc),tg.prototype.aa=function(){this.setMap(null)},tg.prototype.setMap=function(t){if(this.a){this.a.A.removeChild(this.f);var e=this.f.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.A.appendChild(this.f)},tg.prototype.S=function(){return this.Va},w(wg,ig),wg.prototype.S=function(){return this.a.S()},wg.prototype.g=ha;var Eg="boxstart",Cg="boxdrag",Dg="boxend";w(Bg,uc),w(Fg,wg),Fg.prototype.g=function(){var t=this.A,e=t.T(),i=t.kb(),n=this.S().C();if(this.J){var s=i||nf(e),r=e.ba();y(r,1);var o=e.ua();y(void 0!==o,2);var a=e.ya();for(y(void 0!==a,3),s=Pa(r,o,a,s),n=[t.ra([n[0],n[1]]),t.ra([n[2],n[3]])],t=Fa(void 0),r=0,o=n.length;o>r;++r)ya(t,n[r]);t=1/of(e,t,i),n=(s[2]-s[0])/2*(t-1),t=(s[3]-s[1])/2*(t-1),s[0]-=n,s[2]+=n,s[1]-=t,s[3]+=t,n=s}i=e.constrainResolution(of(e,n,i)),s=Oa(n),s=e.b.center(s),e.animate({resolution:i,center:s,duration:this.B,easing:le})},w(Gg,Wf),w(Ig,Wf),w(Kg,Wf),Kg.prototype.v=function(){this.j=void 0,jf(this.A.T(),1,-1)},Kg.prototype.B=function(t){t=t.T(),0<t.a[0]&&kf(t),Yf(t,-oa(this.g,-1,1),this.a,this.s),this.c=void 0,this.g=0,this.a=null,this.l=this.b=void 0};var Mg="trackpad",Ng="wheel";w(Og,ig),Og.prototype.qb=pe,w(Sg,ig),Sg.prototype.qb=pe,w(gh,wc),gh.prototype.C=function(){return this.extent},w(hh,gh),hh.prototype.a=function(t){this.state=t?3:2,this.f("change")},hh.prototype.load=function(){0==this.state&&(this.state=1,this.f("change"),this.c(this.a.bind(this)))},hh.prototype.W=function(){return this.b},w(ih,uc),w(jh,wc),m=jh.prototype,m.clear=function(){this.c=0,this.b={},this.a=this.i=null,this.f("clear")},m.forEach=function(t,e){for(var i=this.i;i;)t.call(e,i.cb,i.Ka,this),i=i.ta},m.get=function(t){return t=this.b[t],y(void 0!==t,15),t===this.a?t.cb:(t===this.i?(this.i=this.i.ta,this.i.Fa=null):(t.ta.Fa=t.Fa,t.Fa.ta=t.ta),t.ta=null,t.Fa=this.a,this.a=this.a.ta=t,t.cb)},m.remove=function(t){var e=this.b[t];return y(void 0!==e,15),e===this.a?(this.a=e.Fa)&&(this.a.ta=null):e===this.i?(this.i=e.ta)&&(this.i.Fa=null):(e.ta.Fa=e.Fa,e.Fa.ta=e.ta),delete this.b[t],--this.c,e.cb},m.pop=function(){var t=this.i;return delete this.b[t.Ka],t.ta&&(t.ta.Fa=null),this.i=t.ta,this.i||(this.a=null),--this.c,t.cb},m.set=function(t,e){y(!(t in this.b),16),e={Ka:t,ta:null,Fa:this.a,cb:e},this.a?this.a.ta=e:this.i=e,this.a=e,this.b[t]=e,++this.c};var mh=[0,0,0,1],nh=[],oh=[0,0,0,1],ph=[0,0,0,0],qh=new jh,rh={},sh=null,th={},vh=function(){function t(t){var e=uh();e.font="32px monospace",n=e.measureText("wmytzilWMYTZIL@#/&?$%10").width;var i=!0;return"monospace"!=t&&(e.font="32px "+t+",monospace",i=e.measureText("wmytzilWMYTZIL@#/&?$%10").width!=n),i}function e(){var e,n=!0;for(e in s)60>s[e]&&(t(e)?(s[e]=60,Ua(th),sh=null,r.clear()):(++s[e],n=!1));n&&(window.clearInterval(i),i=void 0)}var i,n,s=rh,r=qh;return function(n){if(n=Lf(n))for(var r=0,o=n.length;o>r;++r){var a=n[r];a in s||(s[a]=60,t(a)||(s[a]=0,void 0===i&&(i=window.setInterval(e,32))))}}}(),wh=function(){var t;return function(e){var i=th[e];return void 0==i&&(t||(t=document.createElement("span"),t.textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=e,document.body.appendChild(t),i=th[e]=t.offsetHeight,document.body.removeChild(t)),i}}(),zh=se(),Bh=/^#(?:[0-9a-f]{3,4}){1,2}$/i,Ch=/^([a-z]*)$/i,Fh=function(){var t={},e=0;return function(i){if(t.hasOwnProperty(i))var n=t[i];else{if(e>=1024){n=0;for(var s in t)0===(3&n++)&&(delete t[s],--e)}if(n=i,Ch.exec(n)&&(s=document.createElement("div"),s.style.color=n,document.body.appendChild(s),n=getComputedStyle(s).color,document.body.removeChild(s)),Bh.exec(n)){s=n.length-1;var r=4>=s?1:2,o=4===s||8===s;s=parseInt(n.substr(1+0*r,r),16);var a=parseInt(n.substr(1+1*r,r),16),h=parseInt(n.substr(1+2*r,r),16);n=o?parseInt(n.substr(1+3*r,r),16):255,1==r&&(s=(s<<4)+s,a=(a<<4)+a,h=(h<<4)+h,o&&(n=(n<<4)+n)),r=[s,a,h,n/255]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),r=Eh(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),r=Eh(n)):y(!1,14);n=r,t[i]=n,++e}return n}}();m=Hh.prototype,m.ld=function(){},m.rc=function(){},m.sc=function(){},m.tc=function(){},m.uc=function(){},m.vc=function(){},m.wc=function(){},m.xc=function(){},m.Ra=function(){},m.Ua=function(){},m.Yb=function(){},m.Na=function(){},w(Ih,Hh),m=Ih.prototype,m.rc=function(t){if(Ra(this.c,t.C())){if(this.f||this.a){this.f&&Lh(this,this.f),this.a&&Mh(this,this.a);var e=this.A,i=this.K,n=t.X();e=n?qe(n,0,n.length,t.Z(),e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.i,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.f&&n.fill(),this.a&&n.stroke()}""!==this.ca&&Kh(this,t.ba(),2,2)}},m.wc=function(t){var e=t.X();t=t.Z(),this.H&&Jh(this,e,e.length),""!==this.ca&&Kh(this,e,e.length,t)},m.uc=function(t){var e=t.X();t=t.Z(),this.H&&Jh(this,e,e.length),""!==this.ca&&Kh(this,e,e.length,t)},m.sc=function(t){if(Ra(this.c,t.C())){if(this.a){Mh(this,this.a);var e=this.i,i=t.X();e.beginPath(),Nh(this,i,0,i.length,t.Z(),!1),e.stroke()}""!==this.ca&&(t=t.Bc(),Kh(this,t,2,2))}},m.tc=function(t){var e=t.C();if(Ra(this.c,e)){if(this.a){Mh(this,this.a),e=this.i;var i=t.X(),n=0,s=t.Da(),r=t.Z();e.beginPath();var o,a=0;for(o=s.length;o>a;++a)n=Nh(this,i,n,s[a],r,!1);e.stroke()}""!==this.ca&&(t=t.Cc(),Kh(this,t,t.length,2))}},m.xc=function(t){if(Ra(this.c,t.C())){if(this.a||this.f){this.f&&Lh(this,this.f),this.a&&Mh(this,this.a);var e=this.i;e.beginPath(),Oh(this,t.Za(),0,t.Da(),t.Z()),this.f&&e.fill(),this.a&&e.stroke()}""!==this.ca&&(t=t.Ac(),Kh(this,t,2,2))}},m.vc=function(t){if(Ra(this.c,t.C())){if(this.a||this.f){this.f&&Lh(this,this.f),this.a&&Mh(this,this.a);var e,i=this.i,n=Ph(t),s=0,r=t.ub(),o=t.Z();i.beginPath();var a=0;for(e=r.length;e>a;++a)s=Oh(this,n,s,r[a],o);this.f&&i.fill(),this.a&&i.stroke()}""!==this.ca&&(t=Qh(t),Kh(this,t,t.length,2))}},m.Ua=function(t,e){if(t?(t=t.a,this.f={fillStyle:Gh(t?t:mh)}):this.f=null,e){t=e.a;var i=e.c,n=e.f,s=e.g,r=e.j,o=e.b;e=e.u,this.a={lineCap:void 0!==i?i:"round",lineDash:n?n:nh,lineDashOffset:s?s:0,lineJoin:void 0!==r?r:"round",lineWidth:this.g*(void 0!==o?o:1),miterLimit:void 0!==e?e:10,strokeStyle:Gh(t?t:oh)}}else this.a=null},m.Yb=function(t){if(t){var e=t.Jb(),i=t.W(1),n=t.Vb(),s=t.mb();this.V=e[0],this.v=e[1],this.B=s[1],this.H=i,this.s=t.c,this.qa=n[0],this.ea=n[1],this.ha=t.V,this.ia=t.l,this.b=t.b*this.g,this.Oa=t.s,this.da=s[0]}else this.H=null},m.Na=function(t){if(t){var e=t.na();e?(e=e.a,this.j={fillStyle:Gh(e?e:mh)}):this.j=null;var i=t.ka();if(i){e=i.a;var n=i.c,s=i.f,r=i.g,o=i.j,a=i.b;i=i.u,this.u={lineCap:void 0!==n?n:"round",lineDash:s?s:nh,lineDashOffset:r?r:0,lineJoin:void 0!==o?o:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:Gh(e?e:oh)}}else this.u=null;e=t.f,n=t.i,s=t.b,r=t.c,o=t.g,a=t.a,i=t.sa();var h=t.j;t=t.u,this.G={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==t?t:"middle"},this.ca=void 0!==i?i:"",this.Aa=void 0!==n?this.g*n:0,this.Ca=void 0!==s?this.g*s:0,this.Ga=void 0!==r?r:!1,this.Ha=void 0!==o?o:0,this.l=this.g*(void 0!==a?a:1)}else this.ca=""},w(Rh,yc),Rh.prototype.wa=ha,Rh.prototype.L=function(t){2===t.target.state&&Uh(this)},w($h,Rh),$h.prototype.Wb=function(t,e,i,n){bi(this,"postcompose",t,e,n)},w(di,$h),di.prototype.pc=function(t,e,i){bi(this,"precompose",i,t,void 0);var n=this.W();if(n){var s=e.extent,r=void 0!==s&&!Ca(s,t.extent)&&Ra(s,t.extent);r&&ai(i,t,s),s=this.u();var o=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(s[4]),Math.round(s[5]),Math.round(n.width*s[0]),Math.round(n.height*s[3])),i.globalAlpha=o,r&&i.restore()}this.Wb(i,t,e)},di.prototype.wa=function(t,e,i,n,s){var r=this.a;return r.fa().wa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(s,t,r)})},w(Bf,di),Bf.handles=function(t,e){return"canvas"===t&&("IMAGE"===e.F()||"VECTOR"===e.F()&&"image"===e.b)},Bf.create=function(t,e){var i=new Bf(e);if("VECTOR"===e.F())for(var n=0,s=yf.length;s>n;++n){var r=yf[n];r!==Bf&&r.handles("canvas",e)&&(r=r.create(t,e),i.b=r)}return i},Bf.prototype.W=function(){return this.H?this.H.W():null},Bf.prototype.u=function(){return this.c},Bf.prototype.ob=function(t,e){var i=t.pixelRatio,n=t.size,s=t.viewState,r=s.center,o=s.resolution,a=this.a.fa(),h=t.viewHints,l=t.extent;if(void 0!==e.extent&&(l=Qa(l,e.extent)),!h[0]&&!h[1]&&!La(l))if(h=s.projection,s=this.b){h=s.context;var c=Sa({},t,{size:[Ma(l)/o,Na(l)/o],viewState:Sa({},t.viewState,{rotation:0})}),u=Object.keys(c.skippedFeatureUids).sort();!s.ob(c,e)||!s.j&&Sb(u,this.l)||(h.canvas.width=c.size[0]*i,h.canvas.height=c.size[1]*i,s.pc(c,e,h),this.H=new hh(l,o,i,h.canvas),this.l=u)}else(l=e=a.W(l,o,i,h))&&(l=e,s=l.state,2!=s&&3!=s&&B(l,"change",this.L,this),0==s&&(l.load(),s=l.state),l=2==s),l&&(this.H=e);return this.H&&(e=this.H,s=e.C(),l=e.resolution,e=e.i,h=i*l/(o*e),s=xe(this.c,i*n[0]/2,i*n[1]/2,h,h,0,e*(s[0]-r[0])/l,e*(r[1]-s[3])/l),xe(this.j,i*n[0]/2-s[4],i*n[1]/2-s[5],i/o,-i/o,0,-r[0],-r[1]),Wh(t,a),this.g=l*i/e),!!this.H},Bf.prototype.wa=function(t,e,i,n,s){return this.b?this.b.wa(t,e,i,n,s):di.prototype.wa.call(this,t,e,i,n,s)},ei.prototype.clear=function(){this.a={},this.f=0},ei.prototype.get=function(t,e,i){return t=e+":"+t+":"+(i?Dh(i):"null"),t in this.a?this.a[t]:null},ei.prototype.set=function(t,e,i,n){this.a[e+":"+t+":"+(i?Dh(i):"null")]=n,++this.f};var fi=new ei;w(gi,sc),gi.prototype.wa=function(t,e,i,n,s,r,o){function a(t,i){var r=x(t).toString(),o=e.layerStates[x(i)].Jc;return r in e.skippedFeatureUids&&!o?void 0:n.call(s,t,o?i:null)}var h,l=e.viewState,c=l.resolution,u=l.projection;if(l=t,u.f){u=u.C();var f=Ma(u),p=t[0];(p<u[0]||p>u[2])&&(l=[p+f*Math.ceil((u[0]-p)/f),t[1]])}for(u=e.layerStatesArray,f=u.length-1;f>=0;--f){var d=u[f];if(p=d.layer,d.visible&&c>=d.minResolution&&c<d.maxResolution&&r.call(o,p)&&(d=ii(this,p),p.fa()&&(h=d.wa(p.fa().A?l:t,e,i,a,s)),h))return h}},gi.prototype.u=function(){this.g.render()},gi.prototype.j=ha,gi.prototype.s=function(t,e){for(var i in this.f)e&&i in e.layerStates||tc(If(this,i))},w(ji,gi),ji.handles=function(t){return"canvas"===t},ji.create=function(t,e){return new ji(t,e)},ji.prototype.F=function(){return"canvas"},ji.prototype.j=function(t){if(t){var e=this.c,i=t.pixelRatio,n=Math.round(t.size[0]*i),s=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=s?(this.a.width=n,this.a.height=s):e.clearRect(0,0,n,s),i=t.viewState.rotation;var r=t.viewState,o=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;xe(o,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),r=ve(a,o),o=r[0]*r[3]-r[1]*r[2],y(0!==o,32),a=r[0];var h=r[1],l=r[2],c=r[3],u=r[4],f=r[5];for(r[0]=c/o,r[1]=-h/o,r[2]=-l/o,r[3]=a/o,r[4]=(l*f-c*u)/o,r[5]=-(a*f-h*u)/o,ki(this,"precompose",t),r=t.layerStatesArray,Tb(r),i&&(e.save(),yh(e,i,n/2,s/2)),n=t.viewState.resolution,s=0,o=r.length;o>s;++s)a=r[s],h=a.layer,h=ii(this,h),a.visible&&n>=a.minResolution&&n<a.maxResolution&&"ready"==a.Eg&&h.ob(t,a)&&h.pc(t,a,e);i&&e.restore(),ki(this,"postcompose",t),this.i||(this.a.style.display="",this.i=!0);for(var p in this.f)if(!(p in t.layerStates)){t.postRenderFunctions.push(this.s.bind(this));break}t.postRenderFunctions.push(hi)}else this.i&&(this.a.style.display="none",this.i=!1)},w(Cf,di),Cf.handles=function(t,e){return"canvas"===t&&"TILE"===e.F()},Cf.create=function(t,e){return new Cf(e)},Cf.prototype.ob=function(t,e){var i=t.pixelRatio,n=t.size,s=t.viewState,r=s.projection,o=s.resolution;s=s.center;var a=this.a,h=a.fa(),l=h.i,c=h.Ea(r),u=oa(Qb(c.a,o,this.J||0),c.minZoom,c.maxZoom),f=c.a[u],p=Math.round(o/f)||1,d=t.extent;if(void 0!==e.extent&&(d=Qa(d,e.extent)),La(d))return!1;var m=cc(c,d,u),g=ec(c,u,m),v=h.Mb(i),y={};y[u]={};var b,w,M=Sh(h,r,y),k=this.G,_=this.ha,S=!1;for(b=m.O;b<=m.R;++b)for(w=m.N;w<=m.P;++w){var P=Zh(h,u,b,w,i,r);if(3==P.state&&(a.get("useInterimTilesOnError")?0<a.get("preload")&&(S=!0):mi(P)),li(this,P)||(P=ni(P)),li(this,P)){var C=x(this);if(2==P.state){y[u][P.ja.toString()]=P;var E=P.b?-1!==P.u[C]:!1;S||!E&&-1!==this.c.indexOf(P)||(S=!0)}if(1===oi(P,C,t.time))continue}C=dc(c,P.ja,_,k),E=!1,C&&(E=M(u+1,C)),E||ac(c,P.ja,M,_,k)}if(P=t.viewHints,P=P[0]||P[1],!(this.g&&16<Date.now()-t.time&&P||!S&&this.b&&Ca(this.b,d)&&this.Pc==l&&p==this.v&&(P||f*i/v*p==this.g))){for((P=this.context)&&(w=pi(h,u,i,r),b=Math.round((m.R-m.O+1)*w[0]/p),w=Math.round((m.P-m.N+1)*w[1]/p),S=P.canvas,S.width!=b||S.height!=w?(this.v=p,S.width=b,S.height=w):(this.b&&!Ia(g,this.b)&&P.clearRect(0,0,b,w),p=this.v)),this.c.length=0,S=Object.keys(y).map(Number),S.sort(function(t,e){return t===u?1:e===u?-1:t>e?1:e>t?-1:0}),C=0,E=S.length;E>C;++C){_=S[C],M=pi(h,_,i,r),P=c.a[_];var T=P/f,j=v*h.pd(r),A=y[_];for(var N in A){P=A[N],w=bc(c,P.ja,k),b=(w[0]-g[0])/f*v/p,w=(g[3]-w[3])/f*v/p;var L=M[0]*T/p,D=M[1]*T/p;this.yc(P,t,e,b,w,L,D,j,u===_),this.c.push(P)}}this.Pc=l,this.g=f*i/v*p,this.b=g}return e=this.g/o,e=xe(this.l,i*n[0]/2,i*n[1]/2,e,e,0,(this.b[0]-s[0])/this.g*i,(s[1]-this.b[3])/this.g*i),xe(this.j,i*n[0]/2-e[4],i*n[1]/2-e[5],i/o,-i/o,0,-s[0],-s[1]),Xh(t.usedTiles,h,u,m),Yh(t,h,c,i,r,d,u,a.get("preload")),Vh(t,h),Wh(t,h),0<this.c.length},Cf.prototype.yc=function(t,e,i,n,s,r,o,a,h){if(i=t.W(this.a)){var l=x(this),c=h?oi(t,l,e.time):1;1!==c||this.a.fa().Fc(e.viewState.projection)||this.context.clearRect(n,s,r,o);var u=c!==this.context.globalAlpha;u&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(i,a,a,i.width-2*a,i.height-2*a,n,s,r,o),u&&this.context.restore(),1!==c?e.animate=!0:h&&t.b&&(t.u[l]=-1)}},Cf.prototype.W=function(){var t=this.context;return t?t.canvas:null},Cf.prototype.u=function(){return this.l};var qi={$a:function(){}};!function(t){function e(t,s,r,o,a){for(r=r||0,o=o||t.length-1,a=a||n;o>r;){if(o-r>600){var h=o-r+1,l=s-r+1,c=Math.log(h),u=.5*Math.exp(2*c/3);c=.5*Math.sqrt(c*u*(h-u)/h)*(0>l-h/2?-1:1),e(t,s,Math.max(r,Math.floor(s-l*u/h+c)),Math.min(o,Math.floor(s+(h-l)*u/h+c)),a)}for(h=t[s],l=r,u=o,i(t,r,s),0<a(t[o],h)&&i(t,r,o);u>l;){for(i(t,l,u),l++,u--;0>a(t[l],h);)l++;for(;0<a(t[u],h);)u--}0===a(t[r],h)?i(t,r,u):(u++,i(t,u,o)),s>=u&&(r=u+1),u>=s&&(o=u-1)}}function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return e>t?-1:t>e?1:0}function s(t,e){return this instanceof s?(this.jc=Math.max(4,t||9),this.$c=Math.max(2,Math.ceil(.4*this.jc)),e&&this.me(e),void this.clear()):new s(t,e)}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,s){s||(s=d(null)),s.O=1/0,s.N=1/0,s.R=-(1/0),s.P=-(1/0);for(var r;i>e;e++)r=t.children[e],a(s,t.oa?n(r):r);return s}function a(t,e){return t.O=Math.min(t.O,e.O),t.N=Math.min(t.N,e.N),t.R=Math.max(t.R,e.R),t.P=Math.max(t.P,e.P),t}function h(t,e){return t.O-e.O}function l(t,e){return t.N-e.N}function c(t){return(t.R-t.O)*(t.P-t.N)}function u(t){return t.R-t.O+(t.P-t.N)}function f(t,e){return t.O<=e.O&&t.N<=e.N&&e.R<=t.R&&e.P<=t.P}function p(t,e){return e.O<=t.R&&e.N<=t.P&&e.R>=t.O&&e.P>=t.N}function d(t){return{children:t,height:1,oa:!0,O:1/0,N:1/0,R:-(1/0),P:-(1/0)}}function m(t,e,i,n,s){for(var r,o=[e,i];o.length;)i=o.pop(),e=o.pop(),n>=i-e||(r=e+Math.ceil((i-e)/n/2)*n,g(t,r,e,i,s),o.push(e,r,r,i))}var g=e;s.prototype={all:function(){return this.Wc(this.data,[])},search:function(t){var e=this.data,i=[],n=this.za;if(!p(t,e))return i;for(var s,r,o,a,h=[];e;){for(s=0,r=e.children.length;r>s;s++)o=e.children[s],a=e.oa?n(o):o,p(t,a)&&(e.oa?i.push(o):f(t,a)?this.Wc(o,i):h.push(o));e=h.pop()}return i},ue:function(t){var e=this.data,i=this.za;if(!p(t,e))return!1;for(var n,s,r,o,a=[];e;){for(n=0,s=e.children.length;s>n;n++)if(r=e.children[n],o=e.oa?i(r):r,p(t,o)){if(e.oa||f(t,o))return!0;a.push(r)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.$c){for(var e=0,i=t.length;i>e;e++)this.Y(t[e]);return this}return t=this.Yc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.cd(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Zc(t,this.data.height-t.height-1,!0)):this.data=t,this},Y:function(t){return t&&this.Zc(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var i,n,s,r,o=this.data,a=this.za(t),h=[],l=[];o||h.length;){if(o||(o=h.pop(),n=h[h.length-1],i=l.pop(),r=!0),o.oa){t:{s=t;var c=o.children,u=e;if(u){for(var p=0;p<c.length;p++)if(u(s,c[p])){s=p;break t}s=-1}else s=c.indexOf(s)}if(-1!==s){o.children.splice(s,1),h.push(o),this.ke(h);break}}r||o.oa||!f(o,a)?n?(i++,o=n.children[i],r=!1):o=null:(h.push(o),l.push(i),i=0,n=o,o=o.children[0])}return this},za:function(t){return t},nc:h,oc:l,toJSON:function(){return this.data},Wc:function(t,e){for(var i=[];t;)t.oa?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},Yc:function(t,e,i,n){var s=i-e+1,o=this.jc;if(o>=s){var a=d(t.slice(e,i+1));return r(a,this.za),a}n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),a=d([]),a.oa=!1,a.height=n,s=Math.ceil(s/o),o=s*Math.ceil(Math.sqrt(o));var h;for(m(t,e,i,o,this.nc);i>=e;e+=o){var l=Math.min(e+o-1,i);for(m(t,e,l,s,this.oc),h=e;l>=h;h+=s){var c=Math.min(h+s-1,l);a.children.push(this.Yc(t,h,c,n-1))}}return r(a,this.za),a},je:function(t,e,i,n){for(var s,r,o,a,h,l,u,f;n.push(e),!e.oa&&n.length-1!==i;){for(u=f=1/0,s=0,r=e.children.length;r>s;s++)o=e.children[s],h=c(o),l=(Math.max(o.R,t.R)-Math.min(o.O,t.O))*(Math.max(o.P,t.P)-Math.min(o.N,t.N))-h,f>l?(f=l,u=u>h?h:u,a=o):l===f&&u>h&&(u=h,a=o);e=a||e.children[0]}return e},Zc:function(t,e,i){var n=this.za;i=i?t:n(t),n=[];var s=this.je(i,this.data,e,n);for(s.children.push(t),a(s,i);e>=0&&n[e].children.length>this.jc;)this.oe(n,e),e--;this.ge(i,n,e)},oe:function(t,e){var i=t[e],n=i.children.length,s=this.$c;this.he(i,s,n),n=this.ie(i,s,n),n=d(i.children.splice(n,i.children.length-n)),n.height=i.height,n.oa=i.oa,r(i,this.za),r(n,this.za),e?t[e-1].children.push(n):this.cd(i,n)},cd:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.oa=!1,r(this.data,this.za)},ie:function(t,e,i){var n,s,r=s=1/0;for(n=e;i-e>=n;n++){var a=o(t,0,n,this.za),h=o(t,n,i,this.za),l=Math.max(0,Math.min(a.R,h.R)-Math.max(a.O,h.O))*Math.max(0,Math.min(a.P,h.P)-Math.max(a.N,h.N));if(a=c(a)+c(h),r>l){r=l;var u=n;s=s>a?a:s}else l===r&&s>a&&(s=a,u=n)}return u},he:function(t,e,i){var n=t.oa?this.nc:h,s=t.oa?this.oc:l,r=this.Xc(t,e,i,n);e=this.Xc(t,e,i,s),e>r&&t.children.sort(n)},Xc:function(t,e,i,n){t.children.sort(n),n=this.za;var s,r=o(t,0,e,n),h=o(t,i-e,i,n),l=u(r)+u(h);for(s=e;i-e>s;s++){var c=t.children[s];a(r,t.oa?n(c):c),l+=u(r)}for(s=i-e-1;s>=e;s--)c=t.children[s],a(h,t.oa?n(c):c),l+=u(h);return l},ge:function(t,e,i){for(;i>=0;i--)a(e[i],t)},ke:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():r(t[i],this.za)},me:function(t){var e=["return a"," - b",";"];this.nc=new Function("a","b",e.join(t[0])),this.oc=new Function("a","b",e.join(t[1])),this.za=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t["default"]=s}(qi.$a=qi.$a||{}),qi.$a=qi.$a["default"];var si="Polygon Circle LineString Image Text Default".split(" "),ti={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};w(ui,Hh),m=ui.prototype,m.ld=function(t,e,i){Ci(this,e);var n,s=t.F(),r=t.Z(),o=this.coordinates.length;if("MultiPolygon"==s){s=Ph(t);for(var a=[],h=t.ub(),l=n=0,c=h.length;c>l;++l){var u=[];n=Bi(this,s,n,h[l],r,u),a.push(u)}this.f.push([4,o,a,t,i,Ne])}else"Polygon"==s||"MultiLineString"==s?(a=[],s="Polygon"==s?t.Za():t.X(),Bi(this,s,0,t.Da(),r,a),this.f.push([4,o,a,t,i,Me])):"LineString"==s||"MultiPoint"==s?(s=t.X(),r=zi(this,s,0,s.length,r,!1,!1),this.f.push([4,o,r,t,i,Le])):"Point"==s&&(s=t.X(),this.coordinates.push(s[0],s[1]),r=this.coordinates.length,this.f.push([4,o,r,t,i]));Di(this,e)},m.ma=function(t){if(this.L){var e=we(this.ha,this.L.slice());t.translate(e[0],e[1]),t.rotate(this.ea)}t.fill(),this.L&&t.setTransform.apply(t,zh)},m.Ta=function(t,e,i,n){this.ea=i,Fi(this,t,e,n,this.f,void 0,void 0)},m.Ua=function(t,e){var i=this.state;t?(t=t.a,i.fillStyle=Gh(t?t:mh)):i.fillStyle=void 0,e?(t=e.a,i.strokeStyle=Gh(t?t:oh),t=e.c,i.lineCap=void 0!==t?t:"round",t=e.f,i.lineDash=t?t.slice():nh,t=e.g,i.lineDashOffset=t?t:0,t=e.j,i.lineJoin=void 0!==t?t:"round",t=e.b,i.lineWidth=void 0!==t?t:1,e=e.u,i.miterLimit=void 0!==e?e:10,i.lineWidth>this.$&&(this.$=i.lineWidth,this.c=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},m.ed=function(t,e){var i=t.fillStyle;t=[10,i],"string"!=typeof i&&(e=e.C(),t.push([e[0],e[3]])),this.f.push(t)},m.gb=function(t){this.f.push([11,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,yi(this,t.lineDash),t.lineDashOffset*this.pixelRatio])},m.Tb=ha,w(Ji,ui),Ji.prototype.wc=function(t,e){if(this.H){Ci(this,e);var i=t.X(),n=this.coordinates.length;t=zi(this,i,0,i.length,t.Z(),!1,!1),this.f.push([6,n,t,this.H,this.i,this.b,this.B,this.g,this.j,this.V,this.v,this.u,this.l,this.s*this.pixelRatio,this.K,this.A]),this.a.push([6,n,t,this.qa,this.i,this.b,this.B,this.g,this.j,this.V,this.v,this.u,this.l,this.s,this.K,this.A]),Di(this,e)}},Ji.prototype.uc=function(t,e){if(this.H){Ci(this,e);var i=t.X(),n=this.coordinates.length;t=zi(this,i,0,i.length,t.Z(),!1,!1),this.f.push([6,n,t,this.H,this.i,this.b,this.B,this.g,this.j,this.V,this.v,this.u,this.l,this.s*this.pixelRatio,this.K,this.A]),this.a.push([6,n,t,this.qa,this.i,this.b,this.B,this.g,this.j,this.V,this.v,this.u,this.l,this.s,this.K,this.A]),Di(this,e)}},Ji.prototype.Tb=function(){Gi(this),this.b=this.i=void 0,this.H=this.qa=null,this.A=this.K=this.l=this.u=this.v=this.V=this.j=this.s=this.g=void 0},Ji.prototype.Yb=function(t,e){var i=t.Jb(),n=t.mb(),s=t.Od(),r=t.W(1),o=t.Vb();this.i=i[0],this.b=i[1],this.B=e,this.qa=s,this.H=r,this.g=n[1],this.j=t.c,this.V=o[0],this.v=o[1],this.u=t.V,this.l=t.l,this.s=t.b,this.K=t.s,this.A=n[0]},w(Ki,ui),Ki.prototype.sc=function(t,e){var i=this.state,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(Ii(this,i,this.gb),Ci(this,e),this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.X(),Li(this,i,0,i.length,t.Z()),this.a.push([12]),Di(this,e))},Ki.prototype.tc=function(t,e){var i=this.state,n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){Ii(this,i,this.gb),Ci(this,e),this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.Da(),n=t.X(),t=t.Z();var s,r=0,o=0;for(s=i.length;s>o;++o)r=Li(this,n,r,i[o],t);this.a.push([12]),Di(this,e)}},Ki.prototype.Tb=function(){var t=this.state;void 0!=t.xb&&t.xb!=this.coordinates.length&&this.f.push([12]),Gi(this),this.state=null},Ki.prototype.gb=function(t){void 0!=t.xb&&t.xb!=this.coordinates.length&&(this.f.push([12]),t.xb=this.coordinates.length),t.xb=0,ui.prototype.gb.call(this,t),this.f.push([1])},w(Mi,ui),Mi.prototype.rc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Oi(this,t),Ci(this,e),this.a.push([10,Dh(mh)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.X();n=this.coordinates.length,zi(this,s,0,s.length,t.Z(),!1,!1),t=[1],n=[2,n],this.f.push(t,n),
this.a.push(t,n),t=[8],this.a.push(t),void 0!==i.fillStyle&&this.f.push(t),void 0!==i.strokeStyle&&(i=[12],this.f.push(i),this.a.push(i)),Di(this,e)}},Mi.prototype.xc=function(t,e){var i=this.state;Oi(this,t),Ci(this,e),this.a.push([10,Dh(mh)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.Da();var n=t.Za();Ni(this,n,0,i,t.Z()),Di(this,e)},Mi.prototype.vc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Oi(this,t),Ci(this,e),this.a.push([10,Dh(mh)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.ub(),n=Ph(t),t=t.Z();var s,r=0,o=0;for(s=i.length;s>o;++o)r=Ni(this,n,r,i[o],t);Di(this,e)}},Mi.prototype.Tb=function(){Gi(this),this.state=null;var t=this.Pa;if(0!==t){var e,i=this.coordinates,n=0;for(e=i.length;e>n;++n)i[n]=t*Math.round(i[n]/t)}},w(Pi,ui),Pi.prototype.Ra=function(t,e){var i=this.b,n=this.i,s=this.g;if(""!==this.ca&&s&&(i||n)){i=this.coordinates.length;var r=t.F();n=null;var o=2,a=2;if("line"===s.placement){if(!Ra(Ai(this),t.C()))return;if(n=t.X(),a=t.Z(),"LineString"==r)var h=[n.length];else if("MultiLineString"==r)h=t.Da();else if("Polygon"==r)h=t.Da().slice(0,1);else if("MultiPolygon"==r)for(t=t.ub(),h=[],o=0,r=t.length;r>o;++o)h.push(t[o][0]);Ci(this,e),t=s.textAlign;var l,c=0;r=0;for(var u=h.length;u>r;++r){if(void 0==t){for(var f,p,d=void 0,m=void 0,g=o=p=f=void 0,v=l=c,y=0,b=0,x=c;c<h[r];c+=a){var w=n[c],M=n[c+1];void 0!==p&&(p=w-p,f=M-f,o=Math.sqrt(p*p+f*f),void 0!==m&&(b+=g,d=Math.acos((m*p+d*f)/(g*o)),d>s.maxAngle&&(b>y&&(y=b,l=x,v=c),b=0,x=c-a)),g=o,m=p,d=f),p=w,f=M}o=b+o>y?[x,c]:[l,v],c=o[0],l=o[1]}else l=h[r];for(o=c;l>o;o+=a)this.coordinates.push(n[o],n[o+1]);o=this.coordinates.length,c=h[r],Qi(this,i,o,this.A),i=o}}else{switch(h=this.W(this.ca,this.j,this.s,this.qa),u=h.width/this.pixelRatio,r){case"Point":case"MultiPoint":n=t.X(),o=n.length;break;case"LineString":n=t.Bc();break;case"Circle":n=t.ba();break;case"MultiLineString":n=t.Cc(),o=n.length;break;case"Polygon":if(n=t.Ac(),!s.overflow&&n[2]/this.resolution<u)return;a=3;break;case"MultiPolygon":for(l=Qh(t),n=[],o=0,r=l.length;r>o;o+=3)(s.overflow||l[o+2]/this.resolution>=u)&&n.push(l[o],l[o+1]);if(o=n.length,0==o)return}o=zi(this,n,0,o,a,!1,!1),Ci(this,e),(s.backgroundFill||s.backgroundStroke)&&(this.Ua(s.backgroundFill,s.backgroundStroke),Hi(this,this.state,this.ed,t),Ii(this,this.state,this.gb)),Ri(this,h,i,o)}Di(this,e)}},Pi.prototype.W=function(t,e,i,n){var s=n+e+t+i+this.pixelRatio;if(!qh.b.hasOwnProperty(s)){var r=n?this.ia[n]||this.i:null,o=i?this.K[i]||this.b:null,a=this.l[e]||this.g,h=a.scale*this.pixelRatio,l=ti[a.textAlign||"center"];e=n&&r.lineWidth?r.lineWidth:0,t=t.split("\n");var c,u=t.length,f=[],p=a.font,d=t.length,m=0;for(c=0;d>c;++c){var g=xh(p,t[c]);m=Math.max(m,g),f.push(g)}if(d=m,p=wh(a.font),d=rf(Math.ceil((d+e)*h),Math.ceil((p*u+e)*h)),m=d.canvas,qh.set(s,m),1!=h&&d.scale(h,h),d.font=a.font,n&&(d.strokeStyle=r.strokeStyle,d.lineWidth=e*(Qc?h:1),d.lineCap=r.lineCap,d.lineJoin=r.lineJoin,d.miterLimit=r.miterLimit,Uc&&r.lineDash.length&&(d.setLineDash(r.lineDash),d.lineDashOffset=r.lineDashOffset)),i&&(d.fillStyle=o.fillStyle),d.textBaseline="middle",d.textAlign="center",r=.5-l,o=l*m.width/h+r*e,n)for(n=0;u>n;++n)d.strokeText(t[n],o+r*f[n],.5*(e+p)+n*p);if(i)for(n=0;u>n;++n)d.fillText(t[n],o+r*f[n],.5*(e+p)+n*p)}return qh.get(s)},Pi.prototype.Na=function(t,e){var i,n;if(t){if(this.A=e,(n=t.na())?(e=this.b,e||(e=this.b={}),e.fillStyle=Gh(n.a||mh)):e=this.b=null,i=t.ka()){n=this.i,n||(n=this.i={});var s=i.f,r=i.g,o=i.b,a=i.u;n.lineCap=i.c||"round",n.lineDash=s?s.slice():nh,n.lineDashOffset=void 0===r?0:r,n.lineJoin=i.j||"round",n.lineWidth=void 0===o?1:o,n.miterLimit=void 0===a?10:a,n.strokeStyle=Gh(i.a||oh)}else n=this.i=null;i=this.g,s=t.f||"10px sans-serif",vh(s),r=t.a,i.overflow=t.s,i.font=s,i.maxAngle=t.l,i.placement=t.K,i.textAlign=t.j,i.textBaseline=t.u||"middle",i.backgroundFill=t.A,i.backgroundStroke=t.V,i.padding=t.v||ph,i.scale=void 0===r?1:r,s=t.i,r=t.b,o=t.c,a=t.g,this.ca=t.sa()||"",this.V=void 0===s?0:s,this.u=void 0===r?0:r,this.v=void 0===o?!1:o,this.B=void 0===a?0:a,this.qa=n?("string"==typeof n.strokeStyle?n.strokeStyle:x(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.j=i.font+i.scale+(i.textAlign||"?"),this.s=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+x(e.fillStyle):""}else this.ca=""},w(Si,ri);var Ti={0:[[!0]]};Si.prototype.wa=function(t,e,i,n,s,r,o){n=Math.round(n);var a=2*n+1,h=xe(this.j,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=this.g;if(l.canvas.width!==a||l.canvas.height!==a?(l.canvas.width=a,l.canvas.height=a):l.clearRect(0,0,a,a),void 0!==this.c){var c=xa();ya(c,t),za(c,e*(this.c+n),c)}var u,f=Vi(n);return this.f&&(u=this.f.all().map(function(t){return t.value})),Yi(this,l,h,i,s,function(t){for(var e=l.getImageData(0,0,a,a).data,i=0;a>i;i++)for(var n=0;a>n;n++)if(f[i][n]&&0<e[4*(n*a+i)+3]){var s;return u&&-1===u.indexOf(t)||(s=r(t)),s?s:void l.clearRect(0,0,a,a)}},c,o)},Si.prototype.Ta=function(t,e,i,n,s,r){var o=Object.keys(this.a).map(Number);o.sort(Pb),t.save();var a=Zi(this,e);t.beginPath(),t.moveTo(a[0],a[1]),t.lineTo(a[2],a[3]),t.lineTo(a[4],a[5]),t.lineTo(a[6],a[7]),t.clip(),s=s?s:si;var h,l;for(a=0,h=o.length;h>a;++a){var c=o[a].toString(),u=this.a[c],f=0;for(l=s.length;l>f;++f){var p=s[f],d=u[p];void 0!==d&&(!r||"Image"!=p&&"Text"!=p?d.Ta(t,e,i,n):(p=r[c])?p.push(d,e.slice(0)):r[c]=[d,e.slice(0)])}}t.restore()};var aj={Circle:Mi,Default:ui,Image:Ji,LineString:Ki,Polygon:Mi,Text:Pi},fj={Point:function(t,e,i,n){var s=i.W();if(s){if(2!=s.Ub())return;var r=$i(t,i.la(),"Image");r.Yb(s,Wi(t,!1)),r.wc(e,n)}(r=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(r,Wi(t,!!s)),i.Ra(e,n))},LineString:function(t,e,i,n){var s=i.ka();if(s){var r=$i(t,i.la(),"LineString");r.Ua(null,s),r.sc(e,n)}(s=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(s,Wi(t,!1)),i.Ra(e,n))},Polygon:function(t,e,i,n){var s=i.na(),r=i.ka();if(s||r){var o=$i(t,i.la(),"Polygon");o.Ua(s,r),o.xc(e,n)}(s=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(s,Wi(t,!1)),i.Ra(e,n))},MultiPoint:function(t,e,i,n){var s=i.W();if(s){if(2!=s.Ub())return;var r=$i(t,i.la(),"Image");r.Yb(s,Wi(t,!1)),r.uc(e,n)}(r=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(r,Wi(t,!!s)),i.Ra(e,n))},MultiLineString:function(t,e,i,n){var s=i.ka();if(s){var r=$i(t,i.la(),"LineString");r.Ua(null,s),r.tc(e,n)}(s=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(s,Wi(t,!1)),i.Ra(e,n))},MultiPolygon:function(t,e,i,n){var s=i.na(),r=i.ka();if(r||s){var o=$i(t,i.la(),"Polygon");o.Ua(s,r),o.vc(e,n)}(s=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(s,Wi(t,!1)),i.Ra(e,n))},GeometryCollection:function(t,e,i,n){e=e.a;var s,r=0;for(s=e.length;s>r;++r)(0,fj[e[r].F()])(t,e[r],i,n)},Circle:function(t,e,i,n){var s=i.na(),r=i.ka();if(s||r){var o=$i(t,i.la(),"Circle");o.Ua(s,r),o.rc(e,n)}(s=i.sa())&&(i=$i(t,i.la(),"Text"),i.Na(s,Wi(t,!1)),i.Ra(e,n))}};w(Df,$h),Df.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.F()},Df.create=function(t,e){return new Df(e)},m=Df.prototype,m.aa=function(){rc(qh,"clear",this.Id,this),$h.prototype.aa.call(this)},m.pc=function(t,e,i){var n=t.extent,s=t.pixelRatio,r=e.Jc?t.skippedFeatureUids:{},o=t.viewState,a=o.projection,h=o.rotation,l=a.C(),c=this.a.fa(),u=ci(this,t,0);bi(this,"precompose",i,t,u);var f=e.extent;(o=void 0!==f)&&ai(i,t,f);var p=this.b;if(p&&!Wa(p.a)){this.g&&this.g.clear();var d=f=0,m=1!==e.opacity,g=xc(this.a,"render");if(m||g){var v=i.canvas.width,y=i.canvas.height;if(h){var b=Math.round(Math.sqrt(v*v+y*y));f=(b-v)/2,d=(b-y)/2,v=y=b}this.context.canvas.width=v,this.context.canvas.height=y,v=this.context}else v=i;if(y=v.globalAlpha,m||(v.globalAlpha=e.opacity),v!=i&&v.translate(f,d),b=t.size[0]*s,s*=t.size[1],yh(v,-h,b/2,s/2),p.Ta(v,u,h,r),c.A&&a.f&&!Ca(l,n)){a=n[0],c=Ma(l);for(var x=0;a<l[0];)--x,u=c*x,u=ci(this,t,u),p.Ta(v,u,h,r),a+=c;for(x=0,a=n[2];a>l[2];)++x,u=c*x,u=ci(this,t,u),p.Ta(v,u,h,r),a-=c;u=ci(this,t,0)}yh(v,h,b/2,s/2),v!=i&&(g&&bi(this,"render",v,t,u),m?(n=i.globalAlpha,i.globalAlpha=e.opacity,i.drawImage(v.canvas,-f,-d),i.globalAlpha=n):i.drawImage(v.canvas,-f,-d),v.translate(-f,-d)),m||(v.globalAlpha=y)}o&&i.restore(),this.Wb(i,t,e,u)},m.wa=function(t,e,i,n,s){if(this.b){var r=this.a,o={};return this.b.wa(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=x(t).toString();return e in o?void 0:(o[e]=!0,n.call(s,t,r))},null)}},m.Id=function(){var t=this.a;t.wb()&&this.b&&t.D()},m.Jd=function(){Uh(this)},m.ob=function(t){var e=this.a,i=e.fa();Wh(t,i);var n=t.viewHints[0],s=t.viewHints[1],r=e.B,o=e.G;if(!this.c&&!r&&n||!o&&s)return!0;r=t.extent;var a=t.viewState;o=a.projection;var h=a.resolution,l=t.pixelRatio;n=e.i;var c=e.j;if(s=e.get(gj),void 0===s&&(s=bj),r=za(r,c*h),c=a.projection.C(),i.A&&a.projection.f&&!Ca(c,t.extent)&&(t=Math.max(Ma(r)/2,Ma(c)),r[0]=c[0]-t,r[2]=c[2]+t),!this.c&&this.s==h&&this.A==n&&this.l==s&&Ca(this.u,r))return this.j=!1,!0;this.b=null,this.c=!1;var u=new Si(.5*h/l,r,h,l,i.L,this.g,e.j);if(hj(i,r,h,o),t=function(t){var i=t.Sa();if(i)var n=i.call(t,h);else(i=e.Sa())&&(n=i(t,h));if(n){if(n){if(i=!1,Array.isArray(n))for(var s=0,r=n.length;r>s;++s)i=dj(u,t,n[s],cj(h,l),this.Jd,this)||i;else i=dj(u,t,n,cj(h,l),this.Jd,this);t=i}else t=!1;this.c=this.c||t}}.bind(this),s){var f=[];for(ij(i,r,function(t){f.push(t)},this),f.sort(s),i=0,o=f.length;o>i;++i)t(f[i])}else ij(i,r,t,this);return Xi(u),this.s=h,this.A=n,this.l=s,this.u=r,this.b=u,this.j=!0},w(Ef,Cf),Ef.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.F()},Ef.create=function(t,e){return new Ef(e)};var jj={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},kj={image:["Default"],hybrid:["Image","Text","Default"],vector:si};m=Ef.prototype,m.aa=function(){rc(qh,"clear",this.Kd,this),Cf.prototype.aa.call(this)},m.ob=function(t,e){var i=this.a,n=i.i;return this.B!=n&&(this.c.length=0,i=i.b,this.context||"vector"==i||(this.context=rf()),this.context&&"vector"==i&&(this.context=null)),this.B=n,Cf.prototype.ob.apply(this,arguments)},m.yc=function(t,e,i,n,s,r,o,a,h){var l=t,c=this.a,u=e.pixelRatio,f=e.viewState.projection,p=c.i,d=c.get(gj)||null,m=l.j(c);if(m.qc||m.Pc!=p||m.Sd!=d){var g=c.fa(),v=g.tileGrid,y=g.Ea(f),b=y.a[l.ja[0]];y=bc(y,l.g);for(var x=0,w=l.i.length;w>x;++x){var M=l.c(l.i[x]);if(3!=M.state){var k=bc(v,M.ja),_=Qa(y,k),S=Ia(k,_)?null:za(_,c.j*b),P=M.g(),C=!1;Kb(f,P)||(C=!0,M.j(f)),m.qc=!1,_=new Si(0,_,b,u,g.b(),this.s,c.j);var E=cj(b,u),T=M.c();d&&d!==m.Sd&&T.sort(d);for(var j,A=0,N=T.length;N>A;++A)if(j=T[A],C&&("tile-pixels"==P.a&&(P.Sc=k,P.j(M.C())),j.S().Ya(P,f)),!S||Ra(S,j.S().C())){var L=void 0,D=j.Sa();if(D?L=D.call(j,b):(D=c.Sa())&&(L=D(j,b)),L){D=E;var I=_;if(L){var O=!1;if(Array.isArray(L))for(var R=0,F=L.length;F>R;++R)O=dj(I,j,L[R],D,this.Ld,this)||O;else O=dj(I,j,L,D,this.Ld,this);j=O}else j=!1;this.A=this.A||j,m.qc=m.qc||j}}Xi(_);for(var B in _.a);M.l(c,l.ja.toString(),_)}}m.Pc=p,m.Sd=d}if(this.context){if(m=e,c=this.a,f=l.j(c),p=c.i,(u=jj[c.b])&&f.zg!==p)for(f.zg=p,g=l.g,b=g[0],f=m.pixelRatio,B=c.fa(),v=B.Ea(m.viewState.projection),p=v.a[b],d=l.l(c),m=pi(B,b,f,m.viewState.projection),d.canvas.width=m[0],d.canvas.height=m[1],m=bc(v,g),g=0,v=l.i.length;v>g;++g)b=l.c(l.i[g]),3!=b.state&&(B=f/p,y=ue(this.ea,1,1,0,0),te(y,ue(re,B,-B,0,0)),te(y,ue(re,1,1,-m[0],-m[3])),b.i(c,l.ja.toString()).Ta(d,y,0,{},u));Cf.prototype.yc.apply(this,arguments)}},m.wa=function(t,e,i,n,s){var r=e.viewState.resolution,o=e.viewState.rotation;i=void 0==i?0:i;var a=this.a,h={},l=this.c;e=a.fa().Ea(e.viewState.projection);var c,u=0;for(c=l.length;c>u;++u){var f=l[u],p=f.g;p=bc(e,p,this.G);var d=za(p,i*r,d);if(Da(d,t[0],t[1])){p=0;for(var m=f.i.length;m>p;++p){var g=f.c(f.i[p]);if(3!=g.state){g=g.i(a,f.ja.toString());var v=v||g.wa(t,r,o,i,{},function(t){var e=x(t).toString();return e in h?void 0:(h[e]=!0,n.call(s,t,a))},null)}}}}return v},m.Kd=function(){var t=this.a;t.wb()&&void 0!==this.B&&t.D()},m.Ld=function(){Uh(this)},m.Wb=function(t,e,i){var n=this.a,s=n.s?{}:null,r=n.fa(),o=n.b,a=kj[o],h=e.pixelRatio,l=e.viewState.rotation,c=e.size;if(l){var u=Math.round(h*c[0]/2),f=Math.round(h*c[1]/2);yh(t,-l,u,f)}s&&this.s.clear(),h=this.c,r=r.Ea(e.viewState.projection),c=[];for(var p=[],d=h.length-1;d>=0;--d){var m=h[d];if(5!=m.state)for(var g=m.ja,v=bc(r,g)[0]-bc(r,m.g)[0],y=void 0,b=0,x=m.i.length;x>b;++b){var w=m.c(m.i[b]);if(3!=w.state){var M,k=w.i(n,g.toString());if(!(M="vector"==o))t:{M=void 0;for(M in k.a)for(var _=k.a[M],S=0,P=a.length;P>S;++S)if(a[S]in _){M=!0;break t}M=!1}if(M){for(y||(y=ci(this,e,v)),w=w.ja[0],M=Zi(k,y),t.save(),t.globalAlpha=i.opacity,_=0,S=c.length;S>_;++_)P=c[_],w<p[_]&&(t.beginPath(),t.moveTo(M[0],M[1]),t.lineTo(M[2],M[3]),t.lineTo(M[4],M[5]),t.lineTo(M[6],M[7]),t.moveTo(P[6],P[7]),t.lineTo(P[4],P[5]),t.lineTo(P[2],P[3]),t.lineTo(P[0],P[1]),t.clip());k.Ta(t,y,l,{},a,s),t.restore(),c.push(M),p.push(w)}}}}if(s)for(n=t,o=Object.keys(s).map(Number).sort(Pb),a={},h=0,r=o.length;r>h;++h)for(c=s[o[h].toString()],p=0,d=c.length;d>p;)m=c[p++],g=c[p++],m.Ta(n,g,l,a);l&&yh(t,l,u,f),Cf.prototype.Wb.apply(this,arguments)},zf("MAP_RENDERER",ji),Af(),w(M,Ff),w(mj,lj),m=mj.prototype,m.clone=function(){var t=new mj({fill:this.na()?this.na().clone():void 0,points:this.j,radius:this.a,radius2:this.i,angle:this.g,snapToPixel:this.s,stroke:this.ka()?this.ka().clone():void 0,rotation:this.l,rotateWithView:this.V,atlasManager:this.K});return t.c=this.c,t.b=this.b,t},m.Jb=function(){return this.B},m.na=function(){return this.ma},m.Od=function(){return this.A},m.W=function(){return this.u},m.qd=function(){return this.v},m.Ub=function(){return 2},m.Vb=function(){return this.da},m.mb=function(){return this.G},m.ka=function(){return this.pa},m.yd=function(){},m.load=function(){},m.Zd=function(){},m.od=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var s=this.j;if(1/0===s)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{var r=void 0!==this.i?this.i:this.a;for(r!==this.a&&(s*=2),i=0;s>=i;i++){n=2*i*Math.PI/s-Math.PI/2+this.g;var o=0===i%2?this.a:r;e.lineTo(t.size/2+o*Math.cos(n),t.size/2+o*Math.sin(n))}}this.ma&&(i=this.ma.a,null===i&&(i=mh),e.fillStyle=Gh(i),e.fill()),this.pa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Yd,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},m.md=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),i=this.j,1/0===i)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{n=void 0!==this.i?this.i:this.a,n!==this.a&&(i*=2);var s;for(s=0;i>=s;s++){var r=2*s*Math.PI/i-Math.PI/2+this.g,o=0===s%2?this.a:n;e.lineTo(t.size/2+o*Math.cos(r),t.size/2+o*Math.sin(r))}}e.fillStyle=mh,e.fill(),this.pa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Yd,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},w(oj,mj),oj.prototype.clone=function(){var t=new oj({fill:this.na()?this.na().clone():void 0,stroke:this.ka()?this.ka().clone():void 0,radius:this.a,snapToPixel:this.s,atlasManager:this.K});return t.c=this.c,t.b=this.b,t},oj.prototype.Rc=function(t){this.a=t,nj(this,this.K)},pj.prototype.clone=function(){var t=this.a;return new pj({color:t&&t.slice?t.slice():t||void 0})},qj.prototype.clone=function(){var t=this.a;return new qj({color:t&&t.slice?t.slice():t||void 0,lineCap:this.c,lineDash:this.f?this.f.slice():void 0,lineDashOffset:this.g,lineJoin:this.j,miterLimit:this.u,width:this.b})},qj.prototype.setLineDash=function(t){this.f=t,this.i=void 0},m=rj.prototype,m.clone=function(){var t=this.S();return t&&t.clone&&(t=t.clone()),new rj({geometry:t,fill:this.na()?this.na().clone():void 0,image:this.W()?this.W().clone():void 0,stroke:this.ka()?this.ka().clone():void 0,text:this.sa()?this.sa().clone():void 0,zIndex:this.la()})},m.Gc=function(){return this.ab},m.S=function(){return this.Va},m.na=function(){return this.ma},m.W=function(){return this.H},m.ka=function(){return this.pa},m.sa=function(){return this.ca},m.la=function(){return this.Mg},m.pb=function(t){"function"==typeof t?this.tb=t:"string"==typeof t?this.tb=function(e){return e.get(t)}:t?void 0!==t&&(this.tb=function(){return t}):this.tb=sj,this.Va=t};var uj=null;w(N,D),m=N.prototype,m.clone=function(){var t=new N(this.Ma());xj(t,this.a);var e=this.S();return e&&t.pb(e.clone()),(e=this.g)&&t.zd(e),t},m.S=function(){return this.get(this.a)},m.Kf=function(){return this.b},m.Lf=function(){return this.g},m.Sa=function(){return this.j},m.Ve=function(){this.D()},m.Nb=function(){this.c&&(z(this.c),this.c=null);var t=this.S();t&&(this.c=B(t,"change",this.Ve,this)),this.D()},m.pb=function(t){this.set(this.a,t)},m.zd=function(t){this.j=(this.g=t)?Xj(t):void 0,this.D()},m.Qc=function(t){this.b=t,this.D()},w(O,D),m=O.prototype,m.aa=function(){this.Zb(!1),D.prototype.aa.call(this)},m.Nf=function(){var t=this.Ad();t&&(this.c=Db(Bb("EPSG:4326"),t),this.a&&this.set("position",this.c(this.a)))},m.nf=function(){if(Vc){var t=this.rd();t&&void 0===this.b?this.b=navigator.geolocation.watchPosition(this.ug.bind(this),this.vg.bind(this),this.sd()):t||void 0===this.b||(navigator.geolocation.clearWatch(this.b),this.b=void 0)}},m.ug=function(t){var e=t.coords;this.set("accuracy",e.accuracy),this.set("altitude",null===e.altitude?void 0:e.altitude),this.set("altitudeAccuracy",null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set("heading",null===e.heading?void 0:ra(e.heading)),this.a?(this.a[0]=e.longitude,this.a[1]=e.latitude):this.a=[e.longitude,e.latitude],t=this.c(this.a),this.set("position",t),this.set("speed",null===e.speed?void 0:e.speed),t=this.g;var i=this.a,n=e.accuracy;e=[];var s;for(s=0;32>s;++s)Rb(e,t.offset(i,n,2*Math.PI*s/32));e.push(e[0],e[1]),t=new df(null),ef(t,"XY",e,[e.length]),t.sb(this.c),this.set("accuracyGeometry",t),this.D()},m.vg=function(t){t.type="error",this.Zb(!1),this.f(t)},m.He=function(){return this.get("accuracy")},m.Ie=function(){return this.get("accuracyGeometry")||null},m.Je=function(){return this.get("altitude")},m.Ke=function(){return this.get("altitudeAccuracy")},m.Ne=function(){return this.get("heading")},m.Mf=function(){return this.get("position")},m.Ad=function(){return this.get("projection")},m.Qe=function(){return this.get("speed")},m.rd=function(){return this.get("tracking")},m.sd=function(){return this.get("trackingOptions")},m.Bd=function(t){this.set("projection",Bb(t))},m.Zb=function(t){this.set("tracking",t)},m.Wd=function(t){this.set("trackingOptions",t)},w(ak,ze),m=ak.prototype,m.se=function(t){this.o?Rb(this.o,t):this.o=t.slice(),this.D()},m.clone=function(){var t=new ak(null);return bk(t,this.U,this.o.slice()),t},m.Ja=function(t,e,i,n){return n<Ba(this.C(),t,e)?n:(this.v!=this.i&&(this.B=Math.sqrt(Ee(this.o,0,this.o.length,this.a,0)),this.v=this.i),Ge(this.o,0,this.o.length,this.a,this.B,!1,t,e,i,n))},m.Uf=function(t,e){return"XYM"!=this.U&&"XYZM"!=this.U?null:Zj(this.o,this.o.length,this.a,t,void 0!==e?e:!1)},m.I=function(){return Le(this.o,0,this.o.length,this.a)},m.Bc=function(){return this.j!=this.i&&(this.b=Yj(this.o,0,this.o.length,this.a,this.b),this.j=this.i),this.b},m.ib=function(t){var e=[];return e.length=Oe(this.o,0,this.o.length,this.a,t,e,0),t=new ak(null),bk(t,"XY",e),t},m.F=function(){return"LineString"},m.ga=function(t,e){t?(Ce(this,e,t,1),this.o||(this.o=[]),this.o.length=Je(this.o,0,t,this.a),this.D()):bk(this,"XY",null)},ck.prototype.clone=function(){return new ck({font:this.f,placement:this.K,maxAngle:this.l,overflow:this.s,rotation:this.g,rotateWithView:this.c,scale:this.a,text:this.sa(),textAlign:this.j,textBaseline:this.u,fill:this.na()?this.na().clone():void 0,stroke:this.ka()?this.ka().clone():void 0,offsetX:this.i,offsetY:this.b})},ck.prototype.na=function(){return this.ma},ck.prototype.ka=function(){return this.pa},ck.prototype.sa=function(){return this.ca},w(dk,wc),dk.prototype.Xa=function(){return this.key+"/"+this.ja},w(gk,dk),m=gk.prototype,m.aa=function(){1==this.state&&(hk(this),this.H=ik()),this.a&&tc(this.a),this.state=5,ek(this),dk.prototype.aa.call(this)},m.W=function(){return this.H},m.Xa=function(){return this.g},m.Of=function(){this.state=3,hk(this),this.H=ik(),ek(this)},m.Pf=function(){this.state=this.H.naturalWidth&&this.H.naturalHeight?2:4,hk(this),ek(this)},m.load=function(){3==this.state&&(this.state=0,this.H=new Image,null!==this.c&&(this.H.crossOrigin=this.c)),0==this.state&&(this.state=1,ek(this),this.i=[B(this.H,"error",this.Of,this,!0),B(this.H,"load",this.Pf,this,!0)],this.j(this,this.g))},m=jk.prototype,m.Y=function(t,e){t={O:t[0],N:t[1],R:t[2],P:t[3],value:e},this.f.Y(t),this.a[x(e)]=t},m.load=function(t,e){for(var i=Array(e.length),n=0,s=e.length;s>n;n++){var r=t[n],o=e[n];r={O:r[0],N:r[1],R:r[2],P:r[3],value:o},i[n]=r,this.a[x(o)]=r}this.f.load(i)},m.remove=function(t){t=x(t);var e=this.a[t];return delete this.a[t],null!==this.f.remove(e)},m.forEach=function(t,e){return nk(lk(this),t,e)},m.clear=function(){this.f.clear(),this.a={}},m.C=function(t){var e=this.f.data;return Ea(e.O,e.N,e.R,e.P,t)},m.concat=function(t){this.f.load(t.f.all());for(var e in t.a)this.a[0|e]=t.a[0|e]},zf("MAP_RENDERER",ji),Af(),w(pk,D),m=pk.prototype,m.Ue=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(qk))&&this.element.appendChild(t)},m.$e=function(){this.b&&(sf(this.element),z(this.b),this.b=null);var t=this.get(rk);t&&(this.b=B(t,"postrender",this.render,this),vk(this),t=this.stopEvent?t.s:t.A,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},m.render=function(){vk(this)},m.af=function(){vk(this)},m.cf=function(){if(vk(this),this.get(tk)&&this.autoPan){var t=this.get(rk);if(t&&Hf(t)){var e=wk(Hf(t),t.kb()),i=this.get(qk),n=i.offsetWidth,s=getComputedStyle(i);n+=parseInt(s.marginLeft,10)+parseInt(s.marginRight,10),s=i.offsetHeight;var r=getComputedStyle(i);s+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10);var o=wk(i,[n,s]);i=this.autoPanMargin,Ca(e,o)||(n=o[0]-e[0],s=e[2]-o[2],r=o[1]-e[1],o=e[3]-o[3],e=[0,0],0>n?e[0]=n-i:0>s&&(e[0]=Math.abs(s)+i),0>r?e[1]=r-i:0>o&&(e[1]=Math.abs(o)+i),0===e[0]&&0===e[1])||(i=t.T().ba(),i=t.ra(i),e=[i[0]+e[0],i[1]+e[1]],t.T().animate({center:t.xa(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},m.df=function(){vk(this)},m.setMap=function(t){this.set(rk,t)},m.Vd=function(t){this.set(sk,t)},m.Cd=function(t){this.set(tk,t)};var qk="element",rk="map",sk="offset",tk="position",uk="positioning";w(yk,Kf),yk.prototype.v=function(){this.c=null},yk.prototype.s=function(t){this.g=this.b.Kb(t),Ck(this,this.g)},yk.prototype.A=function(){Ck(this,null),this.g=null},yk.prototype.setMap=function(t){Kf.prototype.setMap.call(this,t),t&&(t=t.a,this.l.push(B(t,"mousemove",this.s,this),B(t,"mouseout",this.A,this)))};var Ak="projection",Bk="coordinateFormat";w(Dk,Kf);var Gk=[1,2,5];Dk.prototype.B=function(){Hk(this)};var Fk="units",Ik=document.implementation.createDocument("","",null),Sk=Qk();w(bl,Yk),bl.prototype.F=function(){return"json"},bl.prototype.zb=function(t,e){var i=cl(t);if(t=Zk(this,t,e),"FeatureCollection"===i.type){e=[],i=i.features;var n,s=0;for(n=i.length;n>s;++s)e.push(dl(this,i[s],t))}else e=[dl(this,i,t)];return e},bl.prototype.Mc=function(t){t=cl(t).crs;var e;return t?"name"==t.type?e=Bb(t.properties.name):y(!1,36):e=this.defaultDataProjection,e},bl.prototype.de=function(t,e){return JSON.stringify(this.i(t,e))},w(el,ze),m=el.prototype,m.clone=function(){var t=new el(null);return fl(t,this.U,this.o.slice(),this.b.slice()),t},m.Ja=function(t,e,i,n){return n<Ba(this.C(),t,e)?n:(this.j!=this.i&&(this.v=Math.sqrt(Fe(this.o,0,this.b,this.a,0)),this.j=this.i),He(this.o,0,this.b,this.a,this.v,!1,t,e,i,n))},m.I=function(){return Me(this.o,0,this.b,this.a)},m.Da=function(){return this.b},m.Cc=function(){var t,e=[],i=this.o,n=0,s=this.b,r=this.a,o=0;for(t=s.length;t>o;++o){var a=s[o];n=Yj(i,n,a,r),Rb(e,n),n=a}return e},m.ib=function(t){var e,i=[],n=[],s=this.o,r=this.b,o=this.a,a=0,h=0,l=0;for(e=r.length;e>l;++l){var c=r[l];h=Oe(s,a,c,o,t,i,h),n.push(h),a=c}return i.length=h,t=new el(null),fl(t,"XY",i,n),t},m.F=function(){return"MultiLineString"},m.ga=function(t,e){t?(Ce(this,e,t,2),this.o||(this.o=[]),t=Ke(this.o,0,t,this.a,this.b),this.o.length=0===t.length?0:t[t.length-1],this.D()):fl(this,"XY",null,this.b)},w(il,ze),m=il.prototype,m.clone=function(){var t=new il(null);return Be(t,this.U,this.o.slice()),t.D(),t},m.Ja=function(t,e,i,n){if(n<Ba(this.C(),t,e))return n;var s,r=this.o,o=this.a,a=0;for(s=r.length;s>a;a+=o){var h=qa(t,e,r[a],r[a+1]);if(n>h){for(n=h,h=0;o>h;++h)i[h]=r[a+h];i.length=o}}return n},m.I=function(){return Le(this.o,0,this.o.length,this.a)},m.F=function(){return"MultiPoint"},m.ga=function(t,e){t?(Ce(this,e,t,1),this.o||(this.o=[]),this.o.length=Je(this.o,0,t,this.a)):Be(this,"XY",null),this.D()},w(jl,ze),m=jl.prototype,m.clone=function(){for(var t=new jl(null),e=this.b.length,i=Array(e),n=0;e>n;++n)i[n]=this.b[n].slice();return kl(t,this.U,this.o.slice(),i),t},m.Ja=function(t,e,i,n){if(n<Ba(this.C(),t,e))return n;if(this.G!=this.i){var s,r=this.b,o=0,a=0,h=0;for(s=r.length;s>h;++h){var l=r[h];a=Fe(this.o,o,l,this.a,a),o=l[l.length-1]}this.J=Math.sqrt(a),this.G=this.i}r=Ph(this),o=this.b,a=this.a,h=this.J,s=0,l=[NaN,NaN];var c,u=0;for(c=o.length;c>u;++u){var f=o[u];n=He(r,s,f,a,h,!0,t,e,i,n,l),s=f[f.length-1]}return n},m.I=function(t){if(void 0!==t){var e=Ph(this).slice();cf(e,this.b,this.a,t)}else e=this.o;return Ne(e,0,this.b,this.a)},m.ub=function(){return this.b},m.ib=function(t){var e=[],i=[],n=this.o,s=this.b,r=this.a;t=Math.sqrt(t);var o,a=0,h=0,l=0;for(o=s.length;o>l;++l){var c=s[l],u=[];h=Pe(n,a,c,r,t,e,h,u),i.push(u),a=c[c.length-1]}return e.length=h,n=new jl(null),kl(n,"XY",e,i),n},m.F=function(){return"MultiPolygon"},m.ga=function(t,e){if(t){Ce(this,e,t,3),this.o||(this.o=[]),e=this.o;var i=this.a,n=this.b,s=0;n=n?n:[];var r,o=0,a=0;for(r=t.length;r>a;++a)s=Ke(e,s,t[a],i,n[o]),n[o++]=s,s=s[s.length-1];n.length=o,0===n.length?this.o.length=0:(t=n[n.length-1],this.o.length=0===t.length?0:t[t.length-1]),this.D()}else kl(this,"XY",null,this.b)},w(ll,Yk),m=ll.prototype,m.F=function(){return"xml"},m.zb=function(t,e){return t instanceof Document?ml(this,t,e):t instanceof Node?this.i(t,e):"string"==typeof t?(t=Lk(t),ml(this,t,e)):[]},m.Mc=function(t){return t instanceof Document||t instanceof Node?this.defaultDataProjection:"string"==typeof t?(Lk(t),this.defaultDataProjection):null},m.de=function(t,e){return t=this.ee(t,e),this.b.serializeToString(t)},m.ee=function(){return null},w(xl,ll);var yl=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Hl=U(yl,{rte:Mk(function(t,e){var i=e[0];if(t=V({flatCoordinates:[],layoutOptions:{}},El,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.layoutOptions;delete t.layoutOptions,n=Al(n,e);var s=new ak(null);return bk(s,n,e),al(s,!1,i),i=new N(s),i.va(t),i}}),trk:Mk(function(t,e){var i=e[0];if(t=V({flatCoordinates:[],ends:[],layoutOptions:{}},Fl,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.ends;delete t.ends;var s=t.layoutOptions;delete t.layoutOptions,s=Al(s,e,n);var r=new el(null);return fl(r,s,e,n),al(r,!1,i),i=new N(r),i.va(t),i}}),wpt:Mk(function(t,e){var i=e[0];if(e=V({},Gl,t,e)){var n={};return t=zl([],n,t,e),n=Al(n,t),t=new Re(t,n),al(t,!1,i),i=new N(t),i.va(e),i}})}),Cl=U(yl,{text:P(X,"linkText"),type:P(X,"linkType")}),El=U(yl,{name:P(X),cmt:P(X),desc:P(X),src:P(X),link:Bl,number:P(sl),extensions:Dl,type:P(X),rtept:function(t,e){var i=V({},Il,t,e);i&&(e=e[e.length-1],zl(e.flatCoordinates,e.layoutOptions,t,i))}}),Il=U(yl,{ele:P(W),time:P(ql)}),Fl=U(yl,{name:P(X),cmt:P(X),desc:P(X),src:P(X),link:Bl,number:P(sl),type:P(X),extensions:Dl,trkseg:function(t,e){var i=e[e.length-1];Uk(Jl,t,e),i.ends.push(i.flatCoordinates.length)}}),Jl=U(yl,{trkpt:function(t,e){var i=V({},Kl,t,e);i&&(e=e[e.length-1],zl(e.flatCoordinates,e.layoutOptions,t,i))}}),Kl=U(yl,{ele:P(W),time:P(ql)}),Gl=U(yl,{ele:P(W),time:P(ql),magvar:P(W),geoidheight:P(W),name:P(X),cmt:P(X),desc:P(X),src:P(X),link:Bl,sym:P(X),type:P(X),fix:P(X),sat:P(sl),hdop:P(W),vdop:P(W),pdop:P(W),ageofdgpsdata:P(W),dgpsid:P(sl),extensions:Dl});xl.prototype.i=function(t,e){if(!(0<=yl.indexOf(t.namespaceURI)))return[];if("gpx"==t.localName&&(t=V([],Hl,t,[Zk(this,t,e)]))){(e=t)||(e=[]);for(var i=0,n=e.length;n>i;++i){var s=e[i];if(this.f){var r=s.get("extensionsNode_")||null;this.f(s,r)}s.set("extensionsNode_",void 0)}return t}return[]};var Nl=["text","type"],Ml=U(yl,{text:S(Y),type:S(Y)}),Sl=U(yl,"name cmt desc src link number type rtept".split(" ")),Tl=U(yl,{name:S(Y),cmt:S(Y),desc:S(Y),src:S(Y),link:S(Ll),number:S(wl),type:S(Y),rtept:Pk(S(Ol))}),Pl=U(yl,["ele","time"]),Ul=U(yl,"name cmt desc src link number type trkseg".split(" ")),Xl=U(yl,{name:S(Y),cmt:S(Y),desc:S(Y),src:S(Y),link:S(Ll),number:S(wl),type:S(Y),trkseg:Pk(S(function(t,e,i){Vk({node:t,geometryLayout:e.U,properties:{}},Vl,Wl,e.I(),i)}))}),Wl=Qk("trkpt"),Vl=U(yl,{trkpt:S(Ol)}),Ql=U(yl,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Rl=U(yl,{ele:S(vl),time:S(function(t,e){e=new Date(1e3*e),t.appendChild(Ik.createTextNode(e.getUTCFullYear()+"-"+Xd(e.getUTCMonth()+1)+"-"+Xd(e.getUTCDate())+"T"+Xd(e.getUTCHours())+":"+Xd(e.getUTCMinutes())+":"+Xd(e.getUTCSeconds())+"Z"))}),magvar:S(vl),geoidheight:S(vl),name:S(Y),cmt:S(Y),desc:S(Y),src:S(Y),link:S(Ll),sym:S(Y),type:S(Y),fix:S(Y),sat:S(wl),hdop:S(vl),vdop:S(vl),pdop:S(vl),ageofdgpsdata:S(vl),dgpsid:S(wl)}),Yl={Point:"wpt",LineString:"rte",MultiLineString:"trk"},$l=U(yl,{rte:S(function(t,e,i){var n=i[0],s=e.Ma();t={node:t,properties:s},(e=e.S())&&(e=al(e,!0,n),t.geometryLayout=e.U,s.rtept=e.I()),n=Sl[i[i.length-1].node.namespaceURI],s=Tk(s,n),Vk(t,Tl,Sk,s,i,n)}),trk:S(function(t,e,i){var n=i[0],s=e.Ma();t={node:t,properties:s},(e=e.S())&&(e=al(e,!0,n),s.trkseg=gl(e)),n=Ul[i[i.length-1].node.namespaceURI],s=Tk(s,n),Vk(t,Xl,Sk,s,i,n)}),wpt:S(function(t,e,i){var n=i[0],s=i[i.length-1];s.properties=e.Ma(),(e=e.S())&&(e=al(e,!0,n),s.geometryLayout=e.U,Ol(t,e.I(),i))})});xl.prototype.ee=function(t,e){e=$k(this,e);var i=Ik.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Vk({node:i},$l,Zl,t,[e]),i},w(am,ye),m=am.prototype,m.clone=function(){var t=new am(null),e=$a(this.a);return cm(t),t.a=e,bm(t),t.D(),t},m.Ja=function(t,e,i,n){if(n<Ba(this.C(),t,e))return n;var s,r=this.a,o=0;for(s=r.length;s>o;++o)n=r[o].Ja(t,e,i,n);return n},m.Ib=function(t){Fa(t);for(var e=this.a,i=0,n=e.length;n>i;++i)Ja(t,e[i].C());return t},m.Lb=function(t){if(this.l!=this.i&&(Ua(this.c),this.g=0,this.l=this.i),0>t||0!==this.g&&t<this.g)return this;var e=t.toString();if(this.c.hasOwnProperty(e))return this.c[e];var i,n=[],s=this.a,r=!1,o=0;for(i=s.length;i>o;++o){var a=s[o],h=a.Lb(t);n.push(h),h!==a&&(r=!0)}return r?(t=new am(null),cm(t),t.a=n,bm(t),t.D(),this.c[e]=t):(this.g=t,this)},m.F=function(){return"GeometryCollection"},m.rotate=function(t,e){for(var i=this.a,n=0,s=i.length;s>n;++n)i[n].rotate(t,e);this.D()},m.scale=function(t,e,i){i||(i=Oa(this.C()));for(var n=this.a,s=0,r=n.length;r>s;++s)n[s].scale(t,e,i);this.D()},m.sb=function(t){var e,i=this.a,n=0;for(e=i.length;e>n;++n)i[n].sb(t);this.D()},m.aa=function(){cm(this),ye.prototype.aa.call(this)},w(dm,bl);var fm={Point:function(t){return new Re(t.coordinates)},LineString:function(t){return new ak(t.coordinates)},Polygon:function(t){return new df(t.coordinates);
},MultiPoint:function(t){return new il(t.coordinates)},MultiLineString:function(t){return new el(t.coordinates)},MultiPolygon:function(t){return new jl(t.coordinates)},GeometryCollection:function(t,e){return t=t.geometries.map(function(t){return em(t,e)}),new am(t)}},hm={Point:function(t){return{type:"Point",coordinates:t.I()}},LineString:function(t){return{type:"LineString",coordinates:t.I()}},Polygon:function(t,e){if(e)var i=e.rightHanded;return{type:"Polygon",coordinates:t.I(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.I()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.I()}},MultiPolygon:function(t,e){if(e)var i=e.rightHanded;return{type:"MultiPolygon",coordinates:t.I(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var i=Sa({},e);return delete i.featureProjection,gm(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};dm.prototype.i=function(t,e){e=$k(this,e);var i,n=[],s=0;for(i=t.length;i>s;++s)n.push(im(this,t[s],e));return{type:"FeatureCollection",features:n}},w(jm,wc),jm.prototype.s=function(){this.i=3,this.c.forEach(z),this.c=null,this.f("change")},jm.prototype.A=function(){if(this.i=2,this.a&&(this.H.width=this.a[0],this.H.height=this.a[1]),this.a=[this.H.width,this.H.height],this.c.forEach(z),this.c=null,km(this),!this.l&&null!==this.g){this.b.width=this.H.width,this.b.height=this.H.height;var t=this.b.getContext("2d");t.drawImage(this.H,0,0);for(var e=t.getImageData(0,0,this.H.width,this.H.height),i=e.data,n=this.g[0]/255,s=this.g[1]/255,r=this.g[2]/255,o=0,a=i.length;a>o;o+=4)i[o]*=n,i[o+1]*=s,i[o+2]*=r;t.putImageData(e,0,0)}this.f("change")},jm.prototype.W=function(){return this.b?this.b:this.H},jm.prototype.load=function(){if(0==this.i){this.i=1,this.c=[B(this.H,"error",this.s,this,!0),B(this.H,"load",this.A,this,!0)];try{this.H.src=this.u}catch(t){this.s()}}},w(lm,lj),m=lm.prototype,m.clone=function(){return new lm({anchor:this.g.slice(),anchorOrigin:this.f,anchorXUnits:this.v,anchorYUnits:this.B,crossOrigin:this.G,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.a.u,offset:this.da.slice(),offsetOrigin:this.i,size:null!==this.A?this.A.slice():void 0,opacity:this.c,scale:this.b,snapToPixel:this.s,rotation:this.l,rotateWithView:this.V})},m.Jb=function(){if(this.u)return this.u;var t=this.g,e=this.mb();if("fraction"==this.v||"fraction"==this.B){if(!e)return null;t=this.g.slice(),"fraction"==this.v&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.f){if(!e)return null;t===this.g&&(t=this.g.slice()),("top-right"==this.f||"bottom-right"==this.f)&&(t[0]=-t[0]+e[0]),("bottom-left"==this.f||"bottom-right"==this.f)&&(t[1]=-t[1]+e[1])}return this.u=t},m.W=function(t){return this.a.W(t)},m.qd=function(){return this.a.a},m.Ub=function(){return this.a.i},m.Od=function(){var t=this.a;if(!t.j)if(t.l){var e=t.a[0],i=t.a[1],n=rf(e,i);n.fillRect(0,0,e,i),t.j=n.canvas}else t.j=t.H;return t.j},m.Vb=function(){if(this.K)return this.K;var t=this.da;if("top-left"!=this.i){var e=this.mb(),i=this.a.a;if(!e||!i)return null;t=t.slice(),("top-right"==this.i||"bottom-right"==this.i)&&(t[0]=i[0]-e[0]-t[0]),("bottom-left"==this.i||"bottom-right"==this.i)&&(t[1]=i[1]-e[1]-t[1])}return this.K=t},m.mb=function(){return this.A?this.A:this.a.a},m.yd=function(t,e){B(this.a,"change",t,e)},m.load=function(){this.a.load()},m.Zd=function(t,e){rc(this.a,"change",t,e)};var mm=["http://www.google.com/kml/ext/2.2"],Z=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],nm={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},Mm=U(Z,{displayName:P(X),value:P(X)}),Jm=U(Z,{Data:function(t,e){var i=t.getAttribute("name");Uk(Mm,t,e),t=e[e.length-1],null!==i?t[i]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){Uk(Nm,t,e)}}),Lm=U(Z,{LatLonAltBox:function(t,e){(t=V({},Om,t,e))&&(e=e[e.length-1],e.extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=V({},Pm,t,e))&&(e=e[e.length-1],e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Om=U(Z,{altitudeMode:P(X),minAltitude:P(W),maxAltitude:P(W),north:P(W),south:P(W),east:P(W),west:P(W)}),Pm=U(Z,{minLodPixels:P(W),maxLodPixels:P(W),minFadeExtent:P(W),maxFadeExtent:P(W)}),xm=U(Z,{extrude:P(nl),tessellate:P(nl),altitudeMode:P(X)}),tm=U(Z,{coordinates:Nk(pm)}),Fm=U(Z,{innerBoundaryIs:function(t,e){(t=V(void 0,Qm,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=V(void 0,Rm,t,e))&&(e[e.length-1][0]=t)}}),vm=U(Z,{when:function(t,e){e=e[e.length-1].ce,t=Jk(t),t=Date.parse(t),e.push(isNaN(t)?0:t)}},U(mm,{coord:function(t,e){e=e[e.length-1].o,t=Jk(t),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),ym=U(Z,{coordinates:Nk(pm)}),Sm=U(Z,{href:P(qm)},U(mm,{x:P(W),y:P(W),w:P(W),h:P(W)})),Tm=U(Z,{Icon:P(function(t,e){return(t=V({},Sm,t,e))?t:null}),heading:P(W),hotSpot:P(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits"),n="insetPixels"!==e?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),Tc:nm[e],y:parseFloat(t.getAttribute("y")),Uc:nm[i],origin:n}}),scale:P(rm)}),Qm=U(Z,{LinearRing:Nk(sm)}),Um=U(Z,{color:P(om),scale:P(rm)}),Vm=U(Z,{color:P(om),width:P(W)}),Bm=U(Z,{LineString:Mk(wm),LinearRing:Mk(zm),MultiGeometry:Mk(Am),Point:Mk(Dm),Polygon:Mk(Em)}),Wm=U(mm,{Track:Mk(um)});U(Z,{ExtendedData:Im,Region:Km,Link:function(t,e){Uk(Xm,t,e)},address:P(X),description:P(X),name:P(X),open:P(nl),phoneNumber:P(X),visibility:P(nl)});var Xm=U(Z,{href:P(qm)}),Rm=U(Z,{LinearRing:Nk(sm)}),Ym=U(Z,{Style:P(Gm),key:P(X),styleUrl:P(qm)});U(Z,{ExtendedData:Im,Region:Km,MultiGeometry:P(Am,"geometry"),LineString:P(wm,"geometry"),LinearRing:P(zm,"geometry"),Point:P(Dm,"geometry"),Polygon:P(Em,"geometry"),Style:P(Gm),StyleMap:function(t,e){(t=V(void 0,Zm,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:y(!1,38))},address:P(X),description:P(X),name:P(X),open:P(nl),phoneNumber:P(X),styleUrl:P(qm),visibility:P(nl)},U(mm,{MultiTrack:P(function(t,e){return(t=V([],Wm,t,e))?(e=new el(null),hl(e,t),e):void 0},"geometry"),Track:P(um,"geometry")}));var $m=U(Z,{color:P(om),fill:P(nl),outline:P(nl)}),Nm=U(Z,{SimpleData:function(t,e){var i=t.getAttribute("name");null!==i&&(t=X(t),e[e.length-1][i]=t)}}),Hm=U(Z,{IconStyle:function(t,e){if(t=V({},Tm,t,e)){e=e[e.length-1];var i,n="Icon"in t?t.Icon:{},s=!("Icon"in t)||0<Object.keys(n).length,r=n.href;r?i=r:s&&(i=void 0),r="bottom-left";var o=t.hotSpot;if(o){var a=[o.x,o.y],h=o.Tc,l=o.Uc;r=o.origin}else void 0===i?l=h=a=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(a=[.5,0],l=h="fraction");var c;o=n.x;var u=n.y;void 0!==o&&void 0!==u&&(c=[o,u]);var f;o=n.w,n=n.h,void 0!==o&&void 0!==n&&(f=[o,n]);var p;n=t.heading,void 0!==n&&(p=ra(n)),t=t.scale,s?(void 0==i&&(f=void 0,void 0===t&&(t=void 0)),i=new lm({anchor:a,anchorOrigin:r,anchorXUnits:h,anchorYUnits:l,crossOrigin:"anonymous",offset:c,offsetOrigin:"bottom-left",rotation:p,scale:t,size:f,src:i}),e.imageStyle=i):e.imageStyle=void 0}},LabelStyle:function(t,e){(t=V({},Um,t,e))&&(e[e.length-1].textStyle=new ck({fill:new pj({color:"color"in t?t.color:void 0}),scale:t.scale}))},LineStyle:function(t,e){(t=V({},Vm,t,e))&&(e[e.length-1].strokeStyle=new qj({color:"color"in t?t.color:void 0,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=V({},$m,t,e)){e=e[e.length-1],e.fillStyle=new pj({color:"color"in t?t.color:void 0});var i=t.fill;void 0!==i&&(e.fill=i),t=t.outline,void 0!==t&&(e.outline=t)}}}),Zm=U(Z,{Pair:function(t,e){if(t=V({},Ym,t,e)){var i=t.key;i&&"normal"==i&&((i=t.styleUrl)&&(e[e.length-1]=i),(t=t.Style)&&(e[e.length-1]=t))}}});U(Z,["Document","Placemark"]),U(Z,{Document:S(function(t,e,i){Vk({node:t},Jn,Kn,e,i,void 0,this)}),Placemark:S(xn)});var Jn=U(Z,{Placemark:S(xn)}),Ln=U(Z,{Data:S(function(t,e,i){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&Vk(t,Ln,Sk,[e.displayName],i,["displayName"]),null!==e&&e.value&&Vk(t,Ln,Sk,[e.value],i,["value"])):Vk(t,Ln,Sk,[e],i,["value"])}),value:S(function(t,e){Y(t,e)}),displayName:S(function(t,e){t.appendChild(Ik.createCDATASection(e))})}),Mn={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Nn=U(Z,["href"],U(mm,["x","y","w","h"])),On=U(Z,{href:S(Y)},U(mm,{x:S(vl),y:S(vl),w:S(vl),h:S(vl)})),Pn=U(Z,["scale","heading","Icon","hotSpot"]),Rn=U(Z,{Icon:S(function(t,e,i){t={node:t};var n=Nn[i[i.length-1].node.namespaceURI],s=Tk(e,n);Vk(t,On,Sk,s,i,n),n=Nn[mm[0]],s=Tk(e,n),Vk(t,On,Qn,s,i,n)}),heading:S(vl),hotSpot:S(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Tc),t.setAttribute("yunits",e.Uc)}),scale:S(In)}),Sn=U(Z,["color","scale"]),Tn=U(Z,{color:S(an),scale:S(In)}),Un=U(Z,["color","width"]),Vn=U(Z,{color:S(an),width:S(vl)}),vn=U(Z,{LinearRing:S(Bn)}),tn=U(Z,{LineString:S(Bn),Point:S(Bn),Polygon:S(En),GeometryCollection:S(bn)}),An=U(Z,"name open visibility address phoneNumber description styleUrl Style".split(" ")),yn=U(Z,{ExtendedData:S(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var s=n.length,r=0;s>r;r++)Vk(t,Ln,Wn,[{name:n[r],value:e[r]}],i)}),MultiGeometry:S(bn),LineString:S(Bn),LinearRing:S(Bn),Point:S(Bn),Polygon:S(En),Style:S(function(t,e,i){t={node:t};var n={},s=e.na(),r=e.ka(),o=e.W();e=e.sa(),o instanceof lm&&(n.IconStyle=o),e&&(n.LabelStyle=e),r&&(n.LineStyle=r),s&&(n.PolyStyle=s),e=Xn[i[i.length-1].node.namespaceURI],n=Tk(n,e),Vk(t,Yn,Sk,n,i,e)}),address:S(Y),description:S(Y),name:S(Y),open:S(ul),phoneNumber:S(Y),styleUrl:S(Y),visibility:S(ul)}),Cn=U(Z,["extrude","tessellate","altitudeMode","coordinates"]),Dn=U(Z,{extrude:S(ul),tessellate:S(ul),altitudeMode:S(Y),coordinates:S(function(t,e,i){i=i[i.length-1];var n=i.layout;i=i.stride;var s;"XY"==n||"XYM"==n?s=2:"XYZ"==n||"XYZM"==n?s=3:y(!1,34);var r,o=e.length,a="";if(o>0){for(a+=e[0],n=1;s>n;++n)a+=","+e[n];for(r=i;o>r;r+=i)for(a+=" "+e[r],n=1;s>n;++n)a+=","+e[r+n]}Y(t,a)})}),Fn=U(Z,{outerBoundaryIs:S(un),innerBoundaryIs:S(un)}),Zn=U(Z,{color:S(an)}),Xn=U(Z,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Yn=U(Z,{IconStyle:S(function(t,e,i){t={node:t};var n={},s=e.mb(),r=e.qd(),o={href:e.a.u};if(s){o.w=s[0],o.h=s[1];var a=e.Jb(),h=e.Vb();h&&r&&0!==h[0]&&h[1]!==s[1]&&(o.x=h[0],o.y=r[1]-(h[1]+s[1])),!a||a[0]===s[0]/2&&a[1]===s[1]/2||(n.hotSpot={x:a[0],Tc:"pixels",y:s[1]-a[1],Uc:"pixels"})}n.Icon=o,s=e.b,1!==s&&(n.scale=s),e=e.l,0!==e&&(n.heading=e),e=Pn[i[i.length-1].node.namespaceURI],n=Tk(n,e),Vk(t,Rn,Sk,n,i,e)}),LabelStyle:S(function(t,e,i){t={node:t};var n={},s=e.na();s&&(n.color=s.a),(e=e.a)&&1!==e&&(n.scale=e),e=Sn[i[i.length-1].node.namespaceURI],n=Tk(n,e),Vk(t,Tn,Sk,n,i,e)}),LineStyle:S(function(t,e,i){t={node:t};var n=Un[i[i.length-1].node.namespaceURI];e=Tk({color:e.a,width:e.b},n),Vk(t,Vn,Sk,e,i,n)}),PolyStyle:S(function(t,e,i){Vk({node:t},Zn,$n,[e.a],i)})}),$n=Qk("color"),Wn=Qk("Data"),zn=Qk("ExtendedData"),Gn=Qk("innerBoundaryIs"),qn=Qk("Point"),rn=Qk("LineString"),wn=Qk("LinearRing"),sn=Qk("Polygon"),Hn=Qk("outerBoundaryIs");qi.Eb=function(){},function(t){function e(t){this.te=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=0,this.length=this.te.length}e.b=0,e.i=1,e.a=2,e.f=5,e.prototype={},t["default"]=e}(qi.Eb=qi.Eb||{}),qi.Eb=qi.Eb["default"],m=ao.prototype,m.get=function(t){return this.u[t]},m.Da=ao.prototype.ub=function(){return this.i},m.C=function(){return this.c||(this.c="Point"===this.g?Ga(this.a):Ha(this.a,0,this.a.length,2)),this.c},m.Ac=function(){if(!this.b){var t=Oa(this.C());this.b=Te(this.a,0,this.i,2,t,0)}return this.b},m.Bc=function(){return this.f||(this.f=Yj(this.a,0,this.a.length,2)),this.f},m.Cc=function(){if(!this.f){this.f=[];for(var t=this.a,e=0,i=this.i,n=0,s=i.length;s>n;++n){var r=i[n];e=Yj(t,e,r,2),Rb(this.f,e),e=r}}return this.f},m.Za=function(){return this.a},m.X=ao.prototype.Za,m.S=function(){return this},m.Lb=ao.prototype.S,m.Z=function(){return 2},m.Sa=ha,m.F=function(){return this.g},m.Ya=function(t){var e=t.C();t=t.Sc,e=Na(t)/Na(e);var i=this.j;xe(i,t[0],t[3],e,-e,0,0,0),qe(this.a,0,this.a.length,2,i,this.a)};var co=[null],eo=U(co,{nd:function(t,e){e[e.length-1].Jf.push(t.getAttribute("ref"))},tag:bo});U(co,{node:function(t,e){var i=e[0],n=e[e.length-1],s=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.ah[s]=r,t=V({ac:{}},fo,t,e),Wa(t.ac)||(r=new Re(r),al(r,!1,i),i=new N(r),i.Qc(s),i.va(t.ac),n.features.push(i))},way:function(t,e){var i=t.getAttribute("id");t=V({id:i,Jf:[],ac:{}},eo,t,e),e[e.length-1].bh.push(t)}});var fo=U(co,{tag:bo}),oo=[null,"http://www.opengis.net/wms"];U(oo,{Service:P(function(t,e){return V({},po,t,e)}),Capability:P(function(t,e){return V({},qo,t,e)})});var qo=U(oo,{Request:P(function(t,e){return V({},ro,t,e)}),Exception:P(function(t,e){return V([],so,t,e)}),Layer:P(function(t,e){return V({},to,t,e)})}),po=U(oo,{Name:P(X),Title:P(X),Abstract:P(X),KeywordList:P(mo),OnlineResource:P(go),ContactInformation:P(function(t,e){return V({},uo,t,e)}),Fees:P(X),AccessConstraints:P(X),LayerLimit:P(sl),MaxWidth:P(sl),MaxHeight:P(sl)}),uo=U(oo,{ContactPersonPrimary:P(function(t,e){return V({},vo,t,e)}),ContactPosition:P(X),ContactAddress:P(function(t,e){return V({},wo,t,e)}),ContactVoiceTelephone:P(X),ContactFacsimileTelephone:P(X),ContactElectronicMailAddress:P(X)}),vo=U(oo,{ContactPerson:P(X),ContactOrganization:P(X)}),wo=U(oo,{AddressType:P(X),Address:P(X),City:P(X),StateOrProvince:P(X),PostCode:P(X),Country:P(X)}),so=U(oo,{Format:Mk(X)}),to=U(oo,{Name:P(X),Title:P(X),Abstract:P(X),KeywordList:P(mo),CRS:Ok(X),EX_GeographicBoundingBox:P(function(t,e){var i=V({},xo,t,e);if(i){t=i.westBoundLongitude,e=i.southBoundLatitude;var n=i.eastBoundLongitude;if(i=i.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return[t,e,n,i]}}),BoundingBox:Ok(function(t){var e=[rl(t.getAttribute("minx")),rl(t.getAttribute("miny")),rl(t.getAttribute("maxx")),rl(t.getAttribute("maxy"))],i=[rl(t.getAttribute("resx")),rl(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:Ok(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),"default":t.getAttribute("default"),multipleValues:pl(t.getAttribute("multipleValues")),nearestValue:pl(t.getAttribute("nearestValue")),current:pl(t.getAttribute("current")),values:X(t)}}),Attribution:P(function(t,e){return V({},yo,t,e)}),AuthorityURL:Ok(function(t,e){return(e=ho(t,e))?(e.name=t.getAttribute("name"),e):void 0}),Identifier:Ok(X),MetadataURL:Ok(function(t,e){return(e=ho(t,e))?(e.type=t.getAttribute("type"),e):void 0}),DataURL:Ok(ho),FeatureListURL:Ok(ho),Style:Ok(function(t,e){return V({},zo,t,e)}),MinScaleDenominator:P(W),MaxScaleDenominator:P(W),Layer:Ok(function(t,e){var i=e[e.length-1],n=V({},to,t,e);return n?(e=pl(t.getAttribute("queryable")),void 0===e&&(e=i.queryable),n.queryable=void 0!==e?e:!1,e=tl(t.getAttribute("cascaded")),void 0===e&&(e=i.cascaded),n.cascaded=e,e=pl(t.getAttribute("opaque")),void 0===e&&(e=i.opaque),n.opaque=void 0!==e?e:!1,e=pl(t.getAttribute("noSubsets")),void 0===e&&(e=i.noSubsets),n.noSubsets=void 0!==e?e:!1,(e=rl(t.getAttribute("fixedWidth")))||(e=i.fixedWidth),n.fixedWidth=e,(t=rl(t.getAttribute("fixedHeight")))||(t=i.fixedHeight),n.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n):void 0})}),yo=U(oo,{Title:P(X),OnlineResource:P(go),LogoURL:P(lo)}),xo=U(oo,{westBoundLongitude:P(W),eastBoundLongitude:P(W),southBoundLatitude:P(W),northBoundLatitude:P(W)}),ro=U(oo,{GetCapabilities:P(jo),GetMap:P(jo),GetFeatureInfo:P(jo)}),ko=U(oo,{Format:Ok(X),DCPType:Ok(function(t,e){return V({},Ao,t,e)})}),Ao=U(oo,{HTTP:P(function(t,e){return V({},Bo,t,e)})}),Bo=U(oo,{Get:P(ho),Post:P(ho)}),zo=U(oo,{Name:P(X),Title:P(X),Abstract:P(X),LegendURL:Ok(lo),StyleSheetURL:P(ho),StyleURL:P(ho)}),io=U(oo,{Format:P(X),OnlineResource:P(go)}),no=U(oo,{Keyword:Mk(X)}),Co=[null,"http://www.opengis.net/ows/1.1"];U(Co,{ServiceIdentification:P(function(t,e){return V({},Do,t,e)}),ServiceProvider:P(function(t,e){return V({},Eo,t,e)}),OperationsMetadata:P(function(t,e){return V({},Fo,t,e)})});var Go=U(Co,{DeliveryPoint:P(X),City:P(X),AdministrativeArea:P(X),PostalCode:P(X),Country:P(X),ElectronicMailAddress:P(X)}),Ho=U(Co,{Value:Ok(function(t){return X(t)})}),Io=U(Co,{AllowedValues:P(function(t,e){return V({},Ho,t,e)})}),Ko=U(Co,{Phone:P(function(t,e){return V({},Jo,t,e)}),Address:P(function(t,e){return V({},Go,t,e)})}),Mo=U(Co,{HTTP:P(function(t,e){return V({},Lo,t,e)})}),Lo=U(Co,{Get:Ok(function(t,e){var i=go(t);return i?V({href:i},No,t,e):void 0}),Post:void 0}),Oo=U(Co,{DCP:P(function(t,e){return V({},Mo,t,e)})}),Fo=U(Co,{Operation:function(t,e){var i=t.getAttribute("name");(t=V({},Oo,t,e))&&(e[e.length-1][i]=t)}}),Jo=U(Co,{Voice:P(X),Facsimile:P(X)}),No=U(Co,{Constraint:Ok(function(t,e){var i=t.getAttribute("name");return i?V({name:i},Io,t,e):void 0})}),Po=U(Co,{IndividualName:P(X),PositionName:P(X),ContactInfo:P(function(t,e){return V({},Ko,t,e)})}),Do=U(Co,{Abstract:P(X),AccessConstraints:P(X),Fees:P(X),Title:P(X),ServiceTypeVersion:P(X),ServiceType:P(X)}),Eo=U(Co,{ProviderName:P(X),ProviderSite:P(go),ServiceContact:P(function(t,e){return V({},Po,t,e)})}),Ro=[null,"http://www.opengis.net/wmts/1.0"],So=[null,"http://www.opengis.net/ows/1.1"];U(Ro,{Contents:P(function(t,e){return V({},To,t,e)})});var To=U(Ro,{Layer:Ok(function(t,e){return V({},Uo,t,e)}),TileMatrixSet:Ok(function(t,e){return V({},Vo,t,e)})}),Uo=U(Ro,{Style:Ok(function(t,e){return(e=V({},Wo,t,e))?(t="true"===t.getAttribute("isDefault"),e.isDefault=t,e):void 0}),Format:Ok(X),TileMatrixSetLink:Ok(function(t,e){return V({},Xo,t,e)}),Dimension:Ok(function(t,e){return V({},Yo,t,e)}),ResourceURL:Ok(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},U(So,{Title:P(X),Abstract:P(X),WGS84BoundingBox:P(function(t,e){return t=V([],Zo,t,e),2==t.length?wa(t):void 0}),Identifier:P(X)})),Wo=U(Ro,{LegendURL:Ok(function(t){var e={};return e.format=t.getAttribute("format"),e.href=go(t),e})},U(So,{Title:P(X),Identifier:P(X)})),Xo=U(Ro,{TileMatrixSet:P(X),TileMatrixSetLimits:P(function(t,e){return V([],$o,t,e)})}),$o=U(Ro,{TileMatrixLimits:Mk(function(t,e){return V({},ap,t,e)})}),ap=U(Ro,{TileMatrix:P(X),MinTileRow:P(sl),MaxTileRow:P(sl),MinTileCol:P(sl),MaxTileCol:P(sl)}),Yo=U(Ro,{Default:P(X),Value:Ok(X)},U(So,{Identifier:P(X)})),Zo=U(So,{LowerCorner:Mk(Qo),UpperCorner:Mk(Qo)}),Vo=U(Ro,{WellKnownScaleSet:P(X),TileMatrix:Ok(function(t,e){return V({},bp,t,e)})},U(So,{SupportedCRS:P(X),Identifier:P(X)})),bp=U(Ro,{TopLeftCorner:P(Qo),ScaleDenominator:P(W),TileWidth:P(sl),TileHeight:P(sl),MatrixWidth:P(sl),MatrixHeight:P(sl)},U(So,{Identifier:P(X)}));w(cp,ze),m=cp.prototype,m.clone=function(){var t=new cp(null);return Be(t,this.U,this.o.slice()),t.D(),t},m.Ja=function(t,e,i,n){var s=this.o;t-=s[0];var r=e-s[1];if(e=t*t+r*r,n>e){if(0===e)for(n=0;n<this.a;++n)i[n]=s[n];else for(n=this.yb()/Math.sqrt(e),i[0]=s[0]+n*t,i[1]=s[1]+n*r,n=2;n<this.a;++n)i[n]=s[n];return i.length=this.a,e}return n},m.ba=function(){return this.o.slice(0,this.a)},m.Ib=function(t){var e=this.o,i=e[this.a]-e[0];return Ea(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},m.yb=function(){var t=this.o[this.a]-this.o[0],e=this.o[this.a+1]-this.o[1];return Math.sqrt(t*t+e*e)},m.F=function(){return"Circle"},m.Ba=function(t){var e=this.a,i=t.slice();i[e]=i[0]+(this.o[e]-this.o[0]);var n;for(n=1;e>n;++n)i[e+n]=t[n];Be(this,this.U,i),this.D()},m.I=function(){},m.ga=function(){},m.Rc=function(t){this.o[this.a]=this.o[0]+t,this.D()},w(dp,Wf),dp.prototype.g=function(t,e){e=e.target.result;var i=this.A,n=this.j;n||(n=i.T().v),i=this.c;var s,r=[],o=0;for(s=i.length;s>o;++o){var a=new i[o],h={featureProjection:n};try{r=a.zb(e,h)}catch(l){r=null}if(r&&0<r.length)break}this.b&&(this.b.clear(),this.b.lc(r)),this.f(new gp(hp,t,r,n))},dp.prototype.lb=function(t){Wf.prototype.lb.call(this,t),t?ip(this):jp(this)},dp.prototype.setMap=function(t){jp(this),Wf.prototype.setMap.call(this,t),this.get("active")&&ip(this)};var hp="addfeatures";w(gp,uc),w(kp,Mf),kp.prototype.Sa=function(){return this.A};var gj="renderOrder";if(w(mp,D),mp.prototype.wa=ha,w(op,mp),m=op.prototype,m.fb=function(t){var e=x(t).toString();if(rp(this,e,t)){sp(this,e,t);var i=t.S();i?(e=i.C(),this.a&&this.a.Y(e,t)):this.b[e]=t,this.f(new tp("addfeature",t))}this.D()},m.lc=function(t){pp(this,t),this.D()},m.clear=function(t){if(t){for(var e in this.s)this.s[e].forEach(z);this.c||(this.s={},this.g={},this.l={})}else if(this.a){this.a.forEach(this.Oc,this);for(var i in this.b)this.Oc(this.b[i])}this.c&&this.c.clear(),this.a&&this.a.clear(),this.G.clear(),this.b={},this.f(new tp("clear")),this.D()},m.De=function(t,e){return this.a?this.a.forEach(t,e):this.c?this.c.forEach(t,e):void 0},m.Kc=function(){if(this.c)var t=this.c.a;else this.a&&(t=lk(this.a),Wa(this.b)||Rb(t,Va(this.b)));return t},m.C=function(t){return this.a.C(t)},m.Nd=function(t){t=t.target;var e=x(t).toString(),i=t.S();i?(i=i.C(),e in this.b?(delete this.b[e],this.a&&this.a.Y(i,t)):this.a&&kk(this.a,i,t)):e in this.b||(this.a&&this.a.remove(t),this.b[e]=t),i=t.b,void 0!==i?(i=i.toString(),e in this.l?(delete this.l[e],this.g[i]=t):this.g[i]!==t&&(up(this,t),this.g[i]=t)):e in this.l||(up(this,t),this.l[e]=t),this.D(),this.f(new tp("changefeature",t))},m.La=function(t){var e=x(t).toString();e in this.b?delete this.b[e]:this.a&&this.a.remove(t),this.Oc(t),this.D()},m.Oc=function(t){var e=x(t).toString();this.s[e].forEach(z),delete this.s[e];var i=t.b;void 0!==i?delete this.g[i.toString()]:delete this.l[e],this.f(new tp("removefeature",t))},w(tp,uc),w(vp,ig),m=vp.prototype,m.kc=function(t){var e=t.S();e&&e.F()in this.ea&&this.ea[e.F()].call(this,t,e),(e=this.A)&&e.b&&this.get("active")&&Bp(this,this.Aa,e),B(t,"change",this.Dd,this)},m.lb=function(t){this.b&&!t&&(this.B.fa().La(this.b),this.b=null),ig.prototype.lb.call(this,t)},m.setMap=function(t){this.B.setMap(t),ig.prototype.setMap.call(this,t)},m.gf=function(t){t.feature&&this.l.push(t.feature)},m.kf=function(t){t.feature&&this.l.remove(t.feature)},m.Vf=function(t){this.kc(t.element)},m.Dd=function(t){this.j||(t=t.target,Ep(this,t),this.kc(t))},m.Wf=function(t){Ep(this,t.element)},m.bg=function(t,e){var i=e.I();t={feature:t,geometry:e,M:[i,i]},this.a.Y(e.C(),t)},m.$f=function(t,e){var i,n=e.I(),s=0;for(i=n.length;i>s;++s){var r=n[s];r={feature:t,geometry:e,depth:[s],index:s,M:[r,r]},this.a.Y(e.C(),r)}},m.Ed=function(t,e){var i,n=e.I(),s=0;for(i=n.length-1;i>s;++s){var r=n.slice(s,s+2),o={feature:t,geometry:e,index:s,M:r};this.a.Y(wa(r),o)}},m.Zf=function(t,e){var i,n,s=e.I(),r=0;for(n=s.length;n>r;++r){var o=s[r],a=0;for(i=o.length-1;i>a;++a){var h=o.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,M:h};this.a.Y(wa(h),l)}}},m.cg=function(t,e){var i,n,s=e.I(),r=0;for(n=s.length;n>r;++r){var o=s[r],a=0;for(i=o.length-1;i>a;++a){var h=o.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,M:h};this.a.Y(wa(h),l)}}},m.ag=function(t,e){var i,n,s,r=e.I(),o=0;for(s=r.length;s>o;++o){var a=r[o],h=0;for(n=a.length;n>h;++h){var l=a[h],c=0;for(i=l.length-1;i>c;++c){var u=l.slice(c,c+2),f={feature:t,geometry:e,depth:[h,o],index:c,M:u};this.a.Y(wa(u),f)}}}},m.Xf=function(t,e){var i=e.ba(),n={feature:t,geometry:e,index:0,M:[i,i]};t={feature:t,geometry:e,index:1,M:[i,i]},n.zc=t.zc=[n,t],this.a.Y(Ga(i),n),this.a.Y(e.C(),t)},m.Yf=function(t,e){var i=e.a;for(e=0;e<i.length;++e)this.ea[i[e].F()].call(this,t,i[e])},m.rf=function(t,e){for(var i,n=t.M,s=t.feature,r=t.geometry,o=t.depth,a=t.index;e.length<r.Z();)e.push(0);switch(r.F()){case"MultiLineString":i=r.I(),i[o[0]].splice(a+1,0,e);break;case"Polygon":i=r.I(),i[o[0]].splice(a+1,0,e);break;case"MultiPolygon":i=r.I(),i[o[1]][o[0]].splice(a+1,0,e);break;case"LineString":i=r.I(),i.splice(a+1,0,e);break;default:return}this.j=!0,r.ga(i),this.j=!1,i=this.a,i.remove(t),Jp(this,r,a,o,1),t={M:[n[0],e],feature:s,geometry:r,depth:o,index:a},i.Y(wa(t.M),t),this.g.push([t,1]),e={M:[e,n[1]],feature:s,geometry:r,depth:o,index:a+1},i.Y(wa(e.M),e),this.g.push([e,0]),this.J=!0},w(Dp,uc),w(Lp,ig),m=Lp.prototype,m.fb=function(t,e){e=void 0!==e?e:!0;var i=x(t),n=t.S();if(n){var s=this.ea[n.F()];s&&(this.$[i]=n.C(xa()),s.call(this,t,n))}e&&(this.B[i]=B(t,"change",this.dg,this))},m.Ee=function(t){this.fb(t)},m.Ge=function(t){this.La(t)},m.Fd=function(t){if(t instanceof tp)var e=t.feature;else t instanceof Lc&&(e=t.element);this.fb(e)},m.Gd=function(t){if(t instanceof tp)var e=t.feature;else t instanceof Lc&&(e=t.element);this.La(e)},m.dg=function(t){if(t=t.target,this.s){var e=x(t);e in this.l||(this.l[e]=t)}else this.$d(t)},m.La=function(t,e){e=void 0!==e?e:!0;var i=x(t),n=this.$[i];if(n){var s=this.a,r=[];for(ok(s,n,function(e){t===e.feature&&r.push(e)}),n=r.length-1;n>=0;--n)s.remove(r[n])}e&&(z(this.B[i]),delete this.B[i])},m.setMap=function(t){var e,i=this.A,n=this.ha;this.g?e=this.g:this.j&&(e=this.j.Kc()),i&&(n.forEach(z),n.length=0,e.forEach(this.Ge,this)),ig.prototype.setMap.call(this,t),t&&(this.g?n.push(B(this.g,"add",this.Fd,this),B(this.g,"remove",this.Gd,this)):this.j&&n.push(B(this.j,"addfeature",this.Fd,this),B(this.j,"removefeature",this.Gd,this)),e.forEach(this.Ee,this))},m.qb=pe,m.$d=function(t){this.La(t,!1),this.fb(t,!1)},m.eg=function(t,e){var i=e.Z(),n=e.U,s=new df(null,n);i*=33;for(var r=Array(i),o=0;i>o;o++)r[o]=0;ef(s,n,r,[r.length]),n=e.ba(),e=e.yb(),i=s.X(),r=s.U,o=s.Z();for(var a,h,l=s.Da(),c=i.length/o-1,u=0;c>=u;++u)h=u*o,a=0+2*sa(u,c)*Math.PI/c,i[h]=n[0]+e*Math.cos(a),i[h+1]=n[1]+e*Math.sin(a);for(ef(s,r,i,l),s=s.I()[0],n=0,e=s.length-1;e>n;++n)i=s.slice(n,n+2),r={feature:t,M:i},this.a.Y(wa(i),r)},m.fg=function(t,e){var i=e.a;for(e=0;e<i.length;++e){var n=this.ea[i[e].F()];n&&n.call(this,t,i[e])}},m.Hd=function(t,e){e=e.I();var i,n=0;for(i=e.length-1;i>n;++n){var s=e.slice(n,n+2),r={feature:t,M:s};this.a.Y(wa(s),r)}},m.gg=function(t,e){e=e.I();var i,n,s=0;for(n=e.length;n>s;++s){var r=e[s],o=0;for(i=r.length-1;i>o;++o){var a=r.slice(o,o+2),h={feature:t,M:a};this.a.Y(wa(a),h)}}},m.hg=function(t,e){var i,n=e.I(),s=0;for(i=n.length;i>s;++s){var r=n[s];r={feature:t,M:[r,r]},this.a.Y(e.C(),r)}},m.ig=function(t,e){e=e.I();var i,n,s,r=0;for(s=e.length;s>r;++r){var o=e[r],a=0;for(n=o.length;n>a;++a){var h=o[a],l=0;for(i=h.length-1;i>l;++l){var c=h.slice(l,l+2),u={feature:t,M:c};this.a.Y(wa(c),u)}}}},m.jg=function(t,e){var i=e.I();t={feature:t,M:[i,i]},this.a.Y(e.C(),t)},m.kg=function(t,e){e=e.I();var i,n,s=0;for(n=e.length;n>s;++s){var r=e[s],o=0;for(i=r.length-1;i>o;++o){var a=r.slice(o,o+2),h={feature:t,M:a};this.a.Y(wa(a),h)}}},w(Qp,Mf),w(Vp,jh),Vp.prototype.hb=function(t){for(var e,i;kh(this);){e=this.i.cb,i=e.ja[0].toString();var n;if((n=i in t)&&(e=e.ja,n=na(t[i],e[1],e[2])),n)break;tc(this.pop())}},w(bq,dk),bq.prototype.aa=function(){1==this.state&&(this.rb.forEach(z),this.rb=null),dk.prototype.aa.call(this)},bq.prototype.W=function(){return this.A},bq.prototype.Td=function(){var t=[];if(this.i.forEach(function(e){e&&2==e.state&&t.push({extent:bc(this.c,e.ja),image:e.W()})},this),this.i.length=0,0===t.length)this.state=3;else{var e=this.l[0],i=fc(this.j,e),n="number"==typeof i?i:i[0];i="number"==typeof i?i:i[1],e=this.j.a[e];var s=this.c.a[this.g],r=bc(this.j,this.l);this.A=Yp(n,i,this.B,s,this.c.C(),e,r,this.s,t,this.v,this.G),this.state=2}ek(this)},bq.prototype.load=function(){if(0==this.state){this.state=1,ek(this);var t=0;this.rb=[],this.i.forEach(function(e){var i=e.state;if(0==i||1==i){t++;var n=B(e,"change",function(){var i=e.state;(2==i||3==i||4==i)&&(z(n),t--,0===t&&(this.rb.forEach(z),this.rb=null,this.Td()))},this);this.rb.push(n)}},this),this.i.forEach(function(t){0==t.state&&t.load()}),0===t&&setTimeout(this.Td.bind(this),0)}},w(cq,mp),m=cq.prototype,m.Md=function(){return kh(this.a)},m.hb=function(t,e){(t=this.vb(t))&&t.hb(e)},m.pd=function(){return 0},m.Fc=function(){return this.Ca},m.Ea=function(t){return this.tileGrid?this.tileGrid:ic(t)},m.vb=function(t){var e=this.j;return e&&!Kb(e,t)?null:this.a},m.Mb=function(){return this.Ia},m.be=ha,w(eq,uc),w(fq,cq),fq.prototype.Aa=function(t){t=t.target;var e=x(t),i=t.state;if(1==i){this.B[e]=!0;var n="tileloadstart"}else e in this.B&&(delete this.B[e],n=3==i?"tileloaderror":2==i||5==i?"tileloadend":void 0);void 0!=n&&this.f(new eq(n,t))},fq.prototype.be=function(t,e,i){t=t+"/"+e+"/"+i,this.a.b.hasOwnProperty(t)&&this.a.get(t)},w(hq,fq),m=hq.prototype,m.Md=function(){if(kh(this.a))return!0;for(var t in this.b)if(kh(this.b[t]))return!0;return!1},m.hb=function(t,e){t=this.vb(t),this.a.hb(this.a==t?e:{});for(var i in this.b){var n=this.b[i];n.hb(n==t?e:{})}},m.pd=function(t){return this.j&&t&&!Kb(this.j,t)?0:this.Dc()},m.Dc=function(){return 0},m.Fc=function(t){return this.j&&t&&!Kb(this.j,t)?!1:fq.prototype.Fc.call(this,t)},m.Ea=function(t){var e=this.j;return!this.tileGrid||e&&!Kb(e,t)?(e=x(t).toString(),e in this.v||(this.v[e]=ic(t)),this.v[e]):this.tileGrid},m.vb=function(t){var e=this.j;return!e||Kb(e,t)?this.a:(t=x(t).toString(),t in this.b||(this.b[t]=new Vp(this.a.highWaterMark)),this.b[t])},w(lq,hq),w(nq,lq),qi.Lc={},qi.Lc.Vc=function(){},function(t){function e(t,e,i){return o?new ImageData(t,e,i):(e=h.createImageData(e,i),e.data.set(t),e)}function i(t){var e=!0;try{new ImageData(10,10)}catch(i){e=!1}return function(i){var n=i.buffers,s=i.meta,r=i.width,o=i.height,a=n.length,h=n[0].byteLength;if(i.imageOps){for(h=Array(a),i=0;a>i;++i){var l=i,c=new Uint8ClampedArray(n[i]),u=r,f=o;c=e?new ImageData(c,u,f):{data:c,width:u,height:f},h[l]=c}r=t(h,s).data}else{for(r=new Uint8ClampedArray(h),o=Array(a),l=Array(a),i=0;a>i;++i)o[i]=new Uint8ClampedArray(n[i]),l[i]=[0,0,0,0];for(n=0;h>n;n+=4){for(i=0;a>i;++i)c=o[i],l[i][0]=c[n],l[i][1]=c[n+1],l[i][2]=c[n+2],l[i][3]=c[n+3];i=t(l,s),r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3]}}return r.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n),n.addEventListener("message",e),n}function s(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function r(t){this.hc=!!t.$g;var e;e=0===t.threads?0:this.hc?1:t.threads||1;var i=[];if(e)for(var r=0;e>r;++r)i[r]=n(t,this.ad.bind(this,r));else i[0]=s(t,this.ad.bind(this,0));this.Gb=i,this.bd=[],this.Fb=0,this.eb={},this.ic=null}var o=!0;try{new ImageData(10,10)}catch(a){o=!1}var h=document.createElement("canvas").getContext("2d");r.prototype.le=function(){if(0===this.Fb&&0<this.bd.length){var t=this.ic=this.bd.shift(),e=t.inputs[0].width,i=t.inputs[0].height,n=t.inputs.map(function(t){
return t.data.buffer}),s=this.Gb.length;if(this.Fb=s,1===s)this.Gb[0].postMessage({buffers:n,meta:t.uf,imageOps:this.hc,width:e,height:i},n);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/s),o=0;s>o;++o){for(var a=o*r,h=[],l=0,c=n.length;c>l;++l)h.push(n[o].slice(a,a+r));this.Gb[o].postMessage({buffers:h,meta:t.uf,imageOps:this.hc,width:e,height:i},h)}}},r.prototype.ad=function(t,e){this.Zg||(this.eb[t]=e.data,--this.Fb,0===this.Fb&&this.ne())},r.prototype.ne=function(){var t=this.ic,i=this.Gb.length;if(1===i)var n=new Uint8ClampedArray(this.eb[0].buffer),s=this.eb[0].meta;else{var r=t.inputs[0].data.length;n=new Uint8ClampedArray(r),s=Array(r),r=4*Math.ceil(r/4/i);for(var o=0;i>o;++o){var a=o*r;n.set(new Uint8ClampedArray(this.eb[o].buffer),a),s[o]=this.eb[o].meta}}this.ic=null,this.eb={},t.callback(null,e(n,t.inputs[0].width,t.inputs[0].height),s),this.le()},t["default"]={Vc:r},t.Vc=r}(qi.Lc=qi.Lc||{}),w(oq,hq),oq.prototype.Dc=function(){return this.L},oq.prototype.Mb=function(t){return this.J&&void 0!==this.s?t:1},oq.prototype.c=function(t,e,i){var n=this.tileGrid;if(n||(n=this.Ea(i)),!(n.a.length<=t[0])){1==e||this.J&&void 0!==this.s||(e=1);var s=n.a[t[0]],r=bc(n,t,this.ia),o=va(fc(n,t[0]),this.l);if(n=this.L,0!==n){var a=this.l;void 0===a&&(a=[0,0]),a[0]=o[0]+2*n,a[1]=o[1]+2*n,o=a,r=za(r,s*n,r)}if(1!=e&&(o=ua(o,e,this.l)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Sa(s,this.g),n=o,o=e,e=this.urls){if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.G?"CRS":"SRS"]=i.Qa,"STYLES"in this.g||(s.STYLES=""),1!=o)switch(this.s){case"geoserver":n=90*o+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":s.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":s.DPI=90*o;break;default:y(!1,52)}i=i.fd,this.G&&"ne"==i.substr(0,2)&&(i=r[0],r[0]=r[1],r[1]=i,i=r[2],r[2]=r[3],r[3]=i),s.BBOX=r.join(","),t=mq(1==e.length?e[0]:e[sa((t[1]<<t[0])+t[2],e.length)],s)}else t=void 0;return t}},r("ol.layer.Group",vf),vf.prototype.getLayers=vf.prototype.Sb,r("ol.layer.Vector",kp),kp.prototype.getSource=kp.prototype.fa,r("ol.source.Vector",op),op.prototype.getFeatures=op.prototype.Kc,op.prototype.addFeatures=op.prototype.lc,op.prototype.removeFeature=op.prototype.La,op.prototype.forEachFeature=op.prototype.De,op.prototype.clear=op.prototype.clear,op.prototype.getExtent=op.prototype.C,r("ol.layer.Tile",Qp),tf.prototype.setVisible=tf.prototype.lg,tf.prototype.getVisible=tf.prototype.wb,tf.prototype.setMinResolution=tf.prototype.Cg,tf.prototype.setMaxResolution=tf.prototype.Bg,r("ol.source.OSM",nq),r("ol.source.XYZ",lq),r("ol.source.TileWMS",oq),r("ol.CanvasMap",M),M.prototype.getView=M.prototype.T,M.prototype.addControl=M.prototype.pe,M.prototype.on=M.prototype.nb,M.prototype.un=M.prototype.cc,M.prototype.addOverlay=M.prototype.re,M.prototype.getEventPixel=M.prototype.Kb,M.prototype.getEventCoordinate=M.prototype.Me,M.prototype.getPixelFromCoordinate=M.prototype.ra,M.prototype.getInteractions=M.prototype.Oe,M.prototype.addInteraction=M.prototype.qe,M.prototype.removeInteraction=M.prototype.xg,M.prototype.hasFeatureAtPixel=M.prototype.qf,M.prototype.getTarget=M.prototype.Ic,M.prototype.getViewport=M.prototype.Se,M.prototype.forEachFeatureAtPixel=M.prototype.Fe,M.prototype.getSize=M.prototype.kb,M.prototype.getLayers=M.prototype.Sf,r("ol.control.defaults",Sf),r("ol.control.MousePosition",yk),r("ol.control.ScaleLine",Dk),r("ol.interaction.DoubleClickZoom",$f),r("ol.interaction.Modify",vp),r("ol.interaction.Snap",Lp),r("ol.interaction.DragAndDrop",dp),dp.prototype.on=dp.prototype.nb,Wf.prototype.setActive=Wf.prototype.lb,r("ol.coordinate.format",function(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}),r("ol.View",gf),gf.prototype.on=gf.prototype.nb,gf.prototype.un=gf.prototype.cc,gf.prototype.getZoom=gf.prototype.td,gf.prototype.getProjection=gf.prototype.Tf,gf.prototype.fit=gf.prototype.Ce,gf.prototype.getCenter=gf.prototype.ba,gf.prototype.setCenter=gf.prototype.Ba,gf.prototype.setZoom=gf.prototype.Xd,gf.prototype.setRotation=gf.prototype.Rb,gf.prototype.getResolution=gf.prototype.ua,gf.prototype.getRotation=gf.prototype.ya,r("ol.Feature",N),N.prototype.getGeometry=N.prototype.S,N.prototype.setGeometry=N.prototype.pb,N.prototype.getStyle=N.prototype.Lf,N.prototype.setStyle=N.prototype.zd,N.prototype.getProperties=N.prototype.Ma,N.prototype.setProperties=N.prototype.va,N.prototype.getStyleFunction=N.prototype.Sa,N.prototype.getId=N.prototype.Kf,N.prototype.setId=N.prototype.Qc,r("ol.geom.Point",Re),Re.prototype.getType=Re.prototype.F,Re.prototype.getCoordinates=Re.prototype.I,Re.prototype.transform=Re.prototype.Ya,r("ol.geom.MultiPoint",il),r("ol.geom.LineString",ak),ak.prototype.getType=ak.prototype.F,ak.prototype.transform=ak.prototype.Ya,ak.prototype.getCoordinates=ak.prototype.I,ak.prototype.setCoordinates=ak.prototype.ga,ak.prototype.getCoordinateAtM=ak.prototype.Uf,ak.prototype.appendCoordinate=ak.prototype.se,el.prototype.getType=el.prototype.F,r("ol.geom.Polygon",df),r("ol.geom.Circle",cp),cp.prototype.setCenter=cp.prototype.Ba,cp.prototype.getCenter=cp.prototype.ba,cp.prototype.setRadius=cp.prototype.Rc,cp.prototype.getRadius=cp.prototype.yb,ye.prototype.getExtent=ye.prototype.C,ye.prototype.on=ye.prototype.nb,ye.prototype.un=ye.prototype.cc,r("ol.style.Style",rj),r("ol.style.Circle",oj),r("ol.style.Fill",pj),r("ol.style.Stroke",qj),r("ol.style.Text",ck),r("ol.format.GPX",xl),xl.prototype.readFeatures=xl.prototype.zb,xl.prototype.writeFeatures=xl.prototype.de,r("ol.format.GeoJSON",dm),dm.prototype.readFeatures=dm.prototype.zb,dm.prototype.writeFeaturesObject=dm.prototype.i,r("ol.Overlay",pk),pk.prototype.setPosition=pk.prototype.Cd,pk.prototype.setOffset=pk.prototype.Vd,r("ol.Collection",J),J.prototype.on=J.prototype.nb,J.prototype.setAt=J.prototype.Ag,J.prototype.push=J.prototype.push,J.prototype.getArray=J.prototype.Le,J.prototype.removeAt=J.prototype.Nc,J.prototype.insertAt=J.prototype.Pb,J.prototype.getLength=J.prototype.Wa,J.prototype.remove=J.prototype.remove,J.prototype.forEach=J.prototype.forEach,J.prototype.clear=J.prototype.clear,r("ol.proj.Projection",gb),gb.prototype.setExtent=gb.prototype.j,gb.prototype.getExtent=gb.prototype.C,r("ol.proj.setProj4",function(t){fb=t}),r("ol.proj.get",Bb),r("ol.proj.transform",Nb),r("ol.proj.transformExtent",Ob),r("ol.Geolocation",O),O.prototype.getAccuracy=O.prototype.He,O.prototype.getAccuracyGeometry=O.prototype.Ie,O.prototype.getAltitude=O.prototype.Je,O.prototype.getAltitudeAccuracy=O.prototype.Ke,O.prototype.getHeading=O.prototype.Ne,O.prototype.getPosition=O.prototype.Mf,O.prototype.getProjection=O.prototype.Ad,O.prototype.getSpeed=O.prototype.Qe,O.prototype.getTracking=O.prototype.rd,O.prototype.getTrackingOptions=O.prototype.sd,O.prototype.setProjection=O.prototype.Bd,O.prototype.setTracking=O.prototype.Zb,O.prototype.setTrackingOptions=O.prototype.Wd,O.prototype.get=O.prototype.get,O.prototype.getKeys=O.prototype.Rf,O.prototype.getProperties=O.prototype.Ma,O.prototype.set=O.prototype.set,O.prototype.setProperties=O.prototype.va,O.prototype.unset=O.prototype.Jg,O.prototype.changed=O.prototype.D,O.prototype.dispatchEvent=O.prototype.f,O.prototype.getRevision=O.prototype.Pe,O.prototype.on=O.prototype.nb,O.prototype.once=O.prototype.once,O.prototype.un=O.prototype.cc,r("ol.extent.getWidth",Ma),r("ol.tilegrid.TileGrid",Wb),r("ol.Sphere.getLength",Ya),r("ol.Sphere.getArea",bb),r("ol.events.condition.always",oe),r("ol.events.condition.never",pe),r("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),define("ol",function(t){return function(){var e;return e||t.ol}}(this)),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("proj4",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.proj4=t()}}(function(){return function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({"./includedProjections":[function(t,e,i){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd"),t("./lib/projections/ortho")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/ortho":57,"./lib/projections/poly":58,"./lib/projections/sinu":59,"./lib/projections/somerc":60,"./lib/projections/stere":61,"./lib/projections/sterea":62,"./lib/projections/tmerc":63,"./lib/projections/utm":64,"./lib/projections/vandg":65}],1:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var s=t.split(",");this.x=parseFloat(s[0],10),this.y=parseFloat(s[1],10),this.z=parseFloat(s[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var s=t("mgrs");n.fromMGRS=function(t){return new n(s.toPoint(t))},n.prototype.toMGRS=function(t){return s.forward([this.x,this.y],t)},e.exports=n},{mgrs:68}],2:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=s(t);if("object"!=typeof i)return void e(t);var o=a(i),h=n.projections.get(o.projName);h?(r(this,o),r(this,h),this.init(),e(null,this)):e(t)}var s=t("./parseCode"),r=t("./extend"),o=t("./projections"),a=t("./deriveConstants");n.projections=o,n.projections.start(),e.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,i){e.exports=function(t,e,i){var n,s,r,o=i.x,a=i.y,h=i.z||0;for(r=0;3>r;r++)if(!e||2!==r||void 0!==i.z)switch(0===r?(n=o,s="x"):1===r?(n=a,s="y"):(n=h,s="z"),t.axis[r]){case"e":i[s]=n;break;case"w":i[s]=-n;break;case"n":i[s]=n;break;case"s":i[s]=-n;break;case"u":void 0!==i[s]&&(i.z=n);break;case"d":void 0!==i[s]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(t,e,i){var n=Math.PI/2,s=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-s(t)*Math.PI}},{"./sign":21}],5:[function(t,e,i){var n=2*Math.PI,s=3.14159265359,r=t("./sign");e.exports=function(t){return Math.abs(t)<=s?t:t-r(t)*n}},{"./sign":21}],6:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e,i){e.exports=function(t,e,i,n,s){var r,o;r=t/e;for(var a=0;15>a;a++)if(o=(t-(e*r-i*Math.sin(2*r)+n*Math.sin(4*r)-s*Math.sin(6*r)))/(e-2*i*Math.cos(2*r)+4*n*Math.cos(4*r)-6*s*Math.cos(6*r)),r+=o,Math.abs(o)<=1e-10)return r;return NaN}},{}],13:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var s,r,o,a,h=Math.asin(.5*e),l=0;30>l;l++)if(r=Math.sin(h),o=Math.cos(h),a=t*r,s=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),h+=s,Math.abs(s)<=1e-10)return h;return NaN}},{}],14:[function(t,e,i){e.exports=function(t,e,i,n,s){return t*s-e*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,s,r=.5*t,o=n-2*Math.atan(e),a=0;15>=a;a++)if(i=t*Math.sin(o),s=n-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-o,o+=s,Math.abs(s)<=1e-10)return o;return-9999}},{}],17:[function(t,e,i){var n=1,s=.25,r=.046875,o=.01953125,a=.01068115234375,h=.75,l=.46875,c=.013020833333333334,u=.007120768229166667,f=.3645833333333333,p=.005696614583333333,d=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(s+t*(r+t*(o+t*a))),e[1]=t*(h-t*(r+t*(o+t*a)));var i=t*t;return e[2]=i*(l-t*(c+t*u)),i*=t,e[3]=i*(f-t*p),e[4]=i*t*d,e}},{}],18:[function(t,e,i){var n=t("./pj_mlfn"),s=1e-10,r=20;e.exports=function(t,e,i){for(var o=1/(1-e),a=t,h=r;h;--h){var l=Math.sin(a),c=1-e*l*l;if(c=(n(a,l,Math.cos(a),i)-t)*(c*Math.sqrt(c))*o,a-=c,Math.abs(c)<s)return a}return a}},{"./pj_mlfn":19}],19:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],21:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var s=t*i,r=.5*t;return s=Math.pow((1-s)/(1+s),r),Math.tan(.5*(n-e))/s}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=a(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):a(t,e,i)}function s(t){return t instanceof o?t:t.oProj?t.oProj:o(t)}function r(t,e,i){t=s(t);var r,o=!1;return"undefined"==typeof e?(e=t,t=h,o=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=h,o=!0),e=s(e),i?n(t,e,i):(r={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},o&&(r.oProj=e),r)}var o=t("./Proj"),a=t("./transform"),h=o("WGS84");e.exports=r},{"./Proj":2,"./transform":66}],30:[function(t,e,i){var n=Math.PI/2,s=1,r=2,o=3,a=4,h=5,l=484813681109536e-20,c=1.0026,u=.3826834323650898,f=function(t){return this instanceof f?(this.datum_type=a,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=h),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=s),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=r,this.datum_params[3]*=l,this.datum_params[4]*=l,this.datum_params[5]*=l,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?o:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===o&&(this.grids=t.grids)))):new f(t)};f.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===s?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===r?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===o||t.datum_type===o?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,s,r,o,a,h,l=t.x,c=t.y,u=t.z?t.z:0,f=0;if(-n>c&&c>-1.001*n)c=-n;else if(c>n&&1.001*n>c)c=n;else if(-n>c||c>n)return null;return l>Math.PI&&(l-=2*Math.PI),o=Math.sin(c),h=Math.cos(c),a=o*o,r=this.a/Math.sqrt(1-this.es*a),e=(r+u)*h*Math.cos(l),i=(r+u)*h*Math.sin(l),s=(r*(1-this.es)+u)*o,t.x=e,t.y=i,t.z=s,f},geocentric_to_geodetic:function(t){var e,i,s,r,o,a,h,l,c,u,f,p,d,m,g,v,y,b=1e-12,x=b*b,w=30,M=t.x,k=t.y,_=t.z?t.z:0;if(d=!1,e=Math.sqrt(M*M+k*k),i=Math.sqrt(M*M+k*k+_*_),e/this.a<b){if(d=!0,g=0,i/this.a<b)return v=n,void(y=-this.b)}else g=Math.atan2(k,M);s=_/i,r=e/i,o=1/Math.sqrt(1-this.es*(2-this.es)*r*r),l=r*(1-this.es)*o,c=s*o,m=0;do m++,h=this.a/Math.sqrt(1-this.es*c*c),y=e*l+_*c-h*(1-this.es*c*c),a=this.es*h/(h+y),o=1/Math.sqrt(1-a*(2-a)*r*r),u=r*(1-a)*o,f=s*o,p=f*l-u*c,l=u,c=f;while(p*p>x&&w>m);return v=Math.atan(f/Math.abs(u)),t.x=g,t.y=v,t.z=y,t},geocentric_to_geodetic_noniter:function(t){var e,i,s,r,o,a,h,l,f,p,d,m,g,v,y,b,x,w=t.x,M=t.y,k=t.z?t.z:0;if(w=parseFloat(w),M=parseFloat(M),k=parseFloat(k),x=!1,0!==w)e=Math.atan2(M,w);else if(M>0)e=n;else if(0>M)e=-n;else if(x=!0,e=0,k>0)i=n;else{if(!(0>k))return i=n,void(s=-this.b);i=-n}return o=w*w+M*M,r=Math.sqrt(o),a=k*c,l=Math.sqrt(a*a+o),p=a/l,m=r/l,d=p*p*p,h=k+this.b*this.ep2*d,b=r-this.a*this.es*m*m*m,f=Math.sqrt(h*h+b*b),g=h/f,v=b/f,y=this.a/Math.sqrt(1-this.es*g*g),s=v>=u?r/v-y:-u>=v?r/-v-y:k/g+y*(this.es-1),x===!1&&(i=Math.atan(g/v)),t.x=e,t.y=i,t.z=s,t},geocentric_to_wgs84:function(t){if(this.datum_type===s)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===r){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],a=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],c=l*(t.x-h*t.y+a*t.z)+e,u=l*(h*t.x+t.y-o*t.z)+i,f=l*(-a*t.x+o*t.y+t.z)+n;t.x=c,t.y=u,t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===s)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===r){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],a=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],c=(t.x-e)/l,u=(t.y-i)/l,f=(t.z-n)/l;t.x=c+h*u-a*f,t.y=-h*c+u+o*f,t.z=a*c-o*u+f}}},e.exports=f},{}],31:[function(t,e,i){var n=1,s=2,r=3,o=5,a=6378137,h=.006694379990141316;e.exports=function(t,e,i){function l(t){return t===n||t===s}var c,u,f;if(t.compare_datums(e))return i;if(t.datum_type===o||e.datum_type===o)return i;var p=t.a,d=t.es,m=e.a,g=e.es,v=t.datum_type;if(v===r)if(0===this.apply_gridshift(t,0,i))t.a=a,t.es=h;else{if(!t.datum_params)return t.a=p,t.es=t.es,i;for(c=1,u=0,f=t.datum_params.length;f>u;u++)c*=t.datum_params[u];if(0===c)return t.a=p,t.es=t.es,i;v=t.datum_params.length>3?s:n}return e.datum_type===r&&(e.a=a,e.es=h),(t.es!==e.es||t.a!==e.a||l(v)||l(e.datum_type))&&(t.geodetic_to_geocentric(i),l(t.datum_type)&&t.geocentric_to_wgs84(i),l(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===r&&this.apply_gridshift(e,1,i),t.a=p,t.es=d,e.a=m,e.es=g,i}},{}],32:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=r(arguments[1]):n[t]=o(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var s=t("./global"),r=t("./projString"),o=t("./wkt");s(n),e.exports=n},{"./global":35,"./projString":38,"./wkt":67}],33:[function(t,e,i){var n=t("./constants/Datum"),s=t("./constants/Ellipsoid"),r=t("./extend"),o=t("./datum"),a=1e-10,h=.16666666666666666,l=.04722222222222222,c=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=s[t.ellps]?s[t.ellps]:s.WGS84;r(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<a)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(h+t.es*(l+t.es*c)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=o(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],35:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":69,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"./includedProjections","./transform":66,mgrs:68}],37:[function(t,e,i){function n(t){return"string"==typeof t}function s(t){return t in h}function r(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function o(t){return"+"===t[0]}function a(t){return n(t)?s(t)?h[t]:r(t)?l(t):o(t)?c(t):void 0:t}var h=t("./defs"),l=t("./wkt"),c=t("./projString");e.exports=a},{"./defs":32,"./projString":38,"./wkt":67}],38:[function(t,e,i){var n=.017453292519943295,s=t("./constants/PrimeMeridian"),r=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var o,a,h,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,r[t]&&(e.to_meter=r[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(s[t]?s[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(o in i)a=i[o],o in l?(h=l[o],"function"==typeof h?h(a):e[h]=a):e[o]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,i){function n(t,e){var i=o.length;return t.names?(o[i]=t,t.names.forEach(function(t){r[t.toLowerCase()]=i}),this):(console.log(e),!0)}var s=[t("./projections/merc"),t("./projections/longlat")],r={},o=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof r[e]&&o[r[e]]?o[r[e]]:void 0},i.start=function(){s.forEach(n)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,i){var n=1e-10,s=t("../common/msfnz"),r=t("../common/qsfnz"),o=t("../common/adjust_lon"),a=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=s(this.e3,this.sin_po,this.cos_po),this.qs1=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=s(this.e3,this.sin_po,this.cos_po),this.qs2=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=r(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=r(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*o(e-this.long0),h=s*Math.sin(a)+this.x0,l=this.rh-s*Math.cos(a)+this.y0;return t.x=h,t.y=l,t},i.inverse=function(t){var e,i,n,s,r,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),s=0,0!==e&&(s=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),r=o(s/this.ns0+this.long0),t.x=r,t.y=a,t},i.phi1z=function(t,e){var i,s,r,o,h,l=a(.5*e);if(n>t)return l;for(var c=t*t,u=1;25>=u;u++)if(i=Math.sin(l),s=Math.cos(l),r=t*i,o=1-r*r,h=.5*o*o/s*(e/(1-c)-i/o+.5/t*Math.log((1-r)/(1+r))),l+=h,Math.abs(h)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,i){var n=t("../common/adjust_lon"),s=Math.PI/2,r=1e-10,o=t("../common/mlfn"),a=t("../common/e0fn"),h=t("../common/e1fn"),l=t("../common/e2fn"),c=t("../common/e3fn"),u=t("../common/gN"),f=t("../common/asinz"),p=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,f,p,d,m,g,v,y,b,x,w,M,k,_,S,P,C,E,T,j,A,N,L=t.x,D=t.y,I=Math.sin(t.y),O=Math.cos(t.y),R=n(L-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=r?(t.x=this.x0+this.a*(s-D)*Math.sin(R),
t.y=this.y0-this.a*(s-D)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=r?(t.x=this.x0+this.a*(s+D)*Math.sin(R),t.y=this.y0+this.a*(s+D)*Math.cos(R),t):(C=this.sin_p12*I+this.cos_p12*O*Math.cos(R),S=Math.acos(C),P=S/Math.sin(S),t.x=this.x0+this.a*P*O*Math.sin(R),t.y=this.y0+this.a*P*(this.cos_p12*I-this.sin_p12*O*Math.cos(R)),t):(e=a(this.es),i=h(this.es),f=l(this.es),p=c(this.es),Math.abs(this.sin_p12-1)<=r?(d=this.a*o(e,i,f,p,s),m=this.a*o(e,i,f,p,D),t.x=this.x0+(d-m)*Math.sin(R),t.y=this.y0-(d-m)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=r?(d=this.a*o(e,i,f,p,s),m=this.a*o(e,i,f,p,D),t.x=this.x0+(d+m)*Math.sin(R),t.y=this.y0+(d+m)*Math.cos(R),t):(g=I/O,v=u(this.a,this.e,this.sin_p12),y=u(this.a,this.e,I),b=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(y*O)),x=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(R)),E=0===x?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(x)-Math.PI)<=r?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(R)*Math.cos(b)/Math.sin(x)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),k=w*M,_=M*M,T=E*E,j=T*E,A=j*E,N=A*E,S=v*E*(1-T*_*(1-_)/6+j/8*k*(1-2*_)+A/120*(_*(4-7*_)-3*w*w*(1-7*_))-N/48*k),t.x=this.x0+S*Math.sin(x),t.y=this.y0+S*Math.cos(x),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,d,m,g,v,y,b,x,w,M,k,_,S,P,C,E,T,j,A,N,L,D;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*s*this.a)return;return i=e/this.a,d=Math.sin(i),m=Math.cos(i),g=this.long0,Math.abs(e)<=r?v=this.lat0:(v=f(m*this.sin_p12+t.y*d*this.cos_p12/e),y=Math.abs(this.lat0)-s,g=n(Math.abs(y)<=r?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*m-t.y*this.sin_p12*d))),t.x=g,t.y=v,t}return b=a(this.es),x=h(this.es),w=l(this.es),M=c(this.es),Math.abs(this.sin_p12-1)<=r?(k=this.a*o(b,x,w,M,s),e=Math.sqrt(t.x*t.x+t.y*t.y),_=k-e,v=p(_/this.a,b,x,w,M),g=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=r?(k=this.a*o(b,x,w,M,s),e=Math.sqrt(t.x*t.x+t.y*t.y),_=e-k,v=p(_/this.a,b,x,w,M),g=n(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),C=Math.atan2(t.x,t.y),S=u(this.a,this.e,this.sin_p12),E=Math.cos(C),T=this.e*this.cos_p12*E,j=-T*T/(1-this.es),A=3*this.es*(1-j)*this.sin_p12*this.cos_p12*E/(1-this.es),N=e/S,L=N-j*(1+j)*Math.pow(N,3)/6-A*(1+3*j)*Math.pow(N,4)/24,D=1-j*L*L/2-N*L*L*L/6,P=Math.asin(this.sin_p12*Math.cos(L)+this.cos_p12*Math.sin(L)*E),g=n(this.long0+Math.asin(Math.sin(C)*Math.sin(L)/Math.cos(P))),v=Math.atan((1-this.es*D*this.sin_p12/Math.sin(P))*Math.tan(P)/(1-this.es)),t.x=g,t.y=v,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var n=t("../common/mlfn"),s=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),h=t("../common/gN"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),f=Math.PI/2,p=1e-10;i.init=function(){this.sphere||(this.e0=s(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,s=t.x,r=t.y;if(s=l(s-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(s)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(s))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),c=h(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),f=s*Math.cos(r),p=f*f,d=this.es*a*a/(1-this.es),m=this.a*n(this.e0,this.e1,this.e2,this.e3,r);e=c*f*(1-p*u*(1/6-(8-u+8*d)*p/120)),i=m-this.ml0+c*o/a*p*(.5+(5-u+6*d)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,s=t.y/this.a;if(this.sphere){var r=s+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(r))}else{var o=this.ml0/this.a+s,a=u(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=p)return t.x=this.long0,t.y=f,0>s&&(t.y*=-1),t;var d=h(this.a,this.e,Math.sin(a)),m=d*d*d/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),v=n*this.a/d,y=v*v;e=a-d*Math.tan(a)/m*v*v*(.5-(1+3*g)*v*v/24),i=v*(1-y*(g/3+(1+3*g)*g*y/15))/Math.cos(a)}return t.x=l(i+this.long0),t.y=c(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/qsfnz"),r=t("../common/msfnz"),o=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,r=t.x,o=t.y,a=n(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var h=s(this.e,Math.sin(o));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*h*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=o(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,r=n(e-this.long0),o=s(i-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*o,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=s(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),r=t("../common/e2fn"),o=t("../common/e3fn"),a=t("../common/msfnz"),h=t("../common/mlfn"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),f=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=s(this.es),this.e2=r(this.es),this.e3=o(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var s=h(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-s)}var r=this.ns*l(i-this.long0),o=this.x0+e*Math.sin(r),a=this.y0+this.rh-e*Math.cos(r);return t.x=o,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,s;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(0!==i&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=l(this.long0+r/this.ns),n=c(this.g-i/this.a),t.x=s,t.y=n,t;var o=this.g-i/this.a;return n=u(o,this.e0,this.e1,this.e2,this.e3),s=l(this.long0+r/this.ns),t.x=s,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,i){var n=Math.PI/4,s=t("../common/srat"),r=Math.PI/2,o=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*s(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*s(this.e*Math.sin(i),this.ratexp))-r,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,a=t.y,h=Math.pow(Math.tan(.5*a+n)/this.K,1/this.C),l=o;l>0&&(a=2*Math.atan(h*s(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(a-t.y)<e));--l)t.y=a;return l?(t.x=i,t.y=a,t):null},i.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10,r=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,r,o,a,h,l,c,u=t.x,f=t.y;return r=n(u-this.long0),e=Math.sin(f),i=Math.cos(f),o=Math.cos(r),h=this.sin_p14*e+this.cos_p14*i*o,a=1,h>0||Math.abs(h)<=s?(l=this.x0+this.a*a*i*Math.sin(r)/h,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*o)/h):(l=this.x0+this.infinity_dist*i*Math.sin(r),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*o)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,s,o,a,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(e,this.rc),i=Math.sin(o),s=Math.cos(o),h=r(s*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i),a=n(this.long0+a)):(h=this.phic0,a=0),t.x=a,t.y=h,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,s,r,o,a,h,l=t.x,c=t.y,u=n(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),s=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),o=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(r)),a=this.n*o,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=h*Math.cos(a)/1,t.x=h*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,s,r,o,a,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x),s=r/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(s)),i=Math.asin(Math.cos(n)*Math.sin(s)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,h=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(h=1),a=t.y,c+=1;while(0===h&&15>c);return c>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,i){var n=Math.PI/2,s=Math.PI/4,r=1e-10,o=t("../common/qsfnz"),a=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<r?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<r?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=o(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,h,l,c,u,f,p,d,m,g=t.x,v=t.y;if(g=a(g-this.long0),this.sphere){if(c=Math.sin(v),m=Math.cos(v),h=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+m*h:1+this.sinph0*c+this.cosph0*m*h,r>=i)return null;i=Math.sqrt(2/i),e=i*m*Math.sin(g),i*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*m*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(v+this.phi0)<r)return null;i=s-.5*v,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(g),i*=h}}else{switch(f=0,p=0,d=0,h=Math.cos(g),l=Math.sin(g),c=Math.sin(v),u=o(this.e,c),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=u/this.qp,p=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:d=1+this.sinb1*f+this.cosb1*p*h;break;case this.EQUIT:d=1+p*h;break;case this.N_POLE:d=n+v,u=this.qp-u;break;case this.S_POLE:d=v-n,u=this.qp+u}if(Math.abs(d)<r)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),i=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*f-this.sinb1*p*h):(d=Math.sqrt(2/(1+p*h)))*f*this.ymf,e=this.xmf*d*p*l;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(d=Math.sqrt(u))*l,i=h*(this.mode===this.S_POLE?d:-d)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,o,h,l,c,u=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,d=0,m=0;if(p=Math.sqrt(u*u+f*f),i=.5*p,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(i),d=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=r?0:Math.asin(f*m/p),u*=m,f=d*p;break;case this.OBLIQ:i=Math.abs(p)<=r?this.phi0:Math.asin(d*this.sinph0+f*m*this.cosph0/p),u*=m*this.cosph0,f=(d-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:f=-f,i=n-i;break;case this.S_POLE:i-=n}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,f):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,f*=this.dd,l=Math.sqrt(u*u+f*f),r>l)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),u*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+f*o*this.cosb1/l,h=this.qp*c,f=l*this.cosb1*s-f*this.sinb1*o):(c=f*o/l,h=this.qp*c,f=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),h=u*u+f*f,!h)return t.x=0,t.y=this.phi0,t;c=1-h/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(u,f),i=this.authlat(Math.asin(c),this.apa)}return t.x=a(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,i){var n=1e-10,s=t("../common/msfnz"),r=t("../common/tsfnz"),o=Math.PI/2,a=t("../common/sign"),h=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),o=s(this.e,e,i),a=r(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),c=s(this.e,h,l),u=r(this.e,this.lat2,h),f=r(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(o/c)/Math.log(a/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=a(i)*(o-2*n));var s,l,c=Math.abs(Math.abs(i)-o);if(c>n)s=r(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(s,this.ns);else{if(c=i*this.ns,0>=c)return null;l=0}var u=this.ns*h(e-this.long0);return t.x=this.k0*(l*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(u))+this.y0,t},i.inverse=function(t){var e,i,n,s,r,a=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+c*c),i=1):(e=-Math.sqrt(a*a+c*c),i=-1);var u=0;if(0!==e&&(u=Math.atan2(i*a,i*c)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),s=l(this.e,n),-9999===s)return null}else s=-o;return r=h(u/this.ns+this.long0),t.x=r,t.y=s,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],52:[function(t,e,i){var n=t("../common/msfnz"),s=Math.PI/2,r=1e-10,o=57.29577951308232,a=t("../common/adjust_lon"),h=Math.PI/4,l=t("../common/tsfnz"),c=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*o>90&&-90>i*o&&e*o>180&&-180>e*o)return null;var n,c;if(Math.abs(Math.abs(i)-s)<=r)return null;if(this.sphere)n=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var u=Math.sin(i),f=l(this.e,i,u);n=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0-this.a*this.k0*Math.log(f)}return t.x=n,t.y=c,t},i.inverse=function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=s-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(i=c(this.e,o),-9999===i)return null}return e=a(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,s=n(e-this.long0),r=this.x0+this.a*s,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=o,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,r=n(e-this.long0),o=i,a=Math.PI*Math.sin(i),h=0;!0;h++){var l=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=l,Math.abs(l)<s)break}o/=2,Math.PI/2-Math.abs(i)<s&&(r=0);var c=.900316316158*this.a*r*Math.cos(o)+this.x0,u=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=c,t.y=u,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var s=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));s<-Math.PI&&(s=-Math.PI),s>Math.PI&&(s=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=s,t.y=r,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,s=t.y,r=s-this.lat0,o=i-this.long0,a=r/n*1e-5,h=o,l=1,c=0;for(e=1;10>=e;e++)l*=a,c+=this.A[e]*l;var u,f,p=c,d=h,m=1,g=0,v=0,y=0;for(e=1;6>=e;e++)u=m*p-g*d,f=g*p+m*d,m=u,g=f,v=v+this.B_re[e]*m-this.B_im[e]*g,y=y+this.B_im[e]*m+this.B_re[e]*g;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t},i.inverse=function(t){var e,i,s,r=t.x,o=t.y,a=r-this.x0,h=o-this.y0,l=h/this.a,c=a/this.a,u=1,f=0,p=0,d=0;for(e=1;6>=e;e++)i=u*l-f*c,s=f*l+u*c,u=i,f=s,p=p+this.C_re[e]*u-this.C_im[e]*f,d=d+this.C_im[e]*u+this.C_re[e]*f;for(var m=0;m<this.iterations;m++){var g,v,y=p,b=d,x=l,w=c;for(e=2;6>=e;e++)g=y*p-b*d,v=b*p+y*d,y=g,b=v,x+=(e-1)*(this.B_re[e]*y-this.B_im[e]*b),w+=(e-1)*(this.B_im[e]*y+this.B_re[e]*b);y=1,b=0;var M=this.B_re[1],k=this.B_im[1];for(e=2;6>=e;e++)g=y*p-b*d,v=b*p+y*d,y=g,b=v,M+=e*(this.B_re[e]*y-this.B_im[e]*b),k+=e*(this.B_im[e]*y+this.B_re[e]*b);var _=M*M+k*k;p=(x*M+w*k)/_,d=(w*M-x*k)/_}var S=p,P=d,C=1,E=0;for(e=1;9>=e;e++)C*=S,E+=this.D[e]*C;var T=this.lat0+E*n*1e5,j=this.long0+P;return t.x=j,t.y=T,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,i){var n=t("../common/tsfnz"),s=t("../common/adjust_lon"),r=t("../common/phi2z"),o=Math.PI/2,a=Math.PI/4,h=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var r=n(this.e,this.lat0,t),o=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>o*o&&(o=1);var a,h;if(isNaN(this.longc)){var l=n(this.e,this.lat1,Math.sin(this.lat1)),c=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(o+Math.sqrt(o*o-1))*Math.pow(r,this.bl):this.el=(o-Math.sqrt(o*o-1))*Math.pow(r,this.bl);var u=Math.pow(l,this.bl),f=Math.pow(c,this.bl);a=this.el/u,h=.5*(a-1/a);var p=(this.el*this.el-f*u)/(this.el*this.el+f*u),d=(f-u)/(f+u),m=s(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*m)/d)/this.bl,this.long0=s(this.long0);var g=s(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/h),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else a=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=a*Math.pow(r,this.bl),h=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(h*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,r,l=t.x,c=t.y,u=s(l-this.long0);if(Math.abs(Math.abs(c)-o)<=h)r=c>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(a+r*this.gamma0*.5)),e=-1*r*o*this.al/this.bl;else{var f=n(this.e,c,Math.sin(c)),p=this.el/Math.pow(f,this.bl),d=.5*(p-1/p),m=.5*(p+1/p),g=Math.sin(this.bl*u),v=(d*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/m;i=Math.abs(Math.abs(v)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=h?this.al*this.bl*u:this.al*Math.atan2(d*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),a=.5*(n-1/n),l=.5*(n+1/n),c=Math.sin(this.bl*e/this.al),u=(c*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/l,f=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<h?(t.x=this.long0,t.y=o):Math.abs(u+1)<h?(t.x=this.long0,t.y=-1*o):(t.y=r(this.e,f),t.x=s(this.long0-Math.atan2(a*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10,r=t("../common/asinz"),o=Math.PI/2;i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},i.forward=function(t){var e,i,r,o,a,h,l,c,u=t.x,f=t.y;return r=n(u-this.long0),e=Math.sin(f),i=Math.cos(f),o=Math.cos(r),h=this.sin_p14*e+this.cos_p14*i*o,a=1,(h>0||Math.abs(h)<=s)&&(l=this.a*a*i*Math.sin(r),c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*o)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,a,h,l,c,u;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=r(e/this.a),a=Math.sin(i),h=Math.cos(i),c=this.long0,Math.abs(e)<=s?(u=this.lat0,t.x=c,t.y=u,t):(u=r(h*this.sin_p14+t.y*a*this.cos_p14/e),l=Math.abs(this.lat0)-o,Math.abs(l)<=s?(c=n(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=c,t.y=u,t):(c=n(this.long0+Math.atan2(t.x*a,e*this.cos_p14*h-t.y*this.sin_p14*a)),t.x=c,t.y=u,t))},i.names=["ortho"]},{"../common/adjust_lon":5,"../common/asinz":6}],58:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),r=t("../common/e2fn"),o=t("../common/e3fn"),a=t("../common/adjust_lon"),h=t("../common/adjust_lat"),l=t("../common/mlfn"),c=1e-10,u=t("../common/gN"),f=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=s(this.es),this.e2=r(this.es),this.e3=o(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,s=t.x,r=t.y,o=a(s-this.long0);if(n=o*Math.sin(r),this.sphere)Math.abs(r)<=c?(e=this.a*o,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(r),i=this.a*(h(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=c)e=this.a*o,i=-1*this.ml0;else{var f=u(this.a,this.e,Math.sin(r))/Math.tan(r);e=f*Math.sin(n),i=this.a*l(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+f*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,s,r,o,h,u,p;if(n=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=c)e=a(n/this.a+this.long0),i=0;else{o=this.lat0+s/this.a,h=n*n/this.a/this.a+o*o,u=o;var d;for(r=f;r;--r)if(d=Math.tan(u),p=-1*(o*(u*d+1)-u-.5*(u*u+h)*d)/((u-o)/d-1),u+=p,Math.abs(p)<=c){i=u;break}e=a(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=c)i=0,e=a(this.long0+n/this.a);else{o=(this.ml0+s)/this.a,h=n*n/this.a/this.a+o*o,u=o;var m,g,v,y,b;for(r=f;r;--r)if(b=this.e*Math.sin(u),m=Math.sqrt(1-b*b)*Math.tan(u),g=this.a*l(this.e0,this.e1,this.e2,this.e3,u),v=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),y=g/this.a,p=(o*(m*y+1)-y-.5*m*(y*y+h))/(this.es*Math.sin(2*u)*(y*y+h-2*o*y)/(4*m)+(o-y)*(m*v-2/Math.sin(2*u))-v),u-=p,Math.abs(p)<=c){i=u;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=a(this.long0+Math.asin(n*m/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],59:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/adjust_lat"),r=t("../common/pj_enfn"),o=20,a=t("../common/pj_mlfn"),h=t("../common/pj_inv_mlfn"),l=Math.PI/2,c=1e-10,u=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=r(this.es)},i.forward=function(t){var e,i,s=t.x,r=t.y;if(s=n(s-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(r),l=o;l;--l){var u=(this.m*r+Math.sin(r)-h)/(this.m+Math.cos(r));if(r-=u,Math.abs(u)<c)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*s*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var f=Math.sin(r),p=Math.cos(r);i=this.a*a(r,f,p,this.en),e=this.a*s*p/Math.sqrt(1-this.es*f*f)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,r,o;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),r=n(r+this.long0),e=s(e)):(e=h(t.y/this.a,this.es,this.en),o=Math.abs(e),l>o?(o=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(e)),r=n(i)):l>o-c&&(r=this.long0)),t.x=r,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],60:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,s=1/n,r=2*s-Math.pow(s,2),o=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*h+this.alpha*o/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,s=2*(Math.atan(Math.exp(n))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(r))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(n)),o=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,h=0,l=r,c=-1e3,u=0;Math.abs(l-c)>1e-7;){if(++u>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=a,t.y=l,t},i.names=["somerc"]},{}],61:[function(t,e,i){var n=Math.PI/2,s=1e-10,r=t("../common/sign"),o=t("../common/msfnz"),a=t("../common/tsfnz"),h=t("../common/phi2z"),l=t("../common/adjust_lon");
i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s&&(this.k0=.5*(1+r(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=s&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,r,o,h,c,u=t.x,f=t.y,p=Math.sin(f),d=Math.cos(f),m=l(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=s&&Math.abs(f+this.lat0)<=s?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*d*Math.cos(m)),t.x=this.a*e*d*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*d*Math.cos(m))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,p,this.e))-n,o=Math.cos(i),r=Math.sin(i),Math.abs(this.coslat0)<=s?(h=a(this.e,f*this.con,this.con*p),c=2*this.a*this.k0*h/this.cons,t.x=this.x0+c*Math.sin(u-this.long0),t.y=this.y0-this.con*c*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<s?(e=2*this.a*this.k0/(1+o*Math.cos(m)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(m))),t.y=e*(this.cosX0*r-this.sinX0*o*Math.cos(m))+this.y0),t.x=e*o*Math.sin(m)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,o,a,c=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(c/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,s>=c?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/c),e=l(Math.abs(this.coslat0)<s?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(u),c*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=s){if(s>=c)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,r=c*this.cons/(2*this.a*this.k0),i=this.con*h(this.e,r),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s>=c?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/c),e=l(this.long0+Math.atan2(t.x*Math.sin(o),c*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),i=-1*h(this.e,Math.tan(.5*(n+a)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],62:[function(t,e,i){var n=t("./gauss"),s=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,r,o;return t.x=s(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),r=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*r),t.x=o*i*Math.sin(t.x),t.y=o*(this.cosc0*e-this.sinc0*i*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,r,o,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(a,this.R2);e=Math.sin(h),i=Math.cos(h),o=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else o=this.phic0,r=0;return t.x=r,t.y=o,n.inverse.apply(this,[t]),t.x=s(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],63:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),r=t("../common/e2fn"),o=t("../common/e3fn"),a=t("../common/mlfn"),h=t("../common/adjust_lon"),l=Math.PI/2,c=1e-10,u=t("../common/sign"),f=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=s(this.es),this.e2=r(this.es),this.e3=o(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,s=t.x,r=t.y,o=h(s-this.long0),l=Math.sin(r),c=Math.cos(r);if(this.sphere){var u=c*Math.sin(o);if(Math.abs(Math.abs(u)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+u)/(1-u)),e=Math.acos(c*Math.cos(o)/Math.sqrt(1-u*u)),0>r&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=c*o,p=Math.pow(f,2),d=this.ep2*Math.pow(c,2),m=Math.tan(r),g=Math.pow(m,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),y=this.a*a(this.e0,this.e1,this.e2,this.e3,r);i=this.k0*v*f*(1+p/6*(1-g+d+p/20*(5-18*g+Math.pow(g,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+v*m*(p*(.5+p/24*(5-g+9*d+4*Math.pow(d,2)+p/30*(61-58*g+Math.pow(g,2)+600*d-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,s,r,o,a=6;if(this.sphere){var p=Math.exp(t.x/(this.a*this.k0)),d=.5*(p-1/p),m=this.lat0+t.y/(this.a*this.k0),g=Math.cos(m);e=Math.sqrt((1-g*g)/(1+d*d)),r=f(e),0>m&&(r=-r),o=0===d&&0===g?this.long0:h(Math.atan2(d,g)+this.long0)}else{var v=t.x-this.x0,y=t.y-this.y0;for(e=(this.ml0+y/this.k0)/this.a,i=e,s=0;n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=c);s++)if(s>=a)return 95;if(Math.abs(i)<l){var b=Math.sin(i),x=Math.cos(i),w=Math.tan(i),M=this.ep2*Math.pow(x,2),k=Math.pow(M,2),_=Math.pow(w,2),S=Math.pow(_,2);e=1-this.es*Math.pow(b,2);var P=this.a/Math.sqrt(e),C=P*(1-this.es)/e,E=v/(P*this.k0),T=Math.pow(E,2);r=i-P*w*T/C*(.5-T/24*(5+3*_+10*M-4*k-9*this.ep2-T/30*(61+90*_+298*M+45*S-252*this.ep2-3*k))),o=h(this.long0+E*(1-T/6*(1+2*_+M-T/20*(5-2*M+28*_-3*k+8*this.ep2+24*S)))/x)}else r=l*u(y),o=this.long0}return t.x=o,t.y=r,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],64:[function(t,e,i){var n=.017453292519943295,s=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,s.init.apply(this),this.forward=s.forward,this.inverse=s.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":63}],65:[function(t,e,i){var n=t("../common/adjust_lon"),s=Math.PI/2,r=1e-10,o=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,a=t.x,h=t.y,l=n(a-this.long0);Math.abs(h)<=r&&(e=this.x0+this.R*l,i=this.y0);var c=o(2*Math.abs(h/Math.PI));(Math.abs(l)<=r||Math.abs(Math.abs(h)-s)<=r)&&(e=this.x0,i=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var u=.5*Math.abs(Math.PI/l-l/Math.PI),f=u*u,p=Math.sin(c),d=Math.cos(c),m=d/(p+d-1),g=m*m,v=m*(2/p-1),y=v*v,b=Math.PI*this.R*(u*(m-y)+Math.sqrt(f*(m-y)*(m-y)-(y+f)*(g-y)))/(y+f);0>l&&(b=-b),e=this.x0+b;var x=f+m;return b=Math.PI*this.R*(v*x-u*Math.sqrt((y+f)*(f+1)-x*x))/(y+f),i=h>=0?this.y0+b:this.y0-b,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,s,o,a,h,l,c,u,f,p,d,m;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,s=t.x/p,o=t.y/p,a=s*s+o*o,h=-Math.abs(o)*(1+a),l=h-2*o*o+s*s,c=-2*h+1+2*o*o+a*a,m=o*o/c+(2*l*l*l/c/c/c-9*h*l/c/c)/27,u=(h-l*l/3/c)/c,f=2*Math.sqrt(-u/3),p=3*m/u/f,Math.abs(p)>1&&(p=p>=0?1:-1),d=Math.acos(p)/3,i=t.y>=0?(-f*Math.cos(d+Math.PI/3)-l/3/c)*Math.PI:-(-f*Math.cos(d+Math.PI/3)-l/3/c)*Math.PI,e=Math.abs(s)<r?this.long0:n(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(s*s-o*o)+a*a))/2/s),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],66:[function(t,e,i){var n=.017453292519943295,s=57.29577951308232,r=1,o=2,a=t("./datum_transform"),h=t("./adjust_axis"),l=t("./Proj"),c=t("./common/toPoint");e.exports=function u(t,e,i){function f(t,e){return(t.datum.datum_type===r||t.datum.datum_type===o)&&"WGS84"!==e.datumCode}var p;return Array.isArray(i)&&(i=c(i)),t.datum&&e.datum&&(f(t,e)||f(e,t))&&(p=new l("WGS84"),u(t,p,i),t=p),"enu"!==t.axis&&h(t,!1,i),"longlat"===t.projName?(i.x*=n,i.y*=n):(t.to_meter&&(i.x*=t.to_meter,i.y*=t.to_meter),t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=a(t.datum,e.datum,i),e.from_greenwich&&(i.x-=e.from_greenwich),"longlat"===e.projName?(i.x*=s,i.y*=s):(e.forward(i),e.to_meter&&(i.x/=e.to_meter,i.y/=e.to_meter)),"enu"!==e.axis&&h(e,!0,i),i}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],67:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return s(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function s(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[i]={},s(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):s(t,e[i])):e[i]=!0)):void(e[t]=!0)}function r(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function o(t){return t*h}function a(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return r(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["alpha","azimuth",o],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var h=.017453292519943295,l=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),r=i.shift();i.unshift(["name",r]),i.unshift(["type",n]),i.unshift("output");var o={};return s(i,o),a(o.output),l(e,o.output)}},{"./extend":34}],68:[function(t,e,i){function n(t){return t*(Math.PI/180)}function s(t){return 180*(t/Math.PI)}function r(t){var e,i,s,r,o,h,l,c,u,f=t.lat,p=t.lon,d=6378137,m=.00669438,g=.9996,v=n(f),y=n(p);u=Math.floor((p+180)/6)+1,180===p&&(u=60),f>=56&&64>f&&p>=3&&12>p&&(u=32),f>=72&&84>f&&(p>=0&&9>p?u=31:p>=9&&21>p?u=33:p>=21&&33>p?u=35:p>=33&&42>p&&(u=37)),e=6*(u-1)-180+3,c=n(e),i=m/(1-m),s=d/Math.sqrt(1-m*Math.sin(v)*Math.sin(v)),r=Math.tan(v)*Math.tan(v),o=i*Math.cos(v)*Math.cos(v),h=Math.cos(v)*(y-c),l=d*((1-m/4-3*m*m/64-5*m*m*m/256)*v-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*v)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*v)-35*m*m*m/3072*Math.sin(6*v));var b=g*s*(h+(1-r+o)*h*h*h/6+(5-18*r+r*r+72*o-58*i)*h*h*h*h*h/120)+5e5,x=g*(l+s*Math.tan(v)*(h*h/2+(5-r+9*o+4*o*o)*h*h*h*h/24+(61-58*r+r*r+600*o-330*i)*h*h*h*h*h*h/720));return 0>f&&(x+=1e7),{northing:Math.round(x),easting:Math.round(b),zoneNumber:u,zoneLetter:a(f)}}function o(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(0>r||r>60)return null;var a,h,l,c,u,f,p,d,m,g,v=.9996,y=6378137,b=.00669438,x=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),w=i-5e5,M=e;"N">n&&(M-=1e7),d=6*(r-1)-180+3,a=b/(1-b),p=M/v,m=p/(y*(1-b/4-3*b*b/64-5*b*b*b/256)),g=m+(3*x/2-27*x*x*x/32)*Math.sin(2*m)+(21*x*x/16-55*x*x*x*x/32)*Math.sin(4*m)+151*x*x*x/96*Math.sin(6*m),h=y/Math.sqrt(1-b*Math.sin(g)*Math.sin(g)),l=Math.tan(g)*Math.tan(g),c=a*Math.cos(g)*Math.cos(g),u=y*(1-b)/Math.pow(1-b*Math.sin(g)*Math.sin(g),1.5),f=w/(h*v);var k=g-h*Math.tan(g)/u*(f*f/2-(5+3*l+10*c-4*c*c-9*a)*f*f*f*f/24+(61+90*l+298*c+45*l*l-252*a-3*c*c)*f*f*f*f*f*f/720);k=s(k);var _=(f-(1+2*l+c)*f*f*f/6+(5-2*c+28*l-3*c*c+8*a+24*l*l)*f*f*f*f*f/120)/Math.cos(g);_=d+s(_);var S;if(t.accuracy){var P=o({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:P.lat,right:P.lon,bottom:k,left:_}}else S={lat:k,lon:_};return S}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function l(t,e,i){var n=c(i),s=Math.floor(t/1e5),r=Math.floor(e/1e5)%20;return u(s,r,n)}function c(t){var e=t%g;return 0===e&&(e=g),e}function u(t,e,i){var n=i-1,s=v.charCodeAt(n),r=y.charCodeAt(n),o=s+t-1,a=r+e,h=!1;o>k&&(o=o-k+b-1,h=!0),(o===x||x>s&&o>x||(o>x||x>s)&&h)&&o++,(o===w||w>s&&o>w||(o>w||w>s)&&h)&&(o++,o===x&&o++),o>k&&(o=o-k+b-1),a>M?(a=a-M+b-1,h=!0):h=!1,(a===x||x>r&&a>x||(a>x||x>r)&&h)&&a++,(a===w||w>r&&a>w||(a>w||w>r)&&h)&&(a++,a===x&&a++),a>M&&(a=a-M+b-1);var l=String.fromCharCode(o)+String.fromCharCode(a);return l}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,s="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;s+=e,r++}var o=parseInt(s,10);if(0===r||r+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(r++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(r,r+=2);for(var h=c(o),l=p(n.charAt(0),h),u=d(n.charAt(1),h);u<m(a);)u+=2e6;var f=i-r;if(f%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,y,b,x,w=f/2,M=0,k=0;return w>0&&(g=1e5/Math.pow(10,w),v=t.substring(r,r+w),M=parseFloat(v)*g,y=t.substring(r+w),k=parseFloat(y)*g),b=M+l,x=k+u,{easting:b,northing:x,zoneLetter:a,zoneNumber:o,accuracy:g}}function p(t,e){for(var i=v.charCodeAt(e-1),n=1e5,s=!1;i!==t.charCodeAt(0);){if(i++,i===x&&i++,i===w&&i++,i>k){if(s)throw"Bad character: "+t;i=b,s=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,s=!1;i!==t.charCodeAt(0);){if(i++,i===x&&i++,i===w&&i++,i>M){if(s)throw"Bad character: "+t;i=b,s=!0}n+=1e5}return n}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,v="AJSAJS",y="AFAFAF",b=65,x=73,w=79,M=86,k=90;i.forward=function(t,e){return e=e||5,h(r({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=o(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=o(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],69:[function(t,e,i){e.exports={name:"proj4",version:"2.3.15",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}]},{},[36])(36)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("templator",[],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(){var t=v();return t.compile=function(e,i){return c.compile(e,i,t)},t.precompile=function(e,i){return c.precompile(e,i,t)},t.AST=h["default"],t.Compiler=c.Compiler,t.JavaScriptCompiler=f["default"],t.Parser=l.parser,t.parse=l.parse,t}var s=i(1)["default"];e.__esModule=!0;var r=i(2),o=s(r),a=i(21),h=s(a),l=i(22),c=i(27),u=i(28),f=s(u),p=i(25),d=s(p),m=i(20),g=s(m),v=o["default"].create,y=n();y.create=n,g["default"](y),y.Visitor=d["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,i){"use strict";function n(){var t=new a.HandlebarsEnvironment;return p.extend(t,a),t.SafeString=l["default"],t.Exception=u["default"],t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var s=i(3)["default"],r=i(1)["default"];e.__esModule=!0;var o=i(4),a=s(o),h=i(18),l=r(h),c=i(6),u=r(c),f=i(5),p=s(f),d=i(19),m=s(d),g=i(20),v=r(g),y=n();y.create=n,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e},e.__esModule=!0},function(t,e,i){"use strict";function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},h.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var s=i(1)["default"];e.__esModule=!0,e.HandlebarsEnvironment=n;var r=i(5),o=i(6),a=s(o),h=i(7),l=i(15),c=i(17),u=s(c),f="4.0.5";e.VERSION=f;var p=7;e.COMPILER_REVISION=p;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var m="[object Object]";n.prototype={constructor:n,logger:u["default"],log:u["default"].log,registerHelper:function(t,e){if(r.toString.call(t)===m){if(e)throw new a["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(r.toString.call(t)===m)r.extend(this.partials,t);else{if("undefined"==typeof e)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(r.toString.call(t)===m){if(e)throw new a["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var g=u["default"].log;e.log=g,e.createFrame=r.createFrame,e.logger=u["default"]},function(t,e){"use strict";function i(t){return c[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function r(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(u,i):t}function o(t){return t||0===t?m(t)&&0===t.length?!0:!1:!0}function a(t){var e=n({},t);return e._parent=t,e}function h(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=s,e.escapeExpression=r,e.isEmpty=o,e.createFrame=a,e.blockParams=h,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},u=/[&<>"'`=]/g,f=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=d;var m=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===p.call(t):!1};e.isArray=m},function(t,e){"use strict";function i(t,e){var s=e&&e.loc,r=void 0,o=void 0;s&&(r=s.start.line,o=s.start.column,t+=" - "+r+":"+o);for(var a=Error.prototype.constructor.call(this,t),h=0;h<n.length;h++)this[n[h]]=a[n[h]];Error.captureStackTrace&&Error.captureStackTrace(this,i),s&&(this.lineNumber=r,this.column=o)}e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){o["default"](t),h["default"](t),c["default"](t),f["default"](t),d["default"](t),g["default"](t),y["default"](t)}var s=i(1)["default"];e.__esModule=!0,e.registerDefaultHelpers=n;var r=i(8),o=s(r),a=i(9),h=s(a),l=i(10),c=s(l),u=i(11),f=s(u),p=i(12),d=s(p),m=i(13),g=s(m),v=i(14),y=s(v)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,i){var s=i.inverse,r=i.fn;if(e===!0)return r(this);if(e===!1||null==e)return s(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):s(this);if(i.data&&i.ids){var o=n.createFrame(i.data);o.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:o}}return r(e,i)})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var s=i(5),r=i(6),o=n(r);e["default"]=function(t){t.registerHelper("each",function(t,e){function i(e,i,r){l&&(l.key=e,l.index=i,l.first=0===i,l.last=!!r,c&&(l.contextPath=c+e)),h+=n(t[e],{data:l,blockParams:s.blockParams([t[e],e],[c+e,null])})}if(!e)throw new o["default"]("Must pass iterator to #each");var n=e.fn,r=e.inverse,a=0,h="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=s.appendContextPath(e.data.contextPath,e.ids[0])+"."),s.isFunction(t)&&(t=t.call(this)),e.data&&(l=s.createFrame(e.data)),t&&"object"==typeof t)if(s.isArray(t))for(var u=t.length;u>a;a++)a in t&&i(a,a,a===t.length-1);else{var f=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==f&&i(f,a-1),f=p,a++);void 0!==f&&i(f,a-1,!0)}return 0===a&&(h=r(this)),h})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var s=i(6),r=n(s);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var s=1;null!=i.hash.level?s=i.hash.level:i.data&&null!=i.data.level&&(s=i.data.level),e[0]=s,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var s=e.data;return e.data&&e.ids&&(s=n.createFrame(e.data),s.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:s,blockParams:n.blockParams([t],[s&&s.contextPath])})})},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){o["default"](t)}var s=i(1)["default"];e.__esModule=!0,e.registerDefaultDecorators=n;var r=i(16),o=s(r)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerDecorator("inline",function(t,e,i,s){var r=t;return e.partials||(e.partials={},r=function(s,r){var o=i.partials;i.partials=n.extend({},o,e.partials);var a=t(s,r);return i.partials=o,a}),e.partials[s.args[0]]=s.fn,r})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(s.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=s.lookupLevel(t),"undefined"!=typeof console&&s.lookupLevel(s.level)<=t){var e=s.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=v.COMPILER_REVISION;if(e!==i){if(i>e){var n=v.REVISION_CHANGES[i],s=v.REVISION_CHANGES[e];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){function i(i,n,s){s.hash&&(n=d.extend({},n,s.hash),s.ids&&(s.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,s);var r=e.VM.invokePartial.call(this,i,n,s);if(null==r&&e.compile&&(s.partials[s.name]=e.compile(i,t.compilerOptions,e),r=s.partials[s.name](n,s)),null!=r){if(s.indent){for(var o=r.split("\n"),a=0,h=o.length;h>a&&(o[a]||a+1!==h);a++)o[a]=s.indent+o[a];r=o.join("\n")}return r}throw new g["default"]("The partial "+s.name+" could not be compiled when running in runtime-only mode")}function n(e){function i(e){return""+t.main(s,e,s.helpers,s.partials,o,h,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r.data;n._setup(r),!r.partial&&t.useData&&(o=l(e,o));var a=void 0,h=t.useBlockParams?[]:void 0;return t.useDepths&&(a=r.depths?e!==r.depths[0]?[e].concat(r.depths):r.depths:[e]),(i=c(t.main,i,s,r.depths||[],o,h))(e,r)}if(!e)throw new g["default"]("No environment passed to template");if(!t||!t.main)throw new g["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var s={strict:function(t,e){if(!(e in t))throw new g["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,s){var o=this.programs[t],a=this.fn(t);return e||s||n||i?o=r(this,t,a,e,i,n,s):o||(o=this.programs[t]=r(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=d.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(s.helpers=i.helpers,s.partials=i.partials,s.decorators=i.decorators):(s.helpers=s.merge(i.helpers,e.helpers),t.usePartial&&(s.partials=s.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(s.decorators=s.merge(i.decorators,e.decorators)))},n._child=function(e,i,n,o){if(t.useBlockParams&&!n)throw new g["default"]("must pass block params");if(t.useDepths&&!o)throw new g["default"]("must pass parent depths");return r(s,e,t[e],i,0,n,o)},n}function r(t,e,i,n,s,r,o){function a(e){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o;return o&&e!==o[0]&&(a=[e].concat(o)),i(t,e,t.helpers,t.partials,s.data||n,r&&[s.blockParams].concat(r),a)}return a=c(i,a,t,o,n,r),a.program=e,a.depth=o?o.length:0,a.blockParams=s||0,a}function o(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function a(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==h&&(i.data=v.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=d.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new g["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0}function h(){return""}function l(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,i,n,s,r){if(t.decorator){var o={};e=t.decorator(e,o,i,n&&n[0],s,r,n),d.extend(e,o)}return e}var u=i(3)["default"],f=i(1)["default"];e.__esModule=!0,e.checkRevision=n,e.template=s,e.wrapProgram=r,e.resolvePartial=o,e.invokePartial=a,e.noop=h;var p=i(5),d=u(p),m=i(6),g=f(m),v=i(4)},function(t,e){(function(i){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof i?i:window,n=e.Handlebars;
t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if("Program"===t.type)return t;a["default"].yy=p,p.locInfo=function(t){return new p.SourceLocation(e&&e.srcName,t)};var i=new l["default"](e);return i.accept(a["default"].parse(t))}var s=i(1)["default"],r=i(3)["default"];e.__esModule=!0,e.parse=n;var o=i(23),a=s(o),h=i(24),l=s(h),c=i(26),u=r(c),f=i(5);e.parser=a["default"];var p={};f.extend(p,u)},function(t,e){"use strict";var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,s,r,o){var a=r.length-1;switch(s){case 1:return r[a-1];case 2:this.$=n.prepareProgram(r[a]);break;case 3:this.$=r[a];break;case 4:this.$=r[a];break;case 5:this.$=r[a];break;case 6:this.$=r[a];break;case 7:this.$=r[a];break;case 8:this.$=r[a];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(r[a]),strip:n.stripFlags(r[a],r[a]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:r[a],value:r[a],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(r[a-2],r[a-1],r[a],this._$);break;case 12:this.$={path:r[a-3],params:r[a-2],hash:r[a-1]};break;case 13:this.$=n.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!1,this._$);break;case 14:this.$=n.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!0,this._$);break;case 15:this.$={open:r[a-5],path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 16:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 17:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:n.stripFlags(r[a-5],r[a])};break;case 18:this.$={strip:n.stripFlags(r[a-1],r[a-1]),program:r[a]};break;case 19:var h=n.prepareBlock(r[a-2],r[a-1],r[a],r[a],!1,this._$),l=n.prepareProgram([h],r[a-1].loc);l.chained=!0,this.$={strip:r[a-2].strip,program:l,chain:!0};break;case 20:this.$=r[a];break;case 21:this.$={path:r[a-1],strip:n.stripFlags(r[a-2],r[a])};break;case 22:this.$=n.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],n.stripFlags(r[a-4],r[a]),this._$);break;case 23:this.$=n.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],n.stripFlags(r[a-4],r[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:r[a-3],params:r[a-2],hash:r[a-1],indent:"",strip:n.stripFlags(r[a-4],r[a]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(r[a-2],r[a-1],r[a],this._$);break;case 26:this.$={path:r[a-3],params:r[a-2],hash:r[a-1],strip:n.stripFlags(r[a-4],r[a])};break;case 27:this.$=r[a];break;case 28:this.$=r[a];break;case 29:this.$={type:"SubExpression",path:r[a-3],params:r[a-2],hash:r[a-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:r[a],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(r[a-2]),value:r[a],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(r[a-1]);break;case 33:this.$=r[a];break;case 34:this.$=r[a];break;case 35:this.$={type:"StringLiteral",value:r[a],original:r[a],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(r[a]),original:Number(r[a]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===r[a],original:"true"===r[a],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:this.$=r[a];break;case 41:this.$=r[a];break;case 42:this.$=n.preparePath(!0,r[a],this._$);break;case 43:this.$=n.preparePath(!1,r[a],this._$);break;case 44:r[a-2].push({part:n.id(r[a]),original:r[a],separator:r[a-1]}),this.$=r[a-2];break;case 45:this.$=[{part:n.id(r[a]),original:r[a]}];break;case 46:this.$=[];break;case 47:r[a-1].push(r[a]);break;case 48:this.$=[r[a]];break;case 49:r[a-1].push(r[a]);break;case 50:this.$=[];break;case 51:r[a-1].push(r[a]);break;case 58:this.$=[];break;case 59:r[a-1].push(r[a]);break;case 64:this.$=[];break;case 65:r[a-1].push(r[a]);break;case 70:this.$=[];break;case 71:r[a-1].push(r[a]);break;case 78:this.$=[];break;case 79:r[a-1].push(r[a]);break;case 82:this.$=[];break;case 83:r[a-1].push(r[a]);break;case 86:this.$=[];break;case 87:r[a-1].push(r[a]);break;case 90:this.$=[];break;case 91:r[a-1].push(r[a]);break;case 94:this.$=[];break;case 95:r[a-1].push(r[a]);break;case 98:this.$=[r[a]];break;case 99:r[a-1].push(r[a]);break;case 100:this.$=[r[a]];break;case 101:r[a-1].push(r[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],r=[],o=this.table,a="",h=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,m,g,v,y,b,x,w,M={};;){if(m=n[n.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=e()),g=o[m]&&o[m][p]),"undefined"==typeof g||!g.length||!g[0]){var k="";if(!c){w=[];for(y in o[m])this.terminals_[y]&&y>2&&w.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:n.push(p),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,a=this.lexer.yytext,h=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[g[1]][1],M.$=s[s.length-b],M._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},f&&(M._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(M,a,l,h,this.yy,g[1],s,r),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),s=s.slice(0,-1*b),r=r.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),s.push(M.$),r.push(M._$),x=o[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(i=this._input.match(this.rules[r[o]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=o,this.options.flex));o++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function s(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e["default"]=i},function(t,e,i){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function s(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],s=t[e-2];return n?"ContentStatement"===n.type?(s||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function r(t,e,i){void 0===e&&(e=-1);var n=t[e+1],s=t[e+2];return n?"ContentStatement"===n.type?(s||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function o(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var s=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==s}}function a(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var s=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==s,n.leftStripped}}var h=i(1)["default"];e.__esModule=!0;var l=i(25),c=h(l);n.prototype=new c["default"],n.prototype.Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,h=0,l=n.length;l>h;h++){var c=n[h],u=this.accept(c);if(u){var f=s(n,h,i),p=r(n,h,i),d=u.openStandalone&&f,m=u.closeStandalone&&p,g=u.inlineStandalone&&f&&p;u.close&&o(n,h,!0),u.open&&a(n,h,!0),e&&g&&(o(n,h),a(n,h)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(n[h-1].original)[1])),e&&d&&(o((c.program||c.inverse).body),a(n,h)),e&&m&&(o(n,h),a((c.inverse||c.program).body))}}return t},n.prototype.BlockStatement=n.prototype.DecoratorBlock=n.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,h=i;if(i&&i.chained)for(n=i.body[0].program;h.chained;)h=h.body[h.body.length-1].program;var l={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:r(e.body),closeStandalone:s((n||e).body)};if(t.openStrip.close&&o(e.body,null,!0),i){var c=t.inverseStrip;c.open&&a(e.body,null,!0),c.close&&o(n.body,null,!0),t.closeStrip.open&&a(h.body,null,!0),!this.options.ignoreStandalone&&s(e.body)&&r(n.body)&&(a(e.body),o(n.body))}else t.closeStrip.open&&a(e.body,null,!0);return l},n.prototype.Decorator=n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(){this.parents=[]}function s(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function r(t){s.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function o(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=i(1)["default"];e.__esModule=!0;var h=i(6),l=a(h);n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!n.prototype[i.type])throw new l["default"]('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;i>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new l["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:r,DecoratorBlock:r,PartialStatement:o,PartialBlockStatement:function(t){o.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new g["default"](t.path.original+" doesn't match "+e,i)}}function s(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column
}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function o(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function a(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function h(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",s=[],r=0,o="",a=0,h=e.length;h>a;a++){var l=e[a].part,c=e[a].original!==l;if(n+=(e[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(s.length>0)throw new g["default"]("Invalid path: "+n,{loc:i});".."===l&&(r++,o+="../")}}return{type:"PathExpression",data:t,depth:r,parts:s,original:n,loc:i}}function l(t,e,i,n,s,r){var o=n.charAt(3)||n.charAt(2),a="{"!==o&&"&"!==o,h=/\*/.test(n);return{type:h?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:a,strip:s,loc:this.locInfo(r)}}function c(t,e,i,s){n(t,i),s=this.locInfo(s);var r={type:"Program",body:e,strip:{},loc:s};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}}function u(t,e,i,s,r,o){s&&s.path&&n(t,s);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var h=void 0,l=void 0;if(i){if(a)throw new g["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=s.strip),l=i.strip,h=i.program}return r&&(r=h,h=e,e=r),{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:h,openStrip:t.strip,inverseStrip:l,closeStrip:s&&s.strip,loc:this.locInfo(o)}}function f(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function p(t,e,i,s){return n(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(s)}}var d=i(1)["default"];e.__esModule=!0,e.SourceLocation=s,e.id=r,e.stripFlags=o,e.stripComment=a,e.preparePath=h,e.prepareMustache=l,e.prepareRawBlock=c,e.prepareBlock=u,e.prepareProgram=f,e.preparePartialBlock=p;var m=i(6),g=d(m)},function(t,e,i){"use strict";function n(){}function s(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=i.parse(t,e),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function r(t,e,i){function n(){var n=i.parse(t,e),s=(new i.Compiler).compile(n,e),r=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(r)}function s(t,e){return r||(r=n()),r.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var r=void 0;return s._setup=function(t){return r||(r=n()),r._setup(t)},s._child=function(t,e,i,s){return r||(r=n()),r._child(t,e,i,s)},s}function o(t,e){if(t===e)return!0;if(u.isArray(t)&&u.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!o(t[i],e[i]))return!1;return!0}}function a(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var h=i(1)["default"];e.__esModule=!0,e.Compiler=n,e.precompile=s,e.compile=r;var l=i(6),c=h(l),u=i(5),f=i(21),p=h(f),d=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!o(n.args,s.args))return!1}e=this.children.length;for(var i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var n in i)n in i&&(e.knownHelpers[n]=i[n]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,i=e.compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[n]=i,this.useDepths=this.useDepths||i.useDepths,n},accept:function(t){if(!this[t.type])throw new c["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){a(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new c["default"]("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,s="SubExpression"===t.name.type;s&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",s,n,r),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){a(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,s=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",s,r)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.path,r=s.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",n.length,r);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+r,t);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",n.length,s.original,p["default"].helpers.simpleId(s))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=p["default"].helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");n>i;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=p["default"].helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&p["default"].helpers.helperExpression(t),s=!i&&(n||e);if(s&&!n){var r=t.path.parts[0],o=this.options;o.knownHelpers[r]?n=!0:o.knownHelpersOnly&&(s=!1)}return n?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;i>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||p["default"].helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else e=t.original||e,e.replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var s=t.params;return this.pushParams(s),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),s},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;i>e;e++){var n=this.options.blockParams[e],s=n&&u.indexOf(n,t);if(n&&s>=0)return[e,s]}}}},function(t,e,i){"use strict";function n(t){this.value=t}function s(){}function r(t,e,i,n){var s=e.popStack(),r=0,o=i.length;for(t&&o--;o>r;r++)s=e.nameLookup(s,i[r],n);return t?[e.aliasable("container.strict"),"(",s,", ",e.quotedString(i[r]),")"]:s}var o=i(1)["default"];e.__esModule=!0;var a=i(4),h=i(6),l=o(h),c=i(5),u=i(29),f=o(u);s.prototype={nameLookup:function(t,e){return s.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION,e=a.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,i){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var s=t.opcodes,r=void 0,o=void 0,a=void 0,h=void 0;for(a=0,h=s.length;h>a;a++)r=s[a],this.source.currentLocation=r.loc,o=o||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(n);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var f=this.context,p=f.programs,d=f.decorators;for(a=0,h=p.length;h>a;a++)p[a]&&(u[a]=p[a],d[a]&&(u[a+"_d"]=d[a],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new f["default"](this.options.srcName),this.decorators=new f["default"](this.options.srcName)},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));var n=0;for(var s in this.aliases){var r=this.aliases[s];this.aliases.hasOwnProperty(s)&&r.children&&r.referenceCount>1&&(e+=", alias"+ ++n+"="+s,r.children[0]="alias"+n)}var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var a=this.mergeSource(e);return t?(o.push(a),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,s=void 0,r=void 0,o=void 0;return this.source.each(function(t){t.appendToBuffer?(r?t.prepend("  + "):r=t,o=t):(r&&(s?r.prepend("buffer += "):n=!0,o.add(";"),r=o=void 0),s=!0,e||(i=!1))}),i?r?(r.prepend("return "),o.add(";")):s||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),r?(r.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var s=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[s++])),this.resolvePath("context",t,s,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(t,e,i,n,s){var o=this;if(this.options.strict||this.options.assumeObjects)return void this.push(r(this.options.strict&&s,this,e,t));for(var a=e.length;a>i;i++)this.replaceStack(function(s){var r=o.nameLookup(s,e[i],t);return n?[" && ",r]:[" != null ? ",r," : ",s]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),s=this.setupHelper(t,e),r=i?[s.name," || "]:"",o=["("].concat(r,n);this.options.strict||o.push(" || ",this.aliasable("helpers.helperMissing")),o.push(")"),this.push(this.source.functionCall(o,"call",s.callParams))},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),s=this.lastHelper=this.nameLookup("helpers",t,"helper"),r=["(","(helper = ",s," || ",i,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],s=this.setupParams(e,1,n);t&&(e=this.popStack(),delete s.name),i&&(s.indent=JSON.stringify(i)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),n.push(s),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,s=void 0;this.trackIds&&(s=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var r=this.hash;i&&(r.contexts[t]=i),n&&(r.types[t]=n),s&&(r.ids[t]=s),r.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:s,compileChildren:function(t,e){for(var i=t.children,n=void 0,s=void 0,r=0,o=i.length;o>r;r++){n=i[r],s=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=s.compile(n,e,this.context,!this.precompile),this.context.decorators[a]=s.decorators,this.context.environments[a]=n,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams):(n.index=a,n.name="program"+a,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,s=void 0,r=void 0;if(!this.isInline())throw new l["default"]("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof n)i=[o.value],e=["(",i],r=!0;else{s=!0;var a=this.incrStack();e=["((",this.push(a)," = ",o,")"],i=this.topStack()}var h=t.call(this,i);r||this.popStack(),s&&this.stackSlot--,this.push(e.concat(h,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var s=t[e];if(s instanceof n)this.compileStack.push(s);else{var r=this.incrStack();this.pushSource([r," = ",s,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[],s=this.setupHelperArgs(e,t,n,i),r=this.nameLookup("helpers",e,"helper"),o=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:n,paramsInit:s,name:r,callParams:[o].concat(n)}},setupParams:function(t,e,i){var n={},s=[],r=[],o=[],a=!i,h=void 0;a&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(n.fn=c||"container.noop",n.inverse=l||"container.noop");for(var u=e;u--;)h=this.popStack(),i[u]=h,this.trackIds&&(o[u]=this.popStack()),this.stringParams&&(r[u]=this.popStack(),s[u]=this.popStack());return a&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(o)),this.stringParams&&(n.types=this.source.generateArray(r),n.contexts=this.source.generateArray(s)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var s=this.setupParams(t,e,i);return s=this.objectLiteral(s),n?(this.useRegister("options"),i.push("options"),["options=",s]):i?(i.push(s),""):s}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=s.RESERVED_WORDS={},i=0,n=t.length;n>i;i++)e[t[i]]=!0}(),s.isValidJavaScriptVariableName=function(t){return!s.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e,i){if(r.isArray(t)){for(var n=[],s=0,o=t.length;o>s;s++)n.push(e.wrap(t[s],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function s(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var r=i(5),o=void 0;try{}catch(a){}o||(o=function(t,e,i,n){this.src="",n&&this.add(n)},o.prototype={add:function(t){r.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){r.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,i=this.source.length;i>e;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new o(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof o?t:(t=n(t,this,e),new o(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var s=n(t[i],this);"undefined"!==s&&e.push([this.quotedString(i),":",s])}var r=this.generateList(e);return r.prepend("{"),r.add("}"),r},generateList:function(t){for(var e=this.empty(),i=0,s=t.length;s>i;i++)i&&e.add(","),e.add(n(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e["default"]=s,t.exports=e["default"]}])}),define("app/service/geolocation",["jquery","ol"],function(t,e){"use strict";function i(i){this._mapmodule=i,this._map=i.get("map"),this._view=this._map.getView(),this._locator=null,this._deltaMean=500,this._previousM=0,this._markerEl=t('<img id="geolocation_marker" />'),this._markerEl.attr("src","css/img/geolocation_marker.png"),this._features={position:new e.Overlay({positioning:"center-center",element:this._markerEl[0],stopEvent:!1,offset:[0,0]}),track:new e.geom.LineString([],"XYZM"),accuracy:new e.Feature},this._meanPointsCount=10,this._features.accuracy.setStyle(new e.style.Style({fill:new e.style.Fill({color:"rgba(51, 153, 204, 0.2)"})})),this._trackingStatus=["","active","tracking"],this._currentStatus=0,this._firstPosition=!0,this._zoom=16,this.init()}return i.prototype={init:function(){var i=this;this._locator=new e.Geolocation({projection:this._map.getView().getProjection(),trackingOptions:{enableHighAccuracy:!0,maximumAge:1e4,timeout:6e5}}),this._locator.on("change",function(){var n,s=this._locator.getPosition(),r=this._locator.getAccuracy(),o=this._locator.getHeading()||0,a=this._locator.getSpeed()||0,h=Date.now();0===a&&(n=this._features.track.getCoordinates(),o=n[n.length-1][2]),this.addPosition(s,o,h,a),n=this._features.track.getCoordinates();var l=n.length;l>=2&&(this._deltaMean=(n[l-1][3]-n[0][3])/(l-1));var c=["Position: "+e.coordinate.format(i._mapmodule.transform("point",s,"EPSG:3857","EPSG:4326"),"{y}, {x}",5),"Accuracy: "+r,"Heading: "+Math.round(this._mapmodule.radToDeg(o))+"&deg;","Speed: "+(3.6*a).toFixed(1)+" km/h","Delta: "+Math.round(this._deltaMean)+"ms"].join("<br />");t("#statusbar .locationinfo").html(c)},this),this._locator.on("error",function(){console.error("geolocation error"),this.disable(),t("#statusbar a.btn-geolocation").removeClass(i._trackingStatus.join(" "))},this),t("#statusbar a.btn-geolocation").on("click",function(e){e.preventDefault(),i._currentStatus=i._currentStatus+1>=i._trackingStatus.length?0:i._currentStatus+1,0===i._currentStatus?(i.disable(),t(this).removeClass(i._trackingStatus.join(" "))):(i.enable(),t(this).addClass(i._trackingStatus[i._currentStatus]))})},enable:function(){if("active"===this._trackingStatus[this._currentStatus]){var t=this._mapmodule.get("overlay");t.getSource().clear(),t.getSource().addFeatures([this._features.accuracy]),this._map.addOverlay(this._features.position),this._locator.setTracking(!0),this._view.on("change:rotation",this.rotateMarker,this)}else"tracking"===this._trackingStatus[this._currentStatus]&&(this._view.un("change:rotation",this.rotateMarker,this),this._markerEl.css({"-webkit-transform":"rotate(0rad)","-moz-transform":"rotate(0rad)",transform:"rotate(0rad)"}),this._map.on("pointerdrag",this.disableTracking,this),this._map.on("postcompose",this.updateView,this),this._map.render())},disable:function(){var t=this._mapmodule.get("overlay");this._locator.setTracking(!1),this._features.position.setPosition(null),this._features.accuracy.setGeometry(null),this._mapmodule.get("map").getView().setRotation(0),t.getSource().clear(),this._map.un("postcompose",this.updateView,this),this._map.un("pointerdrag",this.disableTracking,this),this._markerEl.css({"-webkit-transform":"rotate(0rad)","-moz-transform":"rotate(0rad)",transform:"rotate(0rad)"}),this._firstPosition=!0},disableTracking:function(){this._map.un("postcompose",this.updateView,this),this._map.un("pointerdrag",this.disableTracking,this),this._view.on("change:rotation",this.rotateMarker,this),t("#statusbar a.btn-geolocation").removeClass(this._trackingStatus[this._currentStatus]),this._currentStatus=this._trackingStatus.indexOf("active")},mod:function(t){return(t%(2*Math.PI)+2*Math.PI)%(2*Math.PI)},addPosition:function(t,e,i,n){var s=t[0],r=t[1],o=this._features.track.getCoordinates(),a=o[o.length-1],h=a&&a[2];if(h){var l=e-this.mod(h);if(Math.abs(l)>Math.PI){var c=l>=0?1:-1;l=-c*(2*Math.PI-Math.abs(l))}e=h+l}if(this._features.track.appendCoordinate([s,r,e,i]),this._features.track.setCoordinates(this._features.track.getCoordinates().slice(-this._meanPointsCount)),"active"===this._trackingStatus[this._currentStatus]&&(this._features.position.setPosition([s,r]),this._firstPosition&&(this._view.setCenter([s,r]),this._view.setZoom(this._zoom),this._firstPosition=!1)),n&&e){if(this._markerEl.attr("src","css/img/geolocation_marker_heading.png"),"active"===this._trackingStatus[this._currentStatus]){var u=this._view.getRotation();e=u+e,this._markerEl.css({"-webkit-transform":"rotate("+e+"rad)","-moz-transform":"rotate("+e+"rad)",transform:"rotate("+e+"rad)"})}}else this._markerEl.attr("src","css/img/geolocation_marker.png")},getCenterWithHeading:function(t,e,i){var n=this._map.getSize(),s=n[1];return[t[0]-Math.sin(e)*s*i*1/4,t[1]+Math.cos(e)*s*i*1/4]},updateView:function(){var t=Date.now()-1.5*this._deltaMean;t=Math.max(t,this._previousM),this._previousM=t;var e=this._features.track.getCoordinateAtM(t,!0);e&&(this._view.setCenter(this.getCenterWithHeading(e,-e[2],this._view.getResolution())),this._view.setRotation(-e[2]),this._features.position.setPosition(e))},rotateMarker:function(){var t=this._view.getRotation();this._markerEl.css({"-webkit-transform":"rotate("+t+"rad)","-moz-transform":"rotate("+t+"rad)",transform:"rotate("+t+"rad)"})}},i}),define("text",["module"],function(t){"use strict";var e,i,n,s,r,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),u=l&&location.hostname,f=l&&(location.port||void 0),p={},d=t.config&&t.config()||{};return e={version:"2.0.14",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(h);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029");
},createXhr:d.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=o[e];try{t=new ActiveXObject(i)}catch(n){}if(t){o=[i];break}}return t},parseName:function(t){var e,i,n,s=!1,r=t.lastIndexOf("."),o=0===t.indexOf("./")||0===t.indexOf("../");return-1!==r&&(!o||r>1)?(e=t.substring(0,r),i=t.substring(r+1)):e=t,n=i||e,r=n.indexOf("!"),-1!==r&&(s="strip"===n.substring(r+1),n=n.substring(0,r),i?i=n:e=n),{moduleName:e,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,s){var r,o,a,h=e.xdRegExp.exec(t);return h?(r=h[2],o=h[3],o=o.split(":"),a=o[1],o=o[0],!(r&&r!==i||o&&o.toLowerCase()!==n.toLowerCase()||(a||o)&&a!==s)):!0},finishLoad:function(t,i,n,s){n=i?e.strip(n):n,d.isBuild&&(p[t]=n),s(n)},load:function(t,i,n,s){if(s&&s.isBuild&&!s.inlineText)return void n();d.isBuild=s&&s.isBuild;var r=e.parseName(t),o=r.moduleName+(r.ext?"."+r.ext:""),a=i.toUrl(o),h=d.useXhr||e.useXhr;return 0===a.indexOf("empty:")?void n():void(!l||h(a,c,u,f)?e.get(a,function(i){e.finishLoad(t,r.strip,i,n)},function(t){n.error&&n.error(t)}):i([o],function(t){e.finishLoad(r.moduleName+"."+r.ext,r.strip,t,n)}))},write:function(t,i,n,s){if(p.hasOwnProperty(i)){var r=e.jsEscape(p[i]);n.asModule(t+"!"+i,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,i,n,s,r){var o=e.parseName(i),a=o.ext?"."+o.ext:"",h=o.moduleName+a,l=n.toUrl(o.moduleName+a)+".js";e.load(h,n,function(i){var n=function(t){return s(l,t)};n.asModule=function(t,e){return s.asModule(t,l,e)},e.write(t,h,n,r)},r)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),e.get=function(t,e,n){try{var s=i.readFileSync(t,"utf8");"\ufeff"===s[0]&&(s=s.substring(1)),e(s)}catch(r){n&&n(r)}}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,i,n,s){var r,o=e.createXhr();if(o.open("GET",t,!0),s)for(r in s)s.hasOwnProperty(r)&&o.setRequestHeader(r.toLowerCase(),s[r]);d.onXhr&&d.onXhr(o,t),o.onreadystatechange=function(e){var s,r;4===o.readyState&&(s=o.status||0,s>399&&600>s?(r=new Error(t+" HTTP status: "+s),r.xhr=o,n&&n(r)):i(o.responseText),d.onXhrComplete&&d.onXhrComplete(o,t))},o.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,s="utf-8",r=new java.io.File(t),o=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),s)),h="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=a.readLine());)i.append(o),i.append(n);h=String(i.toString())}finally{a.close()}e(h)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in n,e.get=function(t,e){var i,o,a,h={};r&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),i.init(a,1,0,!1),o=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),o.init(i,"utf-8",i.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(i.available(),h),o.close(),i.close(),e(h.value)}catch(l){throw new Error((a&&a.path||"")+": "+l)}}),e}),define("text!tmpl/map/layerswitcher.html",[],function(){return'<div class="btn-group pull-right layerswitcher">\r\n    <button type="button" class="btn btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\r\n        <span class="display-name hidden-xs">{{ layer_name }}</span>\r\n        <i class="fa fa-globe"></i>\r\n    </button>\r\n    <ul class="dropdown-menu" role="menu">\r\n        {{#each layers}}\r\n            <li class="{{state}}">\r\n                <a href="#" class="blayer" data-name="{{this.name}}" data-crs="{{this.crs}}">{{this.title}}</a>\r\n            </li>\r\n        {{/each}}\r\n    </ul>\r\n</div>\r\n'}),define("app/map",["jquery","ol","proj4","templator","app/service/geolocation","text!tmpl/map/layerswitcher.html"],function(t,e,i,n,s,r){"use strict";function o(t){var i=e.proj.get("EPSG:3301");i.setExtent([40500,5993e3,1064500,7017e3]),this._config=t,this._map=null,this._baseLayers=new e.layer.Group({layers:[]}),this._vectorLayers=new e.layer.Group({layers:[]}),this._activeBaseLayer=null,this._el=null,this._geoLocation=null,this._controls={mouseCoordinates:null},this._overlay=null,this._shouldUpdate=!0}return e.proj.setProj4(i),i.defs("EPSG:3301","+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.defs("EPSG:32634","+proj=utm +zone=34 +datum=WGS84 +units=m +no_defs"),i.defs("EPSG:32635","+proj=utm +zone=35 +datum=WGS84 +units=m +no_defs"),o.prototype={get:function(t){return this["_"+t]},set:function(t,e){this["_"+t]=e},radToDeg:function(t){return 360*t/(2*Math.PI)},degToRad:function(t){return t*Math.PI*2/360},init:function(){var i=this.getPermalink();this.createBaseLayers(this._config.baseLayers,i),this.createMap(i),this.createLayerSwitcher(this._config.baseLayers,i),this._config.mouseCoordinates&&this.createMouseCoordinatesControl(),this._config.scaleLine&&this.createScaleLineControl(),this._overlay=new e.layer.Vector({map:this._map,source:new e.source.Vector({features:[],useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!1}),this._config.locateEnabled&&(this._geoLocation=new s(this)),this.activatePermalink(),t(".ol-overlaycontainer-stopevent").on("pointermove",function(t){t.stopPropagation()})},createBaseLayers:function(t,i){var n,s,r,o,a=[],h=!1,l="Image";for(n in t)if(t.hasOwnProperty(n))if(h=n===i.blayer,a=[],"Group"===t[n].type){for(s=0,r=t[n].layers.length;r>s;s++)t[n].layers[s].projection||(t[n].layers[s].projection=t[n].projection),o=t[n].layers[s].type.slice(0,l.length)===l?this.createImageLayer(t[n].layers[s]):this.createTileLayer(t[n].layers[s]),a.push(o);this._baseLayers.getLayers().push(new e.layer.Group({id:n,title:t[n].title,layers:a,visible:h}))}else o=t[n].type.slice(0,l.length)===l?this.createImageLayer(t[n]):this.createTileLayer(t[n]),o.set("id",n),o.setVisible(h),this._baseLayers.getLayers().push(o);this._activeBaseLayer=i.blayer},createTileLayer:function(t){var i,n="WMS",s=1024;if(t.type.slice(-n.length)===n){for(var r=e.proj.get(t.projection).getExtent(),o=e.extent.getWidth(r)/s,a=new Array(22),h=0,l=a.length;l>h;++h)a[h]=o/Math.pow(2,h);var c=new e.tilegrid.TileGrid({extent:r,resolutions:a,tileSize:[s,s]});t.tileGrid=c}var i=new e.layer.Tile({title:t.title,source:new e.source[t.type](t)});return t.id&&i.set("id",t.id),t.minResolution&&i.setMinResolution(t.minResolution),t.maxResolution&&i.setMaxResolution(t.maxResolution),i},createImageLayer:function(t){var i=new e.layer.Image({title:t.title,source:new e.source[t.type](t)});return t.minResolution&&i.setMinResolution(t.minResolution),t.maxResolution&&i.setMaxResolution(t.maxResolution),i},createLayerSwitcher:function(e,i){var s,o=this,a=[],h=n.compile(r);for(s in e)e.hasOwnProperty(s)&&a.push({name:s,title:e[s].title,crs:e[s].projection,state:this.isVisible(e[s])?"":"disabled"});this._el=t(h({layer_name:e[i.blayer].title,layers:a,create_new_layer:"Lisa uus WMS kiht",confirm:"Lisa"})),t("#toolbar").append(this._el),this._el.on("click","a.blayer",function(e){e.preventDefault(),t(this).closest("li").hasClass("disabled")||o.changeBaseLayer(t(this).data("name"))}),this._map.getView().on("change:resolution",function(){Object.keys(e).forEach(function(t){o.isVisible(e[t])?o._el.find('li a[data-name="'+t+'"]').closest("li").removeClass("disabled"):o._el.find('li a[data-name="'+t+'"]').closest("li").addClass("disabled")})})},isVisible:function(t){return t.minResolution&&this._map.getView().getResolution()<t.minResolution?!1:t.maxResolution&&this._map.getView().getResolution()>t.maxResolution?!1:!0},changeBaseLayer:function(t){this._baseLayers.getLayers().forEach(function(e){e.set("visible",e.get("id")===t)}),this._el.find(".display-name").html(this._config.baseLayers[t].title),this._activeBaseLayer=t,this.updatePermalink()},createMap:function(t){var i=this;this._map=new e.CanvasMap({layers:[i._baseLayers,i._vectorLayers],controls:e.control.defaults({attribution:!1,rotate:!1,zoom:!1}),target:document.getElementById(i._config.el),moveTolerance:2,view:new e.View({projection:"EPSG:3857",center:i.transform("point",t.center,"EPSG:4326","EPSG:3857"),zoom:t.zoom,maxZoom:20})})},createMouseCoordinatesControl:function(){var i=new e.control.MousePosition({coordinateFormat:function(t){return e.coordinate.format(t,"{y}, {x}",5)},projection:"EPSG:4326",className:"pull-left",target:t("#statusbar .mouse-position")[0],undefinedHTML:""});this._map.addControl(i)},createScaleLineControl:function(){var i=new e.control.ScaleLine({className:"ol-scale-line",target:t("#statusbar .scale-line")[0]});this._map.addControl(i)},transform:function(t,n,s,r){if(i.defs(s)&&i.defs(r))switch(t){case"point":n=e.proj.transform(n,s,r);break;case"extent":n=e.proj.transformExtent(n,s,r)}return n},setView:function(t,e,i){var n;switch(t){case"bounds":this._map.getView().fit(e,this._map.getSize());break;case"center":e[1]?(n=e[1],i&&this._map.getView().getZoom()>n&&(n=this._map.getView().getZoom()),this._map.getView().setCenter(e[0]),this._map.getView().setZoom(n)):this._map.getView().setCenter(e[0])}},getAllFeatures:function(){var i=[];return this._vectorLayers.getLayers().forEach(function(n){n instanceof e.layer.Vector&&t.merge(i,n.getSource().getFeatures())}),i},addMarker:function(t,i){var n=this.createMarker(t,i),s=this._vectorLayers.getLayers().getArray().filter(function(t){return"markers"===t.get("name")?t:void 0})[0];return s||(s=new e.layer.Vector({source:new e.source.Vector,name:"markers"})),s.getSource().addFeatures([n]),this._vectorLayers.getLayers().remove(s),this._vectorLayers.getLayers().push(s),n},createMarker:function(t,i){var n=new e.Feature;return t?n.setGeometry(new e.geom.Point(t)):n.setGeometry(null),n.setId(Date.now()+"_"+Math.random()),i||(i={}),i.name||(i.name="Kaardiobjekt"),i&&n.setProperties(i),n.setStyle(new e.style.Style({text:new e.style.Text({text:"",font:"normal 16px FontAwesome",textBaseline:"bottom",fill:new e.style.Fill({color:"black"}),stroke:new e.style.Stroke({color:"#fff",width:4})})})),n},getPermalink:function(){var t,e,i={blayer:this._config.activeBaseLayer,zoom:this._config.zoom,center:this._config.center};return""!==window.location.hash&&(t=window.location.hash.split("&hash="),t=t[0].replace("#map=",""),e=t.split("/"),e[0]&&(i.blayer=e[0]),e[1]&&(i.zoom=parseInt(e[1],10)),e[2]&&e[3]&&(i.center=[parseFloat(e[3]),parseFloat(e[2])])),i},activatePermalink:function(){var t=this,e=this._map.getView();this._map.on("moveend",this.updatePermalink,this),window.addEventListener("popstate",function(i){if(null!==i.state){var n=t.transform("point",i.state.center,"EPSG:4326","EPSG:3857");e.setCenter(n),e.setZoom(i.state.zoom),t._shouldUpdate=!1}})},updatePermalink:function(){var t,e=this._map.getView(),i=this.transform("point",e.getCenter(),"EPSG:3857","EPSG:4326");this._activBaseLayer;if(!this._shouldUpdate)return void(this._shouldUpdate=!0);t="#map="+this._activeBaseLayer+"/"+Math.round(100*e.getZoom())/100+"/"+Math.round(1e4*i[1])/1e4+"/"+Math.round(1e4*i[0])/1e4;var n={zoom:e.getZoom(),center:e.getCenter()};window.history.pushState(n,"map",t)}},o}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("store",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.store=t()}}(function(){return function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){"use strict";var n=t("../src/store-engine"),s=[t("../storages/localStorage"),t("../storages/sessionStorage"),t("../storages/cookieStorage"),t("../storages/memoryStorage")],r=[];e.exports=n.createStore(s,r)},{"../src/store-engine":2,"../storages/cookieStorage":4,"../storages/localStorage":5,"../storages/memoryStorage":6,"../storages/sessionStorage":7}],2:[function(t,e,i){"use strict";function n(t,e){var i={_seenPlugins:[],_namespacePrefix:"",_namespaceRegexp:null,_legalNamespace:/^[a-zA-Z0-9_\-]+$/,_storage:function(){if(!this.enabled)throw new Error("store.js: No supported storage has been added! Add one (e.g store.addStorage(require('store/storages/cookieStorage')) or use a build with more built-in storages (e.g https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)");return this._storage.resolved},_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var i=t.read(e)===e;return t.remove(e),i}catch(n){return!1}},_assignPluginFnProp:function(t,e){var i=this[e];this[e]=function(){function e(){if(i){var t=i.apply(s,e.args);return delete e.args,t}}var n=Array.prototype.slice.call(arguments,0),s=this,r=[e].concat(n);return e.args=n,t.apply(s,r)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var i="";try{i=JSON.parse(t)}catch(n){i=t}return void 0!==i?i:e}},n=a(i,u);return o(t,function(t){n.addStorage(t)}),o(e,function(t){n.addPlugin(t)}),n}var s=t("./util"),r=s.pluck,o=s.each,a=s.create,h=s.isList,l=s.isFunction,c=s.isObject;e.exports={createStore:n};var u={version:"2.0.3",enabled:!1,storage:null,addStorage:function(t){this.enabled||this._testStorage(t)&&(this._storage.resolved=t,this.enabled=!0,this.storage=t.name)},addPlugin:function(t){var e=this;if(h(t))return void o(t,function(t){e.addPlugin(t)});var i=r(this._seenPlugins,function(e){return t===e});if(!i){if(this._seenPlugins.push(t),!l(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!c(n))throw new Error("Plugins must return an object of function properties");o(n,function(i,n){if(!l(i))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(i,n)})}},get:function(t,e){var i=this._storage().read(this._namespacePrefix+t);return this._deserialize(i,e)},set:function(t,e){return void 0===e?this.remove(t):(this._storage().write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this._storage().remove(this._namespacePrefix+t)},each:function(t){var e=this;this._storage().each(function(i,n){t(e._deserialize(i),n.replace(e._namespaceRegexp,""))})},clearAll:function(){this._storage().clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},namespace:function(t){if(!this._legalNamespace.test(t))throw new Error("store.js namespaces can only have alhpanumerics + underscores and dashes");var e="__storejs_"+t+"_";return a(this,{_namespacePrefix:e,_namespaceRegexp:e?new RegExp("^"+e):null})},createStore:function(t,e){return n(t,e)}}},{"./util":3}],3:[function(t,e,i){(function(t){"use strict";function i(){return Object.assign?Object.assign:function(t,e,i,n){for(var s=1;s<arguments.length;s++)a(Object(arguments[s]),function(e,i){t[i]=e});return t}}function n(){if(Object.create)return function(t,e,i,n){var s=o(arguments,1);return p.apply(this,[Object.create(t)].concat(s))};var t=function(){};return function(e,i,n,s){var r=o(arguments,1);return t.prototype=e,p.apply(this,[new t].concat(r))}}function s(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function r(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}}function o(t,e){return Array.prototype.slice.call(t,e||0)}function a(t,e){l(t,function(t,i){return e(t,i),!1})}function h(t,e){var i=c(t)?[]:{};return l(t,function(t,n){return i[n]=e(t,n),!1}),i}function l(t,e){if(c(t)){for(var i=0;i<t.length;i++)if(e(t[i],i))return t[i]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function c(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function u(t){return t&&"[object Function]"==={}.toString.call(t)}function f(t){return t&&"[object Object]"==={}.toString.call(t)}var p=i(),d=n(),m=s(),g="undefined"!=typeof window?window:t;e.exports={assign:p,create:d,trim:m,bind:r,slice:o,each:a,map:h,pluck:l,isList:c,isFunction:u,isObject:f,Global:g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,i){"use strict";function n(t){if(!t||!h(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(f.cookie.replace(new RegExp(e),"$1"))}function s(t){for(var e=f.cookie.split(/; ?/g),i=e.length-1;i>=0;i--)if(u(e[i])){var n=e[i].split("="),s=unescape(n[0]),r=unescape(n[1]);t(r,s)}}function r(t,e){t&&(f.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function o(t){t&&h(t)&&(f.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){s(function(t,e){o(e)})}function h(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(f.cookie)}var l=t("../src/util"),c=l.Global,u=l.trim;e.exports={name:"cookieStorage",read:n,write:r,each:s,remove:o,clearAll:a};var f=c.document},{"../src/util":3}],5:[function(t,e,i){"use strict";function n(){return c.localStorage}function s(t){return n().getItem(t)}function r(t,e){return n().setItem(t,e)}function o(t){for(var e=n().length-1;e>=0;e--){var i=n().key(e);t(s(i),i)}}function a(t){return n().removeItem(t)}function h(){return n().clear()}var l=t("../src/util"),c=l.Global;e.exports={name:"localStorage",read:s,write:r,each:o,remove:a,clearAll:h}},{"../src/util":3}],6:[function(t,e,i){"use strict";function n(t){return h[t]}function s(t,e){h[t]=e}function r(t){for(var e in h)h.hasOwnProperty(e)&&t(h[e],e)}function o(t){delete h[t]}function a(t){h={}}e.exports={name:"memoryStorage",read:n,write:s,each:r,remove:o,clearAll:a};var h={}},{}],7:[function(t,e,i){"use strict";function n(){return c.sessionStorage}function s(t){return n().getItem(t)}function r(t,e){return n().setItem(t,e)}function o(t){for(var e=n().length-1;e>=0;e--){var i=n().key(e);t(s(i),i)}}function a(t){return n().removeItem(t)}function h(){return n().clear()}var l=t("../src/util"),c=l.Global;e.exports={name:"sessionStorage",read:s,write:r,each:o,remove:a,clearAll:h}},{"../src/util":3}]},{},[1])(1)}),define("app/service/store",["store"],function(t){"use strict";var e=function(t,e){};return e.prototype.init=function(){},e}),define("text!tmpl/service/search/search.html",[],function(){return'<div class="input-group search pull-right ">\n    <input type="text" class="form-control input-sm" placeholder="{{search}}">\n    <span class="input-group-btn dropdown fill-width">\n        <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true" disabled>\n            <i class="fa fa-search"></i>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" role="menu"></ul>\n    </span>\n</div>'}),define("text!tmpl/service/search/search-item.html",[],function(){return'<li role="presentation" class="small">\n    <a role="menuitem" tabindex="-1" href="#" data-id="{{ id }}" data-type="{{ type }}">{{ name }}</a>\n</li>'}),define("app/service/search/coordinates",[],function(){"use strict";function t(t){this._mapmodule=t._mapmodule,this._formats=[{regexp:/^(34N)[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})[ ,;:]\s*([0-9]{6}|[0-9]{6}[,.]\d{0,9})\s*$/,srid:"EPSG:32634",srname:"UTM 34N",get:function(t){return[Number(t[3].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^(34N)[ ,;:]\s*?([0-9]{6}|[0-9]{6}[,.]\d{0,9})[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})\s*$/,srid:"EPSG:32634",srname:"UTM 34N",get:function(t){return[Number(t[2].replace(",",".")),Number(t[3].replace(",","."))]}},{regexp:/^(35N)[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})[ ,;:]\s*([0-9]{6}|[0-9]{6}[,.]\d{0,9})\s*$/,srid:"EPSG:32635",srname:"UTM 35N",get:function(t){return[Number(t[3].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^(35N)[ ,;:]\s*?([0-9]{6}|[0-9]{6}[,.]\d{0,9})[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})\s*$/,srid:"EPSG:32635",srname:"UTM 35N",get:function(t){return[Number(t[2].replace(",",".")),Number(t[3].replace(",","."))]}},{regexp:/^(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\d{0,9})[ ,;:]\s*([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\d{0,9})\s*$/,srid:"EPSG:3301",srname:"L-EST97",get:function(t){return[Number(t[2].replace(",",".")),Number(t[1].replace(",","."))]}},{regexp:/^([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\d{0,9})[ ,;:]\s*(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\d{0,9})\s*$/,srid:"EPSG:3301",srname:"L-EST97",get:function(t){return[Number(t[1].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^([\-NS])?\s*([0-8]\d?|90)[ ’'°]+([0-9]{2})[ ’']+([0-9]{1,2}[,.]?\d{1,9})["]?[ ,;:]\s*([\-EW])?\s*([0-1]\d{0,2}|\d{2})[ ’'°]+([0-9]{2})[ ’']+([0-9]{1,2}[,.]?\d{1,9})["]?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[6])+Number(t[7])/60+Number(t[8].replace(",","."))/60/60,Number(t[2])+Number(t[3])/60+Number(t[4].replace(",","."))/60/60];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[5]||"W"===t[5]?-e[0]:e[0],e}},{regexp:/^([\-NS])?\s*([0-8]\d?|90)[ .’'°]+([0-9]{1,2}[,.]?\d{1,18})[’']?[ ,;:]\s*([\-EW])?\s*([0-1]\d{0,2}|\d{2})[ ’'°]+([0-9]{1,2}[,.]?\d{1,18})[’']?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[5])+Number(t[6].replace(",","."))/60,Number(t[2])+Number(t[3].replace(",","."))/60];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[4]||"W"===t[4]?-e[0]:e[0],e}},{regexp:/^([\-NS])?\s*([1-8]?\d(?:[,.]\d{1,18})?|90(?:\.0{1,18})?)[’'°]?[ ,;:]\s*([\-EW])?\s*((?:1[0-7]|[1-9])?\d(?:[,.]\d{1,18})?|180(?:\.0{1,18})?)[’'°]?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[4].replace(",",".")),Number(t[2].replace(",","."))];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[3]||"W"===t[3]?-e[0]:e[0],e}}]}return t.prototype={get:function(t){return this["_"+t]},init:function(){},clear:function(){this._results=null},test:function(t){var e,i,n,s;for(i=0,n=this._formats.length;n>i;i++)if(e=t.match(this._formats[i].regexp),e&&e.length>0)return s=this._formats[i].get(e),{x:s[0],y:s[1],srid:this._formats[i].srid};return!1},find:function(t,e,i){var n,s=this.test(t);this._results=null,s&&s.srid&&(n=this._mapmodule.transform("point",[s.x,s.y],s.srid,"EPSG:3857"),this._mapmodule.addMarker(n,{coordinates:ol.coordinate.format([s.x,s.y],"{y}, {x}",5)}),this._mapmodule.setView("center",[n,15]))}},t}),define("app/service/search/nominatim",["jquery"],function(t){"use strict";function e(t){this._url="https://nominatim.openstreetmap.org",this._mapmodule=t._mapmodule,this._results=null,this._id="nominatim",this._title='<i class="glyphicon glyphicon-map-marker"></i> Leitud aadressid',this._xhr=null}return e.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null,this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort()},find:function(t,e,i){var n=this;this._results=null,this.geocode(t,function(t){t.length>0&&(t=n.format(t),n._results=t),"function"==typeof e&&e(n._title,n._results,i)})},geocode:function(e,i){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",crossDomain:!0,url:this._url+"/search/",data:{q:e,countrycodes:"ee",format:"json"},dataType:"json",context:this}).done(i).fail(function(t){i(null),"abort"===t.statusText})},reverse:function(e,i,n){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",url:this._url+"/reverse/",data:{lat:e[1],lon:e[0],format:"json",zoom:Math.round(i),addressdetails:1},dataType:"json",context:this}).done(n).fail(function(t){n(null),"abort"===t.statusText})},format:function(t){var e,i,n,s=[];for(e=0,i=t.length;i>e;e++)t[e]&&t[e].boundingbox&&4===t[e].boundingbox.length&&(n=[parseFloat(t[e].boundingbox[2]),parseFloat(t[e].boundingbox[0]),parseFloat(t[e].boundingbox[3]),parseFloat(t[e].boundingbox[1])],s.push({id:t[e].place_id,name:t[e].display_name,bbox:this._mapmodule.transform("extent",n,"EPSG:4326","EPSG:3857"),type:this._id}));return s},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},e}),define("app/service/search/map-features",["jquery"],function(t){"use strict";function e(t){this._mapmodule=t._mapmodule,this._results=null,this._id="mapfeatures",this._title='<i class="fa fa-cube"></i> Leitud aarded'}return e.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null},find:function(t,e,i){var n,s,r,o,a=this,h=[],l=null;setTimeout(function(){for(l=a._mapmodule.getAllFeatures(),n=0,s=l.length;s>n;n++)r=l[n].get("id"),o=l[n].get("name"),o&&o.search(new RegExp(t,"i"))>-1&&h.push({bbox:l[n].getGeometry().getExtent(),name:o,type:a._id,id:r});h.length>0&&(a._results=h),"function"==typeof e&&e(a._title,a._results,i)})},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},e}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){o.detach().trigger("closed.bs.alert").remove()}var s=t(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=s.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),r="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,r)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o="string"==typeof e?e:r.slide;s||n.data("bs.carousel",s=new i(this,r)),"number"==typeof e?s.to(e):o?s[o]():r.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var s="prev"==t?-1:1,r=(i+s)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this;
},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var s=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,s),o=this.interval,a="next"==e?"left":"right",h=this;if(r.hasClass("active"))return this.sliding=!1;var l=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:l,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,s.addClass(a),r.addClass(a),s.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var s=function(i){var n,s=t(this),r=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=t.extend({},r.data(),s.data()),a=s.attr("data-slide-to");a&&(o.interval=!1),e.call(r,o),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),s||i.data("bs.collapse",s=new n(this,r)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var h=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][h])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION):s.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var r=e(s),o=r.data("bs.collapse"),a=o?"toggle":s.data();i.call(r,a)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(s).remove(),t(r).each(function(){var n=t(this),s=e(n),r={relatedTarget:this};s.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(s[0],i.target)||(s.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.6",o.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var r=e(s),o=r.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=e(n),o=s.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&s.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",h=s.find(".dropdown-menu"+a);if(h.length){var l=h.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<h.length-1&&l++,~l||(l=0),h.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),r=s.data("bs.modal"),o=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);r||s.data("bs.modal",r=new i(this,o)),"string"==typeof e?r[e](n):o.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),r=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),r="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.tooltip",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),r=s.length;r--;){var o=s[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",h="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,l=h.test(a);l&&(a=a.replace(h,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=r[0].offsetWidth,f=r[0].offsetHeight;if(l){var p=a,d=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+f>d.bottom?"top":"top"==a&&c.top-f<d.top?"bottom":"right"==a&&c.right+u>d.width?"left":"left"==a&&c.left-u<d.left?"right":a,r.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,c,u,f);this.applyPlacement(m,a);var g=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var h=n[0].offsetWidth,l=n[0].offsetHeight;"top"==i&&l!=r&&(e.top=e.top+r-l);var c=this.getViewportAdjustedDelta(i,e,h,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(i),f=u?2*c.left-s+h:2*c.top-r+l,p=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(f,n[0][p],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&r.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,r=t(this.$tip),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var r=n?{top:0,left:0}:e.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,o,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-o.scroll,h=e.top+r-o.scroll+n;a<o.top?s.top=o.top-a:h>o.top+o.height&&(s.top=o.top+o.height-h)}else{var l=e.left-r,c=e.left+r+i;l<o.left?s.left=o.left-l:c>o.right&&(s.left=o.left+o.width-c)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),r="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.popover",s=new i(this,r)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),r="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,r)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),r=/^#./.test(s)&&t(s);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return o!=(t=r[r.length-1])&&this.activate(t);if(o&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)o!=r[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var o=n.find("> .active"),a=s&&t.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),r="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,r)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s?"top":!1;if("bottom"==this.affixed)return null!=i?s+this.unpin<=r.top?!1:"bottom":t-n>=s+o?!1:"bottom";var a=null==this.affixed,h=a?s:r.top,l=a?o:e;return null!=i&&i>=s?"top":null!=n&&h+l>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,r=n.bottom,o=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(o,e,s,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var h="affix"+(a?"-"+a:""),l=t.Event(h+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),define("jquery.bootstrap",["jquery"],function(){}),define("app/service/search/search",["jquery","templator","text!tmpl/service/search/search.html","text!tmpl/service/search/search-item.html","app/service/search/coordinates","app/service/search/nominatim","app/service/search/map-features","jquery.bootstrap"],function(t,e,i,n,s,r,o){"use strict";function a(t){this._mapmodule=t,this._el=null,this._open=!1,this._result=!1,this._providers={coordinates:null,nominatim:null,mapfeatures:null},this._counter=0}return a.prototype={get:function(t){return this["_"+t]},init:function(){this._providers.coordinates=new s(this),this._providers.nominatim=new r(this),this._providers.mapfeatures=new o(this),this.createUi()},createUi:function(){var n=this,s=e.compile(i);this._el=t(s({search:"Otsi"})),t("#toolbar").append(this._el),this._el.find(".dropdown").on("shown.bs.dropdown",function(){n._open=!0}).on("hidden.bs.dropdown",function(){n._open=!1}),this._el.find("input").on("keyup",function(e){var i,s;if(n._result){for(s in n._providers)n._providers.hasOwnProperty(s)&&n._providers[s].clear();n._result=!1,n._el.find(".dropdown-menu").html(""),n._open&&n._el.find(".dropdown-menu").dropdown("toggle")}i=t.trim(n._el.find("input").val()),i.length>1?n._el.find(".dropdown-toggle").prop("disabled",!1):n._el.find(".dropdown-toggle").prop("disabled",!0),
13===e.keyCode&&i.length>1&&n.search(i)}),this._el.find(".dropdown-toggle").on("click",function(e){var i=t.trim(n._el.find("input").val());!n._result&&i.length>1&&n.search(i)}),this._el.find(".dropdown-menu").on("click","li a",function(e){e.preventDefault();var i=t(this).attr("data-id"),s=t(this).attr("data-type"),r=n._providers[s].getResultItem(i);r&&r.bbox&&4===r.bbox.length&&(Math.abs(r.bbox[0]-r.bbox[2])<100||Math.abs(r.bbox[1]-r.bbox[3])<100?n._mapmodule.setView("center",[[r.bbox[0],r.bbox[1]],18]):n._mapmodule.setView("bounds",r.bbox))})},search:function(t){var e;this.searchStart();for(e in this._providers)this._providers.hasOwnProperty(e)&&(this._providers[e].find(t,this.showResults,this),this._counter++)},showResults:function(i,s,r){if(s&&s.length>0){r._result=!0;var o=r._el.find(".dropdown-menu"),a=e.compile(n);o.append('<li class="dropdown-header">'+i+"</li>"),t.each(s,function(t,e){o.append(a(e))}),r._open||r._el.find(".dropdown-menu").dropdown("toggle")}r._counter--,0===r._counter&&r.searchEnd()},searchStart:function(){this._el.find(".dropdown-toggle i").removeClass("fa-search").addClass("fa-spinner fa-pulse")},searchEnd:function(){this._el.find(".dropdown-toggle i").removeClass("fa-spinner fa-pulse").addClass("fa-search")}},a}),define("text!tmpl/service/geocache/featureinfo_title.html",[],function(){return'<i class="{{type_class}}"></i>\r\n{{{text}}}\r\n<a href="#" class="cache-toggle" data-id="{{id}}" title="Geotuur">\r\n    <i class="fa {{icon}}"></i>\r\n</a>\r\n{{{trash}}}\r\n'}),define("app/service/featureinfo",["jquery","ol","templator","app/service/search/nominatim","text!tmpl/service/geocache/featureinfo_title.html"],function(t,e,i,n,s){"use strict";function r(t){this._app=t,this._mapmodule=t.mapmodule,this._map=this._mapmodule.get("map"),this._geocode=new n(this._mapmodule),this._tooltip=null,this._styleCache={},this._highlight=null,this._popup=null,this._infoHandlers={},this._tmpl_featureinfo_title=i.compile(s),this.init()}return r.prototype={get:function(t){return this["_"+t]},init:function(){this.createFeatureTooltip(),this.createFeatureInfo(),t("#statusbar .geolocation a.unlock").on("click",function(e){e.preventDefault(),t("#statusbar .geolocation").addClass("hidden").find("div").empty(),t("#statusbar .mouse-position").removeClass("hidden")}),t("#statusbar .mouse-position a.lock").on("click",function(e){e.preventDefault(),t("#statusbar .mouse-position").addClass("hidden"),t("#statusbar .geolocation").removeClass("hidden")})},createFeatureTooltip:function(){var t=this,i=!1;this._tooltip=new e.layer.Vector({map:t._map,source:new e.source.Vector({features:[]}),style:function(i,n){var s=i.get("name");return t._styleCache[s]||(t._styleCache[s]=[new e.style.Style({text:new e.style.Text({font:"12px Calibri,sans-serif",text:s,offsetY:-14,fill:new e.style.Fill({color:"#000"}),stroke:new e.style.Stroke({color:"#fff",width:3})})})]),t._styleCache[s]}}),this._map.on("pointermove",function(e){if(!e.dragging){var n=t._map.getEventPixel(e.originalEvent),s=t._map.hasFeatureAtPixel(n);s?(t._map.getTarget().style.cursor="pointer",i=t.showTooltip(e.pixel)):(t._map.getTarget().style.cursor=s?"pointer":"",i=t.showTooltip())}})},showTooltip:function(t){if(!t)return this._tooltip.getSource().clear(),this._highlight=null,!1;var e=this._map.forEachFeatureAtPixel(t,function(t,e){return t});return e!==this._highlight&&(this._tooltip.getSource().clear(),this._tooltip.getSource().addFeatures([e]),this._highlight=e),!0},createFeatureInfo:function(){this._popup=t('<div id="popup"></div>'),this._overlay=new e.Overlay({element:this._popup[0],autoPan:!0,positioning:"center-center",offset:[0,-16]}),this._map.addOverlay(this._overlay),this.enableClick()},enableClick:function(){this._map.on("click",this.clicked,this)},disableClick:function(){this._map.un("click",this.clicked,this)},clicked:function(e){var i,n=e.coordinate,s=this._map.forEachFeatureAtPixel(e.pixel,function(t,e){return e?[e,t]:void 0});this._popup.popover("destroy"),s?(this._tooltip.getSource().clear(),"Point"===s[1].getGeometry().getType()&&(n=s[1].getGeometry().getCoordinates()),s[0]&&this._infoHandlers[s[0].get("name")]?(i=this._infoHandlers[s[0].get("name")](s[1]),this._overlay.setOffset([0,-12])):(i=this.getContent(s[1],s[0]),this._overlay.setOffset([0,-18])),this._overlay.setPosition(n),this._popup.popover(i.definition).popover("show"),this._popup.on("shown.bs.popover",function(t){i.onShow(s,t)}),this._popup.on("hidden.bs.popover",i.onHide),this._popup.popover("show")):t("#statusbar .mouse-position").hasClass("hidden")&&this.setPositionInfo(n)},getContent:function(e,i){var n=this;if(e){var s,r=e.getProperties(),o=[];for(s in r)!r.hasOwnProperty(s)||"string"!=typeof r[s]&&"number"!=typeof r[s]||o.push(s+": "+r[s]);var a=t.inArray(e,this._app.geocache.get("geotrip").getArray()),h=this._tmpl_featureinfo_title({type_class:"fa fa-map-marker",text:"Kaardiobjekt",trash:'<a href="#" class="remove-marker" title="Eemalda"><i class="fa fa-trash"></i></a>',icon:a>-1?"fa-minus-square":"fa-thumb-tack"}),l=n._app.geocache.get("geotrip");return{definition:{placement:"top",animation:!1,html:!0,title:h,content:'<div class="small">'+o.join("<br>")+"</div>"},onShow:function(e,i){t(i.currentTarget.nextSibling).on("click",".remove-marker",function(t){t.preventDefault(),e[0]&&(e[0].getSource().removeFeature(e[1]),l.remove(e[1]),n._popup.popover("destroy"))}),t("a.cache-toggle").on("click",function(i){i.preventDefault(),t(this).find("i").toggleClass("fa-thumb-tack fa-minus-square"),t.inArray(e[1],l.getArray())>-1?l.remove(e[1]):l.push(e[1])})},onHide:function(){}}}},setPositionInfo:function(i){var n=this;t("#statusbar .geolocation").find("div").html(function(){var t=e.coordinate.format(n._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);return" "+t}),this._geocode.reverse(this._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),this._mapmodule.get("map").getView().getZoom(),function(e){e&&e.display_name&&t('<i class="text-muted hidden-xs" style="display:none"> &mdash; '+e.display_name+"</i>").appendTo("#statusbar .geolocation div").fadeIn()})}},r});var polyline={};polyline.decode=function(t,e){for(var i,n,s=0,r=0,o=0,a=[],h=0,l=0,c=null,u=Math.pow(10,e||5);s<t.length;){c=null,h=0,l=0;do c=t.charCodeAt(s++)-63,l|=(31&c)<<h,h+=5;while(c>=32);i=1&l?~(l>>1):l>>1,h=l=0;do c=t.charCodeAt(s++)-63,l|=(31&c)<<h,h+=5;while(c>=32);n=1&l?~(l>>1):l>>1,r+=i,o+=n,a.push([r/u,o/u])}return a},polyline.encode=function(t,e){if(!t.length)return"";for(var i=Math.pow(10,e||5),n=encode(t[0][0],0,i)+encode(t[0][1],0,i),s=1;s<t.length;s++){var r=t[s],o=t[s-1];n+=encode(r[0],o[0],i),n+=encode(r[1],o[1],i)}return n},polyline.fromGeoJSON=function(t,e){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw new Error("Input must be a GeoJSON LineString");return polyline.encode(flipped(t.coordinates),e)},polyline.toGeoJSON=function(t,e){var i=polyline.decode(t,e);return{type:"LineString",coordinates:flipped(i)}},"object"==typeof module&&module.exports&&(module.exports=polyline),define("polyline",function(t){return function(){var e;return e||t.polyline}}(this)),function(t){t("jsonpack",[],function(){var t=-1,e=-2,i=-3,n=-4,s=-5,r=function(r,o){o=o||{};var h=o.verbose||!1;h&&console.log("Normalize the JSON Object"),r="string"==typeof r?this.JSON.parse(r):r,h&&console.log("Creating a empty dictionary");var c={strings:[],integers:[],floats:[]};h&&console.log("Creating the AST");var f=function g(r){h&&console.log("Calling recursiveAstBuilder with "+this.JSON.stringify(r));var o=typeof r;if(null===r)return{type:"null",index:i};if("undefined"==typeof r)return{type:"undefined",index:s};if(r instanceof Array){var f=["@"];for(var p in r)r.hasOwnProperty(p)&&f.push(g(r[p]));return f}if("object"===o){var f=["$"];for(var d in r)r.hasOwnProperty(d)&&(f.push(g(d)),f.push(g(r[d])));return f}if(""===r)return{type:"empty",index:n};if("string"===o){var m=u.call(c.strings,r);return-1==m&&(c.strings.push(a(r)),m=c.strings.length-1),{type:"strings",index:m}}if("number"===o&&r%1===0){var m=u.call(c.integers,r);return-1==m&&(c.integers.push(l(r)),m=c.integers.length-1),{type:"integers",index:m}}if("number"===o){var m=u.call(c.floats,r);return-1==m&&(c.floats.push(r),m=c.floats.length-1),{type:"floats",index:m}}if("boolean"===o)return{type:"boolean",index:r?t:e};throw new Error("Unexpected argument of type "+typeof r)}(r),p=c.strings.length,d=c.integers.length;c.floats.length;h&&console.log("Parsing the dictionary");var m=c.strings.join("|");return m+="^"+c.integers.join("|"),m+="^"+c.floats.join("|"),h&&console.log("Parsing the structure"),m+="^"+function v(t){if(h&&console.log("Calling a recursiveParser with "+this.JSON.stringify(t)),t instanceof Array){var e=t.shift();for(var r in t)t.hasOwnProperty(r)&&(e+=v(t[r])+"|");return("|"===e[e.length-1]?e.slice(0,-1):e)+"]"}var o=t.type,a=t.index;if("strings"===o)return l(a);if("integers"===o)return l(p+a);if("floats"===o)return l(p+d+a);if("boolean"===o)return t.index;if("null"===o)return i;if("undefined"===o)return s;if("empty"===o)return n;throw new TypeError("The item is alien!")}(f),h&&console.log("Ending parser"),o.debug?{dictionary:c,ast:f,packed:m}:m},o=function(r,o){o=o||{};var a=r.split("^");o.verbose&&console.log("Building dictionary");var l=[],u=a[0];if(""!==u){u=u.split("|"),o.verbose&&console.log("Parse the strings dictionary");for(var f=0,p=u.length;p>f;f++)l.push(h(u[f]))}if(u=a[1],""!==u){u=u.split("|"),o.verbose&&console.log("Parse the integers dictionary");for(var f=0,p=u.length;p>f;f++)l.push(c(u[f]))}if(u=a[2],""!==u){u=u.split("|"),o.verbose&&console.log("Parse the floats dictionary");for(var f=0,p=u.length;p>f;f++)l.push(parseFloat(u[f]))}u=null,o.verbose&&console.log("Tokenizing the structure");for(var d="",m=[],g=a[3].length,f=0;g>f;f++){var v=a[3].charAt(f);"|"===v||"$"===v||"@"===v||"]"===v?(d&&(m.push(c(d)),d=""),"|"!==v&&m.push(v)):d+=v}var y=m.length,b=0;return o.verbose&&console.log("Starting recursive parser"),function x(){var r=m[b++];if(o.verbose&&console.log("Reading collection type "+("$"===r?"object":"Array")),"@"===r){for(var a=[];y>b;b++){var h=m[b];if(o.verbose&&console.log("Read "+h+" symbol"),"]"===h)return a;if("@"===h||"$"===h)a.push(x());else switch(h){case t:a.push(!0);break;case e:a.push(!1);break;case i:a.push(null);break;case s:a.push(void 0);break;case n:a.push("");break;default:a.push(l[h])}}return o.verbose&&console.log("Parsed "+this.JSON.stringify(a)),a}if("$"===r){for(var a={};y>b;b++){var c=m[b];if("]"===c)return a;c=c===n?"":l[c];var h=m[++b];if("@"===h||"$"===h)a[c]=x();else switch(h){case t:a[c]=!0;break;case e:a[c]=!1;break;case i:a[c]=null;break;case s:a[c]=void 0;break;case n:a[c]="";break;default:a[c]=l[h]}}return o.verbose&&console.log("Parsed "+this.JSON.stringify(a)),a}throw new TypeError("Bad token "+r+" isn't a type")}()},a=function(t){return"string"!=typeof t?t:t.replace(/[\+ \|\^\%]/g,function(t){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[t]})},h=function(t){return"string"!=typeof t?t:t.replace(/\+|%2B|%7C|%5E|%25/g,function(t){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[t]})},l=function(t){return Number.prototype.toString.call(t,36).toUpperCase()},c=function(t){return parseInt(t,36)},u=Array.prototype.indexOf||function(t,e){for(var i=e||0,n=this.length;n>i;i++)if(this[i]===t)return i;return-1};return{JSON:JSON,pack:r,unpack:o}})}("undefined"!=typeof define&&define.amd?define:function(t,e){var i=e();if("undefined"!=typeof exports)for(var n in i)exports[n]=i[n];else window.jsonpack=i}),define("app/service/export",["jquery","ol"],function(t,e){"use strict";function i(e,i,n){if(this._link=t("#download-link"),this._filename=i,!this._link.attr("download")||!n||0===n.length)return!1;switch(this._link.removeAttr("href"),e){case"GPX":this.gpx(n)}this.forceDownload()}return i.prototype={gpx:function(t){var i=(new e.format.GPX).writeFeatures(t),n=this.strToBase64('<?xml version="1.0" encoding="utf-8"?>'+i);this._link.attr("download",this._filename),this._link.attr("href","data:text/gpx+xml;base64,"+n)},forceDownload:function(){var t=document.createEvent("MouseEvent");return t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.getElementById("download-link").dispatchEvent(t),!1},strToBase64:function(t){function e(t){return 26>t?t+65:52>t?t+71:62>t?t-4:62===t?43:63===t?47:65}function i(t){for(var i=2,n="",s=t.length,r=0,o=0;s>o;o++)i=o%3,o>0&&4*o/3%76===0&&(n+="\r\n"),r|=t[o]<<(16>>>i&24),(2===i||t.length-o===1)&&(n+=String.fromCharCode(e(r>>>18&63),e(r>>>12&63),e(r>>>6&63),e(63&r)),r=0);return n.substr(0,n.length-2+i)+(2===i?"":1===i?"=":"==")}function n(t){for(var e,i,n=t.length,s=0,r=0;n>r;r++)i=t.charCodeAt(r),s+=128>i?1:2048>i?2:65536>i?3:2097152>i?4:67108864>i?5:6;e=new Uint8Array(s);for(var o=0,a=0;s>o;a++)i=t.charCodeAt(a),128>i?e[o++]=i:2048>i?(e[o++]=192+(i>>>6),e[o++]=128+(63&i)):65536>i?(e[o++]=224+(i>>>12),e[o++]=128+(i>>>6&63),e[o++]=128+(63&i)):2097152>i?(e[o++]=240+(i>>>18),e[o++]=128+(i>>>12&63),e[o++]=128+(i>>>6&63),e[o++]=128+(63&i)):67108864>i?(e[o++]=248+(i>>>24),e[o++]=128+(i>>>18&63),e[o++]=128+(i>>>12&63),e[o++]=128+(i>>>6&63),e[o++]=128+(63&i)):(e[o++]=252+i/1073741824,e[o++]=128+(i>>>24&63),e[o++]=128+(i>>>18&63),e[o++]=128+(i>>>12&63),e[o++]=128+(i>>>6&63),e[o++]=128+(63&i));return e}return i(n(t))}},i}),define("text!tmpl/service/geocache/filter.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Filter</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-filter"></i> Filtreeri aardeid\n</li>\n{{#each collection}}\n<li class="divider"></li>\n{{#each this}}\n<li>\n    <label>\n        <input type="checkbox" name="{{@../key}}" data-filter="{{@../key}}" value="{{@key}}"> {{this}}\n    </label>\n</li>\n{{/each}}\n{{/each}}\n'}),define("app/service/filter",["jquery","templator","text!tmpl/service/geocache/filter.html"],function(t,e,i){"use strict";function n(n){this._layer=n,this._el=t("#toolbar .filter"),this._tmpl_filter=e.compile(i),this._features=n.getSource().getFeatures(),this._filters={fstatus:{0:"Leidmata",1:"Leitud",2:"Minu aare"},new_cache:{yes:"Uus aare (30p)"},type:{"Tavaline aare":"Tavaline aare",Multiaare:"Multiaare",Veebikaamera:"Veebikaamera","Virtuaalne aare":"Virtuaalne aare","Sündmusaare":"Sündmusaare","Asukohata (tagurpidi) aare":"Asukohata aare","Mõistatusaare":"Mõistatusaare"}}}return n.prototype={get:function(t){return this["_"+t]},init:function(){var t=this.buildPropertyList();this.createUi(t)},buildPropertyList:function(){var t,e={};return this._layer.getSource().forEachFeature(function(i){var n;t=i.getProperties();for(n in t)t.hasOwnProperty(n)&&this._filters.hasOwnProperty(n)&&(e[n]||(e[n]={}),this._filters[n][t[n]]&&!e[n][t[n]]&&(e[n][t[n]]=this._filters[n][t[n]]))},this),e},createUi:function(e){var i=this;this._el.find("ul").html(this._tmpl_filter({collection:e})),this._el.closest(".geocache").find("button.btn-filter").prop("disabled",!1).on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-geotrip").removeClass("active"),t(this).closest(".geocache").find(".geotrip").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".filter").toggleClass("open")}),this._el.find("ul button.close").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").toggleClass("active"),t(this).closest(".filter").toggleClass("open")}),this._el.find("ul li input").on("change",function(t){t.stopPropagation(),i.filter()})},off:function(){this._el.closest(".geocache").find("button.btn-filter").removeClass("active").off().find("b").text(""),this._el.find("ul button.close").off(),this._el.find("ul li input").off(),this._el.find("ul").html(""),this._el.removeClass("open")},filter:function(){var t,e=this.getChecked();this._layer.getSource().clear(),e.count>0?(t=this.query(e.query),this._layer.getSource().addFeatures(t),this._el.closest(".geocache").find("button.btn-filter b").text(t.length)):(this._layer.getSource().addFeatures(this._features),this._el.closest(".geocache").find("button.btn-filter b").text(""))},getChecked:function(){var e,i,n=this._el.find("input").serializeArray(),s={query:{},count:0};for(e=0,i=n.length;i>e;e++)s.query[n[e].name]||(s.query[n[e].name]=[]),-1===t.inArray(n[e].value,s.query[n[e].name])&&(s.query[n[e].name].push(n[e].value),s.count++);return s},query:function(e){var i,n,s,r,o=[],a=[];for(i=0,s=this._features.length;s>i;i++){r=this._features[i].getProperties(),a=[];for(n in e)e.hasOwnProperty(n)&&(r.hasOwnProperty(n)&&t.inArray(r[n],e[n])>-1?a.push(!0):a.push(!1));-1===t.inArray(!1,a)&&o.push(this._features[i])}return o}},n}),define("text!tmpl/service/geocache/tool_loader.html",[],function(){return'<div class="geocache">\n    <div class="btn-group pull-left">\n        <button class="btn btn-secondary btn-sm" type="button" data-toggle="modal" data-target="#modal_geocache">\n            <i class="fa fa-cube"></i>\n            <span class="hidden-xs">{{load_geocaches}}</span>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-filter" disabled title="Filtreeri">\n            <i class="fa fa-filter"></i> <b class="hidden-xs"></b>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-geotrip" disabled title="Geotuur">\n            <i class="fa fa-thumb-tack"></i> <b class="hidden-xs"></b>\n        </button>\n    </div>\n    <div class="filter">\n        <ul class="dropdown-menu scrollable-menu" role="menu"></ul>\n    </div>\n    <div class="geotrip">\n        <ul class="dropdown-menu scrollable-menu sortable" role="menu"></ul>\n    </div>\n\n    <!-- Modal -->\n    <div class="modal fade" id="modal_geocache" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title">{{load_geocaches}}</h4>\n                </div>\n                <div class="modal-body">\n                    <ul class="list-group">\n                        <li class="list-group-item">\n                            <span class="badge">1</span>\n                            Mine <a href="{{auth_url}}" target="geopeitus">geopeitus.ee</a> lehele ja logi seal sisse\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">2</span>\n                            Ava <a href="{{features_url}}" target="geopeitus">link</a>\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">3</span>\n                            Kopeeri siia tekstikasti kogu lehe sisu\n                        </li>\n                    </ul>\n                    <textarea class="form-control" rows="6"></textarea>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary confirm">{{confirm_geocaches}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!tmpl/service/geocache/geotrip.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Geotuur</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-thumb-tack"></i> Lisa aardeid kaardilt\n</li>\n<li class="divider"></li>\n{{#each collection}}\n{{#if this._id}}\n<li class="sort-item">\n    <a href="#" data-id="{{this._id}}">\n        <span>{{@key}}</span>. {{this.name}}\n    </a>\n</li>\n{{/if}}\n{{/each}}\n<li class="divider"></li>\n<li class="dropdown-header footer">\n    <div class="btn-group pull-right">\n        <button type="button" class="btn btn-xs btn-secondary share">\n            <i class="fa fa-share-alt"></i>\n        </button>\n        <a class="btn btn-xs btn-secondary export-gpx" download="geotuur.gpx">\n            <i class="fa fa-download"></i> GPX\n        </a>\n        <button type="button" class="btn btn-xs btn-secondary clear">\n            <i class="fa fa-trash-o"></i>\n        </button>\n    </div>\n    <div class="clearfix"></div>\n</li>\n'}),define("text!tmpl/service/geocache/featureinfo.html",[],function(){return'<p class="text-muted metadata small">\r\n    <i class="fa fa-clock-o"></i> {{date_hidden}}\r\n    <i class="fa fa-user"></i> {{user_id}}<br>\r\n    {{{type_text}}}\r\n    <i class="fa fa-area-chart"></i> {{terrain}}\r\n    <i class="fa fa-star"></i> {{difficulty}}\r\n    <i class="fa fa-expand"></i> {{size}}\r\n</p>\r\n<p>\r\n    \r\n</p>\r\n<p>{{{fstatus}}}</p>\r\n'}),function(t){"use strict";"function"==typeof define&&define.amd?define("jquery.sortable",["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=y({},e),t[F]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var n in i)!(n in e)&&(e[n]=i[n]);X(e);for(var s in this)"_"===s.charAt(0)&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:$,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),H.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function i(t){M&&M.state!==t&&(h(M,"display",t?"none":""),!t&&M.state&&k.insertBefore(M,b),M.state=t)}function n(t,e,i){if(t){i=i||q,e=e.split(".");var n=e.shift().toUpperCase(),s=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");do if(">*"===n&&t.parentNode===i||(""===n||t.nodeName.toUpperCase()==n)&&(!e.length||((" "+t.className+" ").match(s)||[]).length==e.length))return t;while(t!==i&&(t=t.parentNode))}return null}function s(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function r(t,e,i){t.addEventListener(e,i,!1)}function o(t,e,i){t.removeEventListener(e,i,!1)}function a(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(R," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(R," ")}}function h(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return q.defaultView&&q.defaultView.getComputedStyle?i=q.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function l(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,r=n.length;if(i)for(;r>s;s++)i(n[s],s);return n}return[]}function c(t,e,i,n,s,r,o){var a=q.createEvent("Event"),h=(t||e[F]).options,l="on"+i.charAt(0).toUpperCase()+i.substr(1);a.initEvent(i,!0,!0),a.to=e,a.from=s||e,a.item=n||e,a.clone=M,a.oldIndex=r,a.newIndex=o,e.dispatchEvent(a),h[l]&&h[l].call(t,a)}function u(t,e,i,n,s,r){var o,a,h=t[F],l=h.options.onMove;return o=q.createEvent("Event"),o.initEvent("move",!0,!0),o.to=e,o.from=t,o.dragged=i,o.draggedRect=n,o.related=s||e,o.relatedRect=r||e.getBoundingClientRect(),t.dispatchEvent(o),l&&(a=l.call(h,o)),a}function f(t){t.draggable=!1}function p(){z=!1}function d(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return(e.clientY-(n.top+n.height)>5||e.clientX-(n.right+n.width)>5)&&i}function m(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function g(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function v(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function y(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var b,x,w,M,k,_,S,P,C,E,T,j,A,N,L,D,I,O={},R=/\s+/g,F="Sortable"+(new Date).getTime(),B=window,q=B.document,U=B.parseInt,$=!!("draggable"in q.createElement("div")),G=function(t){return t=q.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),z=!1,V=Math.abs,H=([].slice,[]),W=v(function(t,e,i){if(i&&e.scroll){var n,s,r,o,a=e.scrollSensitivity,h=e.scrollSpeed,l=t.clientX,c=t.clientY,u=window.innerWidth,f=window.innerHeight;if(P!==i&&(S=e.scroll,P=i,S===!0)){S=i;do if(S.offsetWidth<S.scrollWidth||S.offsetHeight<S.scrollHeight)break;while(S=S.parentNode)}S&&(n=S,s=S.getBoundingClientRect(),r=(V(s.right-l)<=a)-(V(s.left-l)<=a),o=(V(s.bottom-c)<=a)-(V(s.top-c)<=a)),r||o||(r=(a>=u-l)-(a>=l),o=(a>=f-c)-(a>=c),(r||o)&&(n=B)),(O.vx!==r||O.vy!==o||O.el!==n)&&(O.el=n,O.vx=r,O.vy=o,clearInterval(O.pid),n&&(O.pid=setInterval(function(){n===B?B.scrollTo(B.pageXOffset+r*h,B.pageYOffset+o*h):(o&&(n.scrollTop+=o*h),r&&(n.scrollLeft+=r*h))},24)))}},30),X=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};e.prototype={constructor:e,_onTapStart:function(t){var e=this,i=this.el,s=this.options,r=t.type,o=t.touches&&t.touches[0],a=(o||t).target,h=a,l=s.filter;if(!("mousedown"===r&&0!==t.button||s.disabled)&&(a=n(a,s.draggable,i))){if(j=g(a),"function"==typeof l){if(l.call(this,t,a,this))return c(e,h,"filter",a,i,j),void t.preventDefault()}else if(l&&(l=l.split(",").some(function(t){return t=n(h,t.trim(),i),t?(c(e,t,"filter",a,i,j),!0):void 0})))return void t.preventDefault();(!s.handle||n(h,s.handle,i))&&this._prepareDragStart(t,o,a)}},_prepareDragStart:function(t,e,i){var n,s=this,o=s.el,h=s.options,c=o.ownerDocument;i&&!b&&i.parentNode===o&&(L=t,k=o,b=i,x=b.parentNode,_=b.nextSibling,N=h.group,n=function(){s._disableDelayedDrag(),b.draggable=!0,a(b,s.options.chosenClass,!0),s._triggerDragStart(e)},h.ignore.split(",").forEach(function(t){l(b,t.trim(),f)}),r(c,"mouseup",s._onDrop),r(c,"touchend",s._onDrop),r(c,"touchcancel",s._onDrop),h.delay?(r(c,"mouseup",s._disableDelayedDrag),r(c,"touchend",s._disableDelayedDrag),r(c,"touchcancel",s._disableDelayedDrag),r(c,"mousemove",s._disableDelayedDrag),r(c,"touchmove",s._disableDelayedDrag),s._dragStartTimer=setTimeout(n,h.delay)):n())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),o(t,"mouseup",this._disableDelayedDrag),o(t,"touchend",this._disableDelayedDrag),o(t,"touchcancel",this._disableDelayedDrag),o(t,"mousemove",this._disableDelayedDrag),o(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(L={target:b,clientX:t.clientX,clientY:t.clientY},this._onDragStart(L,"touch")):this.nativeDraggable?(r(b,"dragend",this),r(k,"dragstart",this._onDragStart)):this._onDragStart(L,!0);try{q.selection?q.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){k&&b&&(a(b,this.options.ghostClass,!0),e.active=this,c(this,k,"start",b,k,j))},_emulateDragOver:function(){if(D){if(this._lastX===D.clientX&&this._lastY===D.clientY)return;this._lastX=D.clientX,this._lastY=D.clientY,G||h(w,"display","none");var t=q.elementFromPoint(D.clientX,D.clientY),e=t,i=" "+this.options.group.name,n=H.length;if(e)do{if(e[F]&&e[F].options.groups.indexOf(i)>-1){for(;n--;)H[n]({clientX:D.clientX,clientY:D.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);G||h(w,"display","")}},_onTouchMove:function(t){if(L){e.active||this._dragStarted(),this._appendGhost();var i=t.touches?t.touches[0]:t,n=i.clientX-L.clientX,s=i.clientY-L.clientY,r=t.touches?"translate3d("+n+"px,"+s+"px,0)":"translate("+n+"px,"+s+"px)";I=!0,D=i,h(w,"webkitTransform",r),h(w,"mozTransform",r),h(w,"msTransform",r),h(w,"transform",r),t.preventDefault()}},_appendGhost:function(){if(!w){var t,e=b.getBoundingClientRect(),i=h(b),n=this.options;w=b.cloneNode(!0),a(w,n.ghostClass,!1),a(w,n.fallbackClass,!0),h(w,"top",e.top-U(i.marginTop,10)),h(w,"left",e.left-U(i.marginLeft,10)),h(w,"width",e.width),h(w,"height",e.height),h(w,"opacity","0.8"),h(w,"position","fixed"),h(w,"zIndex","100000"),h(w,"pointerEvents","none"),n.fallbackOnBody&&q.body.appendChild(w)||k.appendChild(w),t=w.getBoundingClientRect(),h(w,"width",2*e.width-t.width),h(w,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),"clone"==N.pull&&(M=b.cloneNode(!0),h(M,"display","none"),k.insertBefore(M,b)),e?("touch"===e?(r(q,"touchmove",this._onTouchMove),r(q,"touchend",this._onDrop),r(q,"touchcancel",this._onDrop)):(r(q,"mousemove",this._onTouchMove),r(q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,b)),r(q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var e,s,r,o=this.el,a=this.options,l=a.group,c=l.put,f=N===l,m=a.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!a.dragoverBubble&&t.stopPropagation()),I=!0,N&&!a.disabled&&(f?m||(r=!k.contains(b)):N.pull&&c&&(N.name===l.name||c.indexOf&&~c.indexOf(N.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(W(t,a,this.el),z)return;if(e=n(t.target,a.draggable,o),s=b.getBoundingClientRect(),r)return i(!0),void(M||_?k.insertBefore(b,M||_):m||k.appendChild(b));if(0===o.children.length||o.children[0]===w||o===t.target&&(e=d(o,t))){if(e){if(e.animated)return;v=e.getBoundingClientRect()}i(f),u(k,o,b,s,e,v)!==!1&&(b.contains(o)||(o.appendChild(b),x=o),this._animate(s,b),e&&this._animate(v,e))}else if(e&&!e.animated&&e!==b&&void 0!==e.parentNode[F]){C!==e&&(C=e,E=h(e),T=h(e.parentNode));var g,v=e.getBoundingClientRect(),y=v.right-v.left,S=v.bottom-v.top,P=/left|right|inline/.test(E.cssFloat+E.display)||"flex"==T.display&&0===T["flex-direction"].indexOf("row"),j=e.offsetWidth>b.offsetWidth,A=e.offsetHeight>b.offsetHeight,L=(P?(t.clientX-v.left)/y:(t.clientY-v.top)/S)>.5,D=e.nextElementSibling,O=u(k,o,b,s,e,v);if(O!==!1){if(z=!0,setTimeout(p,30),i(f),1===O||-1===O)g=1===O;else if(P){var R=b.offsetTop,B=e.offsetTop;g=R===B?e.previousElementSibling===b&&!j||L&&j:B>R}else g=D!==b&&!A||L&&A;b.contains(o)||(g&&!D?o.appendChild(b):e.parentNode.insertBefore(b,g?D:e)),x=b.parentNode,this._animate(s,b),this._animate(v,e)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();h(e,"transition","none"),h(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,h(e,"transition","all "+i+"ms"),h(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){h(e,"transition",""),h(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;o(q,"touchmove",this._onTouchMove),o(t,"mouseup",this._onDrop),o(t,"touchend",this._onDrop),o(t,"touchcancel",this._onDrop)},_onDrop:function(t){var i=this.el,n=this.options;clearInterval(this._loopId),clearInterval(O.pid),clearTimeout(this._dragStartTimer),o(q,"mousemove",this._onTouchMove),this.nativeDraggable&&(o(q,"drop",this),o(i,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(I&&(t.preventDefault(),!n.dropBubble&&t.stopPropagation()),w&&w.parentNode.removeChild(w),b&&(this.nativeDraggable&&o(b,"dragend",this),f(b),a(b,this.options.ghostClass,!1),a(b,this.options.chosenClass,!1),k!==x?(A=g(b),A>=0&&(c(null,x,"sort",b,k,j,A),c(this,k,"sort",b,k,j,A),c(null,x,"add",b,k,j,A),c(this,k,"remove",b,k,j,A))):(M&&M.parentNode.removeChild(M),
b.nextSibling!==_&&(A=g(b),A>=0&&(c(this,k,"update",b,k,j,A),c(this,k,"sort",b,k,j,A)))),e.active&&((null===A||-1===A)&&(A=j),c(this,k,"end",b,k,j,A),this.save())),k=b=x=w=_=M=S=P=L=D=I=A=C=E=N=e.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?b&&(this._onDragOver(t),s(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],i=this.el.children,s=0,r=i.length,o=this.options;r>s;s++)t=i[s],n(t,o.draggable,this.el)&&e.push(t.getAttribute(o.dataIdAttr)||m(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,s){var r=i.children[s];n(r,this.options.draggable,i)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;return void 0===e?i[t]:(i[t]=e,void("group"===t&&X(i)))},destroy:function(){var t=this.el;t[F]=null,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),H.splice(H.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},e.utils={on:r,off:o,css:h,find:l,is:function(t,e){return!!n(t,e,t)},extend:y,throttle:v,closest:n,toggleClass:a,index:g},e.create=function(t,i){return new e(t,i)},t.fn.sortable=function(i){var n,s=arguments;return this.each(function(){var r=t(this),o=r.data("sortable");if(o||!(i instanceof Object)&&i||(o=new e(this,i),r.data("sortable",o)),o){if("widget"===i)return o;"destroy"===i?(o.destroy(),r.removeData("sortable")):"function"==typeof o[i]?n=o[i].apply(o,[].slice.call(s,1)):i in o.options&&(n=o.option.apply(o,s))}}),void 0===n?this:n}}),define("app/service/geocache",["jquery","ol","templator","polyline","jsonpack","app/service/export","app/service/filter","text!tmpl/service/geocache/tool_loader.html","text!tmpl/service/geocache/geotrip.html","text!tmpl/service/geocache/featureinfo.html","text!tmpl/service/geocache/featureinfo_title.html","jquery.bootstrap","jquery.sortable"],function(t,e,i,n,s,r,o,a,h,l,c){"use strict";function u(t,n){this._name="geocache",this._config=t,this._mapmodule=n,this._el=null,this._filter=null,this._open=!1,this._results=null,this._layer=null,this._route=null,this._styleCache={},this._styleConfig={base:{text:"",font:"normal 16px FontAwesome",textBaseline:"middle",fill:new e.style.Fill({color:"black"}),stroke:new e.style.Stroke({color:"#fff",width:4})},text:{"Tavaline aare":{text:"","class":"fa fa-cube",font:"normal 12px FontAwesome"},Multiaare:{text:"","class":"fa fa-cubes",font:"normal 13px FontAwesome"},Veebikaamera:{text:"","class":"fa fa-camera",font:"normal 12px FontAwesome"},"Virtuaalne aare":{text:"","class":"fa fa-wifi",font:"normal 12px FontAwesome"},"Sündmusaare":{text:"","class":"fa fa-university",font:"normal 12px FontAwesome"},"Asukohata (tagurpidi) aare":{text:"","class":"fa fa-refresh",font:"normal 12px FontAwesome"},"Mõistatusaare":{text:"","class":"fa fa-question-circle",font:"normal 12px FontAwesome"}},color:{0:{fill:new e.style.Fill({color:"black"})},1:{fill:new e.style.Fill({color:"#4c9900"})},2:{fill:new e.style.Fill({color:"red"})}},new_cache:{yes:{stroke:new e.style.Stroke({color:"#ffff00",width:4})}}},this._tmpl_geotrip=i.compile(h),this._tmpl_featureinfo=i.compile(l),this._tmpl_featureinfo_title=i.compile(c),this._geotrip=new e.Collection,this._geotrip.on("add",this.renderTrip,this),this._geotrip.on("remove",this.renderTrip,this)}return u.prototype={get:function(t){return this["_"+t]},init:function(){var t,e,i,n,r=this,o=[];if(this.createUi(),t=this._mapmodule.get("featureInfo").get("infoHandlers"),t&&(t[this._name]=function(t){return r.getContent(t)}),e=window.location.hash.split("&hash="),e[1]){i=s.unpack(decodeURIComponent(e[1]));var a=i.filter(function(t){return"undefined"!=typeof t.properties.fstatus}),h=i.filter(function(t){return"undefined"==typeof t.properties.fstatus});a&&a.length&&(n={type:"FeatureCollection",features:a},this.clearTrip(),o=this.initTrip(n)),h&&h.length&&(h=h.map(function(t){var e=r._mapmodule.addMarker(r._mapmodule.transform("point",t.geometry.coordinates,"EPSG:4326","EPSG:3857"),t.properties);e.setId(t.id),o.push(e)})),o&&i.forEach(function(t){var e=o.filter(function(e){return e.getId()===t.id});e&&e.length>0&&r._geotrip.push(e[0])})}},createUi:function(){var n=this,o=i.compile(a);this._el=t(o(t.extend(this._config,{load_geocaches:"Lae aarded",confirm_geocaches:"Lisa aarded kaardile"}))),t("#toolbar").append(this._el),this._el.find(".modal").on("shown.bs.modal",function(t){}),this._el.find("#modal_geocache").on("click","button.confirm",function(e){var i,s=t(this).closest(".modal-content").find("textarea"),r=t.trim(s.val());if(n.clearTrip(),r.length>0){r=r.replace('"NAVY"',"NAVY");try{i=t.parseJSON(r)}catch(o){console.error(o)}}i&&n.initTrip(i),s.val(""),t(this).closest(".modal").modal("hide")}),this._el.find("button.btn-geotrip").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").removeClass("active"),t(this).closest(".geocache").find(".filter").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip button.close",function(e){e.stopPropagation(),n._el.find("button.btn-geotrip").toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip ul li a",function(e){e.preventDefault();var i=t(this).data("id");n._geotrip.forEach(function(t,e){return t.getId()===i?void n._mapmodule.setView("center",[t.getGeometry().getCoordinates(),16]):void 0})}),this._el.on("click",".geotrip ul li button.clear",function(t){n.clearTrip()}),this._el.on("click",".geotrip ul li a.export-gpx",function(t){t.preventDefault();var e,i=[],s=null,o=null;n._geotrip.forEach(function(t){s=t.clone(),s.getGeometry().transform("EPSG:3857","EPSG:4326"),i.push(s)}),o=n._route.getSource().getFeatures()[0],o&&(s=o.clone(),s.getGeometry().transform("EPSG:3857","EPSG:4326"),i.push(s)),e=new r("GPX","geotuur.gpx",i)}),this._el.on("click",".geotrip ul li button.share",function(t){var i=new e.format.GeoJSON,r=i.writeFeaturesObject(n._geotrip.getArray(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857",decimals:5}),o=s.pack(r.features);window.location.hash+="&hash="+o})},createLayer:function(i){var n,s,r=this,o=new Date;return i?(s=new e.format.GeoJSON,n={features:s.readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}):n={format:new e.format.GeoJSON,url:"data/gp.geojson"},this.createRouteLayer(),this._layer=new e.layer.Vector({name:"geocache",source:new e.source.Vector(n),style:function(i,n){var s,o=i.get("type"),a=i.get("fstatus"),h=i.get("new_cache"),l=o+a+h;return r._styleCache[l]||(s=t.extend({},r._styleConfig.base,r._styleConfig.text[o],r._styleConfig.color[a],r._styleConfig.new_cache[h]||{}),r._styleCache[l]=[new e.style.Style({text:new e.style.Text(s)})]),r._styleCache[l]}}),this._layer.getSource().forEachFeature(function(t){var e=t.get("fstatus"),i=new Date(t.get("date_hidden")),n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+30),s="0"==e&&n>o?"yes":"no";t.get("new_cache")||t.set("new_cache",s),t.getId()||t.setId(Date.now()+"_"+Math.random())},this),this._mapmodule.get("vectorLayers").getLayers().push(this._layer),n.features||[]},createRouteLayer:function(){this._route=new e.layer.Vector({name:"route",source:new e.source.Vector,style:[new e.style.Style({stroke:new e.style.Stroke({color:"rgba(255, 255, 255, 0.6)",width:7})}),new e.style.Style({stroke:new e.style.Stroke({color:"rgba(0, 0, 0, 0.3)",width:5})})]}),this._mapmodule.get("vectorLayers").getLayers().push(this._route)},removeLayer:function(){this._layer.getSource().clear(),this._route.getSource().clear(),this._mapmodule.get("vectorLayers").getLayers().remove(this._layer),this._mapmodule.get("vectorLayers").getLayers().remove(this._route),this._layer=null,this._route=null},getContent:function(e){var i=this,n={0:'<i class="fa fa-square-o"></i> Leidmata',1:'<i class="fa fa-check-square-o"></i> Leitud',2:'<i class="fa fa-user"></i> Minu aare'},s=e.getProperties(),r=t.inArray(e,this._geotrip.getArray());return s.fstatus=n[s.fstatus],s.type_text='<i class="'+this._styleConfig.text[s.type]["class"]+'"></i> '+s.type,{definition:{placement:"top",animation:!1,html:!0,title:this._tmpl_featureinfo_title({type_class:this._styleConfig.text[s.type]["class"],text:'<a href="'+this._config.cache_url+s.id+'" target="_blank">'+s.name+"</a>",trash:"",icon:r>-1?"fa-minus-square":"fa-thumb-tack"}),content:this._tmpl_featureinfo(s)},onShow:function(e){t("a.cache-toggle").on("click",function(n){n.preventDefault(),t(this).find("i").toggleClass("fa-thumb-tack fa-minus-square"),t.inArray(e[1],i._geotrip.getArray())>-1?i._geotrip.remove(e[1]):i._geotrip.push(e[1])})},onHide:function(){t("a.cache-toggle").off()}}},initTrip:function(t){this._layer&&this.removeLayer();var e=this.createLayer(t);return this._filter&&(this._filter.off(),this._filter=null),this._filter=new o(this._layer),this._filter.init(),e},renderTrip:function(t){var i,n=[""],s=this._geotrip.getLength(),r=[],o=this;this._geotrip.forEach(function(t,e){t&&(i=t.getProperties(),i._id=t.getId(),n.push(i),r.push(t.getGeometry().getCoordinates()))}),0===s?(this._el.find("button.btn-geotrip").removeClass("active").prop("disabled",!0).find("b").text(""),this._el.find(".geotrip").removeClass("open")):this._el.find("button.btn-geotrip").is(":disabled")&&this._el.find("button.btn-geotrip").prop("disabled",!1),s>0&&this._el.find("button.btn-geotrip b").text(s),this._el.find(".geotrip ul").html(this._tmpl_geotrip({collection:n})),this._el.find(".geotrip .sortable").sortable({draggable:"li.sort-item",onUpdate:function(t){o.reorderTrip(),o.renderTrip()}}),this._route||this.createRouteLayer(),this._route.getSource().clear(),this._el.find(".geotrip ul li a.export-gpx").removeAttr("href"),s>1&&this._route.getSource().addFeatures([new e.Feature({name:"Geotuur",geometry:new e.geom.LineString(r)})])},reorderTrip:function(){function e(t){var e;return o._geotrip.forEach(function(i,n){i&&i.getId()===t&&(e=i)}),e}var i,n,s=[],r=null,o=this;for(this._el.find(".geotrip .sortable li.sort-item").each(function(e,i){s.push(t(i).find("a").attr("data-id"))}),i=0,n=s.length;n>i;i++)r=e(s[i]),r&&(this._geotrip.remove(r),this._geotrip.insertAt(i,r))},clearTrip:function(){this._route&&this._route.getSource().clear(),this._geotrip.clear();var t=this._mapmodule.get("featureInfo").get("popup");t&&t.popover("destroy")}},u}),define("app/service/osm-edit",[],function(){"use strict";var t=function(t,e){var i="https://www.openstreetmap.org/edit?editor=id#background=custom:http://tiles.maaamet.ee/tm/tms/1.0.0/foto@GMC/{z}/{x}/{-y}.png&map=";t.append('<a href="#" id="osm-edit"><i class="fa fa-pencil"></i></a>'),t.on("click","a#osm-edit",function(t){t.preventDefault();var n=e.transform("point",e.get("map").getView().getCenter(),"EPSG:3857","EPSG:4326"),s=e.get("map").getView().getZoom();window.open(i+s+"/"+n[1]+"/"+n[0])})};return t}),define("app/service/data-import",["ol"],function(t){"use strict";var e=function(e){var i=e.get("map"),n={Point:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#ff0",width:1})})})],LineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:3})})],Polygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new t.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:1})})],MultiPolygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new t.style.Stroke({color:"#00f",width:1})})]},s=function(t,e){var i=t.getStyleFunction();return i?i.call(t,e):n[t.getGeometry().getType()]},r=new t.interaction.DragAndDrop({formatConstructors:[t.format.GPX,t.format.GeoJSON]}),o=new t.layer.Group({layers:[]}),a=[];i.getLayers().push(o),i.addInteraction(r),r.on("addfeatures",function(i){var n=new t.layer.Vector({source:new t.source.Vector({features:i.features,projection:i.projection}),style:s});o.getLayers().push(n),4===a.length?t.extent.extend(a,n.getSource().getExtent()):a=n.getSource().getExtent(),e.setView("bounds",a)})};return e}),define("app/service/fullscreen",["jquery"],function(t){"use strict";function e(e){this._active=!1,this._el=e;var i=this.test();i&&(this._el.on("click",t.proxy(this.toggle,this)),t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",t.proxy(this.toggleState,this)))}return e.prototype={test:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?(this._el.removeClass("disabled"),!0):!1},toggle:function(t){t.preventDefault(),this._active?this.off():this.on()},toggleState:function(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(this._active=!0,this._el.addClass("active")):(this._active=!1,this._el.removeClass("active"))},on:function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},off:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},e}),define("text!tmpl/service/wms-layers.html",[],function(){return'<li class="divider"></li>\n{{#each layers}}\n<li class="wms-layer">\n    <a href="#" class="toggle-layer" data-id="{{this.id}}">\n        <i class="fa {{this.checked}}"></i>\n        {{this.title}}\n    </a>\n    <a href="#" class="remove-layer" data-id="{{this.id}}"><i class="fa fa-close"></i></a>\n</li>\n{{/each}}\n<li>\n    <a href="#" class="add-wms-layer" data-toggle="modal" data-target="#modal_wmslayer">\n        <i class="fa fa-plus"></i> {{title}}\n    </a>\n</li>\n'}),define("text!tmpl/service/wms-modal.html",[],function(){return'<!-- Modal -->\n<div class="modal fade" id="modal_wmslayer" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">{{title}}</h4>\n            </div>\n            <div class="modal-body text-muted">\n                Sisesta siia kasti WMS (1.1.1) aadress koos LAYERS ja SRS parameetriga.\n                <textarea class="form-control" rows="3"></textarea>\n                <em class="small"><b>Näide:</b> (katastrikaart)<br>http://kaart.maaamet.ee/wms/alus?layers=TOPOYKSUS_6569,TOPOYKSUS_7793&SRS=EPSG:3301</em>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-secondary confirm">{{confirm}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("app/service/wms-layer",["jquery","templator","text!tmpl/service/wms-layers.html","text!tmpl/service/wms-modal.html"],function(t,e,i,n){"use strict";var s=function(s,r){this._parentEl=s,this._mapmodule=r,this._layer_conf={type:"TileWMS",url:null,projection:"EPSG:3301",gutter:20,crossOrigin:null},this._layer_conf_params={LAYERS:null,TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},this._tmpl={layers:e.compile(i),modal:e.compile(n)},this._layers=[],this._el=this.render(this._layers),this._modal=t(this._tmpl.modal({title:"Lisa WMS kiht",confirm:"Lisa"})),t("body").append(this._modal),this._modal.on("click","button.confirm",t.proxy(function(t){t.preventDefault();var e=this.createLayer(this._modal.find("textarea").val().trim());e&&(this.addLayer(e),this._modal.find("textarea").val(""),this._modal.modal("hide"))},this)),this._parentEl.on("click","li.wms-layer a.toggle-layer",t.proxy(function(e){e.preventDefault(),e.stopPropagation(),t(e.currentTarget).children("i").toggleClass("fa-check-square-o fa-square-o"),this.toggleLayer(t(e.currentTarget).data("id"))},this)),this._parentEl.on("click","li.wms-layer a.remove-layer",t.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.removeLayer(t(e.currentTarget).data("id"))},this))};return s.prototype={get:function(t){return this["_"+t]},createLayer:function(e){var i=null,n=null,s=null;return this.isUrlValid(e)?(n=this.parseUrl(e),i=t.extend({},this._layer_conf),i.params=t.extend({},this._layer_conf_params),n.query.LAYERS||n.query.layers?(i.params.LAYERS=n.query.LAYERS||n.query.layers,delete n.query.LAYERS,delete n.query.layers,n.query.SRS||n.query.srs?(i.projection=n.query.srs||n.query.SRS,delete n.query.SRS,delete n.query.srs,s=Object.keys(n.query).map(function(t){return t+"="+n.query}).join("&"),i.url=n.protocol+"//"+n.host+n.pathname+"?"+s,i.id=this.uuid(),i.title="Kiht "+(this._layers.length+1),this._mapmodule.createTileLayer(i)):void alert("WMS aadress peab sisaldama SRS parameetrit")):void alert("WMS aadress peab sisaldama LAYERS parameetrit")):void 0},addLayer:function(t){this._layers.push(t),this._mapmodule.get("vectorLayers").getLayers().push(t),this._el&&this._el.remove(),this._el=this.render(this._layers)},render:function(e){var i=t(this._tmpl.layers({title:"Lisa WMS kiht",layers:e.map(function(t){return{id:t.get("id"),title:t.get("title"),checked:t.getVisible()?"fa-check-square-o":"fa-square-o"}})}));return this._parentEl.append(i),i},toggleLayer:function(t){var e=this._layers.find(function(e){return e.get("id")===t});e&&e.setVisible(!e.getVisible())},removeLayer:function(t){var e=this._layers.find(function(e){return e.get("id")===t});e&&(this._mapmodule.get("vectorLayers").getLayers().remove(e),this._layers.splice(this._layers.indexOf(e),1),this._el&&this._el.remove(),this._el=this.render(this._layers))},isUrlValid:function(t){var e=t.match(/(http(s)?:\/\/.)?(www\.)?[\-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([\-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);return null!==e},parseUrl:function(t){var e=document.createElement("a");return e.href=t,{protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host,query:JSON.parse('{"'+e.search.substr(1).replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)})}},uuid:function(){return Math.random().toString(36).substr(2,10)}},s}),define("app/service/measure",["ol","jquery"],function(t,e){"use strict";function i(e){var i=this;this._name="measure",this._mapmodule=e,this._map=e.get("map"),this._source=new t.source.Vector,this._layer=new t.layer.Vector({source:this._source,style:[new t.style.Style({stroke:new t.style.Stroke({color:"black",width:1})}),new t.style.Style({image:new t.style.Circle({radius:4,stroke:new t.style.Stroke({color:"black",width:1}),fill:new t.style.Fill({color:"white"})}),geometry:function(e){if(e.getGeometry()instanceof t.geom.LineString){var i=e.getGeometry().getCoordinates();return new t.geom.MultiPoint(i)}}})]}),this._measureType=null,this._drawing=new t.Feature({geometry:new t.geom.LineString([])}),this._circle=new t.Feature,this._sketch=new t.Feature({geometry:new t.geom.LineString([])}),this._measureLine=new t.geom.LineString([]),this._snapTolerance=10,this._snapFeatures=null,this._snap=null,this._modify=new t.interaction.Modify({features:new t.Collection([this._drawing]),insertVertexCondition:function(e){return"circle"===i._measureType?t.events.condition.never(e):t.events.condition.always(e)},deleteCondition:function(e){return t.events.condition.doubleClick(e)},style:new t.style.Style({image:new t.style.Circle({radius:5,stroke:new t.style.Stroke({color:"black",width:1}),fill:new t.style.Fill({color:"white"})})})})}return i.prototype={get:function(t){return this["_"+t]},init:function(e,i){i||(i="distance"),this._measureType=i,this.createUi(),this.reset(),this._snapFeatures=new t.Collection(this._mapmodule.getAllFeatures()),this._drawing.getGeometry().setCoordinates([e]),this._snapFeatures.push(this._drawing),"circle"===i?(this._circle.setGeometry(new t.geom.Circle(e)),this._source.addFeatures([this._circle,this._drawing,this._sketch])):this._source.addFeatures([this._drawing,this._sketch]),this._mapmodule.get("featureInfo").disableClick(),this._mapmodule.get("vectorLayers").getLayers().push(this._layer),this.enableClick(),this._map.getInteractions().getArray().forEach(function(e){e instanceof t.interaction.DoubleClickZoom&&e.setActive(!1)})},createUi:function(){var t=this;this._el&&this._el.alert("close"),this._el=e('<div class="alert alert-warning alert-dismissible measure" role="alert"></div>'),this._el.append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),this._el.append('<div class="small" />');var i="";"circle"===this._measureType?i+=this.getCircleUI():(i="Vahemaa: lõpeta joone viimases punktis",i+="<br>Pindala: lõpeta joone alguses"),this._el.find("div").html(i),e("body").append(this._el),"circle"===this._measureType&&(this._el.on("focus","input",function(e){t._modify.setActive(!1)}),this._el.on("blur","input",function(e){var i=t._el.find("input[name=angle]").val(),n=t._el.find("input[name=radius]").val(),s=t._drawing.getGeometry().getCoordinates(),r=t.getCoordinateByAngleDistance(s[0],Number(i),Number(n));t._drawing.getGeometry().setCoordinates([s[0],r]),t._modify.setActive(!0)})),this._el.on("closed.bs.alert",function(){t.reset()})},getCircleUI:function(t){return['<div class="form-inline">','<label for="angle">Nurk: </label>','<input type="text" name="angle" class="form-control input-sm" readonly> &deg;','</div><div class="form-inline">','<label for="radius">Raadius: </label>','<input type="text" name="radius" class="form-control input-sm" readonly> m',"</div>"].join("")},enableClick:function(){this._map.on("click",this.clicked,this),this._map.on("pointermove",this.mousemoved,this)},disableClick:function(){this._map.un("click",this.clicked,this),this._map.un("pointermove",this.mousemoved,this)},clicked:function(t){this._sketch.getGeometry().setCoordinates([]);var e=this._drawing.getGeometry().getCoordinates(),i=this.getSnappedCoordinate(t.coordinate,this._snapFeatures.getArray(),this._snapTolerance);if("circle"===this._measureType){var n=e[0];this._drawing.getGeometry().setCoordinates([n,i]),this._el.find("input").prop("readonly",!1),this.finish()}else e.length>1&&e[0][0]===i[0]&&e[0][1]===i[1]?(e.push(i),this._drawing.getGeometry().setCoordinates(e),this.finish()):e.length>1&&e[e.length-1][0]===i[0]&&e[e.length-1][1]===i[1]?this.finish():(e.push(i),this._drawing.getGeometry().setCoordinates(e))},mousemoved:function(t){var e,i,n=this._drawing.getGeometry().getCoordinates();e="circle"===this._measureType?n[0]:n[n.length-1];var i=this.getSnappedCoordinate(t.coordinate,this._snapFeatures.getArray(),this._snapTolerance);if(this._sketch.getGeometry().setCoordinates([e,i]),"circle"===this._measureType){var s=this.getCoordinatesDistance(e,i);this._circle.getGeometry().setRadius(s),this.updateCircleResults()}else{var r=n.slice(0);r.push(i),this._measureLine.setCoordinates(r);var o=this.formatLength(this._measureLine),a="Vahemaa: "+o;a+="<br>Pindala: lõpeta joone alguses",this._el.find("div").html(a)}},finish:function(){this.disableClick(),this._sketch.getGeometry().setCoordinates([]),this.updateResults(),this._map.addInteraction(this._modify),this._snap=new t.interaction.Snap({features:this._snapFeatures}),this._map.addInteraction(this._snap),this._drawing.getGeometry().on("change",this.onmodify,this)},onmodify:function(t){if("circle"===this._measureType){var e=this._drawing.getGeometry().getCoordinates(),i=this._circle.getGeometry(),n=this.getCoordinatesDistance(e[0],e[1]);i.setCenter(e[0]),i.setRadius(n)}this.updateResults()},reset:function(){this._drawing.getGeometry().un("change",this.onmodify,this),this._map.removeInteraction(this._modify),this._map.removeInteraction(this._snap),this._snapFeatures=null,this.disableClick(),this._mapmodule.get("featureInfo").enableClick(),this._drawing.getGeometry().setCoordinates([]),this._sketch.getGeometry().setCoordinates([]),"circle"===this._measureType&&this._circle.setGeometry(null),this._source.clear(),this._mapmodule.get("vectorLayers").getLayers().remove(this._layer),this._map.getInteractions().getArray().forEach(function(e){e instanceof t.interaction.DoubleClickZoom&&e.setActive(!0)})},getSnappedCoordinate:function(t,e,i){var n,s,r,o,a,h=t,l=this,c=function(t,e){var i=l._map.getPixelFromCoordinate(t),n=l._map.getPixelFromCoordinate(e);return l.getCoordinatesDistance(i,n)};for(s=0,r=e.length;r>s;s++)if(o=e[s].getGeometry().getCoordinates(),o&&"number"==typeof o[0]){if(n=c(o,t),i>=n){h=o;break}}else a=o.filter(function(e){return n=c(e,t),i>=n?!0:void 0}),a.length>0&&(h=a[0]);return h},updateResults:function(){if("circle"===this._measureType)this.updateCircleResults();else{var e=this.formatLength(this._drawing.getGeometry()),i="Vahemaa: "+e,n=this._drawing.getGeometry().getCoordinates();if(n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]){var s=this.formatArea(new t.geom.Polygon([n]));i+="<br>Pindala: "+s}else i+="<br>Pindala: lõpeta joone alguses";this._el.find("div").html(i)}},updateCircleResults:function(){var e=this._sketch.getGeometry(),i=e.getCoordinates();0===i.length&&(e=this._drawing.getGeometry(),i=e.getCoordinates());var n=i[0],s=i[i.length-1],r=this._mapmodule.radToDeg(Math.atan2(s[0]-n[0],s[1]-n[1]));0>r&&(r=360+r);var o=t.Sphere.getLength(e);this._el.find("input[name=angle]").val(Math.round(100*(r+1e-5))/100),this._el.find("input[name=radius]").val(Math.round(1e3*(o+1e-5))/1e3)},formatLength:function(e){var i,n=t.Sphere.getLength(e);return i=n>1e4?Math.round(n/1e3*100)/100+" km":Math.round(100*n)/100+" m"},formatArea:function(e){var i,n=t.Sphere.getArea(e);return i=n>1e6?Math.round(n/1e6*100)/100+" km<sup>2</sup>":Math.round(100*n)/100+" m<sup>2</sup>"},getCoordinateByAngleDistance:function(t,e,i){var n=6378137,s=this._mapmodule.transform("point",t,"EPSG:3857","EPSG:4326"),r=this._mapmodule.degToRad(e),o=this._mapmodule.degToRad(s[1]),a=this._mapmodule.degToRad(s[0]);return o=Math.asin(Math.sin(o)*Math.cos(i/n)+Math.cos(o)*Math.sin(i/n)*Math.cos(r)),a+=Math.atan2(Math.sin(r)*Math.sin(i/n)*Math.cos(o),Math.cos(i/n)-Math.sin(o)*Math.sin(o)),this._mapmodule.transform("point",[this._mapmodule.radToDeg(a),this._mapmodule.radToDeg(o)],"EPSG:4326","EPSG:3857")},getCoordinatesDistance:function(t,e){var i=Math.abs(t[0]-e[0]),n=Math.abs(t[1]-e[1]);return Math.sqrt(i*i+n*n)}},i}),define("app/service/contextmenu",[],function(){"use strict";function t(t){this._name="contextmenu",this._map=t.get("map"),this._mapmodule=t}return t.prototype={get:function(t){return this["_"+t]},init:function(t){var e=this;this._items=t,this.createUi(),this._map.on("click",function(t){this._popup.popover("destroy")},this),this._map.getViewport().addEventListener("contextmenu",function(t){t.preventDefault();var i,n=e._map.getEventCoordinate(t),s=e._map.forEachFeatureAtPixel(e._map.getEventPixel(t),function(t,e){return e?[e,t]:void 0});s&&s[1].getGeometry()instanceof ol.geom.Point?(n=s[1].getGeometry().getCoordinates(),i=e.getContent(n)):i=e.getContent(n),e.open(n,i)})},createUi:function(){this._popup=$('<div id="contextmenu"></div>'),this._overlay=new ol.Overlay({element:this._popup[0],autoPan:!0,autoPanMargin:50,positioning:"center-center",offset:[0,0]}),this._map.addOverlay(this._overlay)},open:function(t,e){this._popup.popover("destroy"),this._overlay.setPosition(t),this._popup.popover(e.definition),this._popup.on("shown.bs.popover",function(t){e.onShow(t)}),this._popup.on("hidden.bs.popover",e.onHide),this._popup.popover("show")},getContent:function(t){var e=this,i=this._items.map(function(e,i){var n='<i class="'+(e.icon?e.icon:"fa fa-chevron-circle-right")+'"></i>',s="function"==typeof e.content?e.content(t):e.content;return'<li class="list-group-item item-'+i+'">'+n+" "+s+"</li>"});return{definition:{placement:"right",animation:!1,html:!0,content:i.join(""),template:'<div class="popover contextmenu"><div class="arrow"></div><div class="popover-content small"></div></div>'},onShow:function(i){e._items.forEach(function(n,s){"function"==typeof n.onclick&&$(i.currentTarget.nextSibling).on("click",".item-"+s,function(s){i.preventDefault(),n.onclick(s,t),n.closeonclick&&e._popup.popover("destroy")})})},onHide:function(){}}}},t}),define("app/service/compass",[],function(){"use strict";var t=function(t,e){var i=t.getRotation();e.css({"-webkit-transform":"rotate("+i+"rad)","-moz-transform":"rotate("+i+"rad)",transform:"rotate("+i+"rad)"})},e=function(e,i){var n=i.get("map").getView();n.on("change:rotation",function(i){t(n,e)},this),e.on("click",function(t){t.preventDefault(),n.setRotation(0)})};return e}),define("app/main",["jquery","config/settings","app/map","app/service/store","app/service/search/search","app/service/featureinfo","app/service/geocache","app/service/osm-edit","app/service/data-import","app/service/fullscreen","app/service/wms-layer","app/service/measure","app/service/contextmenu","app/service/compass"],function(t,e,i,n,s,r,o,a,h,l,c,u,f,p){"use strict";function d(t){this._settings=t}d.prototype={get:function(t){return this["_"+t]},init:function(){}},t(function(){function m(){var e=t("body").height(),i=t("header").outerHeight(!0),n=t("footer").outerHeight(!0);t("body").find(".scrollable-menu").css("max-height",e-(i+n)+"px")}var g,v=new d(e);v.init(),v.store=new n(v),v.store.init(),v.mapmodule=new i(v.get("settings").map),v.mapmodule.init(),g=new a(t('.layerswitcher a[data-name="osm"]').closest("li"),v.mapmodule),v.wms=new c(t(".layerswitcher ul"),v.mapmodule),v.get("settings").map.geocodingEnabled&&(v.geocoding=new s(v.mapmodule),v.geocoding.init()),v.get("settings").map.featureInfo&&(v.featureInfo=new r(v),v.mapmodule.set("featureInfo",v.featureInfo)),v.geocache=new o(v.get("settings").geocache,v.mapmodule),v.geocache.init(),v.dataimport=new h(v.mapmodule),v.fullscreen=new l(t(".btn-fullscreen")),v.compass=new p(t(".btn-compass"),v.mapmodule),v.get("settings").map.measureTool&&(v.measure=new u(v.mapmodule));var y=[{icon:"fa fa-map-marker",content:function(t){return ol.coordinate.format(v.mapmodule.transform("point",t,"EPSG:3857","EPSG:4326"),"{y}, {x}",5)},onclick:function(t,e){var i=ol.coordinate.format(v.mapmodule.transform("point",e,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);v.mapmodule.addMarker(e,{coordinates:i})},closeonclick:!0},{icon:"fa fa-street-view",content:function(t){var e=ol.coordinate.format(v.mapmodule.transform("point",t,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);return'<a target="streetview" href="'+v.get("settings").streetview_url+e+'">Streetview</a>'}}];v.get("settings").map.measureTool&&(y.push({icon:"gp-icon gp-icon-ruler",content:"Mõõda vahemaad",onclick:function(t,e){v.measure.init(e)},closeonclick:!0}),y.push({icon:"fa fa-dot-circle-o",content:"Mõõda raadiust",onclick:function(t,e){v.measure.init(e,"circle")},closeonclick:!0})),v.contextmenu=new f(v.mapmodule),v.contextmenu.init(y),t("#statusbar a.info-toggle").on("click",function(e){e.preventDefault(),t("#statusbar .info").toggleClass("hidden")}),m(),t(window).on("resize",m);
})});