/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */

/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/* store.js - Copyright (c) 2010-2017 Marcus Westin */

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

/*
 Copyright (c) 2013, Rodrigo Gonz√°lez, Sapienlab All Rights Reserved.
 Available via MIT LICENSE. See https://github.com/roro89/jsonpack/blob/master/LICENSE.md for details.
 */

/**
 * jQuery plugin for Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */

function da(t,e){if(e){var i=ca;t=t.split(".");for(var n=0;n<t.length-1;n++){var s=t[n];s in i||(i[s]={}),i=i[s]}t=t[t.length-1],n=i[t],e=e(n),e!=n&&null!=e&&ba(i,t,{configurable:!0,writable:!0,value:e})}}function r(t,e){t=t.split(".");var i=ea;t[0]in i||!i.execScript||i.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||void 0===e?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=e}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function fa(){}function x(t){return t.Nf||(t.Nf=++ha)}function ia(t){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function ja(t,e,i,n){this.N=t,this.R=e,this.L=i,this.O=n}function la(t,e,i,n,s){return void 0!==s?(s.N=t,s.R=e,s.L=i,s.O=n,s):new ja(t,e,i,n)}function ma(t,e,i){return t.N<=e&&e<=t.R&&t.L<=i&&i<=t.O}function y(t,e){if(!t)throw new ia(e)}function na(t,e,i){return Math.min(Math.max(t,e),i)}function pa(t,e,i,n){return t=i-t,e=n-e,t*t+e*e}function qa(t){return t*Math.PI/180}function ra(t,e){return t%=e,0>t*e?t+e:t}function sa(t,e,i){return t+i*(e-t)}function ta(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function ua(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function va(t){for(var e=wa(),i=0,n=t.length;n>i;++i)xa(e,t[i]);return e}function ya(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function za(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Aa(t,e,i){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,e*e+t*t}function Ba(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Ca(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function wa(){return[1/0,1/0,-(1/0),-(1/0)]}function Da(t,e,i,n,s){return s?(s[0]=t,s[1]=e,s[2]=i,s[3]=n,s):[t,e,i,n]}function Ea(t){return Da(1/0,1/0,-(1/0),-(1/0),t)}function Fa(t,e){var i=t[0];return t=t[1],Da(i,t,i,t,e)}function Ga(t,e,i,n,s){for(s=Ea(s);i>e;e+=n){var o=s,r=t[e],a=t[e+1];o[0]=Math.min(o[0],r),o[1]=Math.min(o[1],a),o[2]=Math.max(o[2],r),o[3]=Math.max(o[3],a)}return s}function Ha(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ia(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function xa(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ja(t){var e=0;return Ka(t)||(e=La(t)*Ma(t)),e}function Na(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Oa(t,e,i,n,s){var o=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var r=Math.sin(i);i=o*e,o*=r,e*=n;var a=n*r,h=t[0],l=t[1];t=h-i+a,n=h-i-a,r=h+i-a,i=h+i+a,a=l-o-e,h=l-o+e;var c=l+o+e;return o=l+o-e,Da(Math.min(t,n,r,i),Math.min(a,h,c,o),Math.max(t,n,r,i),Math.max(a,h,c,o),s)}function Ma(t){return t[3]-t[1]}function Pa(t,e){var i=wa();return Ra(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function La(t){return t[2]-t[0]}function Ra(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ka(t){return t[2]<t[0]||t[3]<t[1]}function Ta(t){for(var e in t)delete t[e]}function Ua(t){var e,i=[];for(e in t)i.push(t[e]);return i}function Va(t){for(var e in t)return!1;return!e}function Wa(t){this.radius=t}function Xa(t,e){var i=e||{},n=i.radius||6371008.8;i=i.projection||"EPSG:3857",t=t.clone().Xa(i,"EPSG:4326");var s=t.F();i=0;var o;switch(s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":e=t.I(),i=Ya(e,n);break;case"MultiLineString":case"Polygon":for(e=t.I(),t=0,s=e.length;s>t;++t)i+=Ya(e[t],n);break;case"MultiPolygon":for(e=t.I(),t=0,s=e.length;s>t;++t){var r=e[t],a=0;for(o=r.length;o>a;++a)i+=Ya(r[a],n)}break;case"GeometryCollection":for(n=Za(t.a),t=0,s=n.length;s>t;++t)i+=Xa(n[t],e);break;default:throw Error("Unsupported geometry type: "+s)}return i}function Ya(t,e){for(var i=0,n=0,s=t.length;s-1>n;++n)i+=$a(t[n],t[n+1],e);return i}function $a(t,e,i){var n=qa(t[1]),s=qa(e[1]),o=(s-n)/2;return t=qa(e[0]-t[0])/2,n=Math.sin(o)*Math.sin(o)+Math.sin(t)*Math.sin(t)*Math.cos(n)*Math.cos(s),2*i*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))}function ab(t,e){var i=e||{},n=i.radius||6371008.8;i=i.projection||"EPSG:3857",t=t.clone().Xa(i,"EPSG:4326");var s=t.F();i=0;var o;switch(s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(e=t.I(),i=Math.abs(cb(e[0],n)),t=1,s=e.length;s>t;++t)i-=Math.abs(cb(e[t],n));break;case"MultiPolygon":for(e=t.I(),t=0,s=e.length;s>t;++t){var r=e[t];i+=Math.abs(cb(r[0],n));var a=1;for(o=r.length;o>a;++a)i-=Math.abs(cb(r[a],n))}break;case"GeometryCollection":for(n=Za(t.a),t=0,s=n.length;s>t;++t)i+=ab(n[t],e);break;default:throw Error("Unsupported geometry type: "+s)}return i}function cb(t,e){for(var i=0,n=t.length,s=t[n-1][0],o=t[n-1][1],r=0;n>r;r++){var a=t[r][0],h=t[r][1];i+=qa(a-s)*(2+Math.sin(qa(o))+Math.sin(qa(h))),s=a,o=h}return i*e*e/2}function fb(t){this.Pa=t.code,this.a=t.units,this.b=void 0!==t.extent?t.extent:null,this.Mc=void 0!==t.worldExtent?t.worldExtent:null,this.$c=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.i=void 0!==t.global?t.global:!1,this.f=!(!this.i||!this.b),this.u=t.getPointResolution,this.c=null,this.g=t.metersPerUnit;var e=t.code,i=eb||window.proj4;"function"==typeof i&&(e=i.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.$c=e.axis),void 0===t.metersPerUnit&&(this.g=e.to_meter),void 0===t.units&&(this.a=e.units)))}function gb(t){return t.g||db[t.a]}function hb(t){fb.call(this,{code:t,units:"m",extent:ib,global:!0,worldExtent:jb,getPointResolution:function(t,e){return t/oa(e[1]/6378137)}})}function ob(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(var s=0;n>s;s+=i){e[s]=kb*t[s]/180;var o=6378137*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));o>kb?o=kb:-kb>o&&(o=-kb),e[s+1]=o}return e}function pb(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(var s=0;n>s;s+=i)e[s]=180*t[s]/kb,e[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return e}function qb(t,e){fb.call(this,{code:t,units:"degrees",extent:rb,axisOrientation:e,global:!0,metersPerUnit:sb,worldExtent:rb})}function wb(t,e,i){t=t.Pa,e=e.Pa,t in vb||(vb[t]={}),vb[t][e]=i}function xb(t,e){var i;return t in vb&&e in vb[t]&&(i=vb[t][e]),i}function Ab(t,e,i,n){t=Cb(t);var s=t.u;return s?e=s(e,i):"degrees"==t.a&&!n||"degrees"==n||(s=Db(t,Cb("EPSG:4326")),e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e=s(e,e,2),e=($a(e.slice(0,2),e.slice(2,4),yb.radius)+$a(e.slice(4,6),e.slice(6,8),yb.radius))/2,t=n?db[n]:gb(t),void 0!==t&&(e/=t)),e}function Eb(t){t.forEach(Fb),t.forEach(function(e){t.forEach(function(t){e!==t&&wb(e,t,Gb)})})}function Fb(t){ub[t.Pa]=t,wb(t,t,Gb)}function Hb(t){return t?"string"==typeof t?Cb(t):t:Cb("EPSG:3857")}function Ib(t){return function(e,i,n){var s=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(s);var o;for(o=0;s>o;o+=n){var r=t([e[o],e[o+1]]);for(i[o]=r[0],i[o+1]=r[1],r=n-1;r>=2;--r)i[o+r]=e[o+r]}return i}}function Cb(t){var e=null;if(t instanceof fb)e=t;else if("string"==typeof t&&(e=ub[t]||null,!e)){var i=eb||window.proj4;"function"==typeof i&&void 0!==i.defs(t)&&(e=new fb({code:t}),Fb(e))}return e}function Jb(t,e){if(t===e)return!0;var i=t.a===e.a;return t.Pa===e.Pa?i:Db(t,e)===Gb&&i}function Kb(t,e){return t=Cb(t),e=Cb(e),Db(t,e)}function Db(t,e){var i=t.Pa,n=e.Pa,s=xb(i,n);if(!s){var o=eb||window.proj4;if("function"==typeof o){var r=o.defs(i),a=o.defs(n);void 0!==r&&void 0!==a&&(r===a?Eb([e,t]):(o=o(n,i),s=o.forward,o=o.inverse,e=Cb(e),t=Cb(t),wb(e,t,Ib(s)),wb(t,e,Ib(o))),s=xb(i,n))}}return s||(s=Lb),s}function Lb(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}return t}function Gb(t,e){if(void 0!==e){for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}else t=t.slice();return t}function Mb(t,e,i){return Kb(e,i)(t,void 0,t.length)}function Nb(t,e,i){e=Kb(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),Da(t,e,i,n,void 0)}function Ob(t,e){return t>e?1:e>t?-1:0}function Pb(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(i>0){for(i=1;n>i;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;n>i;++i)if(t[i]<=e)return i}else for(i=1;n>i;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function Qb(t,e){var i=Array.isArray(e)?e:[e],n=i.length;for(e=0;n>e;e++)t[t.length]=i[e]}function Rb(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0}function Ub(t){var e,i=Vb,n=t.length,s=Array(t.length);for(e=0;n>e;e++)s[e]={index:e,value:t[e]};for(s.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=s[e].value}function Wb(t,e){var i=e||Ob;return t.every(function(e,n){return 0===n?!0:(e=i(t[n-1],e),!(e>0||0===e))})}function Xb(t){if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,y(Wb(this.a,function(t,e){return e-t}),17),!t.origins)for(var e=0,i=this.a.length-1;i>e;++e)if(n){if(this.a[e]/this.a[e+1]!==n){n=void 0;break}}else var n=this.a[e]/this.a[e+1];this.u=n,this.maxZoom=this.a.length-1,this.f=void 0!==t.origin?t.origin:null,this.i=null,void 0!==t.origins&&(this.i=t.origins,y(this.i.length==this.a.length,20)),n=t.extent,void 0===n||this.f||this.i||(this.f=[n[0],n[3]]),y(!this.f&&this.i||this.f&&!this.i,18),this.c=null,void 0!==t.tileSizes&&(this.c=t.tileSizes,y(this.c.length==this.a.length,19)),this.g=void 0!==t.tileSize?t.tileSize:this.c?null:256,y(!this.g&&this.c||this.g&&!this.c,22),this.l=void 0!==n?n:null,this.b=null,this.j=[0,0],void 0!==t.sizes?this.b=t.sizes.map(function(t){return new ja(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):n&&Yb(this,n)}function $b(t,e,i,n,s){var o=null,r=e[0]-1;if(2===t.u)var a=e[1],h=e[2];else o=ac(t,e,s);for(;r>=t.minZoom&&(2===t.u?(a=Math.floor(a/2),h=Math.floor(h/2),e=la(a,a,h,h,n)):e=bc(t,o,r,n),!i.call(null,r,e));)--r}function cc(t,e,i,n){return e[0]<t.maxZoom?2===t.u?(t=2*e[1],e=2*e[2],la(t,t+1,e,e+1,i)):(n=ac(t,e,n),bc(t,n,e[0]+1,i)):null}function dc(t,e,i){var n=t.f?t.f:t.i[e],s=t.a[e];return t=ua(ec(t,e),t.j),Da(n[0]+i.N*t[0]*s,n[1]+i.L*t[1]*s,n[0]+(i.R+1)*t[0]*s,n[1]+(i.O+1)*t[1]*s,void 0)}function bc(t,e,i,n){fc(t,e[0],e[1],i,!1,Zb);var s=Zb[1],o=Zb[2];return fc(t,e[2],e[3],i,!0,Zb),la(s,Zb[1],o,Zb[2],n)}function gc(t,e){var i=t.f?t.f:t.i[e[0]],n=t.a[e[0]];return t=ua(ec(t,e[0]),t.j),[i[0]+(e[1]+.5)*t[0]*n,i[1]+(e[2]+.5)*t[1]*n]}function ac(t,e,i){var n=t.f?t.f:t.i[e[0]],s=t.a[e[0]];t=ua(ec(t,e[0]),t.j);var o=n[0]+e[1]*t[0]*s;return e=n[1]+e[2]*t[1]*s,Da(o,e,o+t[0]*s,e+t[1]*s,i)}function fc(t,e,i,n,s,o){var r=t.f?t.f:t.i[n],a=t.a[n];return t=ua(ec(t,n),t.j),e=Math.floor((e-r[0])/a+(s?.5:0))/t[0],i=Math.floor((i-r[1])/a+(s?0:.5))/t[1],s?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),s=e,void 0!==o?(o[0]=n,o[1]=s,o[2]=i,n=o):n=[n,s,i],n}function ec(t,e){return t.g?t.g:t.c[e]}function Yb(t,e){for(var i=t.a.length,n=Array(i),s=t.minZoom;i>s;++s)n[s]=bc(t,e,s);t.b=n}function hc(t){var e=t.c;if(!e){e=ic(t);var i=jc(e,void 0,void 0);e=new Xb({extent:e,origin:[e[0],e[3]],resolutions:i,tileSize:void 0}),t.c=e}return e}function jc(t,e,i){e=void 0!==e?e:42;var n=Ma(t);for(t=La(t),i=ua(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;e>t;++t)n[t]=i/Math.pow(2,t);return n}function ic(t){t=Cb(t);var e=t.C();return e||(t=180*db.degrees/gb(t),e=Da(-t,-t,t,t)),e}function kc(t){this.rd=t.html}function lc(t){function e(e){var i=t.listener,n=t.ad||t.target;return t.cd&&A(t),i.call(n,e)}return t.bd=e}function mc(t,e,i,n){for(var s,o=0,r=t.length;r>o;++o)if(s=t[o],s.listener===e&&s.ad===i)return n&&(s.deleteIndex=o),s}function nc(t,e){return(t=t.ya)?t[e]:void 0}function oc(t){var e=t.ya;return e||(e=t.ya={}),e}function pc(t,e){var i=nc(t,e);if(i){for(var n=0,s=i.length;s>n;++n)t.removeEventListener(e,i[n].bd),Ta(i[n]);i.length=0,(i=t.ya)&&(delete i[e],0===Object.keys(i).length&&delete t.ya)}}function B(t,e,i,n,s){var o=oc(t),r=o[e];return r||(r=o[e]=[]),(o=mc(r,i,n,!1))?s||(o.cd=!1):(o={ad:n,cd:!!s,listener:i,target:t,type:e},t.addEventListener(e,lc(o)),r.push(o)),o}function qc(t,e,i,n){(t=nc(t,e))&&(i=mc(t,i,n,!0))&&A(i)}function A(t){if(t&&t.target){t.target.removeEventListener(t.type,t.bd);var e=nc(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&pc(t.target,t.type)}Ta(t)}}function rc(){}function sc(t){t.Na||(t.Na=!0,t.Z())}function tc(t){this.type=t,this.target=null}function zc(t){t.stopPropagation()}function Ac(){this.ba={},this.P={},this.J={}}function Bc(t,e){return e?e in t.J:0<Object.keys(t.J).length}function Cc(){Ac.call(this),this.i=0}function D(t){Cc.call(this),x(this),this.u={},void 0!==t&&this.ta(t)}function Ec(t){return Dc.hasOwnProperty(t)?Dc[t]:Dc[t]="change:"+t}function Fc(t,e,i){var n=Ec(e);t.f(new Gc(n,e,i)),t.f(new Gc("propertychange",e,i))}function Gc(t,e,i){tc.call(this,t),this.key=e,this.oldValue=i}function J(t,e){if(D.call(this),this.b=!!(e||{}).unique,this.a=t?t:[],this.b)for(t=0,e=this.a.length;e>t;++t)Hc(this,this.a[t],t);Ic(this)}function Ic(t){t.set(Jc,t.a.length)}function Hc(t,e,i){for(var n=0,s=t.a.length;s>n;++n)if(t.a[n]===e&&n!==i)throw new ia(58)}function Kc(t,e){tc.call(this,t),this.element=e}function Lc(t,e,i){tc.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function Mc(t,e,i,n,s){Lc.call(this,t,e,s),this.originalEvent=i,this.pixel=e.Gb(i),this.coordinate=e.za(this.pixel),this.dragging=void 0!==n?n:!1}function Zc(t,e,i,n,s){Mc.call(this,t,e,i.a,n,s),this.a=i}function $c(t,e){this.a=t,this.c=e}function ad(t){$c.call(this,t,{mousedown:this.mf,mousemove:this.nf,mouseup:this.rf,mouseover:this.qf,mouseout:this.pf}),this.f=t.i,this.i=[]}function bd(t,e){t=t.i;var i=e.clientX;e=e.clientY;for(var n,s=0,o=t.length;o>s&&(n=t[s]);s++){var r=Math.abs(e-n[1]);if(25>=Math.abs(i-n[0])&&25>=r)return!0}return!1}function cd(t){var e=dd(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function od(t){$c.call(this,t,{MSPointerDown:this.wf,MSPointerMove:this.xf,MSPointerUp:this.Af,MSPointerOut:this.yf,MSPointerOver:this.zf,MSPointerCancel:this.vf,MSGotPointerCapture:this.tf,MSLostPointerCapture:this.uf}),this.f=t.i,this.i=["","unavailable","touch","pen","mouse"]}function pd(t,e){var i=e;return"number"==typeof e.pointerType&&(i=dd(e,e),i.pointerType=t.i[e.pointerType]),i}function rd(t){$c.call(this,t,{pointerdown:this.Qf,pointermove:this.Rf,pointerup:this.Uf,pointerout:this.Sf,pointerover:this.Tf,pointercancel:this.Pf,gotpointercapture:this.Je,lostpointercapture:this.jf})}function qd(t,e,i){tc.call(this,t),this.a=e,t=i?i:{},this.buttons=td(t),this.pressure=ud(t,this.buttons),this.bubbles="bubbles"in t?t.bubbles:!1,this.cancelable="cancelable"in t?t.cancelable:!1,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t?t.ctrlKey:!1,this.altKey="altKey"in t?t.altKey:!1,this.shiftKey="shiftKey"in t?t.shiftKey:!1,this.metaKey="metaKey"in t?t.metaKey:!1,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t?t.isPrimary:!1,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function td(t){if(t.buttons||vd)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function ud(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function wd(t,e){$c.call(this,t,{touchstart:this.hg,touchmove:this.gg,touchend:this.fg,touchcancel:this.eg}),this.f=t.i,this.j=e,this.i=void 0,this.g=0,this.b=void 0}function xd(t,e,i){return e=dd(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.g,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.i===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function yd(t,e,i){function n(){e.preventDefault()}var s,o=Array.prototype.slice.call(e.changedTouches),r=o.length;for(s=0;r>s;++s){var a=xd(t,e,o[s]);a.preventDefault=n,i.call(t,e,a)}}function zd(t,e){var i=t.j.i;if(e=e.changedTouches[0],t.i===e.identifier){var n=[e.clientX,e.clientY];i.push(n),setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},2500)}}function Bd(t){Ac.call(this),this.g=t,this.i={},this.c={},this.a=[],Wc?Cd(this,new rd(this)):Xc?Cd(this,new od(this)):(t=new ad(this),Cd(this,t),Vc&&Cd(this,new wd(this,t))),t=this.a.length;for(var e,i=0;t>i;i++)e=this.a[i],Dd(this,Object.keys(e.c))}function Cd(t,e){var i=Object.keys(e.c);i&&(i.forEach(function(t){var i=e.c[t];i&&(this.c[t]=i.bind(e))},t),t.a.push(e))}function Dd(t,e){e.forEach(function(t){B(this.g,t,this.b,this)},t)}function Ed(t,e){e.forEach(function(t){qc(this.g,t,this.b,this)},t)}function dd(t,e){for(var i,n={},s=0,o=Fd.length;o>s;s++)i=Fd[s][0],n[i]=t[i]||e[i]||Fd[s][1];return n}function Ad(t,e,i){e.bubbles=!1,ed(t,"pointerleave",e,i)}function nd(t,e,i){t.out(e,i);var n=e.target,s=e.relatedTarget;n&&s&&n.contains(s)||Ad(t,e,i)}function md(t,e,i){e.bubbles=!0,ed(t,"pointerover",e,i);var n=e.target,s=e.relatedTarget;n&&s&&n.contains(s)||(e.bubbles=!1,ed(t,"pointerenter",e,i))}function ed(t,e,i,n){t.f(new qd(e,n,i))}function sd(t,e){t.f(new qd(e.type,e,e))}function Gd(t,e){Ac.call(this),this.i=t,this.j=0,this.u=!1,this.c=[],this.B=e?e*Sc:Sc,this.b=null,t=this.i.a,this.A=0,this.v={},this.g=new Bd(t),this.a=null,this.l=B(this.g,"pointerdown",this.Ue,this),this.o=B(this.g,"pointermove",this.Xf,this)}function Hd(t,e){var i=new Zc("click",t.i,e);t.f(i),0!==t.j?(clearTimeout(t.j),t.j=0,i=new Zc("dblclick",t.i,e),t.f(i)):t.j=setTimeout(function(){this.j=0;var t=new Zc("singleclick",this.i,e);this.f(t)}.bind(t),250)}function Id(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.v[e.pointerId]:"pointerdown"==e.type&&(t.v[e.pointerId]=!0),t.A=Object.keys(t.v).length}function Jd(t,e){return Math.abs(e.clientX-t.b.clientX)>t.B||Math.abs(e.clientY-t.b.clientY)>t.B}function Kd(t,e){this.l=t,this.b=e,this.a=[],this.f=[],this.i={}}function Md(t,e){for(var i=t.a,n=t.f,s=i.length,o=i[e],r=n[e],a=e;s>>1>e;){var h=2*e+1,l=2*e+2;h=s>l&&n[l]<n[h]?l:h,i[e]=i[h],n[e]=n[h],e=h}i[e]=o,n[e]=r,Ld(t,a,e)}function Ld(t,e,i){var n=t.a;t=t.f;for(var s=n[i],o=t[i];i>e;){var r=i-1>>1;if(!(t[r]>o))break;n[i]=n[r],t[i]=t[r],i=r}n[i]=s,t[i]=o}function Nd(t,e){Kd.call(this,function(e){return t.apply(null,e)},function(t){return t[0].Wa()}),this.o=e,this.g=0,this.c={}}function Od(t){return function(e){return e?[na(e[0],t[0],t[2]),na(e[1],t[1],t[3])]:void 0}}function Pd(t){return t}function Qd(t){return function(e,i,n){return void 0!==e?(e=Pb(t,e,n),e=na(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]):void 0}}function Rd(t,e,i){return function(n,s,o){return void 0!==n?(n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-o/2+.5))+s,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)):void 0}}function Sd(t){return void 0!==t?0:void 0}function Td(t,e){return void 0!==t?t+e:void 0}function Ud(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function Vd(){var t=qa(5);return function(e,i){return void 0!==e?Math.abs(e+i)<=t?0:e+i:void 0}}function Wd(t){t=""+t;var e=t.indexOf(".");return e=-1===e?t.length:e,e>2?t:Array(3-e).join("0")+t}function Xd(t,e){var i=t[0];t=t[1];var n=e[0],s=e[1];e=n[0],n=n[1];var o=s[0];s=s[1];var r=o-e,a=s-n;return i=0===r&&0===a?0:(r*(i-e)+a*(t-n))/(r*r+a*a||0),0>=i?(t=e,i=n):i>=1?(t=o,i=s):(t=e+i*r,i=n+i*a),[t,i]}function Yd(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function Zd(t,e){var i=Math.cos(e);e=Math.sin(e);var n=t[1]*i+t[0]*e;t[0]=t[0]*i-t[1]*e,t[1]=n}function $d(t,e){var i=t[0]-e[0];return t=t[1]-e[1],i*i+t*t}function ae(t){return 1-Math.pow(1-t,3)}function be(t){return 3*t*t-2*t*t*t}function de(t){return t}function ke(){return!0}function le(){return!1}function me(t,e,i,n,s,o){for(var r=o?o:[],a=0;i>e;e+=n){var h=t[e],l=t[e+1];r[a++]=s[0]*h+s[2]*l+s[4],r[a++]=s[1]*h+s[3]*l+s[5]}return o&&r.length!=a&&(r.length=a),r}function oe(){return[1,0,0,1,0,0]}function pe(t,e){var i=t[0],n=t[1],s=t[2],o=t[3],r=t[4],a=t[5],h=e[0],l=e[1],c=e[2],u=e[3],f=e[4];e=e[5],t[0]=i*h+s*l,t[1]=n*h+o*l,t[2]=i*c+s*u,t[3]=n*c+o*u,t[4]=i*f+s*e+r,t[5]=n*f+o*e+a}function qe(t,e,i,n,s){return t[0]=e,t[1]=0,t[2]=0,t[3]=i,t[4]=n,t[5]=s,t}function re(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function se(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function te(t,e,i,n,s,o,r,a){var h=Math.sin(o);return o=Math.cos(o),t[0]=n*o,t[1]=s*h,t[2]=-n*h,t[3]=s*o,t[4]=r*n*o-a*n*h+e,t[5]=r*s*h+a*s*o+i,t}function ue(){D.call(this),this.o=wa(),this.v=-1,this.c={},this.l=this.g=0,this.ca=oe()}function ve(){ue.call(this),this.X="XY",this.a=2,this.s=null}function we(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function xe(t,e,i){t.a=we(e),t.X=e,t.s=i}function ye(t,e,i,n){if(e)i=we(e);else{for(e=0;n>e;++e){if(0===i.length)return t.X="XY",void(t.a=2);i=i[0]}i=i.length;var s;2==i?s="XY":3==i?s="XYZ":4==i&&(s="XYZM"),e=s}t.X=e,t.a=i}function ze(t,e,i,n,s,o,r){var a=t[e],h=t[e+1],l=t[i]-a,c=t[i+1]-h;if(0!==l||0!==c)if(o=((s-a)*l+(o-h)*c)/(l*l+c*c),o>1)e=i;else if(o>0){for(s=0;n>s;++s)r[s]=sa(t[e+s],t[i+s],o);return void(r.length=n)}for(s=0;n>s;++s)r[s]=t[e+s];r.length=n}function Ae(t,e,i,n,s){var o=t[e],r=t[e+1];for(e+=n;i>e;e+=n){var a=t[e],h=t[e+1];o=pa(o,r,a,h),o>s&&(s=o),o=a,r=h}return s}function Be(t,e,i,n,s){var o,r=0;for(o=i.length;o>r;++r){var a=i[r];s=Ae(t,e,a,n,s),e=a}return s}function Ce(t,e,i,n,s,o,r,a,h,l,c){if(e==i)return l;if(0===s){var u=pa(r,a,t[e],t[e+1]);if(l>u){for(c=0;n>c;++c)h[c]=t[e+c];return h.length=n,u}return l}for(var f=c?c:[NaN,NaN],p=e+n;i>p;)if(ze(t,p-n,p,n,r,a,f),u=pa(r,a,f[0],f[1]),l>u){for(l=u,c=0;n>c;++c)h[c]=f[c];h.length=n,p+=n}else p+=n*Math.max((Math.sqrt(u)-Math.sqrt(l))/s|0,1);if(o&&(ze(t,i-n,e,n,r,a,f),u=pa(r,a,f[0],f[1]),l>u)){for(l=u,c=0;n>c;++c)h[c]=f[c];h.length=n}return l}function De(t,e,i,n,s,o,r,a,h,l,c){c=c?c:[NaN,NaN];var u,f=0;for(u=i.length;u>f;++f){var p=i[f];l=Ce(t,e,p,n,s,o,r,a,h,l,c),e=p}return l}function Ee(t,e,i,n){var s,o=0;for(s=i.length;s>o;++o){var r,a=i[o];for(r=0;n>r;++r)t[e++]=a[r]}return e}function Fe(t,e,i,n,s){s=s?s:[];var o,r=0,a=0;for(o=i.length;o>a;++a)e=Ee(t,e,i[a],n),s[r++]=e;return s.length=r,s}function Ge(t,e,i,n,s){s=void 0!==s?s:[];for(var o=0;i>e;e+=n)s[o++]=t.slice(e,e+n);return s.length=o,s}function He(t,e,i,n,s){s=void 0!==s?s:[];var o,r=0,a=0;for(o=i.length;o>a;++a){var h=i[a];s[r++]=Ge(t,e,h,n,s[r]),e=h}return s.length=r,s}function Ie(t,e,i,n,s){s=void 0!==s?s:[];var o,r=0,a=0;for(o=i.length;o>a;++a){var h=i[a];s[r++]=He(t,e,h,n,s[r]),e=h[h.length-1]}return s.length=r,s}function Je(t,e,i,n,s,o,r){var a=(i-e)/n;if(3>a){for(;i>e;e+=n)o[r++]=t[e],o[r++]=t[e+1];return r}var h=Array(a);h[0]=1,h[a-1]=1,i=[e,i-n];for(var l,c=0;0<i.length;){var u=i.pop(),f=i.pop(),p=0,d=t[f],g=t[f+1],m=t[u],v=t[u+1];for(l=f+n;u>l;l+=n){var y=t[l],b=t[l+1],x=d,w=g,M=m-x,k=v-w;if(0!==M||0!==k){var S=((y-x)*M+(b-w)*k)/(M*M+k*k);S>1?(x=m,w=v):S>0&&(x+=M*S,w+=k*S)}y=pa(y,b,x,w),y>p&&(c=l,p=y)}p>s&&(h[(c-e)/n]=1,c>f+n&&i.push(f,c),u>c+n&&i.push(c,u))}for(l=0;a>l;++l)h[l]&&(o[r++]=t[e+l*n],o[r++]=t[e+l*n+1]);return r}function Ke(t,e,i,n,s,o,r,a){var h,l=0;for(h=i.length;h>l;++l){var c=i[l];t:{var u=t,f=c,p=n,d=s,g=o,m=r;if(e!=f){var v=d*Math.round(u[e]/d),y=d*Math.round(u[e+1]/d);e+=p,g[m++]=v,g[m++]=y;do{var b=d*Math.round(u[e]/d);if(r=d*Math.round(u[e+1]/d),e+=p,e==f){g[m++]=b,g[m++]=r,r=m;break t}}while(b==v&&r==y);for(;f>e;){var x=d*Math.round(u[e]/d),w=d*Math.round(u[e+1]/d);if(e+=p,x!=b||w!=r){var M=b-v,k=r-y,S=x-v,_=w-y;M*_==k*S&&(0>M&&M>S||M==S||M>0&&S>M)&&(0>k&&k>_||k==_||k>0&&_>k)||(g[m++]=b,g[m++]=r,v=b,y=r),b=x,r=w}}g[m++]=b,g[m++]=r}r=m}a.push(r),e=c}return r}function Le(t,e){ve.call(this),this.b=this.j=-1,this.ga(t,e)}function Me(t,e){ve.call(this),this.ga(t,e)}function Ne(t,e,i,n,s,o){for(var r=0,a=t[i-n],h=t[i-n+1];i>e;e+=n){var l=t[e],c=t[e+1];o>=h?c>o&&(l-a)*(o-h)-(s-a)*(c-h)>0&&r++:o>=c&&0>(l-a)*(o-h)-(s-a)*(c-h)&&r--,a=l,h=c}return 0!==r}function Oe(t,e,i,n,s,o,r){for(var a,h,l,c,u,f=s[o+1],p=[],d=0,g=i.length;g>d;++d){var m=i[d];for(l=t[m-n],u=t[m-n+1],a=e;m>a;a+=n)c=t[a],h=t[a+1],(u>=f&&f>=h||f>=u&&h>=f)&&(l=(f-u)/(h-u)*(c-l)+l,p.push(l)),l=c,u=h}for(d=NaN,g=-(1/0),p.sort(Ob),l=p[0],a=1,h=p.length;h>a;++a){if(c=p[a],m=Math.abs(c-l),m>g){l=(l+c)/2;t:if(0!==i.length&&Ne(t,e,i[0],n,l,f)){var v=1;for(u=i.length;u>v;++v)if(Ne(t,i[v-1],i[v],n,l,f)){u=!1;break t}u=!0}else u=!1;u&&(d=l,g=m)}l=c}return isNaN(d)&&(d=s[o]),r?(r.push(d,f,g),r):[d,f,g]}function Pe(t,e,i,n){for(var s=0,o=t[i-n],r=t[i-n+1];i>e;e+=n){var a=t[e],h=t[e+1];s+=(a-o)*(h+r),o=a,r=h}return s>0}function Qe(t,e,i,n){var s=0;n=void 0!==n?n:!1;var o,r=0;for(o=e.length;o>r;++r){var a=e[r];if(s=Pe(t,s,a,i),0===r){if(n&&s||!n&&!s)return!1}else if(n&&!s||!n&&s)return!1;s=a}return!0}function Re(t,e,i,n,s){s=void 0!==s?s:!1;var o,r=0;for(o=i.length;o>r;++r){var a=i[r],h=Pe(t,e,a,n);if(0===r?s&&h||!s&&!h:s&&!h||!s&&h){h=t;for(var l=a,c=n;l-c>e;){var u;for(u=0;c>u;++u){var f=h[e+u];h[e+u]=h[l-c+u],h[l-c+u]=f}e+=c,l-=c}}e=a}return e}function Se(t,e,i,n){var s,o=0,r=0;for(s=e.length;s>r;++r)o=Re(t,o,e[r],i,n);return o}function Te(t,e){ve.call(this),this.b=[],this.A=-1,this.B=null,this.M=this.G=this.K=-1,this.j=null,this.ga(t,e)}function $e(t,e,i,n){xe(t,e,i),t.b=n,t.D()}function af(t){var e=t[0],i=t[1],n=t[2];return t=t[3],e=[e,i,e,t,n,t,n,i,e,i],i=new Te(null),$e(i,"XY",e,[e.length]),i}function bf(t){D.call(this),t=Sa({},t),this.a=[0,0],this.g=[],this.$b=this.$b.bind(this),this.A=Hb(t.projection);var e={};e.center=void 0!==t.center?t.center:null;var i=void 0!==t.minZoom?t.minZoom:0,n=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var o=t.resolutions,r=o[i],a=void 0!==o[n]?o[n]:o[o.length-1];n=Qd(o)}else{r=Hb(t.projection),a=r.C(),o=(a?Math.max(La(a),Ma(a)):360*db.degrees/gb(r))/256/Math.pow(2,0);var h=o/Math.pow(2,28);r=t.maxResolution,void 0!==r?i=0:r=o/Math.pow(s,i),a=t.minResolution,void 0===a&&(a=void 0!==t.maxZoom?void 0!==t.maxResolution?r/Math.pow(s,n):o/Math.pow(s,n):h),n=i+Math.floor(Math.log(r/a)/Math.log(s)),a=r/Math.pow(s,n-i),n=Rd(s,r,n-i)}this.c=r,this.l=a,this.B=s,this.j=t.resolutions,this.o=i,(void 0!==t.enableRotation?t.enableRotation:1)?(i=t.constrainRotation,i=void 0===i||!0===i?Vd():!1===i?Td:"number"==typeof i?Ud(i):Td):i=Sd,this.b={center:void 0!==t.extent?Od(t.extent):Pd,resolution:n,rotation:i},void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.c,t.zoom-this.o),this.j&&(e.resolution=na(Number(this.sa()||e.resolution),this.l,this.c))),e.rotation=void 0!==t.rotation?t.rotation:0,this.ta(e)}function ef(t){df(t,0,-t.a[0]);for(var e=0,i=t.g.length;i>e;++e){var n=t.g[e];n[0].callback&&n[0].callback(!1)}t.g.length=0}function gf(t,e,i){var n=t.ea();if(void 0!==n){var s=[n[0]-i[0],n[1]-i[1]];Zd(s,e-t.wa()),t=s,t[0]+=i[0],t[1]+=i[1]}return s}function ff(t,e,i){var n,s=t.ea();return t=t.sa(),void 0!==s&&void 0!==t&&(n=[i[0]-e*(i[0]-s[0])/t,i[1]-e*(i[1]-s[1])/t]),n}function hf(t){var e=[100,100];return t='.ol-viewport[data-view="'+x(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function jf(t,e,i){return t=i||hf(t),Math.max(La(e)/t[0],Ma(e)/t[1])}function kf(t){var e=t.ea(),i=t.A,n=t.sa(),s=t.wa();return{center:e.slice(),projection:void 0!==i?i:null,resolution:n,rotation:s,zoom:t.md()}}function cf(t){return!!t.ea()&&void 0!==t.sa()}function df(t,e,i){t.a[e]+=i,t.D()}function lf(t,e){t.set("resolution",e),0<t.a[0]&&ef(t)}function mf(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function nf(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function of(t){D.call(this);var e=Sa({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0!==t.visible?t.visible:!0,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.ta(e),this.a={layer:this,Gc:!0}}function pf(t){return t.a.opacity=na(t.get("opacity"),0,1),t.a.dg=t.Ec(),t.a.visible=t.ub(),t.a.extent=t.C(),t.a.zIndex=t.ja(),t.a.maxResolution=t.get("maxResolution"),t.a.minResolution=Math.max(t.get("minResolution"),0),t.a}function qf(t){var e=t||{};t=Sa({},e),delete t.layers,e=e.layers,of.call(this,t),this.c=[],this.b={},B(this,Ec(rf),this.Qe,this),e?Array.isArray(e)?e=new J(e.slice(),{unique:!0}):y(e instanceof J,43):e=new J(void 0,{unique:!0}),this.set(rf,e)}function uf(t,e){switch(t){case"MAP_RENDERER":t=sf,t.push(e);break;case"LAYER_RENDERER":t=tf,t.push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function vf(){for(var t=[wf,xf,yf,zf],e=0,i=t.length;i>e;++e)uf("LAYER_RENDERER",t[e])}function Af(t){D.call(this);var e=Bf(t);this.Fa=void 0!==t.loadTilesWhileAnimating?t.loadTilesWhileAnimating:!1,this.Oa=void 0!==t.loadTilesWhileInteracting?t.loadTilesWhileInteracting:!1,this.ka=void 0!==t.pixelRatio?t.pixelRatio:Sc,this.ac=e.logos,this.Aa=function(){this.j=void 0,this.Zf.call(this)}.bind(this),this.Ba=oe(),this.bc=oe(),this.Ea=0,this.A=this.G=this.K=this.g=this.b=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Vc?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer",this.a.appendChild(this.v),this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer-stopevent";for(var i="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),n=0,s=i.length;s>n;++n)B(this.o,i[n],zc);this.a.appendChild(this.o),this.Y=new Gd(this,t.moveTolerance);for(var o in Yc)B(this.Y,Yc[o],this.od,this);this.ca=e.keyboardEventTarget,this.l=null,B(this.a,"wheel",this.hb,this),B(this.a,"mousewheel",this.hb,this),this.controls=e.controls||new J,this.interactions=e.interactions||new J,this.B=e.overlays,this.Hd={},this.$a=e.kf.create(this.a,this),this.M=null,this.la=[],this.va=new Nd(this.He.bind(this),this.df.bind(this)),this.cc={},B(this,Ec("layergroup"),this.Oe,this),B(this,Ec("view"),this.ff,this),B(this,Ec("size"),this.Ye,this),B(this,Ec("target"),this.cf,this),this.ta(e.values),this.controls.forEach(function(t){t.setMap(this)},this),B(this.controls,"add",function(t){t.element.setMap(this)},this),B(this.controls,"remove",function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),B(this.interactions,"add",function(t){t.element.setMap(this)},this),B(this.interactions,"remove",function(t){t.element.setMap(null)},this),this.B.forEach(this.Yc,this),B(this.B,"add",function(t){this.Yc(t.element)},this),B(this.B,"remove",function(t){var e=t.element.id;void 0!==e&&delete this.Hd[e.toString()],t.element.setMap(null)},this)}function Cf(t){return t=t.Fc(),void 0!==t?"string"==typeof t?document.getElementById(t):t:null;
}function Bf(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var s=t.logo;"string"==typeof s?n[s]="":s instanceof HTMLElement?n[x(s).toString()]=s:s&&(y("string"==typeof s.href,44),y("string"==typeof s.src,45),n[s.src]=s.href)}s=t.layers instanceof qf?t.layers:new qf({layers:t.layers}),i.layergroup=s,i.target=t.target,i.view=void 0!==t.view?t.view:new bf;var o;void 0!==t.renderer?(Array.isArray(t.renderer)?o=t.renderer:"string"==typeof t.renderer?o=[t.renderer]:y(!1,46),0<=o.indexOf("dom")&&(o=o.concat(Ef))):o=Ef,s=0;var r=o.length;t:for(;r>s;++s)for(var a=o[s],h=0,l=sf.length;l>h;++h){var c=sf[h];if(c.handles(a)){var u=c;break t}}if(!u)throw Error("Unable to create a map renderer for types: "+o.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var f=new J(t.controls.slice());else y(t.controls instanceof J,47),f=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var p=new J(t.interactions.slice());else y(t.interactions instanceof J,48),p=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new J(t.overlays.slice()):(y(t.overlays instanceof J,49),t=t.overlays):t=new J,{controls:f,interactions:p,keyboardEventTarget:e,logos:n,overlays:t,kf:u,values:i}}function Ff(t){D.call(this),this.element=t.element?t.element:null,this.b=this.G=null,this.l=[],this.render=t.render?t.render:fa,t.target&&(t=t.target,this.G="string"==typeof t?document.getElementById(t):t)}function Hf(t){var e=Sa({},t);delete e.source,of.call(this,e),this.l=this.g=this.c=null,t.map&&this.setMap(t.map),B(this,Ec("source"),this.af,this),this.set("source",t.source?t.source:null)}function If(t){t=t?t:{},this.g=document.createElement("UL"),this.c=document.createElement("LI"),this.g.appendChild(this.c),this.c.style.display="none",this.a=void 0!==t.collapsed?t.collapsed:!0,this.v=void 0!==t.collapsible?t.collapsible:!0,this.v||(this.a=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"¬ª";"string"==typeof n?(this.j=document.createElement("span"),this.j.textContent=n):this.j=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.o=document.createElement("span"),this.o.textContent=n):this.o=n;var s=this.v&&!this.a?this.j:this.o;n=document.createElement("button"),n.setAttribute("type","button"),n.title=i,n.appendChild(s),B(n,"click",this.M,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.a&&this.v?" ol-collapsed":"")+(this.v?"":" ol-uncollapsible"),i.appendChild(this.g),i.appendChild(n),Ff.call(this,{element:i,render:t.render?t.render:Jf,target:t.target}),this.B=[],this.A=!0,this.K={}}function Jf(t){if(t=t.frameState){for(var e={},i=[],n=t.layerStatesArray,s=t.viewState.resolution,o=0,r=n.length;r>o;++o){var a=n[o];if(a.visible&&s>=a.minResolution&&s<a.maxResolution&&(a=a.layer.da())&&(a=a.ca)&&(a=a(t)))if(Array.isArray(a))for(var h=0,l=a.length;l>h;++h)a[h]in e||(i.push(a[h]),e[a[h]]=!0);else a in e||(i.push(a),e[a]=!0)}if(!Rb(i,this.B)){for(;this.g.lastChild!==this.c;)this.g.removeChild(this.g.lastChild);for(e=0,n=i.length;n>e;++e)s=document.createElement("LI"),s.innerHTML=i[e],this.g.appendChild(s);0===i.length&&0<this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<i.length&&this.element.classList.remove("ol-logo-only"),e=0<i.length||!Va(t.logos),this.A!=e&&(this.element.style.display=e?"":"none",this.A=e),this.B=i,t=t.logos,i=this.K;for(u in i)u in t||(nf(i[u]),delete i[u]);for(var c in t)if(n=t[c],n instanceof HTMLElement&&(this.c.appendChild(n),i[c]=n),!(c in i)){var u=new Image;u.src=c,""===n?e=u:(e=document.createElement("a"),e.href=n,e.appendChild(u)),this.c.appendChild(e),i[c]=e}this.c.style.display=Va(t)?"none":""}}else this.A&&(this.element.style.display="none",this.A=!1)}function Kf(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"‚áß";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation";i=document.createElement("button"),i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),B(i,"click",Kf.prototype.v,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:Lf,this.g=t.resetNorth?t.resetNorth:void 0,Ff.call(this,{element:n,render:e,target:t.target}),this.j=void 0!==t.duration?t.duration:250,this.c=void 0!==t.autoHide?t.autoHide:!0,this.o=void 0,this.c&&this.element.classList.add("ol-hidden")}function Lf(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.o){var e="rotate("+t+"rad)";if(this.c){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.o=t}}function Mf(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"‚àí",o=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",r=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=o,a.appendChild("string"==typeof n?document.createTextNode(n):n),B(a,"click",Mf.prototype.c.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=r,n.appendChild("string"==typeof s?document.createTextNode(s):s),B(n,"click",Mf.prototype.c.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),Ff.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function Nf(t){t=t?t:{};var e=new J;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Mf(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new Kf(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new If(t.attributionOptions)),e}function Of(){this.a=[],this.f=this.i=0}function Pf(t){t.a.length=0,t.i=0,t.f=0}function Qf(t){if(6>t.a.length)return!1;var e=Date.now()-100,i=t.a.length-3;if(t.a[i+2]<e)return!1;for(var n=i-3;n>0&&t.a[n+2]>e;)n-=3;if(e=t.a[i+2]-t.a[n+2],1e3/60>e)return!1;var s=t.a[i]-t.a[n];return i=t.a[i+1]-t.a[n+1],t.i=Math.atan2(i,s),t.f=Math.sqrt(s*s+i*i)/e,.05<t.f}function Rf(t){D.call(this),this.A=null,this.jb(!0),this.handleEvent=t.handleEvent}function Sf(t,e,i,n){if(void 0!==e){var s=t.wa(),o=t.ea();void 0!==s&&o&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:ae}):t.rotate(e,i)}}function Tf(t,e,i,n){var s=t.sa();if(e=t.constrainResolution(s,e,0),void 0!==e){var o=t.j;e=na(e,t.l||o[o.length-1],t.c||o[0])}i&&void 0!==e&&e!==s&&(o=t.ea(),i=ff(t,e,i),i=t.b.center(i),i=[(e*o[0]-s*i[0])/(e-s),(e*o[1]-s*i[1])/(e-s)]),Uf(t,e,i,n)}function Uf(t,e,i,n){if(e){var s=t.sa(),o=t.ea();void 0!==s&&o&&e!==s&&n?t.animate({resolution:e,anchor:i,duration:n,easing:ae}):(i&&(i=ff(t,e,i),t.Ia(i)),lf(t,e))}}function Vf(t){t=t?t:{},this.a=t.delta?t.delta:1,Rf.call(this,{handleEvent:Wf}),this.b=void 0!==t.duration?t.duration:250}function Wf(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){e=t.coordinate,i=i.shiftKey?-this.a:this.a;var n=t.map.S();Tf(n,i,e,this.b),t.preventDefault(),e=!0}return!e}function Xf(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Yf(t){return t=t.originalEvent,0==t.button&&!(Qc&&Rc&&t.ctrlKey)}function Zf(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function $f(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function ag(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function bg(t){return y(t.a,56),"mouse"==t.a.pointerType}function cg(t){return t=t.a,t.isPrimary&&0===t.button}function dg(t){t=t?t:{},Rf.call(this,{handleEvent:t.handleEvent?t.handleEvent:eg}),this.Oa=t.handleDownEvent?t.handleDownEvent:le,this.ac=t.handleDragEvent?t.handleDragEvent:fa,this.bc=t.handleMoveEvent?t.handleMoveEvent:fa,this.cc=t.handleUpEvent?t.handleUpEvent:le,this.o=!1,this.K={},this.c=[]}function fg(t){for(var e=t.length,i=0,n=0,s=0;e>s;s++)i+=t[s].clientX,n+=t[s].clientY;return[i/e,n/e]}function eg(t){if(!(t instanceof Zc))return!0;var e=!1,i=t.type;if("pointerdown"===i||"pointerdrag"===i||"pointerup"===i){i=t.a;var n=i.pointerId.toString();"pointerup"==t.type?delete this.K[n]:"pointerdown"==t.type?this.K[n]=i:n in this.K&&(this.K[n]=i),this.c=Ua(this.K)}return this.o?"pointerdrag"==t.type?this.ac(t):"pointerup"==t.type&&(this.o=this.cc(t)&&0<this.c.length):"pointerdown"==t.type?(this.o=t=this.Oa(t),e=this.G(t)):"pointermove"==t.type&&this.bc(t),!e}function gg(t){dg.call(this,{handleDownEvent:hg,handleDragEvent:ig,handleUpEvent:jg}),t=t?t:{},this.a=t.kinetic,this.b=null,this.l=t.condition?t.condition:Zf,this.g=!1}function ig(t){var e=this.c,i=fg(e);if(e.length==this.j){if(this.a&&this.a.a.push(i[0],i[1],Date.now()),this.b){var n=this.b[0]-i[0],s=i[1]-this.b[1];t=t.map.S();var o=kf(t);s=n=[n,s];var r=o.resolution;s[0]*=r,s[1]*=r,Zd(n,o.rotation),s=n,o=o.center,s[0]+=o[0],s[1]+=o[1],n=t.b.center(n),t.Ia(n)}}else this.a&&Pf(this.a);this.b=i,this.j=e.length}function jg(t){var e=t.map;if(t=e.S(),0===this.c.length){if(!this.g&&this.a&&Qf(this.a)){var i=(.05-this.a.f)/-.005,n=this.a.i,s=t.ea();s=e.Ka(s),e=e.za([s[0]-i*Math.cos(n),s[1]-i*Math.sin(n)]),t.animate({center:t.b.center(e),duration:500,easing:ae})}return df(t,1,-1),!1}return this.a&&Pf(this.a),this.b=null,!0}function hg(t){if(0<this.c.length&&this.l(t)){var e=t.map.S();return this.b=null,this.o||df(e,1,1),0<e.a[0]&&e.Ia(t.frameState.viewState.center),this.a&&Pf(this.a),this.g=1<this.c.length,!0}return!1}function kg(t){t=t?t:{},dg.call(this,{handleDownEvent:lg,handleDragEvent:mg,handleUpEvent:ng}),this.b=t.condition?t.condition:Xf,this.a=void 0,this.g=void 0!==t.duration?t.duration:250}function mg(t){if(bg(t)){var e=t.map,i=e.S();if(i.b.rotation!==Sd){if(e=e.ib(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a){e=t-this.a;var n=i.wa();Sf(i,n-e)}this.a=t}}}function ng(t){if(!bg(t))return!0;t=t.map.S(),df(t,1,-1);var e=t.wa(),i=this.g;return e=t.constrainRotation(e,0),Sf(t,e,void 0,i),!1}function lg(t){return bg(t)&&Yf(t)&&this.b(t)?(df(t.map.S(),1,1),this.a=void 0,!0):!1}function og(t){this.Ua=null,this.f=document.createElement("div"),this.f.style.position="absolute",this.f.className="ol-box "+t,this.i=this.b=this.a=null}function pg(t){var e=t.b,i=t.i;t=t.f.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function qg(t){var e=t.b,i=t.i;e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.za,t.a),e[4]=e[0].slice(),t.Ua?t.Ua.ga([e]):t.Ua=new Te([e])}function rg(t){dg.call(this,{handleDownEvent:sg,handleDragEvent:tg,handleUpEvent:ug}),t=t?t:{},this.a=new og(t.className||"ol-dragbox"),this.l=void 0!==t.minArea?t.minArea:64,this.b=null,this.v=t.condition?t.condition:ke,this.j=t.boxEndCondition?t.boxEndCondition:vg}function vg(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=this.l}function tg(t){if(bg(t)){var e=this.a,i=t.pixel;e.b=this.b,e.i=i,qg(e),pg(e),this.f(new wg(xg,t.coordinate,t))}}function ug(t){return bg(t)?(this.a.setMap(null),this.j(t,this.b,t.pixel)&&(this.g(t),this.f(new wg(yg,t.coordinate,t))),!1):!0}function sg(t){if(bg(t)&&Yf(t)&&this.v(t)){this.b=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.b;return e.b=this.b,e.i=i,qg(e),pg(e),this.f(new wg(zg,t.coordinate,t)),!0}return!1}function wg(t,e,i){tc.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function Ag(t){t=t?t:{};var e=t.condition?t.condition:$f;this.B=void 0!==t.duration?t.duration:200,this.M=void 0!==t.out?t.out:!1,rg.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Bg(t){Rf.call(this,{handleEvent:Cg}),t=t||{},this.a=function(t){return Zf(t)&&ag(t)},this.b=void 0!==t.condition?t.condition:this.a,this.c=void 0!==t.duration?t.duration:100,this.g=void 0!==t.pixelDelta?t.pixelDelta:128}function Cg(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){e=t.map.S();var n=e.sa()*this.g,s=0,o=0;40==i?o=-n:37==i?s=-n:39==i?s=n:o=n,n=[s,o],Zd(n,e.wa()),i=this.c,(s=e.ea())&&(n=e.b.center([s[0]+n[0],s[1]+n[1]]),i?e.animate({duration:i,easing:de,center:n}):e.Ia(n)),t.preventDefault(),e=!0}}return!e}function Dg(t){Rf.call(this,{handleEvent:Eg}),t=t?t:{},this.b=t.condition?t.condition:ag,this.a=t.delta?t.delta:1,this.c=void 0!==t.duration?t.duration:100}function Eg(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.S(),Tf(i,e,void 0,this.c),t.preventDefault(),e=!0)}return!e}function Fg(t){Rf.call(this,{handleEvent:Gg}),t=t||{},this.g=0,this.o=void 0!==t.duration?t.duration:250,this.K=void 0!==t.timeout?t.timeout:80,this.M=void 0!==t.useAnchor?t.useAnchor:!0,this.G=t.constrainResolution||!1,this.a=null,this.j=this.c=this.l=this.b=void 0}function Gg(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var i=t.originalEvent;if(this.M&&(this.a=t.coordinate),"wheel"==t.type){var n=i.deltaY;Oc&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Sc),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}else"mousewheel"==t.type&&(n=-i.wheelDeltaY,Pc&&(n/=3));if(0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.c||400<t-this.b)&&(this.c=4>Math.abs(n)?Hg:Ig),this.c===Hg){e=e.S(),this.j?clearTimeout(this.j):df(e,1,1),this.j=setTimeout(this.v.bind(this),400),i=e.sa()*Math.pow(2,n/300);var s=e.l,o=e.c,r=0;if(s>i?(i=Math.max(i,s/1.5),r=1):i>o&&(i=Math.min(i,1.5*o),r=-1),this.a){var a=ff(e,i,this.a);e.Ia(e.b.center(a))}return lf(e,i),0===r&&this.G&&e.animate({resolution:e.constrainResolution(i,n>0?-1:1),easing:ae,anchor:this.a,duration:this.o}),r>0?e.animate({resolution:s,easing:ae,anchor:this.a,duration:500}):0>r&&e.animate({resolution:o,easing:ae,anchor:this.a,duration:500}),this.b=t,!1}return this.g+=n,n=Math.max(this.K-(t-this.b),0),clearTimeout(this.l),this.l=setTimeout(this.B.bind(this,e),n),!1}function Jg(t){dg.call(this,{handleDownEvent:Kg,handleDragEvent:Lg,handleUpEvent:Xg}),t=t||{},this.b=null,this.g=void 0,this.a=!1,this.j=0,this.v=void 0!==t.threshold?t.threshold:.3,this.l=void 0!==t.duration?t.duration:250}function Lg(t){var e=0,i=this.c[0],n=this.c[1];if(i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX),void 0!==this.g&&(e=i-this.g,this.j+=e,!this.a&&Math.abs(this.j)>this.v&&(this.a=!0)),this.g=i,t=t.map,i=t.S(),i.b.rotation!==Sd){n=t.a.getBoundingClientRect();var s=fg(this.c);s[0]-=n.left,s[1]-=n.top,this.b=t.za(s),this.a&&(n=i.wa(),t.render(),Sf(i,n+e,this.b))}}function Xg(t){if(2>this.c.length){if(t=t.map.S(),df(t,1,-1),this.a){var e=t.wa(),i=this.b,n=this.l;e=t.constrainRotation(e,0),Sf(t,e,i,n)}return!1}return!0}function Kg(t){return 2<=this.c.length?(t=t.map,this.b=null,this.g=void 0,this.a=!1,this.j=0,this.o||df(t.S(),1,1),!0):!1}function Yg(t){dg.call(this,{handleDownEvent:Zg,handleDragEvent:$g,handleUpEvent:ah}),t=t?t:{},this.j=t.constrainResolution||!1,this.b=null,this.l=void 0!==t.duration?t.duration:400,this.a=void 0,this.g=1}function $g(t){var e=1,i=this.c[0],n=this.c[1],s=i.clientX-n.clientX;i=i.clientY-n.clientY,s=Math.sqrt(s*s+i*i),void 0!==this.a&&(e=this.a/s),this.a=s,t=t.map,s=t.S(),n=s.sa();var o=s.c,r=s.l;i=n*e,i>o?(e=o/n,i=o):r>i&&(e=r/n,i=r),1!=e&&(this.g=e),e=t.a.getBoundingClientRect(),n=fg(this.c),n[0]-=e.left,n[1]-=e.top,this.b=t.za(n),t.render(),Uf(s,i,this.b)}function ah(t){if(2>this.c.length){t=t.map.S(),df(t,1,-1);var e=t.sa();if(this.j||e<t.l||e>t.c){var i=this.b,n=this.l;e=t.constrainResolution(e,0,this.g-1),Uf(t,e,i,n)}return!1}return!0}function Zg(t){return 2<=this.c.length?(t=t.map,this.b=null,this.a=void 0,this.g=1,this.o||df(t.S(),1,1),!0):!1}function bh(t,e,i,n){Ac.call(this),this.extent=t,this.i=i,this.resolution=e,this.state=n}function ch(t,e,i,n,s){this.c=void 0!==s?s:null,bh.call(this,t,e,i,void 0!==s?0:2),this.b=n}function dh(t,e,i,n,s){tc.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=s}function eh(t){Ac.call(this),this.highWaterMark=void 0!==t?t:2048,this.c=0,this.b={},this.a=this.i=null}function fh(t){return t.c>t.highWaterMark}function gh(t,e,i){t.get(e),t.b[e].bb=i}function ph(){var t=nh;return t||(t=nh=mf(1,1)),t}function sh(t,e){var i=ph();return t!=i.font&&(i.font=t),i.measureText(e).width}function th(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function vh(t,e,i,n,s,o,r,a,h,l,c){if(1!=i){var u=t.globalAlpha;t.globalAlpha=u*i}e&&t.setTransform.apply(t,e),t.drawImage(n,s,o,r,a,h,l,r*c,a*c),u&&(t.globalAlpha=u),e&&t.setTransform.apply(t,uh)}function yh(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function zh(t){var e=[];return e[0]=na(t[0]+.5|0,0,255),e[1]=na(t[1]+.5|0,0,255),e[2]=na(t[2]+.5|0,0,255),e[3]=na(t[3],0,1),e}function Bh(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:yh(t)}function Ch(){}function Dh(t,e,i,n,s){this.i=t,this.g=e,this.c=i,this.P=n,this.Oa=s,this.H=this.a=this.f=this.ca=this.M=this.K=null,this.ya=this.Y=this.o=this.B=this.A=this.v=0,this.ka=!1,this.b=this.la=0,this.va=!1,this.ba=0,this.aa="",this.Aa=this.Na=0,this.Ba=!1,this.l=this.Ea=0,this.G=this.u=this.j=null,this.J=[],this.Fa=oe()}function Eh(t,e,i){if(t.H){e=me(e,0,i,2,t.P,t.J),i=t.i;var n=t.Fa,s=i.globalAlpha;1!=t.o&&(i.globalAlpha=s*t.o);var o=t.la;t.ka&&(o+=t.Oa);var r,a=0;for(r=e.length;r>a;a+=2){var h=e[a]-t.v,l=e[a+1]-t.A;if(t.va&&(h=Math.round(h),l=Math.round(l)),0!==o||1!=t.b){var c=h+t.v,u=l+t.A;te(n,c,u,t.b,t.b,o,-c,-u),i.setTransform.apply(i,n)}i.drawImage(t.H,t.Y,t.ya,t.ba,t.B,h,l,t.ba,t.B)}0===o&&1==t.b||i.setTransform(1,0,0,1,0,0),1!=t.o&&(i.globalAlpha=s)}}function Fh(t,e,i,n){var s=0;if(t.G&&""!==t.aa){t.j&&Gh(t,t.j),t.u&&Hh(t,t.u);var o=t.G,r=t.i,a=t.ca,h=o.textAlign?o.textAlign:"center";for(a?(a.font!=o.font&&(a.font=r.font=o.font),a.textAlign!=h&&(a.textAlign=h),a.textBaseline!=o.textBaseline&&(a.textBaseline=r.textBaseline=o.textBaseline)):(r.font=o.font,r.textAlign=h,r.textBaseline=o.textBaseline,t.ca={font:o.font,textAlign:h,textBaseline:o.textBaseline}),e=me(e,s,i,n,t.P,t.J),o=t.i,r=t.Ea,t.Ba&&(r+=t.Oa);i>s;s+=n){if(a=e[s]+t.Na,h=e[s+1]+t.Aa,0!==r||1!=t.l){var l=te(t.Fa,a,h,t.l,t.l,r,-a,-h);o.setTransform.apply(o,l)}t.u&&o.strokeText(t.aa,a,h),t.j&&o.fillText(t.aa,a,h)}0===r&&1==t.l||o.setTransform(1,0,0,1,0,0)}}function Ih(t,e,i,n,s,o){var r=t.i;for(t=me(e,i,n,s,t.P,t.J),r.moveTo(t[0],t[1]),e=t.length,o&&(e-=2),i=2;e>i;i+=2)r.lineTo(t[i],t[i+1]);return o&&r.closePath(),n}function Jh(t,e,i,n,s){var o,r=0;for(o=n.length;o>r;++r)i=Ih(t,e,i,n[r],s,!0);return i}function Gh(t,e){var i=t.i,n=t.K;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.K={fillStyle:e.fillStyle})}function Hh(t,e){var i=t.i,n=t.M;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Tc&&(Rb(n.lineDash,e.lineDash)||i.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Tc&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.M={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Mh(t){Cc.call(this),this.a=t}function Nh(t,e,i){return function(n,s){return Oh(t,e,n,s,function(t){i[n]||(i[n]={}),i[n][t.ha.toString()]=t})}}function Ph(t){var e=t.a;e.ub()&&"ready"==e.Ec()&&t.D()}function Qh(t,e){e.Cd()&&t.postRenderFunctions.push(function(t,e,i){e=x(t).toString(),e in i.usedTiles&&t.fb(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function Rh(t,e){e=e.Y,void 0!==e&&("string"==typeof e?t.logos[e]="":e&&(y("string"==typeof e.href,44),y("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Sh(t,e,i,n){e=x(e).toString(),i=i.toString(),e in t?i in t[e]?(t=t[e][i],n.N<t.N&&(t.N=n.N),n.R>t.R&&(t.R=n.R),n.L<t.L&&(t.L=n.L),n.O>t.O&&(t.O=n.O)):t[e][i]=n:(t[e]={},t[e][i]=n)}function Th(t,e,i,n,s,o,r,a){var h=x(e).toString();h in t.wantedTiles||(t.wantedTiles[h]={});var l=t.wantedTiles[h];t=t.tileQueue;var c,u,f;for(f=i.minZoom;r>=f;++f){var p=bc(i,o,f,p),d=i.a[f];for(c=p.N;c<=p.R;++c)for(u=p.L;u<=p.O;++u)if(a>=r-f){var g=Uh(e,f,c,u,n,s);0==g.state&&(l[g.Wa()]=!0,g.Wa()in t.i||t.j([g,h,gc(i,g.ha),d]))}else e.Sd(f,c,u,s)}}function Vh(t){Mh.call(this,t),this.ca=oe()}function Wh(t,e,i){var n=e.pixelRatio,s=e.size[0]*n,o=e.size[1]*n,r=e.viewState.rotation,a=[i[0],i[3]],h=[i[2],i[3]],l=[i[2],i[1]];i=[i[0],i[1]],se(e.coordinateToPixelTransform,a),se(e.coordinateToPixelTransform,h),se(e.coordinateToPixelTransform,l),se(e.coordinateToPixelTransform,i),t.save(),th(t,-r,s/2,o/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),th(t,r,s/2,o/2)}function Xh(t,e,i,n,s){var o=t.a;if(Bc(o,e)){var r=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,h=n.viewState.rotation;th(i,-h,r/2,a/2),t=void 0!==s?s:Yh(t,n,0),o.f(new dh(e,new Dh(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),th(i,h,r/2,a/2)}}function Yh(t,e,i){var n=e.viewState,s=e.pixelRatio,o=s/n.resolution;return te(t.ca,s*e.size[0]/2,s*e.size[1]/2,o,-o,-n.rotation,-n.center[0]+i,-n.center[1])}function Zh(t){Vh.call(this,t),this.j=oe()}function wf(t){Zh.call(this,t),this.H=null,this.c=oe(),this.l=[],this.b=null}function $h(){this.a={},this.f=0}function bi(t,e){this.g=e,this.f={},this.b={}}function ci(){if(32<ai.f){var t,e=0;for(t in ai.a){var i=ai.a[t];0!==(3&e++)||Bc(i)||(delete ai.a[t],--ai.f)}}}function di(t,e){var i=x(e).toString();if(i in t.f)return t.f[i];for(var n,s=t.F(),o=0,r=tf.length;r>o;++o){var a=tf[o];if(a.handles(s,e)){n=a.create(t,e);break}}if(!n)throw Error("Unable to create renderer for layer: "+e.F());return t.f[i]=n,t.b[i]=B(n,"change",t.u,t),n}function Df(t,e){var i=t.f[e];return delete t.f[e],A(t.b[e]),delete t.b[e],i}function Vb(t,e){return t.zIndex-e.zIndex}function ei(t,e){bi.call(this,t,e),this.c=mf(),this.a=this.c.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.style.display="block",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.i=!0,this.l=oe()}function fi(t,e,i){var n=t.g,s=t.c;if(Bc(n,e)){var o=i.extent,r=i.pixelRatio,a=i.viewState.rotation,h=i.viewState,l=i.pixelRatio/h.resolution;t=te(t.l,t.a.width/2,t.a.height/2,l,-l,-h.rotation,-h.center[0],-h.center[1]),n.f(new dh(e,new Dh(s,r,o,t,a),i,s,null))}}function xf(t){Zh.call(this,t),this.context=null===this.context?null:mf(),this.b=null,this.c=[],this.G=wa(),this.ka=new ja(0,0,0,0),this.l=oe(),this.K=0}function gi(t,e){return e=e.state,t=t.a.get("useInterimTilesOnError"),2==e||4==e||3==e&&!t}function mi(){}function pi(t,e,i,n,s,o){this.va=o,this.Ea=wa(),this.Oa=t,this.Ba=e,this.overlaps=s,this.pixelRatio=n,this.ca=0,this.resolution=i,this.c=this.K=this.G=null,this.f=[],this.coordinates=[],this.Aa={},this.ka=oe(),this.a=[],this.ba=null,this.state={},this.ya=0,this.Fa=oe()}function qi(t,e,i,n,s,o,r,a){e.beginPath(),e.moveTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,s),e.lineTo.apply(e,o),e.lineTo.apply(e,i),r&&(t.M=r[2],t.ma(e)),a&&(ri(e,a),e.stroke())}function si(t,e,i,n,s,o,r,a,h,l,c,u,f,p,d,g,m,v,y){var b=v||y,x=t.Fa;o*=p,r*=p,i-=o,n-=r,d&&(i=Math.round(i),n=Math.round(n)),d=g+c>s.width?s.width-c:g,h=h+u>s.height?s.height-u:h,g=t.Ea;var w=m[3]+d*p+m[1],M=m[0]+h*p+m[2],k=i-m[3],S=n-m[0];if(b||0!==f)var _=[k,S],C=[k+w,S],P=[k+w,S+M],E=[k,S+M];m=null,0!==f?(o=i+o,r=n+r,m=te(x,o,r,1,1,f,-o,-r),Ea(g),xa(g,se(x,_)),xa(g,se(x,C)),xa(g,se(x,P)),xa(g,se(x,E))):Da(k,S,k+w,S+M,g),f=e.canvas,f=g[0]<=f.width&&0<=g[2]&&g[1]<=f.height&&0<=g[3],a?(f||1!=a[4])&&(Ia(a,g),(t=f?[e,m?m.slice(0):null,l,s,c,u,d,h,i,n,p]:null)&&b&&t.push(v,y,_,C,P,E),a.push(t)):f&&(b&&qi(t,e,_,C,P,E,v,y),vh(e,m,l,s,c,u,d,h,i,n,p))}function ti(t,e){var i=t.pixelRatio;return 1==i?e:e.map(function(t){return t*i})}function ui(t,e,i,n,s,o,r){var a=t.coordinates.length,h=vi(t);r&&(i+=s),r=[e[i],e[i+1]];var l,c=[NaN,NaN],u=!0;for(l=i+s;n>l;l+=s){c[0]=e[l],c[1]=e[l+1];var f=h[1],p=h[2],d=h[3],g=c[0],m=c[1],v=0;g<h[0]?v|=16:g>p&&(v|=4),f>m?v|=8:m>d&&(v|=2),0===v&&(v=1),f=v,f!==y?(u&&(t.coordinates[a++]=r[0],t.coordinates[a++]=r[1]),t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],u=!1):1===f?(t.coordinates[a++]=c[0],t.coordinates[a++]=c[1],u=!1):u=!0,r[0]=c[0],r[1]=c[1];var y=f}return(o&&u||l===i+s)&&(t.coordinates[a++]=r[0],t.coordinates[a++]=r[1]),a}function wi(t,e,i,n,s,o){for(var r=0,a=n.length;a>r;++r){var h=n[r];i=ui(t,e,i,h,s,!1,!1),o.push(i),i=h}return i}function xi(t,e){t.G=[0,e,0],t.f.push(t.G),t.K=[0,e,0],t.a.push(t.K)}function ri(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Tc&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}function zi(t,e,i){if(e&&5<e.length){var n=e[4];if(1==n||n==e.length-5){if(i={N:e[0],L:e[1],R:e[2],O:e[3],value:i},!t.va.me(i))for(t.va.fa(i),i=5,n=e.length;n>i;++i){var s=e[i];s&&(11<s.length&&qi(t,s[0],s[13],s[14],s[15],s[16],s[11],s[12]),vh.apply(void 0,s))}e.length=5,Ea(e)}}}function Ai(t,e,i,n,s,o,r){if(t.ba&&Rb(i,t.ka))var a=t.ba;else t.ba||(t.ba=[]),a=me(t.coordinates,0,t.coordinates.length,2,i,t.ba),re(t.ka,i);for(var h,l,c,u,f,p,d,g,m,v=!Va(n),y=0,b=s.length,w=0,M=0,k=0,S=null,_=null,C=t.Aa,P=t.ya,E={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:P},j=t.f!=s||t.overlaps?0:200;b>y;){var T=s[y];switch(T[0]){case 0:var A=T[1];v&&n[x(A).toString()]||!A.T()?y=T[2]:void 0===r||Ra(r,A.T().C())?++y:y=T[2]+1;break;case 1:M>j&&(t.ma(e),M=0),k>j&&(e.stroke(),k=0),M||k||(e.beginPath(),u=f=NaN),++y;break;case 2:w=T[1];var O=a[w],N=a[w+1],L=a[w+2]-O,D=a[w+3]-N,R=Math.sqrt(L*L+D*D);e.moveTo(O+R,N),e.arc(O,N,R,0,2*Math.PI,!0),++y;break;case 3:e.closePath(),++y;break;case 4:w=T[1],h=T[2];var I=T[4],F=6==T.length?T[5]:void 0;E.geometry=T[3],E.feature=A,y in C||(C[y]=[]);var B=C[y];F?F(a,w,h,2,B):(B[0]=a[w],B[1]=a[w+1],B.length=2),I(B,E),++y;break;case 6:w=T[1],h=T[2],m=T[3],l=T[4],c=T[5],g=o?null:T[6];var q=T[7],W=T[8],$=T[9],G=T[10],U=T[11],H=T[12],z=T[13],V=T[14],X=T[15];if(16<T.length)var Y=T[16],J=T[17],K=T[18];else Y=kh,J=K=!1;for(U&&(H+=P);h>w;w+=2)si(t,e,a[w],a[w+1],m,l,c,g,q,W,$,G,H,z,V,X,Y,J?S:null,K?_:null);zi(t,g,A),++y;break;case 5:var Z=T[1],Q=T[2],tt=T[3];g=o?null:T[4];var et=T[5],it=T[6],nt=T[7],st=T[8],ot=T[9],rt=T[10],at=T[11],ht=T[12],lt=T[13],ct=T[14],ut=void 0,ft=a[Z],pt=a[Z+1],dt=0;for(ut=Z+2;Q>ut;ut+=2){var gt=a[ut],mt=a[ut+1];dt+=Math.sqrt((gt-ft)*(gt-ft)+(mt-pt)*(mt-pt)),ft=gt,pt=mt}var vt=dt,yt=st(ht);if(et||vt>=yt){t:{var bt=void 0,xt=void 0,wt=void 0,Mt=a,kt=Z,St=Q,_t=ht,Ct=st,Pt=(vt-yt)*oi[t.l[lt].textAlign],Et=nt,jt=[],Tt=Mt[kt]>Mt[St-2],At=_t.length,Ot=Mt[kt],Nt=Mt[kt+1];kt+=2;for(var Lt=Mt[kt],Dt=Mt[kt+1],Rt=0,It=Math.sqrt(Math.pow(Lt-Ot,2)+Math.pow(Dt-Nt,2)),Ft="",Bt=0,qt=0;At>qt;++qt){xt=Tt?At-qt-1:qt;var Wt=_t.charAt(xt);Ft=Tt?Wt+Ft:Ft+Wt;var $t=Ct(Ft)-Bt;Bt+=$t;for(var Gt=Pt+$t/2;St-2>kt&&Gt>Rt+It;)Ot=Lt,Nt=Dt,kt+=2,Lt=Mt[kt],Dt=Mt[kt+1],Rt+=It,It=Math.sqrt(Math.pow(Lt-Ot,2)+Math.pow(Dt-Nt,2));var Ut=Gt-Rt,Ht=Math.atan2(Dt-Nt,Lt-Ot);if(Tt&&(Ht+=Ht>0?-Math.PI:Math.PI),void 0!==bt){var zt=Ht-bt;if(zt+=zt>Math.PI?-2*Math.PI:zt<-Math.PI?2*Math.PI:0,Math.abs(zt)>Et){var Vt=null;break t}}var Xt=Ut/It,Yt=sa(Ot,Lt,Xt),Jt=sa(Nt,Dt,Xt);bt==Ht?(Tt&&(wt[0]=Yt,wt[1]=Jt,wt[2]=$t/2),wt[4]=Ft):(Ft=Wt,Bt=$t,wt=[Yt,Jt,$t/2,Ht,Ft],Tt?jt.unshift(wt):jt.push(wt),bt=Ht),Pt+=$t}Vt=jt}if(Vt){var Kt;if(rt){var Zt=0;for(Kt=Vt.length;Kt>Zt;++Zt){var Qt=Vt[Zt],te=Qt[4],ee=t.U(te,lt,"",rt);l=Qt[2]+at,c=tt*ee.height+2*(.5-tt)*at-ot,si(t,e,Qt[0],Qt[1],ee,l,c,g,ee.height,1,0,0,Qt[3],ct,!1,ee.width,kh,null,null)}}if(it)for(Zt=0,Kt=Vt.length;Kt>Zt;++Zt)Qt=Vt[Zt],te=Qt[4],ee=t.U(te,lt,it,""),l=Qt[2],c=tt*ee.height-ot,si(t,e,Qt[0],Qt[1],ee,l,c,g,ee.height,1,0,0,Qt[3],ct,!1,ee.width,kh,null,null)}}zi(t,g,A),++y;break;case 7:if(void 0!==o){A=T[1];var ie=o(A);if(ie)return ie}++y;break;case 8:j?M++:t.ma(e),++y;break;case 9:w=T[1],h=T[2];var ne=a[w],se=a[w+1];for(p=ne+.5|0,d=se+.5|0,(p!==u||d!==f)&&(e.moveTo(ne,se),u=p,f=d),w+=2;h>w;w+=2)ne=a[w],se=a[w+1],p=ne+.5|0,d=se+.5|0,(w==h-2||p!==u||d!==f)&&(e.lineTo(ne,se),u=p,f=d);++y;break;case 10:S=T,t.M=T[2],M&&(t.ma(e),M=0,k&&(e.stroke(),k=0)),e.fillStyle=T[1],++y;break;case 11:_=T,k&&(e.stroke(),k=0),ri(e,T),++y;break;case 12:j?k++:e.stroke(),++y;break;default:++y}}M&&t.ma(e),k&&e.stroke()}function Bi(t){var e=t.a;e.reverse();var i,n=e.length,s=-1;for(i=0;n>i;++i){var o=e[i],r=o[0];if(7==r)s=i;else if(0==r){for(o[2]=i,o=t.a,r=i;r>s;){var a=o[s];o[s]=o[r],o[r]=a,++s,--r}s=-1}}}function Ci(t,e,i,n){var s=e.fillStyle;("string"!=typeof s||e.ne!=s)&&(i.call(t,e,n),e.ne=s)}function Di(t,e,i){var n=e.strokeStyle,s=e.lineCap,o=e.lineDash,r=e.lineDashOffset,a=e.lineJoin,h=e.lineWidth,l=e.miterLimit;(e.te!=n||e.oe!=s||o!=e.dd&&!Rb(e.dd,o)||e.pe!=r||e.qe!=a||e.re!=h||e.se!=l)&&(i.call(t,e),e.te=n,e.oe=s,e.dd=o,e.pe=r,e.qe=a,e.re=h,e.se=l)}function yi(t,e){t.G[2]=t.f.length,t.G=null,t.K[2]=t.a.length,t.K=null,e=[7,e],t.f.push(e),t.a.push(e)}function vi(t){return t.c||(t.c=za(t.Ba),0<t.ca&&ya(t.c,t.resolution*(t.ca+1)/2,t.c)),t.c}function Ei(t,e,i,n,s,o){pi.call(this,t,e,i,n,s,o),this.H=this.Y=this.B=null,this.P=this.J=this.o=this.l=this.u=this.A=this.v=this.j=this.g=this.b=this.i=void 0}function Fi(t,e,i,n,s,o){pi.call(this,t,e,i,n,s,o)}function Gi(t,e,i,n,s){var o=t.coordinates.length;return e=ui(t,e,i,n,s,!1,!1),o=[9,o,e],t.f.push(o),t.a.push(o),n}function Hi(t,e,i,n,s,o){
pi.call(this,t,e,i,n,s,o)}function Ii(t,e,i,n,s){var o=t.state,r=void 0!==o.fillStyle;o=void 0!=o.strokeStyle;var a=n.length,h=[1];for(t.f.push(h),t.a.push(h),h=0;a>h;++h){var l=n[h],c=t.coordinates.length;i=ui(t,e,i,l,s,!0,!o),i=[9,c,i],t.f.push(i),t.a.push(i),o&&(i=[3],t.f.push(i),t.a.push(i)),i=l}return e=[8],t.a.push(e),r&&t.f.push(e),o&&(r=[12],t.f.push(r),t.a.push(r)),i}function Ji(t,e){var i=t.state;void 0!==i.fillStyle&&Ci(t,i,t.Zc,e),void 0!==i.strokeStyle&&Di(t,i,t.eb)}function Ki(t,e,i,n,s,o){for(pi.call(this,t,e,i,n,s,o),this.aa="",this.u=this.v=0,this.A=void 0,this.B=0,this.b=null,this.J={},this.i=null,this.la={},this.g={},this.l={},this.Y=this.o=this.j="",this.Na={};fh(lh);)lh.pop()}function Mi(t,e,i,n){var s=t.g,o=t.i,r=t.pixelRatio,a=oi[s.textAlign||"center"],h=oi[s.textBaseline];o=o&&o.lineWidth?o.lineWidth:0,a=a*e.width/r+2*(.5-a)*o,h=h*e.height/r+2*(.5-h)*o,t.f.push([6,i,n,e,(a-t.v)*r,(h-t.u)*r,t.P,e.height,1,0,0,t.A,t.B,1,!0,e.width,s.padding==kh?kh:s.padding.map(function(t){return t*r}),!!s.backgroundFill,!!s.backgroundStroke]),t.a.push([6,i,n,e,(a-t.v)*r,(h-t.u)*r,t.P,e.height,1,0,0,t.A,t.B,1/r,!0,e.width,s.padding,!!s.backgroundFill,!!s.backgroundStroke])}function Li(t,e,i,n){var s=t.i,o=t.g,r=t.b,a=t.Y;s&&(a in t.la||(t.la[a]={strokeStyle:s.strokeStyle,lineCap:s.lineCap,lineDashOffset:s.lineDashOffset,lineWidth:s.lineWidth,lineJoin:s.lineJoin,miterLimit:s.miterLimit,lineDash:s.lineDash}));var h=t.j;t.j in t.l||(t.l[t.j]={font:o.font,textAlign:o.textAlign||"center",scale:o.scale});var l=t.o;r&&(l in t.J||(t.J[l]={fillStyle:r.fillStyle}));var c=t.pixelRatio;r=oi[o.textBaseline];var u=t.u*c,f=t.aa,p=o.font,d=o.scale;s=s?s.lineWidth*d/2:0;var g=t.Na[p];g||(t.Na[p]=g={}),t.f.push([5,e,i,r,n,o.overflow,l,o.maxAngle,function(t){var e=g[t];return e||(e=g[t]=sh(p,t)),e*d*c},u,a,s*c,f,h,1]),t.a.push([5,e,i,r,n,o.overflow,l,o.maxAngle,function(t){var e=g[t];return e||(e=g[t]=sh(p,t)),e*d},u,a,s,f,h,1/c])}function Ni(t,e,i,n,s,o,r){this.f=o,this.b=null,this.J=t,this.i=e,this.u=s,this.l=n,this.o=i,this.c=r,this.a={},this.g=mf(1,1),this.j=oe()}function Pi(t,e,i){var n,s=Math.floor(t.length/2);if(e>=s)for(n=s;e>n;n++)t[n][i]=!0;else if(s>e)for(n=e+1;s>n;n++)t[n][i]=!0}function Qi(t){if(void 0!==Oi[t])return Oi[t];for(var e=2*t+1,i=Array(e),n=0;e>n;n++)i[n]=Array(e);e=t;for(var s=n=0;e>=n;)Pi(i,t+e,t+n),Pi(i,t+n,t+e),Pi(i,t-n,t+e),Pi(i,t-e,t+n),Pi(i,t-e,t-n),Pi(i,t-n,t-e),Pi(i,t+n,t-e),Pi(i,t+e,t-n),n++,s+=1+2*n,2*(s-e)+1>0&&(--e,s+=1-2*e);return Oi[t]=i}function Ri(t,e){var i=null;return t.f&&(e?(i=t.b,i[4]++):(i=t.b=wa(),i.push(1))),i}function Si(t){for(var e in t.a){var i,n=t.a[e];for(i in n)n[i].Pb()}}function Ui(t,e){var i=t.i;t=i[0];var n=i[1],s=i[2];return i=i[3],t=[t,n,t,i,s,i,s,n],me(t,0,8,2,e,t),t}function Vi(t,e,i){var n=void 0!==e?e.toString():"0";return e=t.a[n],void 0===e&&(e={},t.a[n]=e),n=e[i],void 0===n&&(n=new Wi[i](t.J,t.i,t.o,t.l,t.u,t.f),e[i]=n),n}function Ti(t,e,i,n,s,o,r,a){var h=Object.keys(t.a).map(Number);h.sort(Ob);var l,c;for(l=h.length-1;l>=0;--l){var u=h[l].toString(),f=t.a[u];for(c=ni.length-1;c>=0;--c){var p=ni[c],d=f[p];if(void 0!==d)if(!a||"Image"!=p&&"Text"!=p){p=e;var g=i,m=s,v=o,y=r;if(d.ya=n,d=Ai(d,p,g,m,d.a,v,y))return d}else(p=a[u])?p.push(d,i.slice(0)):a[u]=[d,i.slice(0)]}}}function Xi(t,e){return x(t)-x(e)}function Yi(t,e){return t=.5*t/e,t*t}function Zi(t,e,i,n,s,o){var r,a=!1;if(r=i.U()){var h=r.Qb();2==h||3==h?r.Qd(s,o):(0==h&&r.load(),r.sd(s,o),a=!0)}return(s=(0,i.rb)(e))&&(n=s.Hb(n),i.Dc()?$i(t,n,i,e):(0,aj[n.F()])(t,n,i,e)),a}function $i(t,e,i,n){if("GeometryCollection"==e.F()){e=Za(e.a);for(var s=0,o=e.length;o>s;++s)$i(t,e[s],i,n)}else Vi(t,i.ja(),"Default").ed(e,n,i.Dc())}function yf(t){Vh.call(this,t),this.g=t.o?li.Za(9):null,this.c=!1,this.v=-1,this.o=NaN,this.u=wa(),this.b=this.l=null,this.j=!0,this.context=mf(),B(lh,"clear",this.yd,this)}function zf(t){this.context=null,xf.call(this,t),this.o=t.o?li.Za(9):null,this.v=!1,this.Y=oe(),this.K="vector"==t.b?1:0,B(lh,"clear",this.Ad,this)}function gj(t){this.c=t.opacity,this.v=t.rotateWithView,this.l=t.rotation,this.b=t.scale,this.o=t.snapToPixel}function hj(t){this.P=this.u=this.f=null,this.ma=void 0!==t.fill?t.fill:null,this.ba=[0,0],this.j=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.i=t.radius2,this.g=void 0!==t.angle?t.angle:0,this.pa=void 0!==t.stroke?t.stroke:null,this.A=this.G=this.B=null,this.J=t.atlasManager,ij(this,this.J),gj.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0})}function ij(t,e){var i="",n="",s=0,o=null,r=0,a=0;if(t.pa){var h=t.pa.a;null===h&&(h=jh),h=Bh(h),a=t.pa.b,void 0===a&&(a=1),o=t.pa.f,r=t.pa.g,Tc||(o=null,r=0),n=t.pa.j,void 0===n&&(n="round"),i=t.pa.c,void 0===i&&(i="round"),s=t.pa.u,void 0===s&&(s=10)}var l=2*(t.a+a)+1;if(i={strokeStyle:h,Pd:a,size:l,lineCap:i,lineDash:o,lineDashOffset:r,lineJoin:n,miterLimit:s},void 0===e){var c=mf(l,l);t.u=c.canvas,e=l=t.u.width,t.gd(i,c,0,0),t.ma?t.P=t.u:(c=mf(i.size,i.size),t.P=c.canvas,t.fd(i,c,0,0))}else l=Math.round(l),(n=!t.ma)&&(c=t.fd.bind(t,i)),t.pa?(s=t.pa,void 0===s.i&&(s.i="s",s.i=s.a?"string"==typeof s.a?s.i+s.a:s.i+x(s.a).toString():s.i+"-",s.i+=","+(void 0!==s.c?s.c.toString():"-")+","+(s.f?s.f.toString():"-")+","+(void 0!==s.g?s.g:"-")+","+(void 0!==s.j?s.j:"-")+","+(void 0!==s.u?s.u.toString():"-")+","+(void 0!==s.b?s.b.toString():"-")),s=s.i):s="-",t.ma?(o=t.ma,void 0===o.f&&(o.f=o.a instanceof CanvasPattern||o.a instanceof CanvasGradient?x(o.a).toString():"f"+(o.a?yh(o.a):"-")),o=o.f):o="-",t.f&&s==t.f[1]&&o==t.f[2]&&t.a==t.f[3]&&t.i==t.f[4]&&t.g==t.f[5]&&t.j==t.f[6]||(t.f=["r"+s+o+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.i?t.i.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.j?t.j.toString():"-"),s,o,t.a,t.i,t.g,t.j]),c=e.add(t.f[0],l,l,t.gd.bind(t,i),c),t.u=c.image,t.ba=[c.offsetX,c.offsetY],e=c.image.width,t.P=n?c.a:t.u;t.B=[l/2,l/2],t.G=[l,l],t.A=[e,e]}function jj(t){t=t||{},hj.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function kj(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=void 0}function lj(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineDashOffset,this.j=t.lineJoin,this.u=t.miterLimit,this.b=t.width,this.i=void 0}function mj(t){t=t||{},this.Ua=null,this.rb=nj,void 0!==t.geometry&&this.ob(t.geometry),this.ma=void 0!==t.fill?t.fill:null,this.H=void 0!==t.image?t.image:null,this.$a=void 0!==t.renderer?t.renderer:null,this.pa=void 0!==t.stroke?t.stroke:null,this.aa=void 0!==t.text?t.text:null,this.rg=t.zIndex}function oj(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else y(t instanceof mj,41),e=[t];t=function(){return e}}return t}function qj(){if(!pj){var t=new kj({color:"rgba(255,255,255,0.4)"}),e=new lj({color:"#3399CC",width:1.25});pj=[new mj({image:new jj({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return pj}function rj(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new mj({fill:new kj({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new mj({stroke:new lj({color:e,width:5})}),new mj({stroke:new lj({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new mj({image:new jj({radius:6,fill:new kj({color:i}),stroke:new lj({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function nj(t){return t.T()}function sj(t){D.call(this),this.b=void 0,this.a="geometry",this.g=null,this.j=void 0,this.c=null,B(this,Ec(this.a),this.Jb,this),void 0!==t&&(t instanceof ue||!t?this.ob(t):this.ta(t))}function Sj(t,e){qc(t,Ec(t.a),t.Jb,t),t.a=e,B(t,Ec(t.a),t.Jb,t),t.Jb()}function Tj(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var i=t;else y(t instanceof mj,41),i=[t];e=function(){return i}}return e}function M(t){D.call(this),t=t||{},this.a=null,this.c=Lb,this.g=new Wa(6378137),this.b=void 0,B(this,Ec("projection"),this.Ef,this),B(this,Ec("tracking"),this.ef,this),void 0!==t.projection&&this.vd(t.projection),void 0!==t.trackingOptions&&this.Nd(t.trackingOptions),this.Vb(void 0!==t.tracking?t.tracking:!1)}function Uj(t,e,i,n,s){var o=NaN,r=NaN,a=(i-e)/n;if(1===a)o=t[e],r=t[e+1];else if(2==a)o=.5*t[e]+.5*t[e+n],r=.5*t[e+1]+.5*t[e+n+1];else if(0!==a){r=t[e],a=t[e+1];var h=0;o=[0];var l;for(l=e+n;i>l;l+=n){var c=t[l],u=t[l+1];h+=Math.sqrt((c-r)*(c-r)+(u-a)*(u-a)),o.push(h),r=c,a=u}for(i=.5*h,h=0,l=o.length,c=!1;l>h;)r=h+(l-h>>1),a=+Ob(o[r],i),0>a?h=r+1:(l=r,c=!a);r=c?h:~h,0>r?(i=(i-o[-r-2])/(o[-r-1]-o[-r-2]),e+=(-r-2)*n,o=sa(t[e],t[e+n],i),r=sa(t[e+1],t[e+n+1],i)):(o=t[e+r*n],r=t[e+r*n+1])}return s?(s[0]=o,s[1]=r,s):[o,r]}function Vj(t,e,i,n,s){if(0==e)return null;if(n<t[0+i-1])return s?(e=t.slice(0,0+i),e[i-1]=n,e):null;if(t[e-1]<n)return s?(e=t.slice(e-i,e),e[i-1]=n,e):null;if(n==t[0+i-1])return t.slice(0,0+i);for(s=0/i,e/=i;e>s;){var o=s+e>>1;n<t[(o+1)*i-1]?e=o:s=o+1}if(e=t[s*i-1],n==e)return t.slice((s-1)*i,(s-1)*i+i);o=(n-e)/(t[(s+1)*i-1]-e),e=[];var r;for(r=0;i-1>r;++r)e.push(sa(t[(s-1)*i+r],t[s*i+r],o));return e.push(n),e}function Wj(t,e){ve.call(this),this.b=null,this.A=this.B=this.j=-1,this.ga(t,e)}function Xj(t,e,i){xe(t,e,i),t.D()}function Yj(t){t=t||{},this.f=t.font,this.g=t.rotation,this.c=t.rotateWithView,this.a=t.scale,this.aa=t.text,this.j=t.textAlign,this.u=t.textBaseline,this.ma=void 0!==t.fill?t.fill:new kj({color:"#333"}),this.l=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.J=void 0!==t.placement?t.placement:"point";var e=void 0===t.overflow?t.exceedLength:t.overflow;this.o=void 0!==e?e:!1,this.pa=void 0!==t.stroke?t.stroke:null,this.i=void 0!==t.offsetX?t.offsetX:0,this.b=void 0!==t.offsetY?t.offsetY:0,this.P=t.backgroundFill?t.backgroundFill:null,this.v=t.backgroundStroke?t.backgroundStroke:null,this.A=void 0===t.padding?null:t.padding}function Zj(t,e,i){Ac.call(this),i=i?i:{},this.ha=t,this.state=e,this.a=null,this.key="",this.b=void 0===i.transition?250:i.transition,this.u={}}function ak(t){t.f("change")}function ii(t){if(!t.a)return t;var e=t.a;do{if(2==e.state)return e;e=e.a}while(e);return t}function bk(t){if(t.a){var e=t.a;do{if(2==e.state){e.a=null;break}1==e.state?t=e:0==e.state?t.a=e.a:t=e,e=t.a}while(e)}}function hi(t){t.state=2,ak(t)}function ji(t,e,i){if(!t.b)return 1;var n=t.u[e];if(n){if(-1===n)return 1}else n=i,t.u[e]=n;return e=i-n+1e3/60,e>=t.b?1:Math.pow(e/t.b,3)}function ck(t,e,i,n,s,o){Zj.call(this,t,e,o),this.c=n,this.g=i,this.H=new Image,null!==n&&(this.H.crossOrigin=n),this.i=null,this.j=s}function dk(t){t.i.forEach(A),t.i=null}function ek(){var t=mf(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function fk(){this.f=li.Za(void 0),this.a={}}function gk(t,e,i){var n=t.a[x(i)];Ha([n.N,n.L,n.R,n.O],e)||(t.remove(i),t.fa(e,i))}function hk(t){return t.f.all().map(function(t){return t.value})}function ik(t,e){return t.f.search({N:e[0],L:e[1],R:e[2],O:e[3]}).map(function(t){return t.value})}function kk(t,e,i,n){return jk(ik(t,e),i,n)}function jk(t,e,i){for(var n,s=0,o=t.length;o>s&&!(n=e.call(i,t[s]));s++);return n}function N(t){if(t=Sa({},t),t.controls||(t.controls=Nf()),!t.interactions){var e=t,i={},n=new J,s=new Of;(void 0!==i.altShiftDragRotate?i.altShiftDragRotate:1)&&n.push(new kg),(void 0!==i.doubleClickZoom?i.doubleClickZoom:1)&&n.push(new Vf({delta:i.zoomDelta,duration:i.zoomDuration})),(void 0!==i.dragPan?i.dragPan:1)&&n.push(new gg({kinetic:s})),(void 0!==i.pinchRotate?i.pinchRotate:1)&&n.push(new Jg),(void 0!==i.pinchZoom?i.pinchZoom:1)&&n.push(new Yg({constrainResolution:i.constrainResolution,duration:i.zoomDuration})),(void 0!==i.keyboard?i.keyboard:1)&&(n.push(new Bg),n.push(new Dg({delta:i.zoomDelta,duration:i.zoomDuration}))),(void 0!==i.mouseWheelZoom?i.mouseWheelZoom:1)&&n.push(new Fg({constrainResolution:i.constrainResolution,duration:i.zoomDuration})),(void 0!==i.shiftDragZoom?i.shiftDragZoom:1)&&n.push(new Ag({duration:i.zoomDuration})),e.interactions=n}Af.call(this,t)}function lk(t){D.call(this),this.id=t.id,this.insertFirst=void 0!==t.insertFirst?t.insertFirst:!0,this.stopEvent=void 0!==t.stopEvent?t.stopEvent:!0,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan?t.autoPan:!1,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Eb:"",Mb:"",Tb:"",Yb:"",visible:!0},this.b=null,B(this,Ec(mk),this.Ke,this),B(this,Ec(nk),this.Se,this),B(this,Ec(ok),this.Te,this),B(this,Ec(pk),this.Ve,this),B(this,Ec(qk),this.We,this),void 0!==t.element&&this.set(mk,t.element),this.Md(void 0!==t.offset?t.offset:[0,0]),this.set(qk,void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.wd(t.position)}function sk(t,e){var i=t.getBoundingClientRect();return t=i.left+window.pageXOffset,i=i.top+window.pageYOffset,[t,i,t+e[0],i+e[1]]}function tk(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function rk(t){var e=t.get(nk),i=t.get(pk);if(e&&e.b&&i){i=e.Ka(i);var n=e.ib();e=t.element.style;var s=t.get(ok),o=t.get(qk);tk(t,!0);var r=s[0];s=s[1],"bottom-right"==o||"center-right"==o||"top-right"==o?(""!==t.a.Mb&&(t.a.Mb=e.left=""),r=Math.round(n[0]-i[0]-r)+"px",t.a.Tb!=r&&(t.a.Tb=e.right=r)):(""!==t.a.Tb&&(t.a.Tb=e.right=""),("bottom-center"==o||"center-center"==o||"top-center"==o)&&(r-=t.element.offsetWidth/2),r=Math.round(i[0]+r)+"px",t.a.Mb!=r&&(t.a.Mb=e.left=r)),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?(""!==t.a.Yb&&(t.a.Yb=e.top=""),i=Math.round(n[1]-i[1]-s)+"px",t.a.Eb!=i&&(t.a.Eb=e.bottom=i)):(""!==t.a.Eb&&(t.a.Eb=e.bottom=""),("center-left"==o||"center-center"==o||"center-right"==o)&&(s-=t.element.offsetHeight/2),i=Math.round(i[1]+s)+"px",t.a.Yb!=i&&(t.a.Yb=e.top=i))}else tk(t,!1)}function uk(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Ff.call(this,{element:e,render:t.render?t.render:vk,target:t.target}),B(this,Ec(wk),this.A,this),t.coordinateFormat&&this.set(xk,t.coordinateFormat),t.projection&&this.set(wk,Cb(t.projection)),this.B=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.j=e.innerHTML,this.g=this.c=this.a=null}function vk(t){t=t.frameState,t?this.a!=t.viewState.projection&&(this.a=t.viewState.projection,this.c=null):this.a=null,yk(this,this.g)}function yk(t,e){var i=t.B;if(e&&t.a){if(!t.c){var n=t.get(wk);t.c=n?Db(t.a,n):Lb}(e=t.b.za(e))&&(t.c(e,e),i=(i=t.get(xk))?i(e):e.toString())}t.j&&i==t.j||(t.element.innerHTML=i,t.j=i)}function zk(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.g=document.createElement("DIV"),this.g.className=e+"-inner",this.a=document.createElement("DIV"),this.a.className=e+" ol-unselectable",this.a.appendChild(this.g),this.o=null,this.j=void 0!==t.minWidth?t.minWidth:64,this.c=!1,this.A=void 0,this.v="",Ff.call(this,{element:this.a,render:t.render?t.render:Ak,target:t.target}),B(this,Ec(Bk),this.B,this),this.set(Bk,t.units||"metric")}function Ak(t){(t=t.frameState)?this.o=t.viewState:this.o=null,Dk(this)}function Dk(t){var e=t.o;if(e){var i=e.center,n=e.projection,s=t.get(Bk);e=Ab(n,e.resolution,i,"degrees"==s?"degrees":"m"),"degrees"!=s&&(e*=gb(n));var o=t.j*e;for(i="","degrees"==s?(i=db.degrees,"degrees"==n.a?o*=i:e/=i,i/60>o?(i="‚Ä≥",e*=3600):i>o?(i="‚Ä≤",e*=60):i="¬∞"):"imperial"==s?.9144>o?(i="in",e/=.0254):1609.344>o?(i="ft",e/=.3048):(i="mi",e/=1609.344):"nautical"==s?(e/=1852,i="nm"):"metric"==s?.001>o?(i="Œºm",e*=1e6):1>o?(i="mm",e*=1e3):1e3>o?i="m":(i="km",e/=1e3):"us"==s?.9144>o?(i="in",e*=39.37):1609.344>o?(i="ft",e/=.30480061):(i="mi",e/=1609.3472):y(!1,33),s=3*Math.floor(Math.log(t.j*e)/Math.log(10));;){if(o=Ck[(s%3+3)%3]*Math.pow(10,Math.floor(s/3)),n=Math.round(o/e),isNaN(n))return t.a.style.display="none",void(t.c=!1);if(n>=t.j)break;++s}e=o+" "+i,t.v!=e&&(t.g.innerHTML=e,t.v=e),t.A!=n&&(t.g.style.width=n+"px",t.A=n),t.c||(t.a.style.display="",t.c=!0)}else t.c&&(t.a.style.display="none",t.c=!1)}function Fk(t){return Gk(t,!1,[]).join("")}function Gk(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Gk(t,e,i);return i}function Hk(t){return(new DOMParser).parseFromString(t,"application/xml")}function Ik(t){return function(e,i){e=t.call(this,e,i),void 0!==e&&i[i.length-1].push(e)}}function Jk(t){return function(e,i){e=t.call(this,e,i),void 0!==e&&(i[i.length-1]=e)}}function Kk(t){return function(e,i){var n=t.call(this,e,i);if(void 0!==n){i=i[i.length-1],e=e.localName;var s;s=e in i?i[e]:i[e]=[],s.push(n)}}}function O(t,e){return function(i,n){var s=t.call(this,i,n);void 0!==s&&(n[n.length-1][void 0!==e?e:i.localName]=s)}}function R(t){return function(e,i,n){t.call(this,e,i,n),n[n.length-1].node.appendChild(e)}}function Lk(t){var e,i;return function(n,s,o){if(void 0===e){e={};var r={};r[n.localName]=t,e[n.namespaceURI]=r,i=Mk(n.localName)}Nk(e,i,s,o)}}function Mk(t){return function(e,i,n){return e=i[i.length-1].node,i=t,void 0===i&&(i=n),Ek.createElementNS(e.namespaceURI,i)}}function Pk(t,e){for(var i=e.length,n=Array(i),s=0;i>s;++s)n[s]=t[e[s]];return n}function S(t,e,i){i=void 0!==i?i:{};var n,s=0;for(n=t.length;n>s;++s)i[t[s]]=e;return i}function Qk(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var s=t[e.namespaceURI];void 0!==s&&(s=s[e.localName],void 0!==s&&s.call(n,e,i))}}function U(t,e,i,n){return n.push(t),Qk(e,i,n,void 0),n.pop()}function Nk(t,e,i,n,s,o){for(var r,a,h=(void 0!==s?s:i).length,l=0;h>l;++l)r=i[l],void 0!==r&&(a=e.call(o,r,n,void 0!==s?s[l]:void 0),void 0!==a&&t[a.namespaceURI][a.localName].call(o,a,r,n))}function Rk(t,e,i,n,s,o,r){s.push(t),Nk(e,i,n,s,o,r),s.pop()}function Sk(t,e,i){return function(n,s,o){var r=new XMLHttpRequest;r.open("GET","function"==typeof t?t(n,s,o):t,!0),"arraybuffer"==e.F()&&(r.responseType="arraybuffer"),r.onload=function(){if(!r.status||200<=r.status&&300>r.status){var t=e.F();if("json"==t||"text"==t)var n=r.responseText;else"xml"==t?(n=r.responseXML)||(n=Hk(r.responseText)):"arraybuffer"==t&&(n=r.response);n&&i.call(this,e.wb(n,{featureProjection:o}),e.Ic(n),null)}}.bind(this),r.onerror=function(){}.bind(this),r.send()}}function Tk(t,e){return Sk(t,e,function(t){this.hc(t)})}function Uk(){this.a=this.defaultDataProjection=null}function Vk(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.Ic(e),featureProjection:i.featureProjection}),Wk(t,n)}function Wk(t,e){return Sa({dataProjection:t.defaultDataProjection,featureProjection:t.a},e)}function Xk(t,e,i){var n,s=i?Cb(i.featureProjection):null,o=i?Cb(i.dataProjection):null;if(n=s&&o&&!Jb(s,o)?t instanceof ue?(e?t.clone():t).Xa(e?s:o,e?o:s):Nb(t,o,s):t,e&&i&&void 0!==i.decimals){var r=Math.pow(10,i.decimals);n===t&&(n=n.clone()),n.qb(function(t){for(var e=0,i=t.length;i>e;++e)t[e]=Math.round(t[e]*r)/r;return t})}return n}function Yk(){Uk.call(this)}function Zk(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function al(t,e){ve.call(this),this.b=[],this.j=this.A=-1,this.ga(t,e)}function cl(t){var e=t.s,i=t.b;t=t.X;var n,s=[],o=0,r=0;for(n=i.length;n>r;++r){var a=i[r],h=new Wj(null);Xj(h,t,e.slice(o,a)),s.push(h),o=a}return s}function bl(t,e,i,n){xe(t,e,i),t.b=n,t.D()}function dl(t,e){var i,n=t.X,s=[],o=[],r=0;for(i=e.length;i>r;++r){var a=e[r];0===r&&(n=a.X),Qb(s,a.W()),o.push(s.length)}bl(t,n,s,o)}function el(t,e){ve.call(this),this.ga(t,e)}function fl(t,e){ve.call(this),this.b=[],this.A=-1,this.B=null,this.M=this.G=this.K=-1,this.j=null,this.ga(t,e)}function Lh(t){if(t.A!=t.i){var e,i=t.s,n=t.b,s=t.a,o=0,r=[],a=0;for(e=n.length;e>a;++a){var h=n[a];o=Ga(i,o,h[0],s),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),o=h[h.length-1]}for(i=Kh(t),n=t.b,s=t.a,a=0,e=[],h=0,o=n.length;o>h;++h){var l=n[h];e=Oe(i,a,l,s,r,2*h,e),a=l[l.length-1]}t.B=e,t.A=t.i}return t.B}function Kh(t){if(t.M!=t.i){var e=t.s;t:{var i,n=t.b,s=0;for(i=n.length;i>s;++s)if(!Qe(e,n[s],t.a,void 0)){n=!1;break t}n=!0}n?t.j=e:(t.j=e.slice(),t.j.length=Se(t.j,t.b,t.a)),t.M=t.i}return t.j}function gl(t,e,i,n){xe(t,e,i),t.b=n,t.D()}function hl(){this.b=new XMLSerializer,Uk.call(this)}function il(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Qb(n,t.i(e,i));return n}function jl(t){return t=Fk(t),kl(t)}function kl(t){return(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))?void 0!==t[1]||!1:void 0}function ll(t){return t=Fk(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function V(t){return t=Fk(t),ml(t)}function ml(t){return(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))?parseFloat(t[1]):void 0}function nl(t){return t=Fk(t),pl(t)}function pl(t){return(t=/^\s*(\d+)\s*$/.exec(t))?parseInt(t[1],10):void 0}function W(t){return Fk(t).trim()}function ql(t,e){X(t,e?"1":"0")}function rl(t,e){t.appendChild(Ek.createTextNode(e.toPrecision()))}function sl(t,e){t.appendChild(Ek.createTextNode(e.toString()))}function X(t,e){t.appendChild(Ek.createTextNode(e))}function tl(t){t=t?t:{},hl.call(this),this.defaultDataProjection=Cb("EPSG:4326"),this.f=t.readExtensions}function vl(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function wl(t,e,i){var n="XY",s=2;if(t.hasZ&&t.hasM?(n="XYZM",s=4):t.hasZ?(n="XYZ",s=3):t.hasM&&(n="XYM",s=3),4!==s){var o,r=0;for(o=e.length/4;o>r;r++)e[r*s]=e[4*r],e[r*s+1]=e[4*r+1],t.hasZ&&(e[r*s+2]=e[4*r+2]),t.hasM&&(e[r*s+2]=e[4*r+3]);if(e.length=e.length/4*s,i)for(r=0,o=i.length;o>r;r++)i[r]=i[r]/4*s}return n}function xl(t,e){var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),Qk(yl,t,e)}function zl(t,e){e[e.length-1].extensionsNode_=t}function Hl(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,Rk({node:t},Il,Ok,[e.linkText,e.linkType],i,Jl)}function Kl(t,e,i){var n=i[i.length-1],s=n.node.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(o.time=e[3]);case"XYZ":0!==e[2]&&(o.ele=e[2]);break;case"XYM":0!==e[2]&&(o.time=e[2])}e="rtept"==t.nodeName?Ll[s]:Ml[s],n=Pk(o,e),Rk({node:t,properties:o},Nl,Ok,n,i,e)}function Vl(t,e){return(t=t.T())&&(t=Ul[t.F()])?Ek.createElementNS(e[e.length-1].node.namespaceURI,t):void 0}function Xl(t){ue.call(this),this.a=t?t:null,Yl(this)}function Za(t){var e,i=[],n=0;for(e=t.length;e>n;++n)i.push(t[n].clone());return i}function Zl(t){var e;if(t.a){var i=0;for(e=t.a.length;e>i;++i)qc(t.a[i],"change",t.D,t)}}function Yl(t){var e;if(t.a){var i=0;for(e=t.a.length;e>i;++i)B(t.a[i],"change",t.D,t)}}function $l(t){t=t?t:{},Uk.call(this),this.defaultDataProjection=Cb(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.a=Cb(t.featureProjection)),this.f=t.geometryName,this.b=t.extractGeometryName}function am(t,e){return t?Xk((0,bm[t.type])(t),!1,e):null}function cm(t,e){return(0,dm[t.F()])(Xk(t,!0,e),e)}function $k(t,e,i){e="Feature"===e.type?e:{type:"Feature",geometry:e},i=am(e.geometry,i);var n=new sj;return t.f?Sj(n,t.f):t.b&&void 0!==e.geometry_name&&Sj(n,e.geometry_name),n.ob(i),void 0!==e.id&&(n.b=e.id,n.D()),e.properties&&n.ta(e.properties),n}function em(t,e,i){i=Wk(t,i),t={type:"Feature"};var n=e.b;return void 0!==n&&(t.id=n),(n=e.T())?t.geometry=cm(n,i):t.geometry=null,i=e.La(),delete i[e.a],Va(i)?t.properties=null:t.properties=i,t}function fm(t,e,i,n,s,o){Ac.call(this),this.j=null,this.H=t?t:new Image,null!==n&&(this.H.crossOrigin=n),this.b=o?document.createElement("CANVAS"):null,this.g=o,this.c=null,this.i=s,this.a=i,this.u=e,this.l=!1,2==this.i&&gm(this)}function gm(t){var e=mf(1,1);try{e.drawImage(t.H,0,0),e.getImageData(0,0,1,1)}catch(i){t.l=!0}}function hm(t){t=t||{},this.g=void 0!==t.anchor?t.anchor:[.5,.5],this.u=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.A=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.G=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;y(!(void 0!==n&&e),4),y(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||x(e).toString()),y(void 0!==n&&0<n.length,6);var s=void 0!==t.src?0:2;if(void 0!==t.color){var o=t.color;o=Array.isArray(o)?o:Ah(o)}else o=null;this.j=o,o=this.G;var r=this.j,a=ai.get(n,o,r);a||(a=new fm(e,n,i,o,s,r),ai.set(n,o,r,a)),this.a=a,this.ba=void 0!==t.offset?t.offset:[0,0],this.i=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.J=null,this.P=void 0!==t.size?t.size:null,gj.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1})}function km(t){return t=Fk(t),(t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))?(t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]):void 0}function lm(t){t=Fk(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""===t?i:void 0}function mm(t){var e=Fk(t).trim();return t=t.baseURI,t&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function nm(t){return V(t)}function om(t,e){return U(null,pm,t,e)}function qm(t,e){if(e=U({s:[],Td:[]},rm,t,e)){t=e.s,e=e.Td;var i,n=0;for(i=Math.min(t.length,e.length);i>n;++n)t[4*n+3]=e[n];return e=new Wj(null),Xj(e,"XYZM",t),e}}function sm(t,e){var i=U({},tm,t,e);return(t=U(null,um,t,e))?(e=new Wj(null),Xj(e,"XYZ",t),e.ta(i),e):void 0}function vm(t,e){var i=U({},tm,t,e);return(t=U(null,um,t,e))?(e=new Te(null),$e(e,"XYZ",t,[t.length]),e.ta(i),e):void 0}function wm(t,e){if(t=U([],xm,t,e),!t)return null;if(0===t.length)return new Xl(t);var i,n=!0,s=t[0].F(),o=1;for(i=t.length;i>o;++o)if(e=t[o],e.F()!=s){n=!1;break}if(n)if("Point"==s){var r=t[0];for(n=r.X,s=r.W(),o=1,i=t.length;i>o;++o)e=t[o],Qb(s,e.W());e=r=new el(null),xe(e,n,s),e.D(),ym(r,t)}else if("LineString"==s)r=new al(null),dl(r,t),ym(r,t);else if("Polygon"==s){e=r=new fl(null),o=e.X,i=[],n=[];var a;for(s=0,a=t.length;a>s;++s){var h=t[s];0===s&&(o=h.X);var l,c=i.length,u=h.Ga(),f=0;for(l=u.length;l>f;++f)u[f]+=c;Qb(i,h.W()),n.push(u)}gl(e,o,i,n),ym(r,t)}else"GeometryCollection"==s?r=new Xl(t):y(!1,37);else r=new Xl(t);return r}function zm(t,e){var i=U({},tm,t,e);return(t=U(null,um,t,e))?(e=new Me(null),xe(e,"XYZ",t),e.D(),e.ta(i),e):void 0}function Am(t,e){var i=U({},tm,t,e);if((t=U([null],Bm,t,e))&&t[0]){e=new Te(null);var n,s=t[0],o=[s.length],r=1;for(n=t.length;n>r;++r)Qb(s,t[r]),o.push(s.length);return $e(e,"XYZ",s,o),e.ta(i),e}}function Cm(t,e){if(e=U({},Dm,t,e),!e)return null;t="fillStyle"in e?e.fillStyle:void 0;var i=e.fill;void 0===i||i||(t=null),i="imageStyle"in e?e.imageStyle:void 0,void 0==i&&(i=void 0);var n="textStyle"in e?e.textStyle:void 0,s="strokeStyle"in e?e.strokeStyle:void 0;return e=e.outline,void 0===e||e||(s=null),[new mj({fill:t,image:i,stroke:s,text:n,zIndex:void 0})]}function ym(t,e){var i,n,s,o=e.length,r=Array(e.length),a=Array(e.length),h=Array(e.length),l=n=s=!1;for(i=0;o>i;++i){var c=e[i];r[i]=c.get("extrude"),a[i]=c.get("tessellate"),h[i]=c.get("altitudeMode"),l=l||void 0!==r[i],n=n||void 0!==a[i],s=s||h[i]}l&&t.set("extrude",r),n&&t.set("tessellate",a),s&&t.set("altitudeMode",h)}function Em(t,e){Qk(Fm,t,e)}function Gm(t,e){Qk(Hm,t,e)}function Xm(t,e){e=Array.isArray(e)?e:Ah(e),e=[255*(4==e.length?e[3]:1),e[2],e[1],e[0]];var i;for(i=0;4>i;++i){var n=parseInt(e[i],10).toString(16);e[i]=1==n.length?"0"+n:n}X(t,e.join(""))}function kn(t,e,i){t={node:t};var n=e.F();if("GeometryCollection"==n)var s=Za(e.a),o=ln;else if("MultiPoint"==n){s=e.s,o=e.X,e=e.a,n=[];var r,a=0;for(r=s.length;r>a;a+=e){var h=new Me(null),l=h;xe(l,o,s.slice(a,a+e)),l.D(),n.push(h)}s=n,o=mn}else if("MultiLineString"==n)s=cl(e),o=nn;else if("MultiPolygon"==n){s=e.X,o=e.s,e=e.b,n=[],a=0;var c;for(r=0,h=e.length;h>r;++r){l=e[r].slice();var u=l[l.length-1];if(0!==a){var f=0;for(c=l.length;c>f;++f)l[f]-=a}f=new Te(null),$e(f,s,o.slice(a,u),l),n.push(f),a=u}s=n,o=on}else y(!1,39);Rk(t,pn,o,s,i)}function qn(t,e,i){Rk({node:t},rn,sn,[e],i)}function tn(t,e,i){var n={node:t};e.b&&t.setAttribute("id",e.b),t=e.La();var s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[e.a]=1;var o=Object.keys(t||{}).sort().filter(function(t){return!s[t]});if(0<o.length){var r=Pk(t,o);Rk(n,un,vn,[{names:o,values:r}],i)}(o=e.Ra())&&(o=o.call(e,0))&&(o=Array.isArray(o)?o[0]:o,this.f&&(t.Style=o),(o=o.qa())&&(t.name=o.qa())),o=wn[i[i.length-1].node.namespaceURI],t=Pk(t,o),Rk(n,un,Ok,t,i,o),t=i[0],(e=e.T())&&(e=Xk(e,!0,t)),Rk(n,un,ln,[e],i)}function xn(t,e,i){var n=e.W();t={node:t},t.layout=e.X,t.stride=e.$(),e=e.La(),e.coordinates=n,n=yn[i[i.length-1].node.namespaceURI],e=Pk(e,n),Rk(t,zn,Ok,e,i,n)}function An(t,e,i){var n=e.X,s=e.s,o=e.b;e=[];var r,a=0,h=0;for(r=o.length;r>h;++h){var l=o[h],c=new Le(null),u=c;xe(u,n,s.slice(a,l)),u.D(),e.push(c),a=l}n=e.shift(),t={node:t},Rk(t,Bn,Cn,e,i),Rk(t,Bn,Dn,[n],i)}function En(t,e){rl(t,Math.round(1e6*e)/1e6)}function Mn(t,e,i){return Ek.createElementNS(im[0],"gx:"+i)}function Gn(t,e){return Ek.createElementNS(e[e.length-1].node.namespaceURI,"Placemark")}function ln(t,e){return t?Ek.createElementNS(e[e.length-1].node.namespaceURI,In[t.F()]):void 0}function Xn(t,e,i,n){this.g=t,this.a=e,this.f=this.b=null,this.i=i,this.u=n,this.j=oe()}function Yn(t,e){e[e.length-1].Xb[t.getAttribute("k")]=t.getAttribute("v")}function bo(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function co(t,e){return U({},eo,t,e)}function fo(t,e){return U({},go,t,e)}function ho(t,e){return(e=co(t,e))?(t=[pl(t.getAttribute("width")),pl(t.getAttribute("height"))],e.size=t,e):void 0}function io(t,e){return U([],jo,t,e)}function Mo(t){var e=W(t).split(" ");return!e||2!=e.length||(t=+e[0],e=+e[1],isNaN(t)||isNaN(e))?void 0:[t,e]}function Zo(t){t=t?t:{},Rf.call(this,{handleEvent:ke}),this.c=t.formatConstructors?t.formatConstructors:[],this.j=t.projection?Cb(t.projection):null,this.a=null,this.b=t.source||null,this.target=t.target?t.target:null}function $o(t){t=t.dataTransfer.files;var e,i=0;for(e=t.length;e>i;++i){var n=t.item(i),s=new FileReader;s.addEventListener("load",this.g.bind(this,n)),s.readAsText(n)}}function ap(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function dp(t){var e=t.A;e&&(e=t.target?t.target:e.a,t.a=[B(e,"drop",$o,t),B(e,"dragenter",ap,t),B(e,"dragover",ap,t),B(e,"drop",ap,t)])}function ep(t){t.a&&(t.a.forEach(A),t.a=null)}function bp(t,e,i,n){tc.call(this,t),this.features=i,this.file=e,this.projection=n}function fp(t){t=t?t:{};var e=Sa({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Hf.call(this,e),this.o=void 0!==t.declutter?t.declutter:!1,this.j=void 0!==t.renderBuffer?t.renderBuffer:100,this.A=null,this.v=void 0,e=t.style,this.A=void 0!==e?e:qj,this.v=null===e?void 0:oj(this.A),this.D(),this.B=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1,this.G=void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1,this.b=t.renderMode||"vector",this.type="VECTOR"}function gp(){return[[-(1/0),-(1/0),1/0,1/0]]}function hp(t){D.call(this),this.j=Cb(t.projection),this.ca=ip(t.attributions),this.Y=t.logo,this.ka=void 0!==t.state?t.state:"ready",this.v=void 0!==t.wrapX?t.wrapX:!1}function ip(t){
if(!t)return null;if(t instanceof kc)return function(){return[t.rd]};if(Array.isArray(t)){if(t[0]instanceof kc){var e=t.map(function(t){return t.rd});return function(){return e}}return t.map(function(t){return new kc({html:t})}),function(){return t}}return"function"==typeof t?t:function(){return[t]}}function jp(t){t=t||{},hp.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.A=fa,this.B=t.format,this.M=void 0==t.overlaps?!0:t.overlaps,this.K=t.url,void 0!==t.loader?this.A=t.loader:void 0!==this.K&&(y(this.B,7),this.A=Tk(this.K,this.B)),this.la=void 0!==t.strategy?t.strategy:gp;var e=void 0!==t.useSpatialIndex?t.useSpatialIndex:!0;if(this.a=e?new fk:null,this.G=new fk,this.b={},this.g={},this.l={},this.o={},this.c=null,t.features instanceof J)var i=t.features,n=i.a;else Array.isArray(t.features)&&(n=t.features);e||void 0!==i||(i=new J(n)),void 0!==n&&kp(this,n),void 0!==i&&lp(this,i)}function mp(t,e){var i=x(e).toString();if(np(t,i,e)){op(t,i,e);var n=e.T();n?(i=n.C(),t.a&&t.a.fa(i,e)):t.b[i]=e,t.f(new pp("addfeature",e))}}function op(t,e,i){t.o[e]=[B(i,"change",t.Ed,t),B(i,"propertychange",t.Ed,t)]}function np(t,e,i){var n=!0,s=i.b;return void 0!==s?s.toString()in t.g?n=!1:t.g[s.toString()]=i:(y(!(e in t.l),30),t.l[e]=i),n}function kp(t,e){var i,n=[],s=[],o=[],r=0;for(i=e.length;i>r;r++){var a=e[r],h=x(a).toString();np(t,h,a)&&s.push(a)}for(r=0,i=s.length;i>r;r++)a=s[r],h=x(a).toString(),op(t,h,a),(e=a.T())?(h=e.C(),n.push(h),o.push(a)):t.b[h]=a;for(t.a&&t.a.load(n,o),r=0,i=s.length;i>r;r++)t.f(new pp("addfeature",s[r]))}function lp(t,e){var i=!1;B(t,"addfeature",function(t){i||(i=!0,e.push(t.feature),i=!1)}),B(t,"removefeature",function(t){i||(i=!0,e.remove(t.feature),i=!1)}),B(e,"add",function(t){i||(i=!0,mp(this,t.element),this.D(),i=!1)},t),B(e,"remove",function(t){i||(i=!0,this.nb(t.element),i=!1)},t),t.c=e}function dj(t,e,i,n){t.a?kk(t.a,e,i,n):t.c&&t.c.forEach(i,n)}function cj(t,e,i,n){var s=t.G;e=t.la(e,i);var o,r=0;for(o=e.length;o>r;++r){var a=e[r];kk(s,a,function(t){return Ba(t.extent,a)})||(t.A.call(t,a,i,n),s.fa(a,{extent:a.slice()}))}}function qp(t,e){for(var i in t.g)if(t.g[i]===e){delete t.g[i];break}}function pp(t,e){tc.call(this,t),this.feature=e}function rp(t){if(dg.call(this,{handleDownEvent:sp,handleDragEvent:tp,handleEvent:up,handleUpEvent:vp}),this.Yd=t.condition?t.condition:cg,this.Ea=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey&&"singleclick"==t.type},this.Fa=t.deleteCondition?t.deleteCondition:this.Ea,this.Xd=t.insertVertexCondition?t.insertVertexCondition:ke,this.Ba=this.b=null,this.Aa=[0,0],this.v=this.M=!1,this.a=new fk,this.la=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.j=this.va=!1,this.g=[],this.B=new fp({source:new jp({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:wp(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ka={Point:this.pg,LineString:this.Wd,LinearRing:this.Wd,Polygon:this.qg,MultiPoint:this.ng,MultiLineString:this.mg,MultiPolygon:this.og,Circle:this.kg,GeometryCollection:this.lg},this.Y=null,t.source?(this.Y=t.source,t=new J(this.Y.Dd()),B(this.Y,"addfeature",this.Ze,this),B(this.Y,"removefeature",this.bf,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.l=t,this.l.forEach(this.gc,this),B(this.l,"add",this.Le,this),B(this.l,"remove",this.Me,this),this.ca=null}function yp(t,e){t.v||(t.v=!0,t.f(new zp("modifystart",t.l,e)))}function Ap(t,e){Bp(t,e),t.b&&0===t.l.Va()&&(t.B.da().nb(t.b),t.b=null),qc(e,"change",t.xd,t)}function Bp(t,e){t=t.a;var i=[];t.forEach(function(t){e===t.feature&&i.push(t)});for(var n=i.length-1;n>=0;--n)t.remove(i[n])}function Cp(t,e){var i=t.b;i?i.T().ga(e):(i=new sj(new Me(e)),t.b=i,t=t.B.da(),mp(t,i),t.D())}function Dp(t,e){return t.index-e.index}function sp(t){if(!this.Yd(t))return!1;xp(this,t.pixel,t.map);var e=t.map.za(t.pixel);this.g.length=0,this.v=!1;var i=this.b;if(i){var n=[];i=i.T().I();var s=va([i]);s=ik(this.a,s);var o={};s.sort(Dp);for(var r=0,a=s.length;a>r;++r){var h=s[r],l=h.V,c=x(h.feature),u=h.depth;u&&(c+="-"+u.join("-")),o[c]||(o[c]=Array(2)),"Circle"===h.geometry.F()&&1===h.index?(l=Ep(e,h),Yd(l,i)&&!o[c][0]&&(this.g.push([h,0]),o[c][0]=h)):Yd(l[0],i)&&!o[c][0]?(this.g.push([h,0]),o[c][0]=h):Yd(l[1],i)&&!o[c][1]?("LineString"!==h.geometry.F()&&"MultiLineString"!==h.geometry.F()||!o[c][0]||0!==o[c][0].index)&&(this.g.push([h,1]),o[c][1]=h):this.Xd(t)&&x(l)in this.Ba&&!o[c][0]&&!o[c][1]&&n.push([h,i])}for(n.length&&yp(this,t),t=n.length-1;t>=0;--t)this.hf.apply(this,n[t])}return!!this.b}function tp(t){this.M=!1,yp(this,t),t=t.coordinate;for(var e=0,i=this.g.length;i>e;++e){var n=this.g[e],s=n[0],o=s.depth,r=s.geometry,a=s.V;for(n=n[1];t.length<r.$();)t.push(a[n][t.length]);switch(r.F()){case"Point":var h=t;a[0]=a[1]=t;break;case"MultiPoint":h=r.I(),h[s.index]=t,a[0]=a[1]=t;break;case"LineString":h=r.I(),h[s.index+n]=t,a[n]=t;break;case"MultiLineString":h=r.I(),h[o[0]][s.index+n]=t,a[n]=t;break;case"Polygon":h=r.I(),h[o[0]][s.index+n]=t,a[n]=t;break;case"MultiPolygon":h=r.I(),h[o[1]][o[0]][s.index+n]=t,a[n]=t;break;case"Circle":a[0]=a[1]=t,0===s.index?(this.j=!0,r.Ia(t)):(this.j=!0,o=r,s=r.ea(),o.a=Math.sqrt($d(s,t)),ij(o,o.J)),this.j=!1}h&&(s=h,this.j=!0,r.ga(s),this.j=!1)}Cp(this,t)}function vp(t){for(var e,i,n=this.g.length-1;n>=0;--n)if(e=this.g[n][0],i=e.geometry,"Circle"===i.F()){var s=i.ea(),o=e.wc[0];e=e.wc[1],o.V[0]=o.V[1]=s,e.V[0]=e.V[1]=s,gk(this.a,Fa(s),o),gk(this.a,i.C(),e)}else gk(this.a,va(e.V),e);return this.v&&(this.f(new zp("modifyend",this.l,t)),this.v=!1),!1}function up(t){if(!(t instanceof Zc))return!0;if(this.ca=t,0<t.map.S().a[1]||"pointermove"!=t.type||this.o||(this.Aa=t.pixel,xp(this,t.pixel,t.map)),this.b&&this.Fa(t)){if("singleclick"==t.type&&this.M)var e=!0;else if(this.ca&&"pointerdrag"!=this.ca.type){var i=this.ca;yp(this,i);var n,s,o=this.g,r={};for(s=o.length-1;s>=0;--s){var a=o[s],h=a[0];e=x(h.feature),h.depth&&(e+="-"+h.depth.join("-")),e in r||(r[e]={}),0===a[1]?(r[e].right=h,r[e].index=h.index):1==a[1]&&(r[e].left=h,r[e].index=h.index+1)}for(e in r){var l=r[e].right,c=r[e].left;s=r[e].index;var u=s-1;h=void 0!==c?c:l,0>u&&(u=0),a=h.geometry;var f=n=a.I(),p=!1;switch(a.F()){case"MultiLineString":2<n[h.depth[0]].length&&(n[h.depth[0]].splice(s,1),p=!0);break;case"LineString":2<n.length&&(n.splice(s,1),p=!0);break;case"MultiPolygon":f=f[h.depth[1]];case"Polygon":f=f[h.depth[0]],4<f.length&&(s==f.length-1&&(s=0),f.splice(s,1),p=!0,0===s&&(f.pop(),f.push(f[0]),u=f.length-1))}p&&(p=a,this.j=!0,p.ga(n),this.j=!1,n=[],void 0!==c&&(this.a.remove(c),n.push(c.V[0])),void 0!==l&&(this.a.remove(l),n.push(l.V[1])),void 0!==c&&void 0!==l&&(c={depth:h.depth,feature:h.feature,geometry:h.geometry,index:u,V:n},this.a.fa(va(c.V),c)),Fp(this,a,s,h.depth,-1),this.b&&(this.B.da().nb(this.b),this.b=null),o.length=0)}this.f(new zp("modifyend",this.l,i)),this.v=!1,e=!0}else e=!1;i=e}return"singleclick"==t.type&&(this.M=!1),eg.call(this,t)&&!i}function xp(t,e,i){function n(t,e){return Gp(s,t)-Gp(s,e)}var s=i.za(e),o=ya(Fa(s),i.S().sa()*t.la);if(o=ik(t.a,o),0<o.length){o.sort(n);var r=o[0],a=r.V,h=Ep(s,r),l=i.Ka(h),c=Math.sqrt($d(e,l));if(c<=t.la){if(e={},"Circle"===r.geometry.F()&&1===r.index)t.va=!0,Cp(t,h);else for(c=i.Ka(a[0]),r=i.Ka(a[1]),i=$d(l,c),l=$d(l,r),c=Math.sqrt(Math.min(i,l)),t.va=c<=t.la,t.va&&(h=i>l?a[1]:a[0]),Cp(t,h),l=1,i=o.length;i>l&&(h=o[l].V,Yd(a[0],h[0])&&Yd(a[1],h[1])||Yd(a[0],h[1])&&Yd(a[1],h[0]));++l)e[x(h)]=!0;return e[x(a)]=!0,void(t.Ba=e)}}t.b&&(t.B.da().nb(t.b),t.b=null)}function Gp(t,e){var i=e.geometry;return"Circle"===i.F()&&1===e.index?(t=$d(i.ea(),t),i=Math.sqrt(t)-i.b(),i*i):$d(t,Xd(t,e.V))}function Ep(t,e){var i=e.geometry;return"Circle"===i.F()&&1===e.index?(e=[NaN,NaN],i.Ja(t[0],t[1],e,1/0),t=e):t=Xd(t,e.V),t}function Fp(t,e,i,n,s){kk(t.a,e.C(),function(t){t.geometry===e&&(void 0===n||void 0===t.depth||Rb(t.depth,n))&&t.index>i&&(t.index+=s)})}function wp(){var t=rj();return function(){return t.Point}}function zp(t,e,i){tc.call(this,t),this.features=e,this.mapBrowserEvent=i}function Hp(t){t=t?t:{};var e=Sa({},t);delete e.preload,delete e.useInterimTilesOnError,Hf.call(this,e),this.set("preload",void 0!==t.preload?t.preload:0),this.set("useInterimTilesOnError",void 0!==t.useInterimTilesOnError?t.useInterimTilesOnError:!0),this.type="TILE"}function Ip(t,e){var i=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,o=/\{-y\}/g;return function(r){return r?t.replace(i,r[0].toString()).replace(n,r[1].toString()).replace(s,function(){return(-r[2]-1).toString()}).replace(o,function(){var t=e.b?e.b[r[0]]:null;return y(t,55),(t.O-t.L+1+r[2]).toString()}):void 0}}function Jp(t,e){for(var i=t.length,n=Array(i),s=0;i>s;++s)n[s]=Ip(t[s],e);return Kp(n)}function Kp(t){return 1===t.length?t[0]:function(e,i,n){return e?t[ra((e[1]<<e[0])+e[2],t.length)](e,i,n):void 0}}function Lp(){}function Mp(t){eh.call(this,t)}function Np(t){if(0!==t.c){var e=t.a.Ha.split("/").map(Number)[0];t.forEach(function(t){if(t.ha[0]!==e){var i=t.ha;this.remove(i[0]+"/"+i[1]+"/"+i[2]),sc(t)}},t)}}function Op(t,e,i,n){t=i-t,e=n-e;var s=Math.sqrt(t*t+e*e);return[Math.round(i+t/s),Math.round(n+e/s)]}function Pp(t,e,i,n,s,o,r,a,h,l,c){var u=mf(Math.round(i*t),Math.round(i*e));if(0===h.length)return u.canvas;u.scale(i,i);var f=wa();h.forEach(function(t){Ia(f,t.extent)});var p=mf(Math.round(i*La(f)/n),Math.round(i*Ma(f)/n)),d=i/n;h.forEach(function(t){p.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-f[0])*d,-(t.extent[3]-f[3])*d,La(t.extent)*d,Ma(t.extent)*d)});var g=[r[0],r[3]];return a.b.forEach(function(t){var e=t.source,s=t.target,r=e[1][0],a=e[1][1],h=e[2][0],l=e[2][1];t=(s[0][0]-g[0])/o;var c=-(s[0][1]-g[1])/o,d=(s[1][0]-g[0])/o,m=-(s[1][1]-g[1])/o,v=(s[2][0]-g[0])/o,y=-(s[2][1]-g[1])/o;s=e[0][0],e=e[0][1],r-=s,a-=e,h-=s,l-=e;t:{for(r=[[r,a,0,0,d-t],[h,l,0,0,v-t],[0,0,r,a,m-c],[0,0,h,l,y-c]],a=r.length,h=0;a>h;h++){l=h;for(var b=Math.abs(r[h][h]),x=h+1;a>x;x++){var w=Math.abs(r[x][h]);w>b&&(b=w,l=x)}if(0===b){r=null;break t}for(b=r[l],r[l]=r[h],r[h]=b,l=h+1;a>l;l++)for(b=-r[l][h]/r[h][h],x=h;a+1>x;x++)r[l][x]=h==x?0:r[l][x]+b*r[h][x]}for(h=Array(a),l=a-1;l>=0;l--)for(h[l]=r[l][a]/r[l][l],b=l-1;b>=0;b--)r[b][a]-=r[b][l]*h[l];r=h}r&&(u.save(),u.beginPath(),h=(t+d+v)/3,l=(c+m+y)/3,a=Op(h,l,t,c),d=Op(h,l,d,m),v=Op(h,l,v,y),u.moveTo(d[0],d[1]),u.lineTo(a[0],a[1]),u.lineTo(v[0],v[1]),u.clip(),u.transform(r[0],r[2],r[1],r[3],t,c),u.translate(f[0]-s,f[3]-e),u.scale(n/i,-n/i),u.drawImage(p.canvas,0,0),u.restore())}),c&&(u.save(),u.strokeStyle="black",u.lineWidth=1,a.b.forEach(function(t){var e=t.target;t=(e[0][0]-g[0])/o;var i=-(e[0][1]-g[1])/o,n=(e[1][0]-g[0])/o,s=-(e[1][1]-g[1])/o,r=(e[2][0]-g[0])/o;e=-(e[2][1]-g[1])/o,u.beginPath(),u.moveTo(n,s),u.lineTo(t,i),u.lineTo(r,e),u.closePath(),u.stroke()}),u.restore()),u.canvas}function Qp(t,e,i,n,s){this.i=t,this.c=e;var o={},r=Kb(this.c,this.i);this.f=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=r(t)),o[e]},this.g=n,this.o=s*s,this.b=[],this.u=!1,this.l=this.i.f&&!!n&&!!this.i.C()&&La(n)==La(this.i.C()),this.a=this.i.C()?La(this.i.C()):null,this.j=this.c.C()?La(this.c.C()):null,t=[i[0],i[3]],e=[i[2],i[3]],n=[i[2],i[1]],i=[i[0],i[1]],s=this.f(t);var a=this.f(e),h=this.f(n),l=this.f(i);if(Rp(this,t,e,n,i,s,a,h,l,10),this.u){var c=1/0;this.b.forEach(function(t){c=Math.min(c,t.source[0][0],t.source[1][0],t.source[2][0])}),this.b.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-c>this.a/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-c>this.a/2&&(e[0][0]-=this.a),e[1][0]-c>this.a/2&&(e[1][0]-=this.a),e[2][0]-c>this.a/2&&(e[2][0]-=this.a),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.a/2&&(t.source=e)}},this)}o={}}function Rp(t,e,i,n,s,o,r,a,h,l){var c=va([o,r,a,h]),u=t.a?La(c)/t.a:null,f=t.a,p=t.i.f&&u>.5&&1>u,d=!1;if(l>0){if(t.c.i&&t.j){var g=va([e,i,n,s]);d|=.25<La(g)/t.j}!p&&t.i.i&&u&&(d|=u>.25)}if(d||!t.g||Ra(c,t.g)){if(!(d||isFinite(o[0])&&isFinite(o[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(l>0))return;d=!0}if(l>0&&(d||(c=t.f([(e[0]+n[0])/2,(e[1]+n[1])/2]),f=p?(ra(o[0],f)+ra(a[0],f))/2-ra(c[0],f):(o[0]+a[0])/2-c[0],c=(o[1]+a[1])/2-c[1],d=f*f+c*c>t.o),d))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(p=[(i[0]+n[0])/2,(i[1]+n[1])/2],f=t.f(p),c=[(s[0]+e[0])/2,(s[1]+e[1])/2],u=t.f(c),Rp(t,e,i,p,c,o,r,f,u,l-1),Rp(t,c,p,n,s,u,f,a,h,l-1)):(p=[(e[0]+i[0])/2,(e[1]+i[1])/2],f=t.f(p),c=[(n[0]+s[0])/2,(n[1]+s[1])/2],u=t.f(c),Rp(t,e,p,c,s,o,f,u,h,l-1),Rp(t,p,i,n,c,f,r,a,u,l-1)));if(p){if(!t.l)return;t.u=!0}t.b.push({source:[o,a,h],target:[e,n,s]}),t.b.push({source:[o,r,a],target:[e,i,n]})}}function Sp(t){var e=wa();return t.b.forEach(function(t){t=t.source,xa(e,t[0]),xa(e,t[1]),xa(e,t[2])}),e}function Tp(t,e,i,n,s,o,r,a,h,l,c){if(Zj.call(this,s,0),this.G=void 0!==c?c:!1,this.B=r,this.A=a,this.v=null,this.c=e,this.j=n,this.l=o?o:s,this.i=[],this.pb=null,this.g=0,o=ac(n,this.l),a=this.j.C(),s=this.c.C(),o=a?Pa(o,a):o,0===Ja(o))this.state=4;else if((a=t.C())&&(s=s?Pa(s,a):a),a=Na(o),c=n.a[this.l[0]],n=Mb(a,i,t),a=Ab(i,c,a),c=gb(i),void 0!==c&&(a*=c),c=gb(t),void 0!==c&&(a/=c),c=t.C(),(!c||Ca(c,n[0],n[1]))&&(n=Ab(t,a,n)/a,isFinite(n)&&n>0&&(a/=n)),n=a,!isFinite(n)||0>=n)this.state=4;else if(this.o=new Qp(t,i,o,s,n*(void 0!==l?l:.5)),0===this.o.b.length)this.state=4;else if(this.g=na(Pb(e.a,n,0),e.minZoom,e.maxZoom),i=Sp(this.o),s&&(t.f?(i[1]=na(i[1],s[1],s[3]),i[3]=na(i[3],s[1],s[3])):i=Pa(i,s)),Ja(i)){for(t=bc(e,i,this.g),e=t.N;e<=t.R;e++)for(i=t.L;i<=t.O;i++)(l=h(this.g,e,i,r))&&this.i.push(l);0===this.i.length&&(this.state=4)}else this.state=4}function Up(t){hp.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.Aa=void 0!==t.opaque?t.opaque:!1,this.Fa=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Mp(t.cacheSize),this.l=[0,0],this.Ha="",this.Ea={transition:t.transition}}function Oh(t,e,i,n,s){if(t=t.tb(e),!t)return!1;e=!0;for(var o,r,a=n.N;a<=n.R;++a)for(var h=n.L;h<=n.O;++h)o=i+"/"+a+"/"+h,r=!1,t.b.hasOwnProperty(o)&&(o=t.get(o),(r=2===o.state)&&(r=!1!==s(o))),r||(e=!1);return e}function ki(t,e,i,n){return n=t.Ca(n),i=t.Ib(i),e=ua(ec(n,e),t.l),1==i?e:ta(e,i,t.l)}function Vp(t,e,i){var n=void 0!==i?i:t.j;if(i=t.Ca(n),t.v&&n.i){var s=e;e=s[0],t=gc(i,s),n=ic(n),Ca(n,t[0],t[1])?e=s:(s=La(n),t[0]+=s*Math.ceil((n[0]-t[0])/s),e=fc(i,t[0],t[1],e,!1,void 0))}if(s=e[0],n=e[1],t=e[2],i.minZoom>s||s>i.maxZoom)i=!1;else{var o=i.C();i=(i=o?bc(i,o,s):i.b?i.b[s]:null)?ma(i,n,t):!0}return i?e:null}function Wp(t,e){tc.call(this,t),this.tile=e}function Xp(t){if(Up.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.c?this.c.bind(this):Lp,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");Yp(this,this.c?this.c.bind(this):Jp(e,this.tileGrid),i)}else if(t.url){e=t.url,i=[];var n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var s,o=n[2].charCodeAt(0);for(s=n[1].charCodeAt(0);o>=s;++s)i.push(e.replace(n[0],String.fromCharCode(s)))}else if(n=n=/\{(\d+)-(\d+)\}/.exec(e))for(o=parseInt(n[2],10),s=parseInt(n[1],10);o>=s;s++)i.push(e.replace(n[0],s.toString()));else i.push(e);i=this.urls=i,Yp(this,this.c?this.c.bind(this):Jp(i,this.tileGrid),e)}t.tileUrlFunction&&Yp(this,t.tileUrlFunction),this.B={}}function Yp(t,e,i){t.tileUrlFunction=e,Np(t.a),"undefined"!=typeof i?t.Ha!==i&&(t.Ha=i,t.D()):t.D()}function Zp(t){Xp.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:$p,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:ck,this.b={},this.A={},this.Ba=t.reprojectionErrorThreshold}function aq(t,e,i,n,s,o,r){return e=[e,i,n],s=(i=Vp(t,e,o))?t.tileUrlFunction(i,s,o):void 0,s=new t.tileClass(e,void 0!==s?0:4,void 0!==s?s:"",t.crossOrigin,t.tileLoadFunction,t.Ea),s.key=r,B(s,"change",t.va,t),s}function Uh(t,e,i,n,s,o){var r=t.j;if(r&&o&&!Jb(r,o)){var a=t.tb(o);n=[e,i,n];var h;if(e=n[0]+"/"+n[1]+"/"+n[2],a.b.hasOwnProperty(e)&&(h=a.get(e)),i=t.Ha,h&&h.key==i)return h;var l=t.Ca(r),c=t.Ca(o),u=Vp(t,n,o);return t=new Tp(r,l,o,c,n,u,t.Ib(s),t.Ac(),function(t,e,i,n){return bq(this,t,e,i,n,r)}.bind(t),t.Ba,!1),t.key=i,h?(t.a=h,bk(t),gh(a,e,t)):a.set(e,t),t}return bq(t,e,i,n,s,r||o)}function bq(t,e,i,n,s,o){var r=e+"/"+i+"/"+n,a=t.Ha;if(t.a.b.hasOwnProperty(r)){var h=t.a.get(r);if(h.key!=a){var l=h;h=aq(t,e,i,n,s,o,a),0==l.state?h.a=l.a:h.a=l,bk(h),gh(t.a,r,h)}}else h=aq(t,e,i,n,s,o,a),t.a.set(r,h);return h}function $p(t,e){t.U().src=e}function cq(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857";if(void 0!==t.tileGrid)var i=t.tileGrid;else{i={extent:ic(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize};var n={};Sa(n,void 0!==i?i:{}),void 0===n.extent&&(n.extent=Cb("EPSG:3857").C()),n.resolutions=jc(n.extent,n.maxZoom,n.tileSize),delete n.maxZoom,i=new Xb(n)}Zp.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0,transition:t.transition})}function dq(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+n}function eq(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],cq.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0!==t.opaque?t.opaque:!0,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function fq(t){t=t||{};var e=t.params||{};Zp.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0,transition:t.transition}),this.M=void 0!==t.gutter?t.gutter:0,this.g=e,this.G=!0,this.o=t.serverType,this.K=void 0!==t.hidpi?t.hidpi:!0,this.la=wa();t:{t=(""+(this.g.VERSION||"1.3.0")).split("."),e=["1","3"];for(var i=0;i<Math.max(t.length,e.length);i++){var n=parseInt(t[i]||"0",10),s=parseInt(e[i]||"0",10);if(n>s){t=1;break t}if(s>n){t=-1;break t}}t=0}this.G=t>=0,t=0,e=[];for(o in this.g)e[t++]=o+"-"+this.g[o];var o=e.join("/");this.Ha!==o&&(this.Ha=o,this.D())}function py2_round(t){return Math.floor(Math.abs(t)+.5)*Math.sign(t)}function encode(t,e,i){t=py2_round(t*i),e=py2_round(e*i);var n=t-e;n<<=1,0>t-e&&(n=~n);for(var s="";n>=32;)s+=String.fromCharCode((32|31&n)+63),n>>=5;return s+=String.fromCharCode(n+63)}function flipped(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].slice().reverse());return e}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=ot.type(t);return"function"===i||ot.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(ot.isFunction(e))return ot.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ot.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(gt.test(e))return ot.filter(e,t,i);e=ot.filter(e,t)}return ot.grep(t,function(t){return Q.call(e,t)>-1!==i})}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,i){e[i]=!0}),e}function r(){Y.removeEventListener("DOMContentLoaded",r),t.removeEventListener("load",r),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function h(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Et,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Pt.test(i)?ot.parseJSON(i):i}catch(s){}Ct.set(t,e,i)}else i=void 0;return i}function l(t,e,i,n){var s,o=1,r=20,a=n?function(){return n.cur()}:function(){return ot.css(t,e,"")},h=a(),l=i&&i[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==l&&+h)&&Tt.exec(ot.css(t,e));if(c&&c[3]!==l){l=l||c[3],i=i||[],c=+h||1;do o=o||".5",c/=o,ot.style(t,e,c+l);while(o!==(o=a()/h)&&1!==o&&--r)}return i&&(c=+c||+h||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=c,n.end=s)),s}function c(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],i):i}function u(t,e){for(var i=0,n=t.length;n>i;i++)_t.set(t[i],"globalEval",!e||_t.get(e[i],"globalEval"))}function f(t,e,i,n,s){for(var o,r,a,h,l,f,p=e.createDocumentFragment(),d=[],g=0,m=t.length;m>g;g++)if(o=t[g],o||0===o)if("object"===ot.type(o))ot.merge(d,o.nodeType?[o]:o);else if(It.test(o)){for(r=r||p.appendChild(e.createElement("div")),a=(Lt.exec(o)||["",""])[1].toLowerCase(),h=Rt[a]||Rt._default,r.innerHTML=h[1]+ot.htmlPrefilter(o)+h[2],f=h[0];f--;)r=r.lastChild;ot.merge(d,r.childNodes),r=p.firstChild,r.textContent=""}else d.push(e.createTextNode(o));for(p.textContent="",g=0;o=d[g++];)if(n&&ot.inArray(o,n)>-1)s&&s.push(o);else if(l=ot.contains(o.ownerDocument,o),r=c(p.appendChild(o),"script"),l&&u(r),i)for(f=0;o=r[f++];)Dt.test(o.type||"")&&i.push(o);return p}function p(){return!0}function d(){return!1}function g(){try{return Y.activeElement}catch(t){}}function m(t,e,i,n,s,o){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)m(t,a,i,n,e[a],o);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),s===!1)s=d;else if(!s)return this;return 1===o&&(r=s,s=function(t){return ot().off(t),r.apply(this,arguments)},s.guid=r.guid||(r.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,s,n,i)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){var i,n,s,o,r,a,h,l;if(1===e.nodeType){if(_t.hasData(t)&&(o=_t.access(t),r=_t.set(e,o),l=o.events)){delete r.handle,r.events={};for(s in l)for(i=0,n=l[s].length;n>i;i++)ot.event.add(e,s,l[s][i])}Ct.hasData(t)&&(a=Ct.access(t),h=ot.extend({},a),Ct.set(e,h))}}function w(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Nt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function M(t,e,i,n){e=K.apply([],e);var s,o,r,a,h,l,u=0,p=t.length,d=p-1,g=e[0],m=ot.isFunction(g);if(m||p>1&&"string"==typeof g&&!nt.checkClone&&Gt.test(g))return t.each(function(s){var o=t.eq(s);m&&(e[0]=g.call(this,s,o.html())),M(o,e,i,n)});if(p&&(s=f(e,t[0].ownerDocument,!1,t,n),o=s.firstChild,1===s.childNodes.length&&(s=o),o||n)){for(r=ot.map(c(s,"script"),y),a=r.length;p>u;u++)h=s,u!==d&&(h=ot.clone(h,!0,!0),a&&ot.merge(r,c(h,"script"))),i.call(t[u],h,u);if(a)for(l=r[r.length-1].ownerDocument,ot.map(r,b),u=0;a>u;u++)h=r[u],Dt.test(h.type||"")&&!_t.access(h,"globalEval")&&ot.contains(l,h)&&(h.src?ot._evalUrl&&ot._evalUrl(h.src):ot.globalEval(h.textContent.replace(Ht,"")))}return t}function k(t,e,i){for(var n,s=e?ot.filter(e,t):t,o=0;null!=(n=s[o]);o++)i||1!==n.nodeType||ot.cleanData(c(n)),n.parentNode&&(i&&ot.contains(n.ownerDocument,n)&&u(c(n,"script")),n.parentNode.removeChild(n));return t}function S(t,e){var i=ot(e.createElement(t)).appendTo(e.body),n=ot.css(i[0],"display");return i.detach(),n}function _(t){var e=Y,i=Vt[t];return i||(i=S(t,e),"none"!==i&&i||(zt=(zt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=zt[0].contentDocument,e.write(),e.close(),i=S(t,e),zt.detach()),Vt[t]=i),i}function C(t,e,i){var n,s,o,r,a=t.style;return i=i||Jt(t),i&&(r=i.getPropertyValue(e)||i[e],""!==r||ot.contains(t.ownerDocument,t)||(r=ot.style(t,e)),!nt.pixelMarginRight()&&Yt.test(r)&&Xt.test(e)&&(n=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=s,a.maxWidth=o)),void 0!==r?r+"":r}function P(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ie.length;i--;)if(t=ie[i]+e,t in ne)return t}function j(t,e,i){var n=Tt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function T(t,e,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=ot.css(t,i+At[o],!0,s)),n?("content"===i&&(r-=ot.css(t,"padding"+At[o],!0,s)),"margin"!==i&&(r-=ot.css(t,"border"+At[o]+"Width",!0,s))):(r+=ot.css(t,"padding"+At[o],!0,s),"padding"!==i&&(r+=ot.css(t,"border"+At[o]+"Width",!0,s)));return r}function A(e,i,n){var s=!0,o="width"===i?e.offsetWidth:e.offsetHeight,r=Jt(e),a="border-box"===ot.css(e,"boxSizing",!1,r);if(Y.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[i])),0>=o||null==o){if(o=C(e,i,r),(0>o||null==o)&&(o=e.style[i]),Yt.test(o))return o;s=a&&(nt.boxSizingReliable()||o===e.style[i]),o=parseFloat(o)||0}return o+T(e,i,n||(a?"border":"content"),s,r)+"px"}function O(t,e){for(var i,n,s,o=[],r=0,a=t.length;a>r;r++)n=t[r],n.style&&(o[r]=_t.get(n,"olddisplay"),i=n.style.display,e?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Ot(n)&&(o[r]=_t.access(n,"olddisplay",_(n.nodeName)))):(s=Ot(n),"none"===i&&s||_t.set(n,"olddisplay",s?i:ot.css(n,"display"))));for(r=0;a>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[r]||"":"none"));return t}function N(t,e,i,n,s){return new N.prototype.init(t,e,i,n,s)}function L(){return t.setTimeout(function(){se=void 0}),se=ot.now()}function D(t,e){var i,n=0,s={height:t};for(e=e?1:0;4>n;n+=2-e)i=At[n],s["margin"+i]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function R(t,e,i){for(var n,s=(B.tweeners[e]||[]).concat(B.tweeners["*"]),o=0,r=s.length;r>o;o++)if(n=s[o].call(i,e,t))return n}function I(t,e,i){var n,s,o,r,a,h,l,c,u=this,f={},p=t.style,d=t.nodeType&&Ot(t),g=_t.get(t,"fxshow");i.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],l=ot.css(t,"display"),c="none"===l?_t.get(t,"olddisplay")||_(t.nodeName):l,"inline"===c&&"none"===ot.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],re.exec(s)){if(delete e[n],o=o||"toggle"===s,s===(d?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;d=!0}f[n]=g&&g[n]||ot.style(t,n)}else l=void 0;if(ot.isEmptyObject(f))"inline"===("none"===l?_(t.nodeName):l)&&(p.display=l);else{g?"hidden"in g&&(d=g.hidden):g=_t.access(t,"fxshow",{}),o&&(g.hidden=!d),d?ot(t).show():u.done(function(){ot(t).hide()}),u.done(function(){var e;_t.remove(t,"fxshow");for(e in f)ot.style(t,e,f[e])});for(n in f)r=R(d?g[n]:0,n,u),n in g||(g[n]=r.start,d&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,s,o,r;for(i in t)if(n=ot.camelCase(i),s=e[n],o=t[i],ot.isArray(o)&&(s=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),r=ot.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=s)}else e[n]=s}function B(t,e,i){var n,s,o=0,r=B.prefilters.length,a=ot.Deferred().always(function(){delete h.elem}),h=function(){if(s)return!1;for(var e=se||L(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,o=1-n,r=0,h=l.tweens.length;h>r;r++)l.tweens[r].run(o);return a.notifyWith(t,[l,o,i]),1>o&&h?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},i),originalProperties:e,originalOptions:i,startTime:se||L(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ot.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(F(c,l.opts.specialEasing);r>o;o++)if(n=B.prefilters[o].call(l,t,c,l.opts))return ot.isFunction(n.stop)&&(ot._queueHooks(l.elem,l.opts.queue).stop=ot.proxy(n.stop,n)),n;return ot.map(c,R,l),ot.isFunction(l.opts.start)&&l.opts.start.call(t,l),ot.fx.timer(ot.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(t){return t.getAttribute&&t.getAttribute("class")||""}function W(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function $(t,e,i,n){function s(a){var h;return o[a]=!0,ot.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||r||o[l]?r?!(h=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),h}var o={},r=t===_e;return s(e.dataTypes[0])||!o["*"]&&s("*")}function G(t,e){var i,n,s=ot.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&ot.extend(!0,t,n),t}function U(t,e,i){for(var n,s,o,r,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){h.unshift(s);break}if(h[0]in i)o=h[0];else{for(s in i){if(!h[0]||t.converters[s+" "+h[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==h[0]&&h.unshift(o),i[o]):void 0}function H(t,e,i,n){var s,o,r,a,h,l={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=o,o=c.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(r=l[h+" "+o]||l["* "+o],!r)for(s in l)if(a=s.split(" "),a[1]===o&&(r=l[h+" "+a[0]]||l["* "+a[0]])){r===!0?r=l[s]:l[s]!==!0&&(o=a[0],c.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}function z(t,e,i,n){var s;if(ot.isArray(e))ot.each(e,function(e,s){i||je.test(t)?n(t,s):z(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)});else if(i||"object"!==ot.type(e))n(t,e);else for(s in e)z(t+"["+s+"]",e[s],i,n);
}function V(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var X=[],Y=t.document,J=X.slice,K=X.concat,Z=X.push,Q=X.indexOf,tt={},et=tt.toString,it=tt.hasOwnProperty,nt={},st="2.2.0",ot=function(t,e){return new ot.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ht=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:st,constructor:ot,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:X.sort,splice:X.splice},ot.extend=ot.fn.extend=function(){var t,e,i,n,s,o,r=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||ot.isFunction(r)||(r={}),a===h&&(r=this,a--);h>a;a++)if(null!=(t=arguments[a]))for(e in t)i=r[e],n=t[e],r!==n&&(l&&n&&(ot.isPlainObject(n)||(s=ot.isArray(n)))?(s?(s=!1,o=i&&ot.isArray(i)?i:[]):o=i&&ot.isPlainObject(i)?i:{},r[e]=ot.extend(l,o,n)):void 0!==n&&(r[e]=n));return r},ot.extend({expando:"jQuery"+(st+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"!==ot.type(t)||t.nodeType||ot.isWindow(t)?!1:t.constructor&&!it.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(at,"ms-").replace(ht,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,s=0;if(i(t))for(n=t.length;n>s&&e.call(t[s],s,t[s])!==!1;s++);else for(s in t)if(e.call(t[s],s,t[s])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ot.merge(n,"string"==typeof t?[t]:t):Z.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:Q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],o=0,r=t.length,a=!i;r>o;o++)n=!e(t[o],o),n!==a&&s.push(t[o]);return s},map:function(t,e,n){var s,o,r=0,a=[];if(i(t))for(s=t.length;s>r;r++)o=e(t[r],r,n),null!=o&&a.push(o);else for(r in t)o=e(t[r],r,n),null!=o&&a.push(o);return K.apply([],a)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(i=t[e],e=t,t=i),ot.isFunction(t)?(n=J.call(arguments,2),s=function(){return t.apply(e||this,n.concat(J.call(arguments)))},s.guid=t.guid=t.guid||ot.guid++,s):void 0},now:Date.now,support:nt}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=X[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,i,n){var s,o,r,a,h,l,u,p,d=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:q)!==O&&A(e),e=e||O,L)){if(11!==g&&(l=vt.exec(t)))if(s=l[1]){if(9===g){if(!(r=e.getElementById(s)))return i;if(r.id===s)return i.push(r),i}else if(d&&(r=d.getElementById(s))&&F(e,r)&&r.id===s)return i.push(r),i}else{if(l[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((s=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&!H[t+" "]&&(!D||!D.test(t))){if(1!==g)d=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=B),u=_(t),o=u.length,h=ft.test(a)?"#"+a:"[id='"+a+"']";o--;)u[o]=h+" "+f(u[o]);p=u.join(","),d=yt.test(t)&&c(e.parentNode)||e}if(p)try{return Z.apply(i,d.querySelectorAll(p)),i}catch(m){}finally{a===B&&e.removeAttribute("id")}}}return P(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>M.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function s(t){var e=O.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)M.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var s,o=t([],i.length,e),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,o=$++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,o)}:function(e,i,r){var a,h,l,c=[W,o];if(r){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[B]||(e[B]={}),h=l[e.uniqueID]||(l[e.uniqueID]={}),(a=h[n])&&a[0]===W&&a[1]===o)return c[2]=a[2];if(h[n]=c,c[2]=t(e,i,r))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var s=0,o=i.length;o>s;s++)e(t,i[s],n);return n}function m(t,e,i,n,s){for(var o,r=[],a=0,h=t.length,l=null!=e;h>a;a++)(o=t[a])&&(!i||i(o,n,s))&&(r.push(o),l&&e.push(a));return r}function v(t,e,i,s,o,r){return s&&!s[B]&&(s=v(s)),o&&!o[B]&&(o=v(o,r)),n(function(n,r,a,h){var l,c,u,f=[],p=[],d=r.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,f,t,a,h),b=i?o||(n?t:d||s)?[]:r:y;if(i&&i(y,b,a,h),s)for(l=m(b,p),s(l,[],a,h),c=l.length;c--;)(u=l[c])&&(b[p[c]]=!(y[p[c]]=u));if(n){if(o||t){if(o){for(l=[],c=b.length;c--;)(u=b[c])&&l.push(y[c]=u);o(null,b=[],l,h)}for(c=b.length;c--;)(u=b[c])&&(l=o?tt(n,u):f[c])>-1&&(n[l]=!(r[l]=u))}}else b=m(b===r?b.splice(d,b.length):b),o?o(null,r,b,h):Z.apply(r,b)})}function y(t){for(var e,i,n,s=t.length,o=M.relative[t[0].type],r=o||M.relative[" "],a=o?1:0,h=p(function(t){return t===e},r,!0),l=p(function(t){return tt(e,t)>-1},r,!0),c=[function(t,i,n){var s=!o&&(n||i!==E)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,s}];s>a;a++)if(i=M.relative[t[a].type])c=[p(d(c),i)];else{if(i=M.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;s>n&&!M.relative[t[n].type];n++);return v(a>1&&d(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),s>n&&y(t=t.slice(n)),s>n&&f(t))}c.push(i)}return d(c)}function b(t,i){var s=i.length>0,o=t.length>0,r=function(n,r,a,h,l){var c,u,f,p=0,d="0",g=n&&[],v=[],y=E,b=n||o&&M.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(E=r===O||r||l);d!==w&&null!=(c=b[d]);d++){if(o&&c){for(u=0,r||c.ownerDocument===O||(A(c),a=!L);f=t[u++];)if(f(c,r||O,a)){h.push(c);break}l&&(W=x)}s&&((c=!f&&c)&&p--,n&&g.push(c))}if(p+=d,s&&d!==p){for(u=0;f=i[u++];)f(g,v,r,a);if(n){if(p>0)for(;d--;)g[d]||v[d]||(v[d]=J.call(h));v=m(v)}Z.apply(h,v),l&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(h)}return l&&(W=x,E=y),g};return s?n(r):r}var x,w,M,k,S,_,C,P,E,j,T,A,O,N,L,D,R,I,F,B="sizzle"+1*new Date,q=t.document,W=0,$=0,G=i(),U=i(),H=i(),z=function(t,e){return t===e&&(T=!0),0},V=1<<31,X={}.hasOwnProperty,Y=[],J=Y.pop,K=Y.push,Z=Y.push,Q=Y.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",rt=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ht=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(ot),ft=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Mt=function(){A()};try{Z.apply(Y=Q.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch(kt){Z={apply:Y.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,N=O.documentElement,L=!S(O),(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Mt,!1):i.attachEvent&&i.attachEvent("onunload",Mt)),w.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=s(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(O.getElementsByClassName),w.getById=s(function(t){return N.appendChild(t).id=B,!O.getElementsByName||!O.getElementsByName(B).length}),w.getById?(M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var i=e.getElementById(t);return i?[i]:[]}},M.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete M.find.ID,M.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),M.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},M.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&L?e.getElementsByClassName(t):void 0},R=[],D=[],(w.qsa=mt.test(O.querySelectorAll))&&(s(function(t){N.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||D.push(".#.+[+~]")}),s(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=mt.test(I=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&s(function(t){w.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),R.push("!=",ot)}),D=D.length&&new RegExp(D.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(N.compareDocumentPosition),F=e||mt.test(N.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return T=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===O||t.ownerDocument===q&&F(q,t)?-1:e===O||e.ownerDocument===q&&F(q,e)?1:j?tt(j,t)-tt(j,e):0:4&i?-1:1)}:function(t,e){if(t===e)return T=!0,0;var i,n=0,s=t.parentNode,o=e.parentNode,a=[t],h=[e];if(!s||!o)return t===O?-1:e===O?1:s?-1:o?1:j?tt(j,t)-tt(j,e):0;if(s===o)return r(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;a[n]===h[n];)n++;return n?r(a[n],h[n]):a[n]===q?-1:h[n]===q?1:0},O):O},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==O&&A(t),i=i.replace(ct,"='$1']"),w.matchesSelector&&L&&!H[i+" "]&&(!R||!R.test(i))&&(!D||!D.test(i)))try{var n=I.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&A(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&A(t);var i=M.attrHandle[e.toLowerCase()],n=i&&X.call(M.attrHandle,e.toLowerCase())?i(t,e,!L):void 0;return void 0!==n?n:w.attributes||!L?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(T=!w.detectDuplicates,j=!w.sortStable&&t.slice(0),t.sort(z),T){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return j=null,t},k=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},M=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=_(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var o=e.attr(s,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(rt," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,h){var l,c,u,f,p,d,g=o!==r?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a,b=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[r?m.firstChild:m.lastChild],r&&y){for(f=m,u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),l=c[t]||[],p=l[0]===W&&l[1],b=p&&l[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[W,p,b];break}}else if(y&&(f=e,u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),l=c[t]||[],p=l[0]===W&&l[1],b=p),b===!1)for(;(f=++p&&f&&f[g]||(b=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(u=f[B]||(f[B]={}),c=u[f.uniqueID]||(u[f.uniqueID]={}),c[t]=[W,b]),f!==e)););return b-=s,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var s,o=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(s=[t,t,"",i],M.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=o(t,i),r=s.length;r--;)n=tt(t,s[r]),t[n]=!(e[n]=s[r])}):function(t){return o(t,0,s)}):o}},pseudos:{not:n(function(t){var e=[],i=[],s=C(t.replace(at,"$1"));return s[B]?n(function(t,e,i,n){for(var o,r=s(t,null,n,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,s(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},M.pseudos.nth=M.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})M.pseudos[x]=h(x);return u.prototype=M.filters=M.pseudos,M.setFilters=new u,_=e.tokenize=function(t,i){var n,s,o,r,a,h,l,c=U[t+" "];if(c)return i?0:c.slice(0);for(a=t,h=[],l=M.preFilter;a;){(!n||(s=ht.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),h.push(o=[])),n=!1,(s=lt.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(at," ")}),a=a.slice(n.length));for(r in M.filter)!(s=pt[r].exec(a))||l[r]&&!(s=l[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):U(t,h).slice(0)},C=e.compile=function(t,e){var i,n=[],s=[],o=H[t+" "];if(!o){for(e||(e=_(t)),i=e.length;i--;)o=y(e[i]),o[B]?n.push(o):s.push(o);o=H(t,b(s,n)),o.selector=t}return o},P=e.select=function(t,e,i,n){var s,o,r,a,h,l="function"==typeof t&&t,u=!n&&_(t=l.selector||t);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&w.getById&&9===e.nodeType&&L&&M.relative[o[1].type]){if(e=(M.find.ID(r.matches[0].replace(xt,wt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(s=pt.needsContext.test(t)?0:o.length;s--&&(r=o[s],!M.relative[a=r.type]);)if((h=M.find[a])&&(n=h(r.matches[0].replace(xt,wt),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(s,1),t=n.length&&f(o),!t)return Z.apply(i,n),i;break}}return(l||C(t,u))(n,e,!L,i,!e||yt.test(t)&&c(e.parentNode)||e),i},w.sortStable=B.split("").sort(z).join("")===B,w.detectDuplicates=!!T,A(),w.sortDetached=s(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ut=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&ot(t).is(i))break;n.push(t)}return n},ft=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},pt=ot.expr.match.needsContext,dt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ot.find.matchesSelector(n,t)?[n]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,i=this.length,n=[],s=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;i>e;e++)if(ot.contains(s[e],this))return!0}));for(e=0;i>e;e++)ot.find(t,s[e],n);return n=this.pushStack(i>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&pt.test(t)?ot(t):t||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||mt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),dt.test(n[1])&&ot.isPlainObject(e))for(n in e)ot.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return s=Y.getElementById(n[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==i.ready?i.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,mt=ot(Y);var bt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,o=[],r=pt.test(t)||"string"!=typeof t?ot(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ot.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Q.call(ot(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ut(t,"parentNode")},parentsUntil:function(t,e,i){return ut(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return ut(t,"nextSibling")},prevAll:function(t){return ut(t,"previousSibling")},nextUntil:function(t,e,i){return ut(t,"nextSibling",i)},prevUntil:function(t,e,i){return ut(t,"previousSibling",i)},siblings:function(t){return ft((t.parentNode||{}).firstChild,t)},children:function(t){return ft(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(i,n){var s=ot.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ot.filter(n,s)),this.length>1&&(xt[t]||ot.uniqueSort(s),bt.test(t)&&s.reverse()),this.pushStack(s)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,i,n,s,r=[],a=[],h=-1,l=function(){for(s=t.once,n=e=!0;a.length;h=-1)for(i=a.shift();++h<r.length;)r[h].apply(i[0],i[1])===!1&&t.stopOnFalse&&(h=r.length,i=!1);t.memory||(i=!1),e=!1,s&&(r=i?[]:"")},c={add:function(){return r&&(i&&!e&&(h=r.length-1,a.push(i)),function n(e){ot.each(e,function(e,i){ot.isFunction(i)?t.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==ot.type(i)&&n(i)})}(arguments),i&&!e&&l()),this},remove:function(){return ot.each(arguments,function(t,e){for(var i;(i=ot.inArray(e,r,i))>-1;)r.splice(i,1),h>=i&&h--}),this},has:function(t){return t?ot.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=a=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=a=[],i||(r=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(i){ot.each(e,function(e,o){var r=ot.isFunction(t[e])&&t[e];s[o[1]](function(){var t=r&&r.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,n):n}},s={};return n.pipe=n.then,ot.each(e,function(t,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,o=J.call(arguments),r=o.length,a=1!==r||t&&ot.isFunction(t.promise)?r:0,h=1===a?t:ot.Deferred(),l=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?J.call(arguments):s,n===e?h.notifyWith(i,n):--a||h.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>s;s++)o[s]&&ot.isFunction(o[s].promise)?o[s].promise().progress(l(s,i,e)).done(l(s,n,o)).fail(h.reject):--a;return a||h.resolveWith(n,o),h.promise()}});var Mt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Mt.resolveWith(Y,[ot]),ot.fn.triggerHandler&&(ot(Y).triggerHandler("ready"),ot(Y).off("ready"))))}}),ot.ready.promise=function(e){return Mt||(Mt=ot.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(ot.ready):(Y.addEventListener("DOMContentLoaded",r),t.addEventListener("load",r))),Mt.promise(e)},ot.ready.promise();var kt=function(t,e,i,n,s,o,r){var a=0,h=t.length,l=null==i;if("object"===ot.type(i)){s=!0;for(a in i)kt(t,e,a,i[a],!0,o,r)}else if(void 0!==n&&(s=!0,ot.isFunction(n)||(r=!0),l&&(r?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(ot(t),i)})),e))for(;h>a;a++)e(t[a],i,r?n:n.call(t[a],a,e(t[a],i)));return s?t:l?e.call(t):h?e(t[0],i):o},St=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!St(t))return{};var e=t[this.expando];return e||(e={},St(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[e]=i;else for(n in e)s[n]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,ot.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,s,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?n=e.concat(e.map(ot.camelCase)):(s=ot.camelCase(e),e in o?n=[e,s]:(n=s,n=n in o?[n]:n.match(wt)||[])),i=n.length;for(;i--;)delete o[n[i]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var _t=new a,Ct=new a,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/[A-Z]/g;ot.extend({hasData:function(t){return Ct.hasData(t)||_t.hasData(t)},data:function(t,e,i){return Ct.access(t,e,i)},removeData:function(t,e){Ct.remove(t,e)},_data:function(t,e,i){return _t.access(t,e,i)},_removeData:function(t,e){_t.remove(t,e)}}),ot.fn.extend({data:function(t,e){var i,n,s,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(s=Ct.get(o),1===o.nodeType&&!_t.get(o,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=ot.camelCase(n.slice(5)),h(o,n,s[n])));_t.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof t?this.each(function(){Ct.set(this,t)}):kt(this,function(e){var i,n;if(o&&void 0===e){if(i=Ct.get(o,t)||Ct.get(o,t.replace(Et,"-$&").toLowerCase()),void 0!==i)return i;if(n=ot.camelCase(t),i=Ct.get(o,n),void 0!==i)return i;if(i=h(o,n,void 0),void 0!==i)return i}else n=ot.camelCase(t),this.each(function(){var i=Ct.get(this,n);Ct.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Ct.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){
Ct.remove(this,t)})}}),ot.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=_t.get(t,e),i&&(!n||ot.isArray(i)?n=_t.access(t,e,ot.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ot.queue(t,e),n=i.length,s=i.shift(),o=ot._queueHooks(t,e),r=function(){ot.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete o.stop,s.call(t,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return _t.get(t,i)||_t.access(t,i,{empty:ot.Callbacks("once memory").add(function(){_t.remove(t,[e+"queue",i])})})}}),ot.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ot.queue(this[0],t):void 0===e?this:this.each(function(){var i=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=ot.Deferred(),o=this,r=this.length,a=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)i=_t.get(o[r],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Nt=/^(?:checkbox|radio)$/i,Lt=/<([\w:-]+)/,Dt=/^$|\/(?:java|ecma)script/i,Rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rt.optgroup=Rt.option,Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td;var It=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),i=Y.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ft=/^key/,Bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,i,n,s){var o,r,a,h,l,c,u,f,p,d,g,m=_t.get(t);if(m)for(i.handler&&(o=i,i=o.handler,s=o.selector),i.guid||(i.guid=ot.guid++),(h=m.events)||(h=m.events={}),(r=m.handle)||(r=m.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],l=e.length;l--;)a=qt.exec(e[l])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p&&(u=ot.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=ot.event.special[p]||{},c=ot.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&ot.expr.match.needsContext.test(s),namespace:d.join(".")},o),(f=h[p])||(f=h[p]=[],f.delegateCount=0,u.setup&&u.setup.call(t,n,d,r)!==!1||t.addEventListener&&t.addEventListener(p,r)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),s?f.splice(f.delegateCount++,0,c):f.push(c),ot.event.global[p]=!0)},remove:function(t,e,i,n,s){var o,r,a,h,l,c,u,f,p,d,g,m=_t.hasData(t)&&_t.get(t);if(m&&(h=m.events)){for(e=(e||"").match(wt)||[""],l=e.length;l--;)if(a=qt.exec(e[l])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(u=ot.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,f=h[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=f.length;o--;)c=f[o],!s&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,u.remove&&u.remove.call(t,c));r&&!f.length&&(u.teardown&&u.teardown.call(t,d,m.handle)!==!1||ot.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)ot.event.remove(t,p+e[l],i,n,!0);ot.isEmptyObject(h)&&_t.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,i,n,s,o,r=[],a=J.call(arguments),h=(_t.get(this,"events")||{})[t.type]||[],l=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(r=ot.event.handlers.call(this,t,h),e=0;(s=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((ot.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,o,r=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)o=e[i],s=o.selector+" ",void 0===n[s]&&(n[s]=o.needsContext?ot(s,this).index(h)>-1:ot.find(s,this,null,[h]).length),n[s]&&n.push(o);n.length&&r.push({elem:h,handlers:n})}return a<e.length&&r.push({elem:this,handlers:e.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Y,n=i.documentElement,s=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,i,n,s=t.type,o=t,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Bt.test(s)?this.mouseHooks:Ft.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new ot.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),r.filter?r.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?p:d):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==n&&!ot.contains(n,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ot.fn.extend({on:function(t,e,i,n){return m(this,t,e,i,n)},one:function(t,e,i,n){return m(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ot(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=d),this.each(function(){ot.event.remove(this,t,i,e)})}});var Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,$t=/<script|<style|<link/i,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^true\/(.*)/,Ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Wt,"<$1></$2>")},clone:function(t,e,i){var n,s,o,r,a=t.cloneNode(!0),h=ot.contains(t.ownerDocument,t);if(!(nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(r=c(a),o=c(t),n=0,s=o.length;s>n;n++)w(o[n],r[n]);if(e)if(i)for(o=o||c(t),r=r||c(a),n=0,s=o.length;s>n;n++)x(o[n],r[n]);else x(t,a);return r=c(a,"script"),r.length>0&&u(r,!h&&c(t,"script")),a},cleanData:function(t){for(var e,i,n,s=ot.event.special,o=0;void 0!==(i=t[o]);o++)if(St(i)){if(e=i[_t.expando]){if(e.events)for(n in e.events)s[n]?ot.event.remove(i,n):ot.removeEvent(i,n,e.handle);i[_t.expando]=void 0}i[Ct.expando]&&(i[Ct.expando]=void 0)}}}),ot.fn.extend({domManip:M,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return kt(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!$t.test(t)&&!Rt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return M(this,arguments,function(e){var i=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),i&&i.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var i,n=[],s=ot(t),o=s.length-1,r=0;o>=r;r++)i=r===o?this:this.clone(!0),ot(s[r])[e](i),Z.apply(n,i.get());return this.pushStack(n)}});var zt,Vt={HTML:"block",BODY:"block"},Xt=/^margin/,Yt=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),Jt=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},Kt=function(t,e,i,n){var s,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];s=i.apply(t,n||[]);for(o in e)t.style[o]=r[o];return s},Zt=Y.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Zt.appendChild(r);var e=t.getComputedStyle(a);i="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",s="4px"===e.marginRight,Zt.removeChild(r)}var i,n,s,o,r=Y.createElement("div"),a=Y.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.appendChild(a),ot.extend(nt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),o},reliableMarginRight:function(){var e,i=a.appendChild(Y.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Zt.appendChild(r),e=!parseFloat(t.getComputedStyle(i).marginRight),Zt.removeChild(r),a.removeChild(i),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","O","Moz","ms"],ne=Y.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=C(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,r,a=ot.camelCase(e),h=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=E(a)||a),r=ot.cssHooks[e]||ot.cssHooks[a],void 0===i?r&&"get"in r&&void 0!==(s=r.get(t,!1,n))?s:h[e]:(o=typeof i,"string"===o&&(s=Tt.exec(i))&&s[1]&&(i=l(t,e,s),o="number"),void(null!=i&&i===i&&("number"===o&&(i+=s&&s[3]||(ot.cssNumber[a]?"":"px")),nt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,n))||(h[e]=i))))}},css:function(t,e,i,n){var s,o,r,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=E(a)||a),r=ot.cssHooks[e]||ot.cssHooks[a],r&&"get"in r&&(s=r.get(t,!0,i)),void 0===s&&(s=C(t,e,n)),"normal"===s&&e in ee&&(s=ee[e]),""===i||i?(o=parseFloat(s),i===!0||isFinite(o)?o||0:s):s}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,i,n){return i?Qt.test(ot.css(t,"display"))&&0===t.offsetWidth?Kt(t,te,function(){return A(t,e,n)}):A(t,e,n):void 0},set:function(t,i,n){var s,o=n&&Jt(t),r=n&&T(t,e,n,"border-box"===ot.css(t,"boxSizing",!1,o),o);return r&&(s=Tt.exec(i))&&"px"!==(s[3]||"px")&&(t.style[e]=i,i=ot.css(t,e)),j(t,i,r)}}}),ot.cssHooks.marginLeft=P(nt.reliableMarginLeft,function(t,e){return e?(parseFloat(C(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=P(nt.reliableMarginRight,function(t,e){return e?Kt(t,{display:"inline-block"},C,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+At[n]+e]=o[n]||o[n-2]||o[0];return s}},Xt.test(t)||(ot.cssHooks[t+e].set=j)}),ot.fn.extend({css:function(t,e){return kt(this,function(t,e,i){var n,s,o={},r=0;if(ot.isArray(e)){for(n=Jt(t),s=e.length;s>r;r++)o[e[r]]=ot.css(t,e[r],!1,n);return o}return void 0!==i?ot.style(t,e,i):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,s,o){this.elem=t,this.prop=i,this.easing=s||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ot.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=N.prototype.init,ot.fx.step={};var se,oe,re=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return l(i.elem,t,Tt.exec(e),i),i}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var i,n=0,s=t.length;s>n;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[I],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),ot.speed=function(t,e,i){var n=t&&"object"==typeof t?ot.extend({},t):{complete:i||!i&&e||ot.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ot.isFunction(e)&&e};return n.duration=ot.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ot.fx.speeds?ot.fx.speeds[n.duration]:ot.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ot.isFunction(n.old)&&n.old.call(this),n.queue&&ot.dequeue(this,n.queue)},n},ot.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=ot.isEmptyObject(t),o=ot.speed(e,i,n),r=function(){var e=B(this,ot.extend({},t),o);(s||_t.get(this,"finish"))&&e.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",o=ot.timers,r=_t.get(this);if(s)r[s]&&r[s].stop&&n(r[s]);else for(s in r)r[s]&&r[s].stop&&ae.test(s)&&n(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=t&&o[s].queue!==t||(o[s].anim.stop(i),e=!1,o.splice(s,1));(e||!i)&&ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=_t.get(this),n=i[t+"queue"],s=i[t+"queueHooks"],o=ot.timers,r=n?n.length:0;for(i.finish=!0,ot.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var i=ot.fn[e];ot.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(D(e,!0),t,n,s)}}),ot.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,i=ot.timers;for(se=ot.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||ot.fx.stop(),se=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,i){return e=ot.fx?ot.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),i=e.appendChild(Y.createElement("option"));t.type="checkbox",nt.checkOn=""!==t.value,nt.optSelected=i.selected,e.disabled=!0,nt.optDisabled=!i.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",nt.radioValue="t"===t.value}();var he,le=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return kt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,i){var n,s,o=t.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof t.getAttribute?ot.prop(t,e,i):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),s=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void ot.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:(n=ot.find.attr(t,e),null==n?void 0:n)):void 0},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,s=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;i=o[s++];)n=ot.propFix[i]||i,ot.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),he={set:function(t,e,i){return e===!1?ot.removeAttr(t,i):t.setAttribute(i,i),i}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var i=le[e]||ot.find.attr;le[e]=function(t,e,n){var s,o;return n||(o=le[e],le[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,le[e]=o),s}});var ce=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return kt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,i){var n,s,o=t.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,s=ot.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),nt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var fe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,i,n,s,o,r,a,h=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];i=this[h++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(fe," ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=ot.trim(n),s!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,s,o,r,a,h=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];i=this[h++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(fe," ")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=ot.trim(n),s!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(i){ot(this).toggleClass(t.call(this,i,q(this),e),e)}):this.each(function(){var e,n,s,o;if("string"===i)for(n=0,s=ot(this),o=t.match(wt)||[];e=o[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(void 0===t||"boolean"===i)&&(e=q(this),e&&_t.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":_t.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(i)+" ").replace(fe," ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g;ot.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=ot.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,ot(this).val()):t,null==s?s="":"number"==typeof s?s+="":ot.isArray(s)&&(s=ot.map(s,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=ot.valHooks[s.type]||ot.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(pe,""):null==i?"":i)):void 0}}),ot.extend({valHooks:{option:{get:function(t){return ot.trim(t.value)}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,o="select-one"===t.type||0>s,r=o?null:[],a=o?s+1:n.length,h=0>s?a:o?s:0;a>h;h++)if(i=n[h],(i.selected||h===s)&&(nt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ot.nodeName(i.parentNode,"optgroup"))){if(e=ot(i).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var i,n,s=t.options,o=ot.makeArray(e),r=s.length;r--;)n=s[r],(n.selected=ot.inArray(ot.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},nt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var de=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,i,n,s){var o,r,a,h,l,c,u,f=[n||Y],p=it.call(e,"type")?e.type:e,d=it.call(e,"namespace")?e.namespace.split("."):[];if(r=a=n=n||Y,3!==n.nodeType&&8!==n.nodeType&&!de.test(p+ot.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[ot.expando]?e:new ot.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ot.makeArray(i,[e]),u=ot.event.special[p]||{},s||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!s&&!u.noBubble&&!ot.isWindow(n)){for(h=u.delegateType||p,de.test(h+p)||(r=r.parentNode);r;r=r.parentNode)f.push(r),a=r;a===(n.ownerDocument||Y)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(r=f[o++])&&!e.isPropagationStopped();)e.type=o>1?h:u.bindType||p,c=(_t.get(r,"events")||{})[e.type]&&_t.get(r,"handle"),c&&c.apply(r,i),c=l&&r[l],c&&c.apply&&St(r)&&(e.result=c.apply(r,i),e.result===!1&&e.preventDefault());return e.type=p,s||e.isDefaultPrevented()||u._default&&u._default.apply(f.pop(),i)!==!1||!St(n)||l&&ot.isFunction(n[p])&&!ot.isWindow(n)&&(a=n[l],a&&(n[l]=null),ot.event.triggered=p,n[p](),ot.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(t,e,i){var n=ot.extend(new ot.Event,i,{type:t,isSimulated:!0});ot.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ot.event.trigger(t,e,i,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),nt.focusin="onfocusin"in t,nt.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=_t.access(n,e);s||n.addEventListener(t,i,!0),_t.access(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=_t.access(n,e)-1;s?_t.access(n,e,s):(n.removeEventListener(t,i,!0),_t.remove(n,e))}}});var ge=t.location,me=ot.now(),ve=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return(!i||i.getElementsByTagName("parsererror").length)&&ot.error("Invalid XML: "+e),i};var ye=/#.*$/,be=/([?&])_=[^&]*/,xe=/^(.*?):[ \t]*([^\r\n]*)$/gm,we=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,ke=/^\/\//,Se={},_e={},Ce="*/".concat("*"),Pe=Y.createElement("a");Pe.href=ge.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:we.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,ot.ajaxSettings),e):G(ot.ajaxSettings,t)},ajaxPrefilter:W(Se),ajaxTransport:W(_e),ajax:function(e,i){function n(e,i,n,a){var l,u,y,b,w,k=i;2!==x&&(x=2,h&&t.clearTimeout(h),s=void 0,r=a||"",M.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=U(f,M,n)),b=H(f,b,M,l),l?(f.ifModified&&(w=M.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=M.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=b.state,u=b.data,y=b.error,l=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),M.status=e,M.statusText=(i||k)+"",l?g.resolveWith(p,[u,k,M]):g.rejectWith(p,[M,k,y]),M.statusCode(v),v=void 0,c&&d.trigger(l?"ajaxSuccess":"ajaxError",[M,f,l?u:y]),m.fireWith(p,[M,k]),c&&(d.trigger("ajaxComplete",[M,f]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var s,o,r,a,h,l,c,u,f=ot.ajaxSetup({},i),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?ot(p):ot.event,g=ot.Deferred(),m=ot.Callbacks("once memory"),v=f.statusCode||{},y={},b={},x=0,w="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=xe.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else M.always(t[M.status]);return this},abort:function(t){var e=t||w;return s&&s.abort(e),n(0,e),this}};if(g.promise(M).complete=m.add,M.success=M.done,M.error=M.fail,f.url=((e||f.url||ge.href)+"").replace(ye,"").replace(ke,ge.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=ot.trim(f.dataType||"*").toLowerCase().match(wt)||[""],null==f.crossDomain){l=Y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Pe.protocol+"//"+Pe.host!=l.protocol+"//"+l.host}catch(k){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ot.param(f.data,f.traditional)),$(Se,f,i,M),2===x)return M;c=ot.event&&f.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Me.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(ve.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=be.test(o)?o.replace(be,"$1_="+me++):o+(ve.test(o)?"&":"?")+"_="+me++)),f.ifModified&&(ot.lastModified[o]&&M.setRequestHeader("If-Modified-Since",ot.lastModified[o]),
ot.etag[o]&&M.setRequestHeader("If-None-Match",ot.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||i.contentType)&&M.setRequestHeader("Content-Type",f.contentType),M.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ce+"; q=0.01":""):f.accepts["*"]);for(u in f.headers)M.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(f.beforeSend.call(p,M,f)===!1||2===x))return M.abort();w="abort";for(u in{success:1,error:1,complete:1})M[u](f[u]);if(s=$(_e,f,i,M)){if(M.readyState=1,c&&d.trigger("ajaxSend",[M,f]),2===x)return M;f.async&&f.timeout>0&&(h=t.setTimeout(function(){M.abort("timeout")},f.timeout));try{x=1,s.send(y,n)}catch(k){if(!(2>x))throw k;n(-1,k)}}else n(-1,"No Transport");return M},getJSON:function(t,e,i){return ot.get(t,e,i,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,i,n,s){return ot.isFunction(i)&&(s=s||n,n=i,i=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:s,data:i,success:n},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(i){ot(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ee=/%20/g,je=/\[\]$/,Te=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var i,n=[],s=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){s(this.name,this.value)});else for(i in t)z(i,t[i],e,s);return n.join("&").replace(Ee,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Oe.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var i=ot(this).val();return null==i?null:ot.isArray(i)?ot.map(i,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:i.replace(Te,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ne={0:200,1223:204},Le=ot.ajaxSettings.xhr();nt.cors=!!Le&&"withCredentials"in Le,nt.ajax=Le=!!Le,ot.ajaxTransport(function(e){var i,n;return nt.cors||Le&&!e.crossDomain?{send:function(s,o){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(r in s)a.setRequestHeader(r,s[r]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ne[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(h){if(i)throw h}},abort:function(){i&&i()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,s){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){i&&i()}}}});var De=[],Re=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||ot.expando+"_"+me++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,i,n){var s,o,r,a=e.jsonp!==!1&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Re,"$1"+s):e.jsonp!==!1&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return r||ot.error(s+" was not called"),r[0]},e.dataTypes[0]="json",o=t[s],t[s]=function(){r=arguments},n.always(function(){void 0===o?ot(t).removeProp(s):t[s]=o,e[s]&&(e.jsonpCallback=i.jsonpCallback,De.push(s)),r&&ot.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),nt.createHTMLDocument=function(){var t=Y.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ot.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(nt.createHTMLDocument?Y.implementation.createHTMLDocument(""):Y);var n=dt.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=f([t],e,s),s&&s.length&&ot(s).remove(),ot.merge([],n.childNodes))};var Ie=ot.fn.load;ot.fn.load=function(t,e,i){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var n,s,o,r=this,a=t.indexOf(" ");return a>-1&&(n=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),r.length>0&&ot.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){o=arguments,r.html(n?ot("<div>").append(ot.parseHTML(t)).find(n):t)}).always(i&&function(t,e){r.each(function(){i.apply(r,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,i){var n,s,o,r,a,h,l,c=ot.css(t,"position"),u=ot(t),f={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=ot.css(t,"top"),h=ot.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+h).indexOf("auto")>-1,l?(n=u.position(),r=n.top,s=n.left):(r=parseFloat(o)||0,s=parseFloat(h)||0),ot.isFunction(e)&&(e=e.call(t,i,ot.extend({},a))),null!=e.top&&(f.top=e.top-a.top+r),null!=e.left&&(f.left=e.left-a.left+s),"using"in e?e.using.call(t,f):u.css(f)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,i,n=this[0],s={top:0,left:0},o=n&&n.ownerDocument;return o?(e=o.documentElement,ot.contains(e,n)?(s=n.getBoundingClientRect(),i=V(o),{top:s.top+i.pageYOffset-e.clientTop,left:s.left+i.pageXOffset-e.clientLeft}):s):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===ot.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(n=t.offset()),n.top+=ot.css(t[0],"borderTopWidth",!0)-t.scrollTop(),n.left+=ot.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-n.top-ot.css(i,"marginTop",!0),left:e.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Zt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;ot.fn[t]=function(n){return kt(this,function(t,n,s){var o=V(t);return void 0===s?o?o[e]:t[n]:void(o?o.scrollTo(i?o.pageXOffset:s,i?s:o.pageYOffset):t[n]=s)},t,n,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=P(nt.pixelPosition,function(t,i){return i?(i=C(t,e),Yt.test(i)?ot(t).position()[e]+"px":i):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ot.fn[n]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||s===!0?"margin":"border");return kt(this,function(e,i,n){var s;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?ot.css(e,i,r):ot.style(e,i,n,r)},e,o?n:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Fe=t.jQuery,Be=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Be),e&&t.jQuery===ot&&(t.jQuery=Fe),ot},e||(t.jQuery=t.$=ot),ot}),define("config/settings",[],function(){"use strict";return{geocache:{auth_url:"http://geopeitus.ee",features_url:"http://www.geopeitus.ee/index.php?p=301&status[]=1&format=2",cache_url:"http://geopeitus.ee/aare/"},map:{el:"map",center:[25.5,58.5],zoom:7,extent:[21,57,29,60],baseLayers:{osm:{type:"OSM",title:"OSM",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",projection:"EPSG:3857",crossOrigin:null},ma_orto:{type:"Group",title:"Foto",projection:"EPSG:3301",layers:[{type:"XYZ",projection:"EPSG:3857",url:"http://tiles.maaamet.ee/tm/tms/1.0.0/foto@GMC/{z}/{x}/{-y}.png",minResolution:1,crossOrigin:null},{type:"TileWMS",url:"http://kaart.maaamet.ee/wms/fotokaart",params:{LAYERS:"EESTIFOTO",TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},maxResolution:1,gutter:20,crossOrigin:null}]},ma_kaart:{type:"Group",title:"P√µhikaart",projection:"EPSG:3301",layers:[{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/kaart/{z}/{x}/{-y}.png",minResolution:7,crossOrigin:null},{type:"XYZ",url:"http://tiles.maaamet.ee/tm/s/1.0.0/epk_vv/{z}/{x}/{-y}.png",minResolution:1,maxResolution:7.8125,crossOrigin:null},{type:"TileWMS",url:"http://kaart.maaamet.ee/wms/alus",params:{LAYERS:"pohi_vv",TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},maxResolution:1,gutter:20,crossOrigin:null}]}},activeBaseLayer:"osm",geocodingEnabled:!0,locateEnabled:!0,clustered:!1,mouseCoordinates:!0,featureInfo:!0,scaleLine:!0,measureTool:!0},streetview_url:"https://www.google.com/maps/@?api=1&map_action=pano&viewpoint="}});var n,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;da("Math.cosh",function(t){if(t)return t;var e=Math.exp;return function(t){return t=Number(t),(e(t)+e(-t))/2}}),da("Object.is",function(t){return t?t:function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}});var ea=this,ha=0;w(ia,Error);var oa=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),Sa="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,s=arguments.length;s>n;++n){var o=arguments[n];if(void 0!==o&&null!==o)for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])}return i};Wa.prototype.offset=function(t,e,i){var n=qa(t[1]);e/=this.radius;var s=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(qa(t[0])+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(s)))/Math.PI,180*s/Math.PI]};var db={};db.degrees=12741994*Math.PI/360,db.ft=.3048,db.m=1,db["us-ft"]=1200/3937;var eb=null;fb.prototype.C=function(){return this.b},fb.prototype.j=function(t){this.b=t,this.f=!(!this.i||!t)},w(hb,fb);var kb=6378137*Math.PI,ib=[-kb,-kb,kb,kb],jb=[-180,-85,180,85],mb=[new hb("EPSG:3857"),new hb("EPSG:102100"),new hb("EPSG:102113"),new hb("EPSG:900913"),new hb("urn:ogc:def:crs:EPSG:6.18:3:3857"),new hb("urn:ogc:def:crs:EPSG::3857"),new hb("http://www.opengis.net/gml/srs/epsg.xml#3857")];w(qb,fb);var rb=[-180,-90,180,90],sb=6378137*Math.PI/180,tb=[new qb("CRS:84"),new qb("EPSG:4326","neu"),new qb("urn:ogc:def:crs:EPSG::4326","neu"),new qb("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new qb("urn:ogc:def:crs:OGC:1.3:CRS84"),new qb("urn:ogc:def:crs:OGC:2:84"),new qb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new qb("urn:x-ogc:def:crs:EPSG:4326","neu")],ub={},vb={},yb=new Wa(6371008.8);Eb(mb),Eb(tb),tb.forEach(function(t){mb.forEach(function(e){wb(t,e,ob),wb(e,t,pb)})});var Zb=[0,0,0];Xb.prototype.C=function(){return this.l},rc.prototype.Na=!1,rc.prototype.Z=fa,tc.prototype.preventDefault=tc.prototype.stopPropagation=function(){this.Id=!0},w(Ac,rc),Ac.prototype.addEventListener=function(t,e){var i=this.J[t];i||(i=this.J[t]=[]),-1===i.indexOf(e)&&i.push(e)},Ac.prototype.f=function(t){var e="string"==typeof t?new tc(t):t;t=e.type,e.target=this;var i=this.J[t];if(i){t in this.P||(this.P[t]=0,this.ba[t]=0),++this.P[t];for(var n=0,s=i.length;s>n;++n)if(!1===i[n].call(this,e)||e.Id){var o=!1;break}if(--this.P[t],0===this.P[t]){for(e=this.ba[t],delete this.ba[t];e--;)this.removeEventListener(t,fa);delete this.P[t]}return o}},Ac.prototype.Z=function(){var t,e=oc(this);for(t in e)pc(this,t)},Ac.prototype.removeEventListener=function(t,e){var i=this.J[t];i&&(e=i.indexOf(e),t in this.ba?(i[e]=fa,++this.ba[t]):(i.splice(e,1),0===i.length&&delete this.J[t]))},w(Cc,Ac),n=Cc.prototype,n.D=function(){++this.i,this.f("change")},n.Fe=function(){return this.i},n.lb=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,s=Array(n),o=0;n>o;++o)s[o]=B(this,t[o],e,i);return s}return B(this,t,e,i)},n.once=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,s=Array(n),o=0;n>o;++o)s[o]=B(this,t[o],e,i,!0);return s}return B(this,t,e,i,!0)},n.Zb=function(t,e,i){if(Array.isArray(t))for(var n=0,s=t.length;s>n;++n)qc(this,t[n],e,i);else qc(this,t,e,i)},w(D,Cc);var Dc={};n=D.prototype,n.get=function(t){var e;return this.u.hasOwnProperty(t)&&(e=this.u[t]),e},n.If=function(){return Object.keys(this.u)},n.La=function(){return Sa({},this.u)},n.set=function(t,e,i){i?this.u[t]=e:(i=this.u[t],this.u[t]=e,i!==e&&Fc(this,t,i))},n.ta=function(t,e){for(var i in t)this.set(i,t[i],e)},n.ig=function(t,e){if(t in this.u){var i=this.u[t];delete this.u[t],e||Fc(this,t,i)}},w(Gc,tc),w(J,D),n=J.prototype,n.clear=function(){for(;0<this.Va();)this.pop()},n.forEach=function(t,e){t=e?t.bind(e):t,e=this.a;for(var i=0,n=e.length;n>i;++i)t(e[i],i,e)},n.Be=function(){return this.a},n.item=function(t){return this.a[t]},n.Va=function(){return this.get(Jc)},n.Lb=function(t,e){this.b&&Hc(this,e),this.a.splice(t,0,e),Ic(this),this.f(new Kc("add",e))},n.pop=function(){return this.Jc(this.Va()-1)},n.push=function(t){this.b&&Hc(this,t);var e=this.Va();return this.Lb(e,t),this.Va()},n.remove=function(t){var e,i=this.a,n=0;for(e=i.length;e>n;++n)if(i[n]===t)return this.Jc(n)},n.Jc=function(t){var e=this.a[t];return this.a.splice(t,1),Ic(this),this.f(new Kc("remove",e)),e},n.ag=function(t,e){var i=this.Va();if(i>t)this.b&&Hc(this,e,t),i=this.a[t],this.a[t]=e,this.f(new Kc("remove",i)),this.f(new Kc("add",e));else{for(;t>i;++i)this.Lb(i,void 0);this.Lb(t,e)}};var Jc="length";w(Kc,tc),w(Lc,tc),w(Mc,Lc),Mc.prototype.preventDefault=function(){Lc.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Mc.prototype.stopPropagation=function(){Lc.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Nc="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Oc=-1!==Nc.indexOf("firefox"),Pc=-1!==Nc.indexOf("safari")&&-1==Nc.indexOf("chrom"),Qc=-1!==Nc.indexOf("webkit")&&-1==Nc.indexOf("edge"),Rc=-1!==Nc.indexOf("macintosh"),Sc=window.devicePixelRatio||1,Tc=!1;!function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return t?(void 0!==t.setLineDash&&(Tc=!0),!0):!1}catch(e){return!1}}();var Uc="geolocation"in navigator,Vc="ontouchstart"in window,Wc="PointerEvent"in window,Xc=!!navigator.msPointerEnabled,Yc={Dg:"singleclick",sg:"click",tg:"dblclick",wg:"pointerdrag",zg:"pointermove",vg:"pointerdown",Cg:"pointerup",Bg:"pointerover",Ag:"pointerout",xg:"pointerenter",yg:"pointerleave",ug:"pointercancel"};w(Zc,Mc),w(ad,$c),n=ad.prototype,n.mf=function(t){if(!bd(this,t)){1..toString()in this.f&&this.cancel(t);var e=cd(t);this.f[1..toString()]=t,ed(this.a,"pointerdown",e,t)}},n.nf=function(t){if(!bd(this,t)){var e=cd(t);ed(this.a,"pointermove",e,t)}},n.rf=function(t){if(!bd(this,t)){var e=this.f[1..toString()];e&&e.button===t.button&&(e=cd(t),ed(this.a,"pointerup",e,t),delete this.f[1..toString()])}},n.qf=function(t){if(!bd(this,t)){var e=cd(t);md(this.a,e,t)}},n.pf=function(t){if(!bd(this,t)){var e=cd(t);nd(this.a,e,t)}},n.cancel=function(t){var e=cd(t);this.a.cancel(e,t),delete this.f[1..toString()]},w(od,$c),n=od.prototype,n.wf=function(t){this.f[t.pointerId.toString()]=t;var e=pd(this,t);ed(this.a,"pointerdown",e,t)},n.xf=function(t){var e=pd(this,t);ed(this.a,"pointermove",e,t)},n.Af=function(t){var e=pd(this,t);ed(this.a,"pointerup",e,t),delete this.f[t.pointerId.toString()]},n.yf=function(t){var e=pd(this,t);nd(this.a,e,t)},n.zf=function(t){var e=pd(this,t);md(this.a,e,t)},n.vf=function(t){var e=pd(this,t);this.a.cancel(e,t),delete this.f[t.pointerId.toString()]},n.uf=function(t){this.a.f(new qd("lostpointercapture",t,t))},n.tf=function(t){this.a.f(new qd("gotpointercapture",t,t))},w(rd,$c),n=rd.prototype,n.Qf=function(t){sd(this.a,t)},n.Rf=function(t){sd(this.a,t)},n.Uf=function(t){sd(this.a,t)},n.Sf=function(t){sd(this.a,t)},n.Tf=function(t){sd(this.a,t)},n.Pf=function(t){sd(this.a,t)},n.jf=function(t){sd(this.a,t)},n.Je=function(t){sd(this.a,t)},w(qd,tc);var vd=!1;try{vd=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}w(wd,$c),n=wd.prototype,n.Ld=function(){this.g=0,this.b=void 0},n.hg=function(t){var e=t.touches,i=Object.keys(this.f),n=i.length;if(n>=e.length){var s,o=[];for(s=0;n>s;++s){var r,a=i[s],h=this.f[a];if(!(r=1==a))t:{for(var l=e.length,c=0;l>c;c++)if(r=e[c],r.identifier===a-2){r=!0;break t}r=!1}r||o.push(h.out)}for(s=0;s<o.length;++s)this.ic(t,o[s])}e=t.changedTouches[0],i=Object.keys(this.f).length,(0===i||1===i&&1..toString()in this.f)&&(this.i=e.identifier,void 0!==this.b&&clearTimeout(this.b)),zd(this,t),this.g++,yd(this,t,this.Of)},n.Of=function(t,e){this.f[e.pointerId]={target:e.target,out:e,Gd:e.target};var i=this.a;e.bubbles=!0,ed(i,"pointerover",e,t),i=this.a,e.bubbles=!1,ed(i,"pointerenter",e,t),ed(this.a,"pointerdown",e,t)},n.gg=function(t){t.preventDefault(),yd(this,t,this.sf)},n.sf=function(t,e){var i=this.f[e.pointerId];if(i){var n=i.out,s=i.Gd;ed(this.a,"pointermove",e,t),n&&s!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=s,n.target=s,e.target?(nd(this.a,n,t),md(this.a,e,t)):(e.target=s,e.relatedTarget=null,this.ic(t,e))),i.out=e,i.Gd=e.target}},n.fg=function(t){zd(this,t),yd(this,t,this.jg)},n.jg=function(t,e){ed(this.a,"pointerup",e,t),this.a.out(e,t),Ad(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.i=void 0,this.b=setTimeout(this.Ld.bind(this),200))},n.eg=function(t){yd(this,t,this.ic)},n.ic=function(t,e){this.a.cancel(e,t),this.a.out(e,t),Ad(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.i=void 0,this.b=setTimeout(this.Ld.bind(this),200))},w(Bd,Ac),Bd.prototype.b=function(t){var e=this.c[t.type];e&&e(t)},Bd.prototype.out=function(t,e){t.bubbles=!0,ed(this,"pointerout",t,e)},Bd.prototype.cancel=function(t,e){ed(this,"pointercancel",t,e)},Bd.prototype.Z=function(){for(var t,e=this.a.length,i=0;e>i;i++)t=this.a[i],Ed(this,Object.keys(t.c));Ac.prototype.Z.call(this)};var Fd=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];w(Gd,Ac),n=Gd.prototype,n.pd=function(t){Id(this,t);var e=new Zc("pointerup",this.i,t);this.f(e),e.Id||this.u||0!==t.button||Hd(this,this.b),0===this.A&&(this.c.forEach(A),this.c.length=0,this.u=!1,this.b=null,sc(this.a),this.a=null)},n.Ue=function(t){Id(this,t);var e=new Zc("pointerdown",this.i,t);this.f(e),this.b=t,0===this.c.length&&(this.a=new Bd(document),this.c.push(B(this.a,"pointermove",this.Hf,this),B(this.a,"pointerup",this.pd,this),B(this.g,"pointercancel",this.pd,this)))},n.Hf=function(t){if(Jd(this,t)){this.u=!0;var e=new Zc("pointerdrag",this.i,t,this.u);this.f(e)}t.preventDefault()},n.Xf=function(t){this.f(new Zc(t.type,this.i,t,!(!this.b||!Jd(this,t))))},n.Z=function(){this.o&&(A(this.o),this.o=null),this.l&&(A(this.l),this.l=null),this.c.forEach(A),this.c.length=0,this.a&&(sc(this.a),this.a=null),this.g&&(sc(this.g),this.g=null),Ac.prototype.Z.call(this)},Kd.prototype.clear=function(){this.a.length=0,this.f.length=0,Ta(this.i)},Kd.prototype.j=function(t){y(!(this.b(t)in this.i),31);var e=this.l(t);return 1/0!=e?(this.a.push(t),this.f.push(e),this.i[this.b(t)]=!0,Ld(this,0,this.a.length-1),!0):!1},w(Nd,Kd),Nd.prototype.j=function(t){var e=Kd.prototype.j.call(this,t);return e&&B(t[0],"change",this.u,this),e},Nd.prototype.u=function(t){t=t.target;var e=t.state;(2===e||3===e||4===e||5===e)&&(qc(t,"change",this.u,this),t=t.Wa(),t in this.c&&(delete this.c[t],--this.g),this.o())};var ne=Array(6);w(ue,D),ue.prototype.C=function(t){this.v!=this.i&&(this.o=this.mc(this.o),this.v=this.i);var e=this.o;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},ue.prototype.Xa=function(t,e){var i=this.ca;t=Cb(t);var n="tile-pixels"==t.a?function(n,s,o){var r=t.C(),a=t.Mc;return r=Ma(a)/Ma(r),te(i,a[0],a[3],r,-r,0,0,0),me(n,0,n.length,o,i,s),Kb(t,e)(n,s,o)}:Kb(t,e);return this.qb(n),this},w(ve,ue),n=ve.prototype,n.mc=function(t){return Ga(this.s,0,this.s.length,this.a,t)},n.W=function(){return this.s},n.Hb=function(t){if(this.l!=this.i&&(Ta(this.c),this.g=0,this.l=this.i),0>t||0!==this.g&&t<=this.g)return this;var e=t.toString();if(this.c.hasOwnProperty(e))return this.c[e];var i=this.gb(t);return i.W().length<this.s.length?this.c[e]=i:(this.g=t,this)},n.gb=function(){return this},n.$=function(){return this.a},n.qb=function(t){this.s&&(t(this.s,this.s,this.a),this.D())},n.rotate=function(t,e){var i=this.W();if(i){var n=i.length,s=this.$(),o=i?i:[],r=Math.cos(t);t=Math.sin(t);var a=e[0];e=e[1];for(var h=0,l=0;n>l;l+=s){var c=i[l]-a,u=i[l+1]-e;for(o[h++]=a+c*r-u*t,o[h++]=e+c*t+u*r,c=l+2;l+s>c;++c)o[h++]=i[c]}i&&o.length!=h&&(o.length=h),this.D()}},n.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var s=i;if(s||(s=Na(this.C())),i=this.W()){e=i.length;var o=this.$(),r=i?i:[],a=s[0];s=s[1];for(var h=0,l=0;e>l;l+=o){var c=i[l]-a,u=i[l+1]-s;for(r[h++]=a+t*c,r[h++]=s+n*u,c=l+2;l+o>c;++c)r[h++]=i[c]}i&&r.length!=h&&(r.length=h),this.D()}},w(Le,ve),n=Le.prototype,n.clone=function(){var t=new Le(null);return xe(t,this.X,this.s.slice()),t.D(),t},n.Ja=function(t,e,i,n){return n<Aa(this.C(),t,e)?n:(this.b!=this.i&&(this.j=Math.sqrt(Ae(this.s,0,this.s.length,this.a,0)),this.b=this.i),Ce(this.s,0,this.s.length,this.a,this.j,!0,t,e,i,n))},n.I=function(){return Ge(this.s,0,this.s.length,this.a)},n.gb=function(t){var e=[];return e.length=Je(this.s,0,this.s.length,this.a,t,e,0),t=new Le(null),xe(t,"XY",e),t.D(),t},n.F=function(){return"LinearRing"},n.ga=function(t,e){t?(ye(this,e,t,1),this.s||(this.s=[]),this.s.length=Ee(this.s,0,t,this.a)):xe(this,"XY",null),this.D()},w(Me,ve),n=Me.prototype,n.clone=function(){var t=new Me(null);return xe(t,this.X,this.s.slice()),t.D(),t},n.Ja=function(t,e,i,n){var s=this.s;if(t=pa(t,e,s[0],s[1]),n>t){for(n=this.a,e=0;n>e;++e)i[e]=s[e];return i.length=n,t}return n},n.I=function(){return this.s?this.s.slice():[]},n.mc=function(t){return Fa(this.s,t)},n.F=function(){return"Point"},n.ga=function(t,e){if(t){ye(this,e,t,0),this.s||(this.s=[]);var i,n=e=this.s,s=0,o=0;for(i=t.length;i>o;++o)n[s++]=t[o];e.length=s}else xe(this,"XY",null);this.D()},w(Te,ve),n=Te.prototype,n.clone=function(){var t=new Te(null);return $e(t,this.X,this.s.slice(),this.b.slice()),t},n.Ja=function(t,e,i,n){return n<Aa(this.C(),t,e)?n:(this.G!=this.i&&(this.K=Math.sqrt(Be(this.s,0,this.b,this.a,0)),this.G=this.i),De(this.s,0,this.b,this.a,this.K,!0,t,e,i,n))},n.I=function(t){if(void 0!==t){var e=this.Ya().slice();Re(e,0,this.b,this.a,t)}else e=this.s;return He(e,0,this.b,this.a)},n.Ga=function(){return this.b},n.xc=function(){if(this.A!=this.i){var t=Na(this.C());this.B=Oe(this.Ya(),0,this.b,this.a,t,0),this.A=this.i}return this.B},n.Ya=function(){if(this.M!=this.i){var t=this.s;Qe(t,this.b,this.a)?this.j=t:(this.j=t.slice(),this.j.length=Re(this.j,0,this.b,this.a)),this.M=this.i}return this.j},n.gb=function(t){var e=[],i=[];return e.length=Ke(this.s,0,this.b,this.a,Math.sqrt(t),e,0,i),t=new Te(null),$e(t,"XY",e,i),t},n.F=function(){return"Polygon"},n.ga=function(t,e){t?(ye(this,e,t,2),this.s||(this.s=[]),t=Fe(this.s,0,t,this.a,this.b),this.s.length=0===t.length?0:t[t.length-1],this.D()):$e(this,"XY",null,this.b)},w(bf,D),n=bf.prototype,n.animate=function(t){var e=arguments.length;if(e>1&&"function"==typeof arguments[e-1]){var i=arguments[e-1];--e}if(cf(this)){for(var n=Date.now(),s=this.ea().slice(),o=this.sa(),r=this.wa(),a=[],h=0;e>h;++h){var l=arguments[h],c={start:n,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||be};l.center&&(c.xb=s,c.zb=l.center,s=c.zb),void 0!==l.zoom?(c.yb=o,c.ab=this.constrainResolution(this.c,l.zoom-this.o,0),o=c.ab):l.resolution&&(c.yb=o,c.ab=l.resolution,o=c.ab),void 0!==l.rotation&&(c.Wb=r,c.Ab=r+(ra(l.rotation-r+Math.PI,2*Math.PI)-Math.PI),r=c.Ab),c.callback=i,c.xb&&c.zb&&!Yd(c.xb,c.zb)||c.yb!==c.ab||c.Wb!==c.Ab?n+=c.duration:c.complete=!0,a.push(c)}this.g.push(a),df(this,0,1),this.$b()}else e=arguments[e-1],e.center&&this.Ia(e.center),void 0!==e.zoom&&this.Od(e.zoom),void 0!==e.rotation&&this.Nb(e.rotation),i&&i(!0)},n.$b=function(){if(void 0!==this.v&&(cancelAnimationFrame(this.v),this.v=void 0),0<this.a[0]){for(var t=Date.now(),e=!1,i=this.g.length-1;i>=0;--i){for(var n=this.g[i],s=!0,o=0,r=n.length;r>o;++o){var a=n[o];if(!a.complete){if(e=t-a.start,e=0<a.duration?e/a.duration:1,e>=1?(a.complete=!0,e=1):s=!1,e=a.easing(e),a.xb){var h=a.xb[0],l=a.xb[1];this.set("center",[h+e*(a.zb[0]-h),l+e*(a.zb[1]-l)])}if(a.yb&&a.ab&&(h=1===e?a.ab:a.yb+e*(a.ab-a.yb),a.anchor&&this.set("center",ff(this,h,a.anchor)),this.set("resolution",h)),void 0!==a.Wb&&void 0!==a.Ab&&(e=1===e?ra(a.Ab+Math.PI,2*Math.PI)-Math.PI:a.Wb+e*(a.Ab-a.Wb),a.anchor&&this.set("center",gf(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}s&&(this.g[i]=null,df(this,0,-1),(n=n[0].callback)&&n(!0))}this.g=this.g.filter(Boolean),e&&void 0===this.v&&(this.v=requestAnimationFrame(this.$b))}},n.constrainResolution=function(t,e,i){return this.b.resolution(t,e||0,i||0)},n.constrainRotation=function(t,e){return this.b.rotation(t,e||0)},n.ea=function(){return this.get("center")},n.Kf=function(){return this.A},n.sa=function(){return this.get("resolution")},n.wa=function(){return this.get("rotation")},n.md=function(){var t=this.sa();if(void 0!==t){var e,i=this.o||0;if(this.j){i=e=Pb(this.j,t,1);var n=this.j[e];e=e==this.j.length-1?2:n/this.j[e+1]}else n=this.c,e=this.B;i+=Math.log(n/t)/Math.log(e)}return i},n.ue=function(t,e){e=e||{};var i=e.size;if(i||(i=hf(this)),t instanceof ve)if("Circle"===t.F()){t=t.C();var n=af(t);n.rotate(this.wa(),Na(t))}else n=t;else y(Array.isArray(t),24),y(!Ka(t),25),n=af(t);var s,o=void 0!==e.padding?e.padding:[0,0,0,0],r=void 0!==e.constrainResolution?e.constrainResolution:!0,a=void 0!==e.nearest?e.nearest:!1;s=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.c,e.maxZoom-this.o,0):0;var h=n.W(),l=this.wa();t=Math.cos(-l),l=Math.sin(-l);var c=1/0,u=1/0,f=-(1/0),p=-(1/0);n=n.$();for(var d=0,g=h.length;g>d;d+=n){var m=h[d]*t-h[d+1]*l,v=h[d]*l+h[d+1]*t;c=Math.min(c,m),u=Math.min(u,v),f=Math.max(f,m),p=Math.max(p,v)}i=jf(this,[c,u,f,p],[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]),i=isNaN(i)?s:Math.max(i,s),r&&(s=this.constrainResolution(i,0,0),!a&&i>s&&(s=this.constrainResolution(s,-1,0)),i=s),l=-l,s=(c+f)/2+(o[1]-o[3])/2*i,o=(u+p)/2+(o[0]-o[2])/2*i,t=[s*t-o*l,o*t+s*l],o=e.callback?e.callback:fa,void 0!==e.duration?this.animate({resolution:i,center:t,duration:e.duration,easing:e.easing},o):(lf(this,i),this.Ia(t),setTimeout(o.bind(void 0,!0),0))},n.rotate=function(t,e){void 0!==e&&(e=gf(this,t,e),this.Ia(e)),this.Nb(t)},n.Ia=function(t){this.set("center",t),0<this.a[0]&&ef(this)},n.Nb=function(t){this.set("rotation",t),0<this.a[0]&&ef(this)},n.Od=function(t){lf(this,this.constrainResolution(this.c,t-this.o,0))},w(of,D),n=of.prototype,n.F=function(){return this.type},n.C=function(){return this.get("extent")},n.ub=function(){return this.get("visible")},n.ja=function(){return this.get("zIndex")},n.bg=function(t){this.set("maxResolution",t)},n.cg=function(t){this.set("minResolution",t)},n.Mf=function(t){this.set("visible",t)},w(qf,of),n=qf.prototype,n.Kb=function(){this.D()},n.Qe=function(){this.c.forEach(A),this.c.length=0;var t=this.Ob();this.c.push(B(t,"add",this.Pe,this),B(t,"remove",this.Re,this));for(var e in this.b)this.b[e].forEach(A);Ta(this.b),t=t.a;var i;for(e=0,i=t.length;i>e;e++){var n=t[e];this.b[x(n).toString()]=[B(n,"propertychange",this.Kb,this),B(n,"change",this.Kb,this)]}this.D()},n.Pe=function(t){t=t.element;var e=x(t).toString();this.b[e]=[B(t,"propertychange",this.Kb,this),B(t,"change",this.Kb,this)],this.D()},n.Re=function(t){t=x(t.element).toString(),this.b[t].forEach(A),delete this.b[t],this.D()},n.Ob=function(){return this.get(rf)},n.Bc=function(t){var e=void 0!==t?t:[],i=e.length;this.Ob().forEach(function(t){t.Bc(e)}),t=pf(this);var n;for(n=e.length;n>i;i++){var s=e[i];s.opacity*=t.opacity,s.visible=s.visible&&t.visible,s.maxResolution=Math.min(s.maxResolution,t.maxResolution),s.minResolution=Math.max(s.minResolution,t.minResolution),void 0!==t.extent&&(s.extent=void 0!==s.extent?Pa(s.extent,t.extent):t.extent)}return e},n.Ec=function(){return"ready"};var rf="layers",sf=[],tf=[];w(Af,D),n=Af.prototype,n.he=function(t){this.controls.push(t)},n.ie=function(t){this.interactions.push(t)},n.je=function(t){this.B.push(t)},n.Yc=function(t){var e=t.id;void 0!==e&&(this.Hd[e.toString()]=t),t.setMap(this)},n.Z=function(){sc(this.Y),qc(this.a,"wheel",this.hb,this),qc(this.a,"mousewheel",this.hb,this),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.set("target",null),D.prototype.Z.call(this)},n.we=function(t,e,i){return this.b?(t=this.za(t),i=void 0!==i?i:{},this.$a.ua(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:ke,null)):void 0;
},n.gf=function(t,e){if(!this.b)return!1;t=this.za(t),e=void 0!==e?e:{};var i=this.$a;return void 0!==i.ua(t,this.b,void 0!==e.hitTolerance?e.hitTolerance*this.b.pixelRatio:0,ke,i,void 0!==e.layerFilter?e.layerFilter:ke,null)},n.Ce=function(t){return this.za(this.Gb(t))},n.Gb=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},n.Fc=function(){return this.get("target")},n.za=function(t){var e=this.b;return e?se(e.pixelToCoordinateTransform,t.slice()):null},n.Ee=function(){return this.interactions},n.Jf=function(){return this.get("layergroup").Ob()},n.Ka=function(t){var e=this.b;return e?se(e.coordinateToPixelTransform,t.slice(0,2)):null},n.Dc=function(){return this.$a},n.ib=function(){return this.get("size")},n.S=function(){return this.get("view")},n.Ie=function(){return this.a},n.He=function(t,e,i,n){var s=this.b;return s&&e in s.wantedTiles&&s.wantedTiles[e][t.Wa()]?(t=i[0]-s.focus[0],i=i[1]-s.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},n.hb=function(t,e){t=new Mc(e||t.type,this,t),this.od(t)},n.od=function(t){if(this.b){this.M=t.coordinate,t.frameState=this.b;var e,i=this.interactions.a;if(!1!==this.f(t))for(e=i.length-1;e>=0;e--){var n=i[e];if(n.get("active")&&!n.handleEvent(t))break}}},n.Xe=function(){var t=this.b,e=this.va;if(0!==e.a.length){var i=16,n=i;if(t){var s=t.viewHints;s[0]&&(i=this.Fa?8:0,n=2),s[1]&&(i=this.Oa?8:0,n=2)}if(e.g<i){s=e.l;var o,r=e.a,a=e.f,h=0,l=r.length;for(o=0;l>o;++o){var c=r[o],u=s(c);1/0==u?delete e.i[e.b(c)]:(a[h]=u,r[h++]=c)}for(r.length=h,a.length=h,s=(e.a.length>>1)-1;s>=0;s--)Md(e,s);for(s=0,r=!1;e.g<i&&n>s&&0<e.a.length;)a=e,l=a.a,c=a.f,h=l[0],1==l.length?(l.length=0,c.length=0):(l[0]=l.pop(),c[0]=c.pop(),Md(a,0)),l=a.b(h),delete a.i[l],h=h[0],l=h.Wa(),a=h.state,5===a?r=!0:0!==a||l in e.c||(e.c[l]=!0,++e.g,++s,h.load());0===s&&r&&e.o()}}for(e=this.la,n=0,i=e.length;i>n;++n)e[n](this,t);e.length=0},n.Ye=function(){this.render()},n.cf=function(){var t;if(this.Fc()&&(t=Cf(this)),this.l){for(var e=0,i=this.l.length;i>e;++e)A(this.l[e]);this.l=null}if(t){t.appendChild(this.a);var n=this.ca?this.ca:t;this.l=[B(n,"keydown",this.hb,this),B(n,"keypress",this.hb,this)],this.c||(this.c=this.Rd.bind(this),window.addEventListener("resize",this.c,!1))}else{t=this.$a;for(n in t.f)sc(Df(t,n));nf(this.a),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0)}this.Rd()},n.df=function(){this.render()},n.qd=function(){this.render()},n.ff=function(){this.K&&(A(this.K),this.K=null),this.G&&(A(this.G),this.G=null);var t=this.S();t&&(this.a.setAttribute("data-view",x(t)),this.K=B(t,"propertychange",this.qd,this),this.G=B(t,"change",this.qd,this)),this.render()},n.Oe=function(){this.A&&(this.A.forEach(A),this.A=null);var t=this.get("layergroup");t&&(this.A=[B(t,"propertychange",this.render,this),B(t,"change",this.render,this)]),this.render()},n.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.Aa))},n.Yf=function(t){return this.interactions.remove(t)},n.Zf=function(){var t,e=Date.now(),i=this.ib(),n=this.S(),s=wa(),o=this.b,r=null;if(void 0!==i&&0<i[0]&&0<i[1]&&n&&cf(n)){r=this.b?this.b.viewHints:void 0,void 0!==r?(r[0]=n.a[0],r[1]=n.a[1]):r=n.a.slice();var a=this.get("layergroup").Bc(),h={},l=0;for(t=a.length;t>l;++l)h[x(a[l].layer)]=a[l];l=kf(n),n=l.center,t=l.resolution/this.ka,n[0]=Math.round(n[0]/t)*t,n[1]=Math.round(n[1]/t)*t,r={animate:!1,coordinateToPixelTransform:this.Ba,extent:s,focus:this.M?this.M:n,index:this.Ea++,layerStates:h,layerStatesArray:a,logos:Sa({},this.ac),pixelRatio:this.ka,pixelToCoordinateTransform:this.bc,postRenderFunctions:[],size:i,skippedFeatureUids:this.cc,tileQueue:this.va,time:e,usedTiles:{},viewState:l,viewHints:r,wantedTiles:{}}}r&&(r.extent=Oa(l.center,l.resolution,l.rotation,r.size,s)),this.b=r,this.$a.j(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.la,r.postRenderFunctions),!o||this.g&&(Ka(this.g)||Ha(r.extent,this.g))||(this.f(new Lc("movestart",this,o)),this.g=Ea(this.g)),!this.g||r.viewHints[0]||r.viewHints[1]||Ha(r.extent,this.g)||(this.f(new Lc("moveend",this,r)),za(r.extent,this.g))),this.f(new Lc("postrender",this,r)),setTimeout(this.Xe.bind(this),0)},n.Rd=function(){var t=Cf(this);if(t){var e=getComputedStyle(t);this.set("size",[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set("size",void 0)};var Ef=["canvas","webgl"];w(Ff,D),Ff.prototype.Z=function(){nf(this.element),D.prototype.Z.call(this)},Ff.prototype.setMap=function(t){this.b&&nf(this.element);for(var e=0,i=this.l.length;i>e;++e)A(this.l[e]);this.l.length=0,(this.b=t)&&((this.G?this.G:t.o).appendChild(this.element),this.render!==fa&&this.l.push(B(t,"postrender",this.render,this)),t.render())};var Gf=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}();w(Hf,of),n=Hf.prototype,n.Bc=function(t){return t=t?t:[],t.push(pf(this)),t},n.da=function(){return this.get("source")||null},n.Ec=function(){var t=this.da();return t?t.ka:"undefined"},n.$e=function(){this.D()},n.af=function(){this.l&&(A(this.l),this.l=null);var t=this.da();t&&(this.l=B(t,"change",this.$e,this)),this.D()},n.setMap=function(t){this.c&&(A(this.c),this.c=null),t||this.D(),this.g&&(A(this.g),this.g=null),t&&(this.c=B(t,"precompose",function(t){var e=pf(this);e.Gc=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[x(this)]=e},this),this.g=B(this,"change",t.render,t),this.D())},w(If,Ff),If.prototype.M=function(t){if(t.preventDefault(),this.element.classList.toggle("ol-collapsed"),this.a){t=this.o;var e=t.parentNode;e&&e.replaceChild(this.j,t)}else t=this.j,(e=t.parentNode)&&e.replaceChild(this.o,t);this.a=!this.a},w(Kf,Ff),Kf.prototype.v=function(t){t.preventDefault(),void 0!==this.g?this.g():(t=this.b.S())&&void 0!==t.wa()&&(0<this.j?t.animate({rotation:0,duration:this.j,easing:ae}):t.Nb(0))},w(Mf,Ff),Mf.prototype.c=function(t,e){if(e.preventDefault(),e=this.b.S()){var i=e.sa();i&&(t=e.constrainResolution(i,t),0<this.a?(0<e.a[0]&&ef(e),e.animate({resolution:t,duration:this.a,easing:ae})):lf(e,t))}},w(Rf,D),Rf.prototype.jb=function(t){this.set("active",t)},Rf.prototype.setMap=function(t){this.A=t},w(Vf,Rf),w(dg,Rf),dg.prototype.G=function(t){return t},w(gg,dg),gg.prototype.G=le,w(kg,dg),kg.prototype.G=le,w(og,rc),og.prototype.Z=function(){this.setMap(null)},og.prototype.setMap=function(t){if(this.a){this.a.v.removeChild(this.f);var e=this.f.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.v.appendChild(this.f)},og.prototype.T=function(){return this.Ua},w(rg,dg),rg.prototype.T=function(){return this.a.T()},rg.prototype.g=fa;var zg="boxstart",xg="boxdrag",yg="boxend";w(wg,tc),w(Ag,rg),Ag.prototype.g=function(){var t=this.A,e=t.S(),i=t.ib(),n=this.T().C();if(this.M){var s=i||hf(e),o=e.ea();y(o,1);var r=e.sa();y(void 0!==r,2);var a=e.wa();for(y(void 0!==a,3),s=Oa(o,r,a,s),n=[t.Ka([n[0],n[1]]),t.Ka([n[2],n[3]])],t=Ea(void 0),o=0,r=n.length;r>o;++o)xa(t,n[o]);t=1/jf(e,t,i),n=(s[2]-s[0])/2*(t-1),t=(s[3]-s[1])/2*(t-1),s[0]-=n,s[2]+=n,s[1]-=t,s[3]+=t,n=s}i=e.constrainResolution(jf(e,n,i)),s=Na(n),s=e.b.center(s),e.animate({resolution:i,center:s,duration:this.B,easing:ae})},w(Bg,Rf),w(Dg,Rf),w(Fg,Rf),Fg.prototype.v=function(){this.j=void 0,df(this.A.S(),1,-1)},Fg.prototype.B=function(t){t=t.S(),0<t.a[0]&&ef(t),Tf(t,-na(this.g,-1,1),this.a,this.o),this.c=void 0,this.g=0,this.a=null,this.l=this.b=void 0};var Hg="trackpad",Ig="wheel";w(Jg,dg),Jg.prototype.G=le,w(Yg,dg),Yg.prototype.G=le,w(bh,Ac),bh.prototype.C=function(){return this.extent},w(ch,bh),ch.prototype.a=function(t){this.state=t?3:2,this.f("change")},ch.prototype.load=function(){0==this.state&&(this.state=1,this.f("change"),this.c(this.a.bind(this)))},ch.prototype.U=function(){return this.b},w(dh,tc),w(eh,Ac),n=eh.prototype,n.clear=function(){this.c=0,this.b={},this.a=this.i=null,this.f("clear")},n.forEach=function(t,e){for(var i=this.i;i;)t.call(e,i.bb,i.Ha,this),i=i.ra},n.get=function(t){return t=this.b[t],y(void 0!==t,15),t===this.a?t.bb:(t===this.i?(this.i=this.i.ra,this.i.Da=null):(t.ra.Da=t.Da,t.Da.ra=t.ra),t.ra=null,t.Da=this.a,this.a=this.a.ra=t,t.bb)},n.remove=function(t){var e=this.b[t];return y(void 0!==e,15),e===this.a?(this.a=e.Da)&&(this.a.ra=null):e===this.i?(this.i=e.ra)&&(this.i.Da=null):(e.ra.Da=e.Da,e.Da.ra=e.ra),delete this.b[t],--this.c,e.bb},n.pop=function(){var t=this.i;return delete this.b[t.Ha],t.ra&&(t.ra.Da=null),this.i=t.ra,this.i||(this.a=null),--this.c,t.bb},n.set=function(t,e){y(!(t in this.b),16),e={Ha:t,ra:null,Da:this.a,bb:e},this.a?this.a.ra=e:this.i=e,this.a=e,this.b[t]=e,++this.c};var hh=[0,0,0,1],ih=[],jh=[0,0,0,1],kh=[0,0,0,0],lh=new eh,mh={},nh=null,oh={},qh=function(){function t(t){var e=ph();e.font="32px monospace",n=e.measureText("wmytzilWMYTZIL@#/&?$%10").width;var i=!0;return"monospace"!=t&&(e.font="32px "+t+",monospace",i=e.measureText("wmytzilWMYTZIL@#/&?$%10").width!=n),i}function e(){var e,n=!0;for(e in s)60>s[e]&&(t(e)?(s[e]=60,Ta(oh),nh=null,o.clear()):(++s[e],n=!1));n&&(window.clearInterval(i),i=void 0)}var i,n,s=mh,o=lh;return function(n){if(n=Gf(n))for(var o=0,r=n.length;r>o;++o){var a=n[o];a in s||(s[a]=60,t(a)||(s[a]=0,void 0===i&&(i=window.setInterval(e,32))))}}}(),rh=function(){var t;return function(e){var i=oh[e];return void 0==i&&(t||(t=document.createElement("span"),t.textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=e,document.body.appendChild(t),i=oh[e]=t.offsetHeight,document.body.removeChild(t)),i}}(),uh=oe(),wh=/^#(?:[0-9a-f]{3,4}){1,2}$/i,xh=/^([a-z]*)$/i,Ah=function(){var t={},e=0;return function(i){if(t.hasOwnProperty(i))var n=t[i];else{if(e>=1024){n=0;for(var s in t)0===(3&n++)&&(delete t[s],--e)}if(n=i,xh.exec(n)&&(s=document.createElement("div"),s.style.color=n,document.body.appendChild(s),n=getComputedStyle(s).color,document.body.removeChild(s)),wh.exec(n)){s=n.length-1;var o=4>=s?1:2,r=4===s||8===s;s=parseInt(n.substr(1+0*o,o),16);var a=parseInt(n.substr(1+1*o,o),16),h=parseInt(n.substr(1+2*o,o),16);n=r?parseInt(n.substr(1+3*o,o),16):255,1==o&&(s=(s<<4)+s,a=(a<<4)+a,h=(h<<4)+h,r&&(n=(n<<4)+n)),o=[s,a,h,n/255]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),o=zh(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),o=zh(n)):y(!1,14);n=o,t[i]=n,++e}return n}}();n=Ch.prototype,n.ed=function(){},n.oc=function(){},n.pc=function(){},n.qc=function(){},n.rc=function(){},n.sc=function(){},n.tc=function(){},n.uc=function(){},n.Qa=function(){},n.Ta=function(){},n.Ub=function(){},n.Ma=function(){},w(Dh,Ch),n=Dh.prototype,n.oc=function(t){if(Ra(this.c,t.C())){if(this.f||this.a){this.f&&Gh(this,this.f),this.a&&Hh(this,this.a);var e=this.P,i=this.J,n=t.W();e=n?me(n,0,n.length,t.$(),e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.i,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.f&&n.fill(),this.a&&n.stroke()}""!==this.aa&&Fh(this,t.ea(),2,2)}},n.tc=function(t){var e=t.W();t=t.$(),this.H&&Eh(this,e,e.length),""!==this.aa&&Fh(this,e,e.length,t)},n.rc=function(t){var e=t.W();t=t.$(),this.H&&Eh(this,e,e.length),""!==this.aa&&Fh(this,e,e.length,t)},n.pc=function(t){if(Ra(this.c,t.C())){if(this.a){Hh(this,this.a);var e=this.i,i=t.W();e.beginPath(),Ih(this,i,0,i.length,t.$(),!1),e.stroke()}""!==this.aa&&(t=t.yc(),Fh(this,t,2,2))}},n.qc=function(t){var e=t.C();if(Ra(this.c,e)){if(this.a){Hh(this,this.a),e=this.i;var i=t.W(),n=0,s=t.Ga(),o=t.$();e.beginPath();var r,a=0;for(r=s.length;r>a;++a)n=Ih(this,i,n,s[a],o,!1);e.stroke()}""!==this.aa&&(t=t.zc(),Fh(this,t,t.length,2))}},n.uc=function(t){if(Ra(this.c,t.C())){if(this.a||this.f){this.f&&Gh(this,this.f),this.a&&Hh(this,this.a);var e=this.i;e.beginPath(),Jh(this,t.Ya(),0,t.Ga(),t.$()),this.f&&e.fill(),this.a&&e.stroke()}""!==this.aa&&(t=t.xc(),Fh(this,t,2,2))}},n.sc=function(t){if(Ra(this.c,t.C())){if(this.a||this.f){this.f&&Gh(this,this.f),this.a&&Hh(this,this.a);var e,i=this.i,n=Kh(t),s=0,o=t.sb(),r=t.$();i.beginPath();var a=0;for(e=o.length;e>a;++a)s=Jh(this,n,s,o[a],r);this.f&&i.fill(),this.a&&i.stroke()}""!==this.aa&&(t=Lh(t),Fh(this,t,t.length,2))}},n.Ta=function(t,e){if(t?(t=t.a,this.f={fillStyle:Bh(t?t:hh)}):this.f=null,e){t=e.a;var i=e.c,n=e.f,s=e.g,o=e.j,r=e.b;e=e.u,this.a={lineCap:void 0!==i?i:"round",lineDash:n?n:ih,lineDashOffset:s?s:0,lineJoin:void 0!==o?o:"round",lineWidth:this.g*(void 0!==r?r:1),miterLimit:void 0!==e?e:10,strokeStyle:Bh(t?t:jh)}}else this.a=null},n.Ub=function(t){if(t){var e=t.Fb(),i=t.U(1),n=t.Rb(),s=t.kb();this.v=e[0],this.A=e[1],this.B=s[1],this.H=i,this.o=t.c,this.Y=n[0],this.ya=n[1],this.ka=t.v,this.la=t.l,this.b=t.b*this.g,this.va=t.o,this.ba=s[0]}else this.H=null},n.Ma=function(t){if(t){var e=t.na();e?(e=e.a,this.j={fillStyle:Bh(e?e:hh)}):this.j=null;var i=t.ia();if(i){e=i.a;var n=i.c,s=i.f,o=i.g,r=i.j,a=i.b;i=i.u,this.u={lineCap:void 0!==n?n:"round",lineDash:s?s:ih,lineDashOffset:o?o:0,lineJoin:void 0!==r?r:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:Bh(e?e:jh)}}else this.u=null;e=t.f,n=t.i,s=t.b,o=t.c,r=t.g,a=t.a,i=t.qa();var h=t.j;t=t.u,this.G={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==t?t:"middle"},this.aa=void 0!==i?i:"",this.Na=void 0!==n?this.g*n:0,this.Aa=void 0!==s?this.g*s:0,this.Ba=void 0!==o?o:!1,this.Ea=void 0!==r?r:0,this.l=this.g*(void 0!==a?a:1)}else this.aa=""},w(Mh,Cc),Mh.prototype.ua=fa,Mh.prototype.M=function(t){2===t.target.state&&Ph(this)},w(Vh,Mh),Vh.prototype.Sb=function(t,e,i,n){Xh(this,"postcompose",t,e,n)},w(Zh,Vh),Zh.prototype.lc=function(t,e,i){Xh(this,"precompose",i,t,void 0);var n=this.U();if(n){var s=e.extent,o=void 0!==s&&!Ba(s,t.extent)&&Ra(s,t.extent);o&&Wh(i,t,s),s=this.u();var r=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(s[4]),Math.round(s[5]),Math.round(n.width*s[0]),Math.round(n.height*s[3])),i.globalAlpha=r,o&&i.restore()}this.Sb(i,t,e)},Zh.prototype.ua=function(t,e,i,n,s){var o=this.a;return o.da().ua(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(s,t,o)})},w(wf,Zh),wf.handles=function(t,e){return"canvas"===t&&("IMAGE"===e.F()||"VECTOR"===e.F()&&"image"===e.b)},wf.create=function(t,e){var i=new wf(e);if("VECTOR"===e.F())for(var n=0,s=tf.length;s>n;++n){var o=tf[n];o!==wf&&o.handles("canvas",e)&&(o=o.create(t,e),i.b=o)}return i},wf.prototype.U=function(){return this.H?this.H.U():null},wf.prototype.u=function(){return this.c},wf.prototype.mb=function(t,e){var i=t.pixelRatio,n=t.size,s=t.viewState,o=s.center,r=s.resolution,a=this.a.da(),h=t.viewHints,l=t.extent;if(void 0!==e.extent&&(l=Pa(l,e.extent)),!h[0]&&!h[1]&&!Ka(l))if(h=s.projection,s=this.b){h=s.context;var c=Sa({},t,{size:[La(l)/r,Ma(l)/r],viewState:Sa({},t.viewState,{rotation:0})}),u=Object.keys(c.skippedFeatureUids).sort();!s.mb(c,e)||!s.j&&Rb(u,this.l)||(h.canvas.width=c.size[0]*i,h.canvas.height=c.size[1]*i,s.lc(c,e,h),this.H=new ch(l,r,i,h.canvas),this.l=u)}else(l=e=a.U(l,r,i,h))&&(l=e,s=l.state,2!=s&&3!=s&&B(l,"change",this.M,this),0==s&&(l.load(),s=l.state),l=2==s),l&&(this.H=e);return this.H&&(e=this.H,s=e.C(),l=e.resolution,e=e.i,h=i*l/(r*e),s=te(this.c,i*n[0]/2,i*n[1]/2,h,h,0,e*(s[0]-o[0])/l,e*(o[1]-s[3])/l),te(this.j,i*n[0]/2-s[4],i*n[1]/2-s[5],i/r,-i/r,0,-o[0],-o[1]),Rh(t,a),this.g=l*i/e),!!this.H},wf.prototype.ua=function(t,e,i,n,s){return this.b?this.b.ua(t,e,i,n,s):Zh.prototype.ua.call(this,t,e,i,n,s)},$h.prototype.clear=function(){this.a={},this.f=0},$h.prototype.get=function(t,e,i){return t=e+":"+t+":"+(i?yh(i):"null"),t in this.a?this.a[t]:null},$h.prototype.set=function(t,e,i,n){this.a[e+":"+t+":"+(i?yh(i):"null")]=n,++this.f};var ai=new $h;w(bi,rc),bi.prototype.ua=function(t,e,i,n,s,o,r){function a(t,i){var o=x(t).toString(),r=e.layerStates[x(i)].Gc;return o in e.skippedFeatureUids&&!r?void 0:n.call(s,t,r?i:null)}var h,l=e.viewState,c=l.resolution,u=l.projection;if(l=t,u.f){u=u.C();var f=La(u),p=t[0];(p<u[0]||p>u[2])&&(l=[p+f*Math.ceil((u[0]-p)/f),t[1]])}for(u=e.layerStatesArray,f=u.length-1;f>=0;--f){var d=u[f];if(p=d.layer,d.visible&&c>=d.minResolution&&c<d.maxResolution&&o.call(r,p)&&(d=di(this,p),p.da()&&(h=d.ua(p.da().v?l:t,e,i,a,s)),h))return h}},bi.prototype.u=function(){this.g.render()},bi.prototype.j=fa,bi.prototype.o=function(t,e){for(var i in this.f)e&&i in e.layerStates||sc(Df(this,i))},w(ei,bi),ei.handles=function(t){return"canvas"===t},ei.create=function(t,e){return new ei(t,e)},ei.prototype.F=function(){return"canvas"},ei.prototype.j=function(t){if(t){var e=this.c,i=t.pixelRatio,n=Math.round(t.size[0]*i),s=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=s?(this.a.width=n,this.a.height=s):e.clearRect(0,0,n,s),i=t.viewState.rotation;var o=t.viewState,r=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;te(r,t.size[0]/2,t.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),o=re(a,r),r=o[0]*o[3]-o[1]*o[2],y(0!==r,32),a=o[0];var h=o[1],l=o[2],c=o[3],u=o[4],f=o[5];for(o[0]=c/r,o[1]=-h/r,o[2]=-l/r,o[3]=a/r,o[4]=(l*f-c*u)/r,o[5]=-(a*f-h*u)/r,fi(this,"precompose",t),o=t.layerStatesArray,Ub(o),i&&(e.save(),th(e,i,n/2,s/2)),n=t.viewState.resolution,s=0,r=o.length;r>s;++s)a=o[s],h=a.layer,h=di(this,h),a.visible&&n>=a.minResolution&&n<a.maxResolution&&"ready"==a.dg&&h.mb(t,a)&&h.lc(t,a,e);i&&e.restore(),fi(this,"postcompose",t),this.i||(this.a.style.display="",this.i=!0);for(var p in this.f)if(!(p in t.layerStates)){t.postRenderFunctions.push(this.o.bind(this));break}t.postRenderFunctions.push(ci)}else this.i&&(this.a.style.display="none",this.i=!1)},w(xf,Zh),xf.handles=function(t,e){return"canvas"===t&&"TILE"===e.F()},xf.create=function(t,e){return new xf(e)},xf.prototype.mb=function(t,e){var i=t.pixelRatio,n=t.size,s=t.viewState,o=s.projection,r=s.resolution;s=s.center;var a=this.a,h=a.da(),l=h.i,c=h.Ca(o),u=na(Pb(c.a,r,this.K||0),c.minZoom,c.maxZoom),f=c.a[u],p=Math.round(r/f)||1,d=t.extent;if(void 0!==e.extent&&(d=Pa(d,e.extent)),Ka(d))return!1;var g=bc(c,d,u),m=dc(c,u,g),v=h.Ib(i),y={};y[u]={};var b,w,M=Nh(h,o,y),k=this.G,S=this.ka,_=!1;for(b=g.N;b<=g.R;++b)for(w=g.L;w<=g.O;++w){var C=Uh(h,u,b,w,i,o);if(3==C.state&&(a.get("useInterimTilesOnError")?0<a.get("preload")&&(_=!0):hi(C)),gi(this,C)||(C=ii(C)),gi(this,C)){var P=x(this);if(2==C.state){y[u][C.ha.toString()]=C;var E=C.b?-1!==C.u[P]:!1;_||!E&&-1!==this.c.indexOf(C)||(_=!0)}if(1===ji(C,P,t.time))continue}P=cc(c,C.ha,S,k),E=!1,P&&(E=M(u+1,P)),E||$b(c,C.ha,M,S,k)}if(C=t.viewHints,C=C[0]||C[1],!(this.g&&16<Date.now()-t.time&&C||!_&&this.b&&Ba(this.b,d)&&this.Lc==l&&p==this.A&&(C||f*i/v*p==this.g))){for((C=this.context)&&(w=ki(h,u,i,o),b=Math.round((g.R-g.N+1)*w[0]/p),w=Math.round((g.O-g.L+1)*w[1]/p),_=C.canvas,_.width!=b||_.height!=w?(this.A=p,_.width=b,_.height=w):(this.b&&!Ha(m,this.b)&&C.clearRect(0,0,b,w),p=this.A)),this.c.length=0,_=Object.keys(y).map(Number),_.sort(function(t,e){return t===u?1:e===u?-1:t>e?1:e>t?-1:0}),P=0,E=_.length;E>P;++P){S=_[P],M=ki(h,S,i,o),C=c.a[S];var j=C/f,T=v*h.hd(o),A=y[S];for(var O in A){C=A[O],w=ac(c,C.ha,k),b=(w[0]-m[0])/f*v/p,w=(m[3]-w[3])/f*v/p;var N=M[0]*j/p,L=M[1]*j/p;this.vc(C,t,e,b,w,N,L,T,u===S),this.c.push(C)}}this.Lc=l,this.g=f*i/v*p,this.b=m}return e=this.g/r,e=te(this.l,i*n[0]/2,i*n[1]/2,e,e,0,(this.b[0]-s[0])/this.g*i,(s[1]-this.b[3])/this.g*i),te(this.j,i*n[0]/2-e[4],i*n[1]/2-e[5],i/r,-i/r,0,-s[0],-s[1]),Sh(t.usedTiles,h,u,g),Th(t,h,c,i,o,d,u,a.get("preload")),Qh(t,h),Rh(t,h),0<this.c.length},xf.prototype.vc=function(t,e,i,n,s,o,r,a,h){if(i=t.U(this.a)){var l=x(this),c=h?ji(t,l,e.time):1;1!==c||this.a.da().Cc(e.viewState.projection)||this.context.clearRect(n,s,o,r);var u=c!==this.context.globalAlpha;u&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(i,a,a,i.width-2*a,i.height-2*a,n,s,o,r),u&&this.context.restore(),1!==c?e.animate=!0:h&&t.b&&(t.u[l]=-1)}},xf.prototype.U=function(){var t=this.context;return t?t.canvas:null},xf.prototype.u=function(){return this.l};var li={Za:function(){}};!function(t){function e(t,s,o,r,a){for(o=o||0,r=r||t.length-1,a=a||n;r>o;){if(r-o>600){var h=r-o+1,l=s-o+1,c=Math.log(h),u=.5*Math.exp(2*c/3);c=.5*Math.sqrt(c*u*(h-u)/h)*(0>l-h/2?-1:1),e(t,s,Math.max(o,Math.floor(s-l*u/h+c)),Math.min(r,Math.floor(s+(h-l)*u/h+c)),a)}for(h=t[s],l=o,u=r,i(t,o,s),0<a(t[r],h)&&i(t,o,r);u>l;){for(i(t,l,u),l++,u--;0>a(t[l],h);)l++;for(;0<a(t[u],h);)u--}0===a(t[o],h)?i(t,o,u):(u++,i(t,u,r)),s>=u&&(o=u+1),u>=s&&(r=u-1)}}function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return e>t?-1:t>e?1:0}function s(t,e){return this instanceof s?(this.fc=Math.max(4,t||9),this.Uc=Math.max(2,Math.ceil(.4*this.fc)),e&&this.ee(e),void this.clear()):new s(t,e)}function o(t,e){r(t,0,t.children.length,e,t)}function r(t,e,i,n,s){s||(s=d(null)),s.N=1/0,s.L=1/0,s.R=-(1/0),s.O=-(1/0);for(var o;i>e;e++)o=t.children[e],a(s,t.oa?n(o):o);return s}function a(t,e){return t.N=Math.min(t.N,e.N),t.L=Math.min(t.L,e.L),t.R=Math.max(t.R,e.R),t.O=Math.max(t.O,e.O),t}function h(t,e){return t.N-e.N}function l(t,e){return t.L-e.L}function c(t){return(t.R-t.N)*(t.O-t.L)}function u(t){return t.R-t.N+(t.O-t.L)}function f(t,e){return t.N<=e.N&&t.L<=e.L&&e.R<=t.R&&e.O<=t.O}function p(t,e){return e.N<=t.R&&e.L<=t.O&&e.R>=t.N&&e.O>=t.L}function d(t){return{children:t,height:1,oa:!0,N:1/0,L:1/0,R:-(1/0),O:-(1/0)}}function g(t,e,i,n,s){for(var o,r=[e,i];r.length;)i=r.pop(),e=r.pop(),n>=i-e||(o=e+Math.ceil((i-e)/n/2)*n,m(t,o,e,i,s),r.push(e,o,o,i))}var m=e;s.prototype={all:function(){return this.Qc(this.data,[])},search:function(t){var e=this.data,i=[],n=this.xa;if(!p(t,e))return i;for(var s,o,r,a,h=[];e;){for(s=0,o=e.children.length;o>s;s++)r=e.children[s],a=e.oa?n(r):r,p(t,a)&&(e.oa?i.push(r):f(t,a)?this.Qc(r,i):h.push(r));e=h.pop()}return i},me:function(t){var e=this.data,i=this.xa;if(!p(t,e))return!1;for(var n,s,o,r,a=[];e;){for(n=0,s=e.children.length;s>n;n++)if(o=e.children[n],r=e.oa?i(o):o,p(t,r)){if(e.oa||f(t,r))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.Uc){for(var e=0,i=t.length;i>e;e++)this.fa(t[e]);return this}return t=this.Sc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Xc(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Tc(t,this.data.height-t.height-1,!0)):this.data=t,this},fa:function(t){return t&&this.Tc(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var i,n,s,o,r=this.data,a=this.xa(t),h=[],l=[];r||h.length;){if(r||(r=h.pop(),n=h[h.length-1],i=l.pop(),o=!0),r.oa){t:{s=t;var c=r.children,u=e;if(u){for(var p=0;p<c.length;p++)if(u(s,c[p])){s=p;break t}s=-1}else s=c.indexOf(s)}if(-1!==s){r.children.splice(s,1),h.push(r),this.ce(h);break}}o||r.oa||!f(r,a)?n?(i++,r=n.children[i],o=!1):r=null:(h.push(r),l.push(i),i=0,n=r,r=r.children[0])}return this},xa:function(t){return t},jc:h,kc:l,toJSON:function(){return this.data},Qc:function(t,e){for(var i=[];t;)t.oa?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},Sc:function(t,e,i,n){var s=i-e+1,r=this.fc;if(r>=s){var a=d(t.slice(e,i+1));return o(a,this.xa),a}n||(n=Math.ceil(Math.log(s)/Math.log(r)),r=Math.ceil(s/Math.pow(r,n-1))),a=d([]),a.oa=!1,a.height=n,s=Math.ceil(s/r),r=s*Math.ceil(Math.sqrt(r));var h;for(g(t,e,i,r,this.jc);i>=e;e+=r){var l=Math.min(e+r-1,i);for(g(t,e,l,s,this.kc),h=e;l>=h;h+=s){var c=Math.min(h+s-1,l);a.children.push(this.Sc(t,h,c,n-1))}}return o(a,this.xa),a},be:function(t,e,i,n){for(var s,o,r,a,h,l,u,f;n.push(e),!e.oa&&n.length-1!==i;){for(u=f=1/0,s=0,o=e.children.length;o>s;s++)r=e.children[s],h=c(r),l=(Math.max(r.R,t.R)-Math.min(r.N,t.N))*(Math.max(r.O,t.O)-Math.min(r.L,t.L))-h,f>l?(f=l,u=u>h?h:u,a=r):l===f&&u>h&&(u=h,a=r);e=a||e.children[0]}return e},Tc:function(t,e,i){var n=this.xa;i=i?t:n(t),n=[];var s=this.be(i,this.data,e,n);for(s.children.push(t),a(s,i);e>=0&&n[e].children.length>this.fc;)this.ge(n,e),e--;this.Zd(i,n,e)},ge:function(t,e){var i=t[e],n=i.children.length,s=this.Uc;this.$d(i,s,n),n=this.ae(i,s,n),n=d(i.children.splice(n,i.children.length-n)),n.height=i.height,n.oa=i.oa,o(i,this.xa),o(n,this.xa),e?t[e-1].children.push(n):this.Xc(i,n)},Xc:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.oa=!1,o(this.data,this.xa)},ae:function(t,e,i){var n,s,o=s=1/0;for(n=e;i-e>=n;n++){var a=r(t,0,n,this.xa),h=r(t,n,i,this.xa),l=Math.max(0,Math.min(a.R,h.R)-Math.max(a.N,h.N))*Math.max(0,Math.min(a.O,h.O)-Math.max(a.L,h.L));if(a=c(a)+c(h),o>l){o=l;var u=n;s=s>a?a:s}else l===o&&s>a&&(s=a,u=n)}return u},$d:function(t,e,i){var n=t.oa?this.jc:h,s=t.oa?this.kc:l,o=this.Rc(t,e,i,n);e=this.Rc(t,e,i,s),e>o&&t.children.sort(n)},Rc:function(t,e,i,n){t.children.sort(n),n=this.xa;var s,o=r(t,0,e,n),h=r(t,i-e,i,n),l=u(o)+u(h);for(s=e;i-e>s;s++){var c=t.children[s];a(o,t.oa?n(c):c),l+=u(o)}for(s=i-e-1;s>=e;s--)c=t.children[s],a(h,t.oa?n(c):c),l+=u(h);return l},Zd:function(t,e,i){for(;i>=0;i--)a(e[i],t)},ce:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():o(t[i],this.xa)},ee:function(t){var e=["return a"," - b",";"];this.jc=new Function("a","b",e.join(t[0])),this.kc=new Function("a","b",e.join(t[1])),this.xa=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t["default"]=s}(li.Za=li.Za||{}),li.Za=li.Za["default"];var ni="Polygon Circle LineString Image Text Default".split(" "),oi={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};w(pi,Ch),n=pi.prototype,n.ed=function(t,e,i){xi(this,e);var n,s=t.F(),o=t.$(),r=this.coordinates.length;if("MultiPolygon"==s){s=Kh(t);for(var a=[],h=t.sb(),l=n=0,c=h.length;c>l;++l){var u=[];n=wi(this,s,n,h[l],o,u),a.push(u)}this.f.push([4,r,a,t,i,Ie])}else"Polygon"==s||"MultiLineString"==s?(a=[],s="Polygon"==s?t.Ya():t.W(),wi(this,s,0,t.Ga(),o,a),this.f.push([4,r,a,t,i,He])):"LineString"==s||"MultiPoint"==s?(s=t.W(),o=ui(this,s,0,s.length,o,!1,!1),this.f.push([4,r,o,t,i,Ge])):"Point"==s&&(s=t.W(),this.coordinates.push(s[0],s[1]),o=this.coordinates.length,this.f.push([4,r,o,t,i]));yi(this,e)},n.ma=function(t){if(this.M){var e=se(this.ka,this.M.slice());t.translate(e[0],e[1]),t.rotate(this.ya)}t.fill(),this.M&&t.setTransform.apply(t,uh)},n.Sa=function(t,e,i,n){this.ya=i,Ai(this,t,e,n,this.f,void 0,void 0)},n.Ta=function(t,e){var i=this.state;t?(t=t.a,i.fillStyle=Bh(t?t:hh)):i.fillStyle=void 0,e?(t=e.a,i.strokeStyle=Bh(t?t:jh),t=e.c,i.lineCap=void 0!==t?t:"round",t=e.f,i.lineDash=t?t.slice():ih,t=e.g,i.lineDashOffset=t?t:0,t=e.j,i.lineJoin=void 0!==t?t:"round",t=e.b,i.lineWidth=void 0!==t?t:1,e=e.u,i.miterLimit=void 0!==e?e:10,i.lineWidth>this.ca&&(this.ca=i.lineWidth,this.c=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},n.Zc=function(t,e){var i=t.fillStyle;t=[10,i],"string"!=typeof i&&(e=e.C(),t.push([e[0],e[3]])),this.f.push(t)},n.eb=function(t){this.f.push([11,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,ti(this,t.lineDash),t.lineDashOffset*this.pixelRatio])},n.Pb=fa,w(Ei,pi),Ei.prototype.tc=function(t,e){if(this.H){xi(this,e);var i=t.W(),n=this.coordinates.length;t=ui(this,i,0,i.length,t.$(),!1,!1),this.f.push([6,n,t,this.H,this.i,this.b,this.B,this.g,this.j,this.v,this.A,this.u,this.l,this.o*this.pixelRatio,this.J,this.P]),this.a.push([6,n,t,this.Y,this.i,this.b,this.B,this.g,this.j,this.v,this.A,this.u,this.l,this.o,this.J,this.P]),yi(this,e)}},Ei.prototype.rc=function(t,e){if(this.H){xi(this,e);var i=t.W(),n=this.coordinates.length;t=ui(this,i,0,i.length,t.$(),!1,!1),this.f.push([6,n,t,this.H,this.i,this.b,this.B,this.g,this.j,this.v,this.A,this.u,this.l,this.o*this.pixelRatio,this.J,this.P]),this.a.push([6,n,t,this.Y,this.i,this.b,this.B,this.g,this.j,this.v,this.A,this.u,this.l,this.o,this.J,this.P]),yi(this,e)}},Ei.prototype.Pb=function(){Bi(this),this.b=this.i=void 0,this.H=this.Y=null,this.P=this.J=this.l=this.u=this.A=this.v=this.j=this.o=this.g=void 0},Ei.prototype.Ub=function(t,e){var i=t.Fb(),n=t.kb(),s=t.Fd(),o=t.U(1),r=t.Rb();this.i=i[0],this.b=i[1],this.B=e,this.Y=s,this.H=o,this.g=n[1],this.j=t.c,this.v=r[0],this.A=r[1],this.u=t.v,this.l=t.l,this.o=t.b,this.J=t.o,this.P=n[0]},w(Fi,pi),Fi.prototype.pc=function(t,e){var i=this.state,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(Di(this,i,this.eb),xi(this,e),this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.W(),Gi(this,i,0,i.length,t.$()),this.a.push([12]),yi(this,e))},Fi.prototype.qc=function(t,e){var i=this.state,n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){Di(this,i,this.eb),xi(this,e),this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.Ga(),n=t.W(),t=t.$();var s,o=0,r=0;for(s=i.length;s>r;++r)o=Gi(this,n,o,i[r],t);this.a.push([12]),yi(this,e)}},Fi.prototype.Pb=function(){var t=this.state;void 0!=t.vb&&t.vb!=this.coordinates.length&&this.f.push([12]),Bi(this),this.state=null},Fi.prototype.eb=function(t){void 0!=t.vb&&t.vb!=this.coordinates.length&&(this.f.push([12]),t.vb=this.coordinates.length),t.vb=0,pi.prototype.eb.call(this,t),this.f.push([1])},w(Hi,pi),Hi.prototype.oc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Ji(this,t),xi(this,e),this.a.push([10,yh(hh)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.W();n=this.coordinates.length,ui(this,s,0,s.length,t.$(),!1,!1),t=[1],n=[2,n],this.f.push(t,n),this.a.push(t,n),t=[8],this.a.push(t),void 0!==i.fillStyle&&this.f.push(t),void 0!==i.strokeStyle&&(i=[12],this.f.push(i),this.a.push(i)),yi(this,e)}},Hi.prototype.uc=function(t,e){var i=this.state;Ji(this,t),xi(this,e),this.a.push([10,yh(hh)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.Ga();var n=t.Ya();Ii(this,n,0,i,t.$()),yi(this,e)},Hi.prototype.sc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Ji(this,t),xi(this,e),this.a.push([10,yh(hh)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.sb(),n=Kh(t),t=t.$();var s,o=0,r=0;for(s=i.length;s>r;++r)o=Ii(this,n,o,i[r],t);yi(this,e)}},Hi.prototype.Pb=function(){Bi(this),this.state=null;var t=this.Oa;if(0!==t){var e,i=this.coordinates,n=0;for(e=i.length;e>n;++n)i[n]=t*Math.round(i[n]/t)}},w(Ki,pi),Ki.prototype.Qa=function(t,e){var i=this.b,n=this.i,s=this.g;if(""!==this.aa&&s&&(i||n)){i=this.coordinates.length;var o=t.F();n=null;var r=2,a=2;if("line"===s.placement){if(!Ra(vi(this),t.C()))return;if(n=t.W(),a=t.$(),"LineString"==o)var h=[n.length];else if("MultiLineString"==o)h=t.Ga();else if("Polygon"==o)h=t.Ga().slice(0,1);else if("MultiPolygon"==o)for(t=t.sb(),h=[],r=0,o=t.length;o>r;++r)h.push(t[r][0]);xi(this,e),t=s.textAlign;var l,c=0;o=0;for(var u=h.length;u>o;++o){if(void 0==t){for(var f,p,d=void 0,g=void 0,m=r=p=f=void 0,v=l=c,y=0,b=0,x=c;c<h[o];c+=a){var w=n[c],M=n[c+1];void 0!==p&&(p=w-p,f=M-f,r=Math.sqrt(p*p+f*f),void 0!==g&&(b+=m,d=Math.acos((g*p+d*f)/(m*r)),d>s.maxAngle&&(b>y&&(y=b,l=x,v=c),b=0,x=c-a)),m=r,g=p,d=f),p=w,f=M}r=b+r>y?[x,c]:[l,v],c=r[0],l=r[1]}else l=h[o];for(r=c;l>r;r+=a)this.coordinates.push(n[r],n[r+1]);r=this.coordinates.length,c=h[o],Li(this,i,r,this.P),
i=r}}else{switch(h=this.U(this.aa,this.j,this.o,this.Y),u=h.width/this.pixelRatio,o){case"Point":case"MultiPoint":n=t.W(),r=n.length;break;case"LineString":n=t.yc();break;case"Circle":n=t.ea();break;case"MultiLineString":n=t.zc(),r=n.length;break;case"Polygon":if(n=t.xc(),!s.overflow&&n[2]/this.resolution<u)return;a=3;break;case"MultiPolygon":for(l=Lh(t),n=[],r=0,o=l.length;o>r;r+=3)(s.overflow||l[r+2]/this.resolution>=u)&&n.push(l[r],l[r+1]);if(r=n.length,0==r)return}r=ui(this,n,0,r,a,!1,!1),xi(this,e),(s.backgroundFill||s.backgroundStroke)&&(this.Ta(s.backgroundFill,s.backgroundStroke),Ci(this,this.state,this.Zc,t),Di(this,this.state,this.eb)),Mi(this,h,i,r)}yi(this,e)}},Ki.prototype.U=function(t,e,i,n){var s=n+e+t+i+this.pixelRatio;if(!lh.b.hasOwnProperty(s)){var o=n?this.la[n]||this.i:null,r=i?this.J[i]||this.b:null,a=this.l[e]||this.g,h=a.scale*this.pixelRatio,l=oi[a.textAlign||"center"];e=n&&o.lineWidth?o.lineWidth:0,t=t.split("\n");var c,u=t.length,f=[],p=a.font,d=t.length,g=0;for(c=0;d>c;++c){var m=sh(p,t[c]);g=Math.max(g,m),f.push(m)}if(d=g,p=rh(a.font),d=mf(Math.ceil((d+e)*h),Math.ceil((p*u+e)*h)),g=d.canvas,lh.set(s,g),1!=h&&d.scale(h,h),d.font=a.font,n&&(d.strokeStyle=o.strokeStyle,d.lineWidth=e*(Pc?h:1),d.lineCap=o.lineCap,d.lineJoin=o.lineJoin,d.miterLimit=o.miterLimit,Tc&&o.lineDash.length&&(d.setLineDash(o.lineDash),d.lineDashOffset=o.lineDashOffset)),i&&(d.fillStyle=r.fillStyle),d.textBaseline="middle",d.textAlign="center",o=.5-l,r=l*g.width/h+o*e,n)for(n=0;u>n;++n)d.strokeText(t[n],r+o*f[n],.5*(e+p)+n*p);if(i)for(n=0;u>n;++n)d.fillText(t[n],r+o*f[n],.5*(e+p)+n*p)}return lh.get(s)},Ki.prototype.Ma=function(t,e){var i,n;if(t){if(this.P=e,(n=t.na())?(e=this.b,e||(e=this.b={}),e.fillStyle=Bh(n.a||hh)):e=this.b=null,i=t.ia()){n=this.i,n||(n=this.i={});var s=i.f,o=i.g,r=i.b,a=i.u;n.lineCap=i.c||"round",n.lineDash=s?s.slice():ih,n.lineDashOffset=void 0===o?0:o,n.lineJoin=i.j||"round",n.lineWidth=void 0===r?1:r,n.miterLimit=void 0===a?10:a,n.strokeStyle=Bh(i.a||jh)}else n=this.i=null;i=this.g,s=t.f||"10px sans-serif",qh(s),o=t.a,i.overflow=t.o,i.font=s,i.maxAngle=t.l,i.placement=t.J,i.textAlign=t.j,i.textBaseline=t.u||"middle",i.backgroundFill=t.P,i.backgroundStroke=t.v,i.padding=t.A||kh,i.scale=void 0===o?1:o,s=t.i,o=t.b,r=t.c,a=t.g,this.aa=t.qa()||"",this.v=void 0===s?0:s,this.u=void 0===o?0:o,this.A=void 0===r?!1:r,this.B=void 0===a?0:a,this.Y=n?("string"==typeof n.strokeStyle?n.strokeStyle:x(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.j=i.font+i.scale+(i.textAlign||"?"),this.o=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+x(e.fillStyle):""}else this.aa=""},w(Ni,mi);var Oi={0:[[!0]]};Ni.prototype.ua=function(t,e,i,n,s,o,r){n=Math.round(n);var a=2*n+1,h=te(this.j,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=this.g;if(l.canvas.width!==a||l.canvas.height!==a?(l.canvas.width=a,l.canvas.height=a):l.clearRect(0,0,a,a),void 0!==this.c){var c=wa();xa(c,t),ya(c,e*(this.c+n),c)}var u,f=Qi(n);return this.f&&(u=this.f.all().map(function(t){return t.value})),Ti(this,l,h,i,s,function(t){for(var e=l.getImageData(0,0,a,a).data,i=0;a>i;i++)for(var n=0;a>n;n++)if(f[i][n]&&0<e[4*(n*a+i)+3]){var s;return u&&-1===u.indexOf(t)||(s=o(t)),s?s:void l.clearRect(0,0,a,a)}},c,r)},Ni.prototype.Sa=function(t,e,i,n,s,o){var r=Object.keys(this.a).map(Number);r.sort(Ob),t.save();var a=Ui(this,e);t.beginPath(),t.moveTo(a[0],a[1]),t.lineTo(a[2],a[3]),t.lineTo(a[4],a[5]),t.lineTo(a[6],a[7]),t.clip(),s=s?s:ni;var h,l;for(a=0,h=r.length;h>a;++a){var c=r[a].toString(),u=this.a[c],f=0;for(l=s.length;l>f;++f){var p=s[f],d=u[p];void 0!==d&&(!o||"Image"!=p&&"Text"!=p?d.Sa(t,e,i,n):(p=o[c])?p.push(d,e.slice(0)):o[c]=[d,e.slice(0)])}}t.restore()};var Wi={Circle:Hi,Default:pi,Image:Ei,LineString:Fi,Polygon:Hi,Text:Ki},aj={Point:function(t,e,i,n){var s=i.U();if(s){if(2!=s.Qb())return;var o=Vi(t,i.ja(),"Image");o.Ub(s,Ri(t,!1)),o.tc(e,n)}(o=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(o,Ri(t,!!s)),i.Qa(e,n))},LineString:function(t,e,i,n){var s=i.ia();if(s){var o=Vi(t,i.ja(),"LineString");o.Ta(null,s),o.pc(e,n)}(s=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(s,Ri(t,!1)),i.Qa(e,n))},Polygon:function(t,e,i,n){var s=i.na(),o=i.ia();if(s||o){var r=Vi(t,i.ja(),"Polygon");r.Ta(s,o),r.uc(e,n)}(s=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(s,Ri(t,!1)),i.Qa(e,n))},MultiPoint:function(t,e,i,n){var s=i.U();if(s){if(2!=s.Qb())return;var o=Vi(t,i.ja(),"Image");o.Ub(s,Ri(t,!1)),o.rc(e,n)}(o=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(o,Ri(t,!!s)),i.Qa(e,n))},MultiLineString:function(t,e,i,n){var s=i.ia();if(s){var o=Vi(t,i.ja(),"LineString");o.Ta(null,s),o.qc(e,n)}(s=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(s,Ri(t,!1)),i.Qa(e,n))},MultiPolygon:function(t,e,i,n){var s=i.na(),o=i.ia();if(o||s){var r=Vi(t,i.ja(),"Polygon");r.Ta(s,o),r.sc(e,n)}(s=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(s,Ri(t,!1)),i.Qa(e,n))},GeometryCollection:function(t,e,i,n){e=e.a;var s,o=0;for(s=e.length;s>o;++o)(0,aj[e[o].F()])(t,e[o],i,n)},Circle:function(t,e,i,n){var s=i.na(),o=i.ia();if(s||o){var r=Vi(t,i.ja(),"Circle");r.Ta(s,o),r.oc(e,n)}(s=i.qa())&&(i=Vi(t,i.ja(),"Text"),i.Ma(s,Ri(t,!1)),i.Qa(e,n))}};w(yf,Vh),yf.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.F()},yf.create=function(t,e){return new yf(e)},n=yf.prototype,n.Z=function(){qc(lh,"clear",this.yd,this),Vh.prototype.Z.call(this)},n.lc=function(t,e,i){var n=t.extent,s=t.pixelRatio,o=e.Gc?t.skippedFeatureUids:{},r=t.viewState,a=r.projection,h=r.rotation,l=a.C(),c=this.a.da(),u=Yh(this,t,0);Xh(this,"precompose",i,t,u);var f=e.extent;(r=void 0!==f)&&Wh(i,t,f);var p=this.b;if(p&&!Va(p.a)){this.g&&this.g.clear();var d=f=0,g=1!==e.opacity,m=Bc(this.a,"render");if(g||m){var v=i.canvas.width,y=i.canvas.height;if(h){var b=Math.round(Math.sqrt(v*v+y*y));f=(b-v)/2,d=(b-y)/2,v=y=b}this.context.canvas.width=v,this.context.canvas.height=y,v=this.context}else v=i;if(y=v.globalAlpha,g||(v.globalAlpha=e.opacity),v!=i&&v.translate(f,d),b=t.size[0]*s,s*=t.size[1],th(v,-h,b/2,s/2),p.Sa(v,u,h,o),c.v&&a.f&&!Ba(l,n)){a=n[0],c=La(l);for(var x=0;a<l[0];)--x,u=c*x,u=Yh(this,t,u),p.Sa(v,u,h,o),a+=c;for(x=0,a=n[2];a>l[2];)++x,u=c*x,u=Yh(this,t,u),p.Sa(v,u,h,o),a-=c;u=Yh(this,t,0)}th(v,h,b/2,s/2),v!=i&&(m&&Xh(this,"render",v,t,u),g?(n=i.globalAlpha,i.globalAlpha=e.opacity,i.drawImage(v.canvas,-f,-d),i.globalAlpha=n):i.drawImage(v.canvas,-f,-d),v.translate(-f,-d)),g||(v.globalAlpha=y)}r&&i.restore(),this.Sb(i,t,e,u)},n.ua=function(t,e,i,n,s){if(this.b){var o=this.a,r={};return this.b.ua(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=x(t).toString();return e in r?void 0:(r[e]=!0,n.call(s,t,o))},null)}},n.yd=function(){var t=this.a;t.ub()&&this.b&&t.D()},n.zd=function(){Ph(this)},n.mb=function(t){var e=this.a,i=e.da();Rh(t,i);var n=t.viewHints[0],s=t.viewHints[1],o=e.B,r=e.G;if(!this.c&&!o&&n||!r&&s)return!0;o=t.extent;var a=t.viewState;r=a.projection;var h=a.resolution,l=t.pixelRatio;n=e.i;var c=e.j;if(s=e.get(bj),void 0===s&&(s=Xi),o=ya(o,c*h),c=a.projection.C(),i.v&&a.projection.f&&!Ba(c,t.extent)&&(t=Math.max(La(o)/2,La(c)),o[0]=c[0]-t,o[2]=c[2]+t),!this.c&&this.o==h&&this.v==n&&this.l==s&&Ba(this.u,o))return this.j=!1,!0;this.b=null,this.c=!1;var u=new Ni(.5*h/l,o,h,l,i.M,this.g,e.j);if(cj(i,o,h,r),t=function(t){var i=t.Ra();if(i)var n=i.call(t,h);else(i=e.Ra())&&(n=i(t,h));if(n){if(n){if(i=!1,Array.isArray(n))for(var s=0,o=n.length;o>s;++s)i=Zi(u,t,n[s],Yi(h,l),this.zd,this)||i;else i=Zi(u,t,n,Yi(h,l),this.zd,this);t=i}else t=!1;this.c=this.c||t}}.bind(this),s){var f=[];for(dj(i,o,function(t){f.push(t)},this),f.sort(s),i=0,r=f.length;r>i;++i)t(f[i])}else dj(i,o,t,this);return Si(u),this.o=h,this.v=n,this.l=s,this.u=o,this.b=u,this.j=!0},w(zf,xf),zf.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.F()},zf.create=function(t,e){return new zf(e)};var ej={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},fj={image:["Default"],hybrid:["Image","Text","Default"],vector:ni};n=zf.prototype,n.Z=function(){qc(lh,"clear",this.Ad,this),xf.prototype.Z.call(this)},n.mb=function(t,e){var i=this.a,n=i.i;return this.B!=n&&(this.c.length=0,i=i.b,this.context||"vector"==i||(this.context=mf()),this.context&&"vector"==i&&(this.context=null)),this.B=n,xf.prototype.mb.apply(this,arguments)},n.vc=function(t,e,i,n,s,o,r,a,h){var l=t,c=this.a,u=e.pixelRatio,f=e.viewState.projection,p=c.i,d=c.get(bj)||null,g=l.j(c);if(g.nc||g.Lc!=p||g.Jd!=d){var m=c.da(),v=m.tileGrid,y=m.Ca(f),b=y.a[l.ha[0]];y=ac(y,l.g);for(var x=0,w=l.i.length;w>x;++x){var M=l.c(l.i[x]);if(3!=M.state){var k=ac(v,M.ha),S=Pa(y,k),_=Ha(k,S)?null:ya(S,c.j*b),C=M.g(),P=!1;Jb(f,C)||(P=!0,M.j(f)),g.nc=!1,S=new Ni(0,S,b,u,m.b(),this.o,c.j);var E=Yi(b,u),j=M.c();d&&d!==g.Jd&&j.sort(d);for(var T,A=0,O=j.length;O>A;++A)if(T=j[A],P&&("tile-pixels"==C.a&&(C.Mc=k,C.j(M.C())),T.T().Xa(C,f)),!_||Ra(_,T.T().C())){var N=void 0,L=T.Ra();if(L?N=L.call(T,b):(L=c.Ra())&&(N=L(T,b)),N){L=E;var D=S;if(N){var R=!1;if(Array.isArray(N))for(var I=0,F=N.length;F>I;++I)R=Zi(D,T,N[I],L,this.Bd,this)||R;else R=Zi(D,T,N,L,this.Bd,this);T=R}else T=!1;this.v=this.v||T,g.nc=g.nc||T}}Si(S);for(var B in S.a);M.l(c,l.ha.toString(),S)}}g.Lc=p,g.Jd=d}if(this.context){if(g=e,c=this.a,f=l.j(c),p=c.i,(u=ej[c.b])&&f.$f!==p)for(f.$f=p,m=l.g,b=m[0],f=g.pixelRatio,B=c.da(),v=B.Ca(g.viewState.projection),p=v.a[b],d=l.l(c),g=ki(B,b,f,g.viewState.projection),d.canvas.width=g[0],d.canvas.height=g[1],g=ac(v,m),m=0,v=l.i.length;v>m;++m)b=l.c(l.i[m]),3!=b.state&&(B=f/p,y=qe(this.Y,1,1,0,0),pe(y,qe(ne,B,-B,0,0)),pe(y,qe(ne,1,1,-g[0],-g[3])),b.i(c,l.ha.toString()).Sa(d,y,0,{},u));xf.prototype.vc.apply(this,arguments)}},n.ua=function(t,e,i,n,s){var o=e.viewState.resolution,r=e.viewState.rotation;i=void 0==i?0:i;var a=this.a,h={},l=this.c;e=a.da().Ca(e.viewState.projection);var c,u=0;for(c=l.length;c>u;++u){var f=l[u],p=f.g;p=ac(e,p,this.G);var d=ya(p,i*o,d);if(Ca(d,t[0],t[1])){p=0;for(var g=f.i.length;g>p;++p){var m=f.c(f.i[p]);if(3!=m.state){m=m.i(a,f.ha.toString());var v=v||m.ua(t,o,r,i,{},function(t){var e=x(t).toString();return e in h?void 0:(h[e]=!0,n.call(s,t,a))},null)}}}}return v},n.Ad=function(){var t=this.a;t.ub()&&void 0!==this.B&&t.D()},n.Bd=function(){Ph(this)},n.Sb=function(t,e,i){var n=this.a,s=n.o?{}:null,o=n.da(),r=n.b,a=fj[r],h=e.pixelRatio,l=e.viewState.rotation,c=e.size;if(l){var u=Math.round(h*c[0]/2),f=Math.round(h*c[1]/2);th(t,-l,u,f)}s&&this.o.clear(),h=this.c,o=o.Ca(e.viewState.projection),c=[];for(var p=[],d=h.length-1;d>=0;--d){var g=h[d];if(5!=g.state)for(var m=g.ha,v=ac(o,m)[0]-ac(o,g.g)[0],y=void 0,b=0,x=g.i.length;x>b;++b){var w=g.c(g.i[b]);if(3!=w.state){var M,k=w.i(n,m.toString());if(!(M="vector"==r))t:{M=void 0;for(M in k.a)for(var S=k.a[M],_=0,C=a.length;C>_;++_)if(a[_]in S){M=!0;break t}M=!1}if(M){for(y||(y=Yh(this,e,v)),w=w.ha[0],M=Ui(k,y),t.save(),t.globalAlpha=i.opacity,S=0,_=c.length;_>S;++S)C=c[S],w<p[S]&&(t.beginPath(),t.moveTo(M[0],M[1]),t.lineTo(M[2],M[3]),t.lineTo(M[4],M[5]),t.lineTo(M[6],M[7]),t.moveTo(C[6],C[7]),t.lineTo(C[4],C[5]),t.lineTo(C[2],C[3]),t.lineTo(C[0],C[1]),t.clip());k.Sa(t,y,l,{},a,s),t.restore(),c.push(M),p.push(w)}}}}if(s)for(n=t,r=Object.keys(s).map(Number).sort(Ob),a={},h=0,o=r.length;o>h;++h)for(c=s[r[h].toString()],p=0,d=c.length;d>p;)g=c[p++],m=c[p++],g.Sa(n,m,l,a);l&&th(t,l,u,f),xf.prototype.Sb.apply(this,arguments)},uf("MAP_RENDERER",ei),vf(),w(hj,gj),n=hj.prototype,n.clone=function(){var t=new hj({fill:this.na()?this.na().clone():void 0,points:this.j,radius:this.a,radius2:this.i,angle:this.g,snapToPixel:this.o,stroke:this.ia()?this.ia().clone():void 0,rotation:this.l,rotateWithView:this.v,atlasManager:this.J});return t.c=this.c,t.b=this.b,t},n.Fb=function(){return this.B},n.na=function(){return this.ma},n.Fd=function(){return this.P},n.U=function(){return this.u},n.jd=function(){return this.A},n.Qb=function(){return 2},n.Rb=function(){return this.ba},n.kb=function(){return this.G},n.ia=function(){return this.pa},n.sd=function(){},n.load=function(){},n.Qd=function(){},n.gd=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var s=this.j;if(1/0===s)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{var o=void 0!==this.i?this.i:this.a;for(o!==this.a&&(s*=2),i=0;s>=i;i++){n=2*i*Math.PI/s-Math.PI/2+this.g;var r=0===i%2?this.a:o;e.lineTo(t.size/2+r*Math.cos(n),t.size/2+r*Math.sin(n))}}this.ma&&(i=this.ma.a,null===i&&(i=hh),e.fillStyle=Bh(i),e.fill()),this.pa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Pd,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},n.fd=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),i=this.j,1/0===i)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{n=void 0!==this.i?this.i:this.a,n!==this.a&&(i*=2);var s;for(s=0;i>=s;s++){var o=2*s*Math.PI/i-Math.PI/2+this.g,r=0===s%2?this.a:n;e.lineTo(t.size/2+r*Math.cos(o),t.size/2+r*Math.sin(o))}}e.fillStyle=hh,e.fill(),this.pa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Pd,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},w(jj,hj),jj.prototype.clone=function(){var t=new jj({fill:this.na()?this.na().clone():void 0,stroke:this.ia()?this.ia().clone():void 0,radius:this.a,snapToPixel:this.o,atlasManager:this.J});return t.c=this.c,t.b=this.b,t},kj.prototype.clone=function(){var t=this.a;return new kj({color:t&&t.slice?t.slice():t||void 0})},lj.prototype.clone=function(){var t=this.a;return new lj({color:t&&t.slice?t.slice():t||void 0,lineCap:this.c,lineDash:this.f?this.f.slice():void 0,lineDashOffset:this.g,lineJoin:this.j,miterLimit:this.u,width:this.b})},lj.prototype.setLineDash=function(t){this.f=t,this.i=void 0},n=mj.prototype,n.clone=function(){var t=this.T();return t&&t.clone&&(t=t.clone()),new mj({geometry:t,fill:this.na()?this.na().clone():void 0,image:this.U()?this.U().clone():void 0,stroke:this.ia()?this.ia().clone():void 0,text:this.qa()?this.qa().clone():void 0,zIndex:this.ja()})},n.Dc=function(){return this.$a},n.T=function(){return this.Ua},n.na=function(){return this.ma},n.U=function(){return this.H},n.ia=function(){return this.pa},n.qa=function(){return this.aa},n.ja=function(){return this.rg},n.ob=function(t){"function"==typeof t?this.rb=t:"string"==typeof t?this.rb=function(e){return e.get(t)}:t?void 0!==t&&(this.rb=function(){return t}):this.rb=nj,this.Ua=t};var pj=null;w(sj,D),n=sj.prototype,n.clone=function(){var t=new sj(this.La());Sj(t,this.a);var e=this.T();return e&&t.ob(e.clone()),(e=this.g)&&t.td(e),t},n.T=function(){return this.get(this.a)},n.Cf=function(){return this.g},n.Ra=function(){return this.j},n.Ne=function(){this.D()},n.Jb=function(){this.c&&(A(this.c),this.c=null);var t=this.T();t&&(this.c=B(t,"change",this.Ne,this)),this.D()},n.ob=function(t){this.set(this.a,t)},n.td=function(t){this.j=(this.g=t)?Tj(t):void 0,this.D()},w(M,D),n=M.prototype,n.Z=function(){this.Vb(!1),D.prototype.Z.call(this)},n.Ef=function(){var t=this.ud();t&&(this.c=Db(Cb("EPSG:4326"),t),this.a&&this.set("position",this.c(this.a)))},n.ef=function(){if(Uc){var t=this.kd();t&&void 0===this.b?this.b=navigator.geolocation.watchPosition(this.Vf.bind(this),this.Wf.bind(this),this.ld()):t||void 0===this.b||(navigator.geolocation.clearWatch(this.b),this.b=void 0)}},n.Vf=function(t){var e=t.coords;this.set("accuracy",e.accuracy),this.set("altitude",null===e.altitude?void 0:e.altitude),this.set("altitudeAccuracy",null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set("heading",null===e.heading?void 0:qa(e.heading)),this.a?(this.a[0]=e.longitude,this.a[1]=e.latitude):this.a=[e.longitude,e.latitude],t=this.c(this.a),this.set("position",t),this.set("speed",null===e.speed?void 0:e.speed),t=this.g;var i=this.a,n=e.accuracy;e=[];var s;for(s=0;32>s;++s)Qb(e,t.offset(i,n,2*Math.PI*s/32));e.push(e[0],e[1]),t=new Te(null),$e(t,"XY",e,[e.length]),t.qb(this.c),this.set("accuracyGeometry",t),this.D()},n.Wf=function(t){t.type="error",this.Vb(!1),this.f(t)},n.xe=function(){return this.get("accuracy")},n.ye=function(){return this.get("accuracyGeometry")||null},n.ze=function(){return this.get("altitude")},n.Ae=function(){return this.get("altitudeAccuracy")},n.De=function(){return this.get("heading")},n.Df=function(){return this.get("position")},n.ud=function(){return this.get("projection")},n.Ge=function(){return this.get("speed")},n.kd=function(){return this.get("tracking")},n.ld=function(){return this.get("trackingOptions")},n.vd=function(t){this.set("projection",Cb(t))},n.Vb=function(t){this.set("tracking",t)},n.Nd=function(t){this.set("trackingOptions",t)},w(Wj,ve),n=Wj.prototype,n.ke=function(t){this.s?Qb(this.s,t):this.s=t.slice(),this.D()},n.clone=function(){var t=new Wj(null);return Xj(t,this.X,this.s.slice()),t},n.Ja=function(t,e,i,n){return n<Aa(this.C(),t,e)?n:(this.A!=this.i&&(this.B=Math.sqrt(Ae(this.s,0,this.s.length,this.a,0)),this.A=this.i),Ce(this.s,0,this.s.length,this.a,this.B,!1,t,e,i,n))},n.Lf=function(t,e){return"XYM"!=this.X&&"XYZM"!=this.X?null:Vj(this.s,this.s.length,this.a,t,void 0!==e?e:!1)},n.I=function(){return Ge(this.s,0,this.s.length,this.a)},n.yc=function(){return this.j!=this.i&&(this.b=Uj(this.s,0,this.s.length,this.a,this.b),this.j=this.i),this.b},n.gb=function(t){var e=[];return e.length=Je(this.s,0,this.s.length,this.a,t,e,0),t=new Wj(null),Xj(t,"XY",e),t},n.F=function(){return"LineString"},n.ga=function(t,e){t?(ye(this,e,t,1),this.s||(this.s=[]),this.s.length=Ee(this.s,0,t,this.a),this.D()):Xj(this,"XY",null)},Yj.prototype.clone=function(){return new Yj({font:this.f,placement:this.J,maxAngle:this.l,overflow:this.o,rotation:this.g,rotateWithView:this.c,scale:this.a,text:this.qa(),textAlign:this.j,textBaseline:this.u,fill:this.na()?this.na().clone():void 0,stroke:this.ia()?this.ia().clone():void 0,offsetX:this.i,offsetY:this.b})},Yj.prototype.na=function(){return this.ma},Yj.prototype.ia=function(){return this.pa},Yj.prototype.qa=function(){return this.aa},w(Zj,Ac),Zj.prototype.Wa=function(){return this.key+"/"+this.ha},w(ck,Zj),n=ck.prototype,n.Z=function(){1==this.state&&(dk(this),this.H=ek()),this.a&&sc(this.a),this.state=5,ak(this),Zj.prototype.Z.call(this)},n.U=function(){return this.H},n.Wa=function(){return this.g},n.Ff=function(){this.state=3,dk(this),this.H=ek(),ak(this)},n.Gf=function(){this.state=this.H.naturalWidth&&this.H.naturalHeight?2:4,dk(this),ak(this)},n.load=function(){3==this.state&&(this.state=0,this.H=new Image,null!==this.c&&(this.H.crossOrigin=this.c)),0==this.state&&(this.state=1,ak(this),this.i=[B(this.H,"error",this.Ff,this,!0),B(this.H,"load",this.Gf,this,!0)],this.j(this,this.g))},n=fk.prototype,n.fa=function(t,e){t={N:t[0],L:t[1],R:t[2],O:t[3],value:e},this.f.fa(t),this.a[x(e)]=t},n.load=function(t,e){for(var i=Array(e.length),n=0,s=e.length;s>n;n++){var o=t[n],r=e[n];o={N:o[0],L:o[1],R:o[2],O:o[3],value:r},i[n]=o,this.a[x(r)]=o}this.f.load(i)},n.remove=function(t){t=x(t);var e=this.a[t];return delete this.a[t],null!==this.f.remove(e)},n.forEach=function(t,e){return jk(hk(this),t,e)},n.clear=function(){this.f.clear(),this.a={}},n.C=function(t){var e=this.f.data;return Da(e.N,e.L,e.R,e.O,t)},n.concat=function(t){this.f.load(t.f.all());for(var e in t.a)this.a[0|e]=t.a[0|e]},uf("MAP_RENDERER",ei),vf(),w(N,Af),w(lk,D),n=lk.prototype,n.Ke=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(mk))&&this.element.appendChild(t)},n.Se=function(){this.b&&(nf(this.element),A(this.b),this.b=null);var t=this.get(nk);t&&(this.b=B(t,"postrender",this.render,this),rk(this),t=this.stopEvent?t.o:t.v,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},n.render=function(){rk(this)},n.Te=function(){rk(this)},n.Ve=function(){if(rk(this),this.get(pk)&&this.autoPan){var t=this.get(nk);if(t&&Cf(t)){var e=sk(Cf(t),t.ib()),i=this.get(mk),n=i.offsetWidth,s=getComputedStyle(i);n+=parseInt(s.marginLeft,10)+parseInt(s.marginRight,10),s=i.offsetHeight;var o=getComputedStyle(i);s+=parseInt(o.marginTop,10)+parseInt(o.marginBottom,10);var r=sk(i,[n,s]);i=this.autoPanMargin,Ba(e,r)||(n=r[0]-e[0],s=e[2]-r[2],o=r[1]-e[1],r=e[3]-r[3],e=[0,0],0>n?e[0]=n-i:0>s&&(e[0]=Math.abs(s)+i),0>o?e[1]=o-i:0>r&&(e[1]=Math.abs(r)+i),0===e[0]&&0===e[1])||(i=t.S().ea(),i=t.Ka(i),e=[i[0]+e[0],i[1]+e[1]],t.S().animate({center:t.za(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},n.We=function(){rk(this)},n.setMap=function(t){this.set(nk,t)},n.Md=function(t){this.set(ok,t)},n.wd=function(t){this.set(pk,t)};var mk="element",nk="map",ok="offset",pk="position",qk="positioning";w(uk,Ff),uk.prototype.A=function(){this.c=null},uk.prototype.o=function(t){this.g=this.b.Gb(t),yk(this,this.g)},uk.prototype.v=function(){yk(this,null),this.g=null},uk.prototype.setMap=function(t){Ff.prototype.setMap.call(this,t),t&&(t=t.a,this.l.push(B(t,"mousemove",this.o,this),B(t,"mouseout",this.v,this)))};var wk="projection",xk="coordinateFormat";w(zk,Ff);var Ck=[1,2,5];zk.prototype.B=function(){Dk(this)};var Bk="units",Ek=document.implementation.createDocument("","",null),Ok=Mk();w(Yk,Uk),Yk.prototype.F=function(){return"json"},Yk.prototype.wb=function(t,e){var i=Zk(t);if(t=Vk(this,t,e),"FeatureCollection"===i.type){e=[],i=i.features;var n,s=0;for(n=i.length;n>s;++s)e.push($k(this,i[s],t))}else e=[$k(this,i,t)];return e},Yk.prototype.Ic=function(t){t=Zk(t).crs;var e;return t?"name"==t.type?e=Cb(t.properties.name):y(!1,36):e=this.defaultDataProjection,e},Yk.prototype.Ud=function(t,e){return JSON.stringify(this.i(t,e))},w(al,ve),n=al.prototype,n.clone=function(){var t=new al(null);return bl(t,this.X,this.s.slice(),this.b.slice()),t},n.Ja=function(t,e,i,n){return n<Aa(this.C(),t,e)?n:(this.j!=this.i&&(this.A=Math.sqrt(Be(this.s,0,this.b,this.a,0)),this.j=this.i),De(this.s,0,this.b,this.a,this.A,!1,t,e,i,n))},n.I=function(){return He(this.s,0,this.b,this.a)},n.Ga=function(){return this.b},n.zc=function(){var t,e=[],i=this.s,n=0,s=this.b,o=this.a,r=0;for(t=s.length;t>r;++r){var a=s[r];n=Uj(i,n,a,o),Qb(e,n),n=a}return e},n.gb=function(t){var e,i=[],n=[],s=this.s,o=this.b,r=this.a,a=0,h=0,l=0;for(e=o.length;e>l;++l){var c=o[l];h=Je(s,a,c,r,t,i,h),n.push(h),a=c}return i.length=h,t=new al(null),bl(t,"XY",i,n),t},n.F=function(){return"MultiLineString"},n.ga=function(t,e){t?(ye(this,e,t,2),this.s||(this.s=[]),t=Fe(this.s,0,t,this.a,this.b),this.s.length=0===t.length?0:t[t.length-1],this.D()):bl(this,"XY",null,this.b)},w(el,ve),n=el.prototype,n.clone=function(){var t=new el(null);return xe(t,this.X,this.s.slice()),t.D(),t},n.Ja=function(t,e,i,n){if(n<Aa(this.C(),t,e))return n;var s,o=this.s,r=this.a,a=0;for(s=o.length;s>a;a+=r){var h=pa(t,e,o[a],o[a+1]);if(n>h){for(n=h,h=0;r>h;++h)i[h]=o[a+h];i.length=r}}return n},n.I=function(){return Ge(this.s,0,this.s.length,this.a)},n.F=function(){return"MultiPoint"},n.ga=function(t,e){t?(ye(this,e,t,1),this.s||(this.s=[]),this.s.length=Ee(this.s,0,t,this.a)):xe(this,"XY",null),this.D()},w(fl,ve),n=fl.prototype,n.clone=function(){for(var t=new fl(null),e=this.b.length,i=Array(e),n=0;e>n;++n)i[n]=this.b[n].slice();return gl(t,this.X,this.s.slice(),i),t},n.Ja=function(t,e,i,n){if(n<Aa(this.C(),t,e))return n;if(this.G!=this.i){var s,o=this.b,r=0,a=0,h=0;for(s=o.length;s>h;++h){var l=o[h];a=Be(this.s,r,l,this.a,a),r=l[l.length-1]}this.K=Math.sqrt(a),this.G=this.i}o=Kh(this),r=this.b,a=this.a,h=this.K,s=0,l=[NaN,NaN];var c,u=0;for(c=r.length;c>u;++u){var f=r[u];n=De(o,s,f,a,h,!0,t,e,i,n,l),s=f[f.length-1]}return n},n.I=function(t){if(void 0!==t){var e=Kh(this).slice();Se(e,this.b,this.a,t)}else e=this.s;return Ie(e,0,this.b,this.a)},n.sb=function(){return this.b},n.gb=function(t){var e=[],i=[],n=this.s,s=this.b,o=this.a;t=Math.sqrt(t);var r,a=0,h=0,l=0;for(r=s.length;r>l;++l){var c=s[l],u=[];h=Ke(n,a,c,o,t,e,h,u),i.push(u),a=c[c.length-1]}return e.length=h,n=new fl(null),gl(n,"XY",e,i),n},n.F=function(){return"MultiPolygon"},n.ga=function(t,e){if(t){ye(this,e,t,3),this.s||(this.s=[]),e=this.s;var i=this.a,n=this.b,s=0;n=n?n:[];var o,r=0,a=0;for(o=t.length;o>a;++a)s=Fe(e,s,t[a],i,n[r]),n[r++]=s,s=s[s.length-1];n.length=r,0===n.length?this.s.length=0:(t=n[n.length-1],this.s.length=0===t.length?0:t[t.length-1]),this.D()}else gl(this,"XY",null,this.b)},w(hl,Uk),n=hl.prototype,n.F=function(){return"xml"},n.wb=function(t,e){return t instanceof Document?il(this,t,e):t instanceof Node?this.i(t,e):"string"==typeof t?(t=Hk(t),il(this,t,e)):[]},n.Ic=function(t){return t instanceof Document||t instanceof Node?this.defaultDataProjection:"string"==typeof t?(Hk(t),this.defaultDataProjection):null},n.Ud=function(t,e){return t=this.Vd(t,e),this.b.serializeToString(t)},n.Vd=function(){return null},w(tl,hl);var ul=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Dl=S(ul,{rte:Ik(function(t,e){var i=e[0];if(t=U({flatCoordinates:[],layoutOptions:{}},Al,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.layoutOptions;delete t.layoutOptions,n=wl(n,e);var s=new Wj(null);return Xj(s,n,e),Xk(s,!1,i),i=new sj(s),i.ta(t),i}}),trk:Ik(function(t,e){var i=e[0];if(t=U({flatCoordinates:[],ends:[],layoutOptions:{}},Bl,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.ends;delete t.ends;var s=t.layoutOptions;delete t.layoutOptions,s=wl(s,e,n);var o=new al(null);return bl(o,s,e,n),Xk(o,!1,i),i=new sj(o),i.ta(t),i}}),wpt:Ik(function(t,e){var i=e[0];if(e=U({},Cl,t,e)){var n={};return t=vl([],n,t,e),n=wl(n,t),t=new Me(t,n),Xk(t,!1,i),i=new sj(t),i.ta(e),i}})}),yl=S(ul,{text:O(W,"linkText"),type:O(W,"linkType")}),Al=S(ul,{name:O(W),cmt:O(W),desc:O(W),src:O(W),link:xl,number:O(nl),extensions:zl,type:O(W),rtept:function(t,e){var i=U({},El,t,e);i&&(e=e[e.length-1],vl(e.flatCoordinates,e.layoutOptions,t,i))}}),El=S(ul,{ele:O(V),time:O(ll)}),Bl=S(ul,{name:O(W),cmt:O(W),desc:O(W),src:O(W),link:xl,number:O(nl),type:O(W),extensions:zl,trkseg:function(t,e){var i=e[e.length-1];Qk(Fl,t,e),i.ends.push(i.flatCoordinates.length)}}),Fl=S(ul,{trkpt:function(t,e){var i=U({},Gl,t,e);i&&(e=e[e.length-1],vl(e.flatCoordinates,e.layoutOptions,t,i))}}),Gl=S(ul,{ele:O(V),time:O(ll)}),Cl=S(ul,{ele:O(V),time:O(ll),magvar:O(V),geoidheight:O(V),name:O(W),cmt:O(W),desc:O(W),src:O(W),link:xl,sym:O(W),type:O(W),fix:O(W),sat:O(nl),hdop:O(V),vdop:O(V),pdop:O(V),ageofdgpsdata:O(V),dgpsid:O(nl),extensions:zl});tl.prototype.i=function(t,e){if(!(0<=ul.indexOf(t.namespaceURI)))return[];if("gpx"==t.localName&&(t=U([],Dl,t,[Vk(this,t,e)]))){(e=t)||(e=[]);for(var i=0,n=e.length;n>i;++i){var s=e[i];if(this.f){var o=s.get("extensionsNode_")||null;this.f(s,o)}s.set("extensionsNode_",void 0)}return t}return[]};var Jl=["text","type"],Il=S(ul,{text:R(X),type:R(X)}),Ol=S(ul,"name cmt desc src link number type rtept".split(" ")),Pl=S(ul,{name:R(X),cmt:R(X),desc:R(X),src:R(X),link:R(Hl),number:R(sl),type:R(X),rtept:Lk(R(Kl))}),Ll=S(ul,["ele","time"]),Ql=S(ul,"name cmt desc src link number type trkseg".split(" ")),Tl=S(ul,{name:R(X),cmt:R(X),desc:R(X),src:R(X),link:R(Hl),number:R(sl),type:R(X),trkseg:Lk(R(function(t,e,i){Rk({node:t,geometryLayout:e.X,properties:{}},Rl,Sl,e.I(),i)}))}),Sl=Mk("trkpt"),Rl=S(ul,{trkpt:R(Kl)}),Ml=S(ul,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Nl=S(ul,{ele:R(rl),time:R(function(t,e){e=new Date(1e3*e),t.appendChild(Ek.createTextNode(e.getUTCFullYear()+"-"+Wd(e.getUTCMonth()+1)+"-"+Wd(e.getUTCDate())+"T"+Wd(e.getUTCHours())+":"+Wd(e.getUTCMinutes())+":"+Wd(e.getUTCSeconds())+"Z"))}),magvar:R(rl),geoidheight:R(rl),name:R(X),cmt:R(X),desc:R(X),src:R(X),link:R(Hl),sym:R(X),type:R(X),fix:R(X),sat:R(sl),hdop:R(rl),vdop:R(rl),pdop:R(rl),ageofdgpsdata:R(rl),dgpsid:R(sl)}),Ul={Point:"wpt",LineString:"rte",MultiLineString:"trk"},Wl=S(ul,{rte:R(function(t,e,i){var n=i[0],s=e.La();t={node:t,properties:s},(e=e.T())&&(e=Xk(e,!0,n),t.geometryLayout=e.X,s.rtept=e.I()),n=Ol[i[i.length-1].node.namespaceURI],s=Pk(s,n),Rk(t,Pl,Ok,s,i,n)}),trk:R(function(t,e,i){var n=i[0],s=e.La();t={node:t,properties:s},(e=e.T())&&(e=Xk(e,!0,n),s.trkseg=cl(e)),n=Ql[i[i.length-1].node.namespaceURI],s=Pk(s,n),Rk(t,Tl,Ok,s,i,n)}),wpt:R(function(t,e,i){var n=i[0],s=i[i.length-1];s.properties=e.La(),(e=e.T())&&(e=Xk(e,!0,n),s.geometryLayout=e.X,Kl(t,e.I(),i))})});tl.prototype.Vd=function(t,e){e=Wk(this,e);var i=Ek.createElementNS("http://www.topografix.com/GPX/1/1","gpx");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),i.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Rk({node:i},Wl,Vl,t,[e]),i},w(Xl,ue),n=Xl.prototype,n.clone=function(){var t=new Xl(null),e=Za(this.a);return Zl(t),t.a=e,Yl(t),t.D(),t},n.Ja=function(t,e,i,n){if(n<Aa(this.C(),t,e))return n;var s,o=this.a,r=0;for(s=o.length;s>r;++r)n=o[r].Ja(t,e,i,n);return n},n.mc=function(t){Ea(t);for(var e=this.a,i=0,n=e.length;n>i;++i)Ia(t,e[i].C());return t},n.Hb=function(t){if(this.l!=this.i&&(Ta(this.c),this.g=0,this.l=this.i),0>t||0!==this.g&&t<this.g)return this;var e=t.toString();if(this.c.hasOwnProperty(e))return this.c[e];var i,n=[],s=this.a,o=!1,r=0;for(i=s.length;i>r;++r){var a=s[r],h=a.Hb(t);n.push(h),h!==a&&(o=!0)}return o?(t=new Xl(null),Zl(t),t.a=n,Yl(t),t.D(),this.c[e]=t):(this.g=t,this)},n.F=function(){return"GeometryCollection"},n.rotate=function(t,e){for(var i=this.a,n=0,s=i.length;s>n;++n)i[n].rotate(t,e);this.D()},n.scale=function(t,e,i){i||(i=Na(this.C()));for(var n=this.a,s=0,o=n.length;o>s;++s)n[s].scale(t,e,i);this.D()},n.qb=function(t){var e,i=this.a,n=0;for(e=i.length;e>n;++n)i[n].qb(t);this.D()},n.Z=function(){Zl(this),ue.prototype.Z.call(this)},w($l,Yk);var bm={Point:function(t){return new Me(t.coordinates)},LineString:function(t){return new Wj(t.coordinates)},Polygon:function(t){return new Te(t.coordinates)},MultiPoint:function(t){return new el(t.coordinates)},MultiLineString:function(t){return new al(t.coordinates)},MultiPolygon:function(t){return new fl(t.coordinates)},GeometryCollection:function(t,e){return t=t.geometries.map(function(t){return am(t,e)}),new Xl(t)}},dm={Point:function(t){return{type:"Point",coordinates:t.I()}},LineString:function(t){return{type:"LineString",coordinates:t.I()}},Polygon:function(t,e){if(e)var i=e.rightHanded;return{type:"Polygon",coordinates:t.I(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.I()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.I()}},MultiPolygon:function(t,e){if(e)var i=e.rightHanded;return{type:"MultiPolygon",coordinates:t.I(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var i=Sa({},e);return delete i.featureProjection,cm(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};$l.prototype.i=function(t,e){e=Wk(this,e);var i,n=[],s=0;for(i=t.length;i>s;++s)n.push(em(this,t[s],e));return{type:"FeatureCollection",features:n}},w(fm,Ac),fm.prototype.o=function(){this.i=3,this.c.forEach(A),this.c=null,this.f("change")},fm.prototype.v=function(){if(this.i=2,this.a&&(this.H.width=this.a[0],this.H.height=this.a[1]),this.a=[this.H.width,this.H.height],this.c.forEach(A),this.c=null,gm(this),!this.l&&null!==this.g){this.b.width=this.H.width,this.b.height=this.H.height;var t=this.b.getContext("2d");t.drawImage(this.H,0,0);for(var e=t.getImageData(0,0,this.H.width,this.H.height),i=e.data,n=this.g[0]/255,s=this.g[1]/255,o=this.g[2]/255,r=0,a=i.length;a>r;r+=4)i[r]*=n,i[r+1]*=s,i[r+2]*=o;t.putImageData(e,0,0)}this.f("change")},fm.prototype.U=function(){return this.b?this.b:this.H},fm.prototype.load=function(){if(0==this.i){this.i=1,this.c=[B(this.H,"error",this.o,this,!0),B(this.H,"load",this.v,this,!0)];try{this.H.src=this.u}catch(t){this.o()}}},w(hm,gj),n=hm.prototype,n.clone=function(){return new hm({
anchor:this.g.slice(),anchorOrigin:this.f,anchorXUnits:this.A,anchorYUnits:this.B,crossOrigin:this.G,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.a.u,offset:this.ba.slice(),offsetOrigin:this.i,size:null!==this.P?this.P.slice():void 0,opacity:this.c,scale:this.b,snapToPixel:this.o,rotation:this.l,rotateWithView:this.v})},n.Fb=function(){if(this.u)return this.u;var t=this.g,e=this.kb();if("fraction"==this.A||"fraction"==this.B){if(!e)return null;t=this.g.slice(),"fraction"==this.A&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.f){if(!e)return null;t===this.g&&(t=this.g.slice()),("top-right"==this.f||"bottom-right"==this.f)&&(t[0]=-t[0]+e[0]),("bottom-left"==this.f||"bottom-right"==this.f)&&(t[1]=-t[1]+e[1])}return this.u=t},n.U=function(t){return this.a.U(t)},n.jd=function(){return this.a.a},n.Qb=function(){return this.a.i},n.Fd=function(){var t=this.a;if(!t.j)if(t.l){var e=t.a[0],i=t.a[1],n=mf(e,i);n.fillRect(0,0,e,i),t.j=n.canvas}else t.j=t.H;return t.j},n.Rb=function(){if(this.J)return this.J;var t=this.ba;if("top-left"!=this.i){var e=this.kb(),i=this.a.a;if(!e||!i)return null;t=t.slice(),("top-right"==this.i||"bottom-right"==this.i)&&(t[0]=i[0]-e[0]-t[0]),("bottom-left"==this.i||"bottom-right"==this.i)&&(t[1]=i[1]-e[1]-t[1])}return this.J=t},n.kb=function(){return this.P?this.P:this.a.a},n.sd=function(t,e){B(this.a,"change",t,e)},n.load=function(){this.a.load()},n.Qd=function(t,e){qc(this.a,"change",t,e)};var im=["http://www.google.com/kml/ext/2.2"],Y=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],jm={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},Im=S(Y,{displayName:O(W),value:O(W)}),Fm=S(Y,{Data:function(t,e){var i=t.getAttribute("name");Qk(Im,t,e),t=e[e.length-1],null!==i?t[i]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){Qk(Jm,t,e)}}),Hm=S(Y,{LatLonAltBox:function(t,e){(t=U({},Km,t,e))&&(e=e[e.length-1],e.extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=U({},Lm,t,e))&&(e=e[e.length-1],e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Km=S(Y,{altitudeMode:O(W),minAltitude:O(V),maxAltitude:O(V),north:O(V),south:O(V),east:O(V),west:O(V)}),Lm=S(Y,{minLodPixels:O(V),maxLodPixels:O(V),minFadeExtent:O(V),maxFadeExtent:O(V)}),tm=S(Y,{extrude:O(jl),tessellate:O(jl),altitudeMode:O(W)}),pm=S(Y,{coordinates:Jk(lm)}),Bm=S(Y,{innerBoundaryIs:function(t,e){(t=U(void 0,Mm,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=U(void 0,Nm,t,e))&&(e[e.length-1][0]=t)}}),rm=S(Y,{when:function(t,e){e=e[e.length-1].Td,t=Fk(t),t=Date.parse(t),e.push(isNaN(t)?0:t)}},S(im,{coord:function(t,e){e=e[e.length-1].s,t=Fk(t),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),um=S(Y,{coordinates:Jk(lm)}),Om=S(Y,{href:O(mm)},S(im,{x:O(V),y:O(V),w:O(V),h:O(V)})),Pm=S(Y,{Icon:O(function(t,e){return(t=U({},Om,t,e))?t:null}),heading:O(V),hotSpot:O(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits"),n="insetPixels"!==e?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),Nc:jm[e],y:parseFloat(t.getAttribute("y")),Oc:jm[i],origin:n}}),scale:O(nm)}),Mm=S(Y,{LinearRing:Jk(om)}),Qm=S(Y,{color:O(km),scale:O(nm)}),Rm=S(Y,{color:O(km),width:O(V)}),xm=S(Y,{LineString:Ik(sm),LinearRing:Ik(vm),MultiGeometry:Ik(wm),Point:Ik(zm),Polygon:Ik(Am)}),Sm=S(im,{Track:Ik(qm)});S(Y,{ExtendedData:Em,Region:Gm,Link:function(t,e){Qk(Tm,t,e)},address:O(W),description:O(W),name:O(W),open:O(jl),phoneNumber:O(W),visibility:O(jl)});var Tm=S(Y,{href:O(mm)}),Nm=S(Y,{LinearRing:Jk(om)}),Um=S(Y,{Style:O(Cm),key:O(W),styleUrl:O(mm)});S(Y,{ExtendedData:Em,Region:Gm,MultiGeometry:O(wm,"geometry"),LineString:O(sm,"geometry"),LinearRing:O(vm,"geometry"),Point:O(zm,"geometry"),Polygon:O(Am,"geometry"),Style:O(Cm),StyleMap:function(t,e){(t=U(void 0,Vm,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:y(!1,38))},address:O(W),description:O(W),name:O(W),open:O(jl),phoneNumber:O(W),styleUrl:O(mm),visibility:O(jl)},S(im,{MultiTrack:O(function(t,e){return(t=U([],Sm,t,e))?(e=new al(null),dl(e,t),e):void 0},"geometry"),Track:O(qm,"geometry")}));var Wm=S(Y,{color:O(km),fill:O(jl),outline:O(jl)}),Jm=S(Y,{SimpleData:function(t,e){var i=t.getAttribute("name");null!==i&&(t=W(t),e[e.length-1][i]=t)}}),Dm=S(Y,{IconStyle:function(t,e){if(t=U({},Pm,t,e)){e=e[e.length-1];var i,n="Icon"in t?t.Icon:{},s=!("Icon"in t)||0<Object.keys(n).length,o=n.href;o?i=o:s&&(i=void 0),o="bottom-left";var r=t.hotSpot;if(r){var a=[r.x,r.y],h=r.Nc,l=r.Oc;o=r.origin}else void 0===i?l=h=a=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(a=[.5,0],l=h="fraction");var c;r=n.x;var u=n.y;void 0!==r&&void 0!==u&&(c=[r,u]);var f;r=n.w,n=n.h,void 0!==r&&void 0!==n&&(f=[r,n]);var p;n=t.heading,void 0!==n&&(p=qa(n)),t=t.scale,s?(void 0==i&&(f=void 0,void 0===t&&(t=void 0)),i=new hm({anchor:a,anchorOrigin:o,anchorXUnits:h,anchorYUnits:l,crossOrigin:"anonymous",offset:c,offsetOrigin:"bottom-left",rotation:p,scale:t,size:f,src:i}),e.imageStyle=i):e.imageStyle=void 0}},LabelStyle:function(t,e){(t=U({},Qm,t,e))&&(e[e.length-1].textStyle=new Yj({fill:new kj({color:"color"in t?t.color:void 0}),scale:t.scale}))},LineStyle:function(t,e){(t=U({},Rm,t,e))&&(e[e.length-1].strokeStyle=new lj({color:"color"in t?t.color:void 0,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=U({},Wm,t,e)){e=e[e.length-1],e.fillStyle=new kj({color:"color"in t?t.color:void 0});var i=t.fill;void 0!==i&&(e.fill=i),t=t.outline,void 0!==t&&(e.outline=t)}}}),Vm=S(Y,{Pair:function(t,e){if(t=U({},Um,t,e)){var i=t.key;i&&"normal"==i&&((i=t.styleUrl)&&(e[e.length-1]=i),(t=t.Style)&&(e[e.length-1]=t))}}});S(Y,["Document","Placemark"]),S(Y,{Document:R(function(t,e,i){Rk({node:t},Fn,Gn,e,i,void 0,this)}),Placemark:R(tn)});var Fn=S(Y,{Placemark:R(tn)}),Hn=S(Y,{Data:R(function(t,e,i){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&Rk(t,Hn,Ok,[e.displayName],i,["displayName"]),null!==e&&e.value&&Rk(t,Hn,Ok,[e.value],i,["value"])):Rk(t,Hn,Ok,[e],i,["value"])}),value:R(function(t,e){X(t,e)}),displayName:R(function(t,e){t.appendChild(Ek.createCDATASection(e))})}),In={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Jn=S(Y,["href"],S(im,["x","y","w","h"])),Kn=S(Y,{href:R(X)},S(im,{x:R(rl),y:R(rl),w:R(rl),h:R(rl)})),Ln=S(Y,["scale","heading","Icon","hotSpot"]),Nn=S(Y,{Icon:R(function(t,e,i){t={node:t};var n=Jn[i[i.length-1].node.namespaceURI],s=Pk(e,n);Rk(t,Kn,Ok,s,i,n),n=Jn[im[0]],s=Pk(e,n),Rk(t,Kn,Mn,s,i,n)}),heading:R(rl),hotSpot:R(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Nc),t.setAttribute("yunits",e.Oc)}),scale:R(En)}),On=S(Y,["color","scale"]),Pn=S(Y,{color:R(Xm),scale:R(En)}),Qn=S(Y,["color","width"]),Rn=S(Y,{color:R(Xm),width:R(rl)}),rn=S(Y,{LinearRing:R(xn)}),pn=S(Y,{LineString:R(xn),Point:R(xn),Polygon:R(An),GeometryCollection:R(kn)}),wn=S(Y,"name open visibility address phoneNumber description styleUrl Style".split(" ")),un=S(Y,{ExtendedData:R(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var s=n.length,o=0;s>o;o++)Rk(t,Hn,Sn,[{name:n[o],value:e[o]}],i)}),MultiGeometry:R(kn),LineString:R(xn),LinearRing:R(xn),Point:R(xn),Polygon:R(An),Style:R(function(t,e,i){t={node:t};var n={},s=e.na(),o=e.ia(),r=e.U();e=e.qa(),r instanceof hm&&(n.IconStyle=r),e&&(n.LabelStyle=e),o&&(n.LineStyle=o),s&&(n.PolyStyle=s),e=Tn[i[i.length-1].node.namespaceURI],n=Pk(n,e),Rk(t,Un,Ok,n,i,e)}),address:R(X),description:R(X),name:R(X),open:R(ql),phoneNumber:R(X),styleUrl:R(X),visibility:R(ql)}),yn=S(Y,["extrude","tessellate","altitudeMode","coordinates"]),zn=S(Y,{extrude:R(ql),tessellate:R(ql),altitudeMode:R(X),coordinates:R(function(t,e,i){i=i[i.length-1];var n=i.layout;i=i.stride;var s;"XY"==n||"XYM"==n?s=2:"XYZ"==n||"XYZM"==n?s=3:y(!1,34);var o,r=e.length,a="";if(r>0){for(a+=e[0],n=1;s>n;++n)a+=","+e[n];for(o=i;r>o;o+=i)for(a+=" "+e[o],n=1;s>n;++n)a+=","+e[o+n]}X(t,a)})}),Bn=S(Y,{outerBoundaryIs:R(qn),innerBoundaryIs:R(qn)}),Vn=S(Y,{color:R(Xm)}),Tn=S(Y,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Un=S(Y,{IconStyle:R(function(t,e,i){t={node:t};var n={},s=e.kb(),o=e.jd(),r={href:e.a.u};if(s){r.w=s[0],r.h=s[1];var a=e.Fb(),h=e.Rb();h&&o&&0!==h[0]&&h[1]!==s[1]&&(r.x=h[0],r.y=o[1]-(h[1]+s[1])),!a||a[0]===s[0]/2&&a[1]===s[1]/2||(n.hotSpot={x:a[0],Nc:"pixels",y:s[1]-a[1],Oc:"pixels"})}n.Icon=r,s=e.b,1!==s&&(n.scale=s),e=e.l,0!==e&&(n.heading=e),e=Ln[i[i.length-1].node.namespaceURI],n=Pk(n,e),Rk(t,Nn,Ok,n,i,e)}),LabelStyle:R(function(t,e,i){t={node:t};var n={},s=e.na();s&&(n.color=s.a),(e=e.a)&&1!==e&&(n.scale=e),e=On[i[i.length-1].node.namespaceURI],n=Pk(n,e),Rk(t,Pn,Ok,n,i,e)}),LineStyle:R(function(t,e,i){t={node:t};var n=Qn[i[i.length-1].node.namespaceURI];e=Pk({color:e.a,width:e.b},n),Rk(t,Rn,Ok,e,i,n)}),PolyStyle:R(function(t,e,i){Rk({node:t},Vn,Wn,[e.a],i)})}),Wn=Mk("color"),Sn=Mk("Data"),vn=Mk("ExtendedData"),Cn=Mk("innerBoundaryIs"),mn=Mk("Point"),nn=Mk("LineString"),sn=Mk("LinearRing"),on=Mk("Polygon"),Dn=Mk("outerBoundaryIs");li.Bb=function(){},function(t){function e(t){this.le=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=0,this.length=this.le.length}e.b=0,e.i=1,e.a=2,e.f=5,e.prototype={},t["default"]=e}(li.Bb=li.Bb||{}),li.Bb=li.Bb["default"],n=Xn.prototype,n.get=function(t){return this.u[t]},n.Ga=Xn.prototype.sb=function(){return this.i},n.C=function(){return this.c||(this.c="Point"===this.g?Fa(this.a):Ga(this.a,0,this.a.length,2)),this.c},n.xc=function(){if(!this.b){var t=Na(this.C());this.b=Oe(this.a,0,this.i,2,t,0)}return this.b},n.yc=function(){return this.f||(this.f=Uj(this.a,0,this.a.length,2)),this.f},n.zc=function(){if(!this.f){this.f=[];for(var t=this.a,e=0,i=this.i,n=0,s=i.length;s>n;++n){var o=i[n];e=Uj(t,e,o,2),Qb(this.f,e),e=o}}return this.f},n.Ya=function(){return this.a},n.W=Xn.prototype.Ya,n.T=function(){return this},n.Hb=Xn.prototype.T,n.$=function(){return 2},n.Ra=fa,n.F=function(){return this.g},n.Xa=function(t){var e=t.C();t=t.Mc,e=Ma(t)/Ma(e);var i=this.j;te(i,t[0],t[3],e,-e,0,0,0),me(this.a,0,this.a.length,2,i,this.a)};var Zn=[null],$n=S(Zn,{nd:function(t,e){e[e.length-1].Bf.push(t.getAttribute("ref"))},tag:Yn});S(Zn,{node:function(t,e){var i=e[0],n=e[e.length-1],s=t.getAttribute("id"),o=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Gg[s]=o,t=U({Xb:{}},ao,t,e),Va(t.Xb)||(o=new Me(o),Xk(o,!1,i),i=new sj(o),i.b=s,i.D(),i.ta(t.Xb),n.features.push(i))},way:function(t,e){var i=t.getAttribute("id");t=U({id:i,Bf:[],Xb:{}},$n,t,e),e[e.length-1].Hg.push(t)}});var ao=S(Zn,{tag:Yn}),ko=[null,"http://www.opengis.net/wms"];S(ko,{Service:O(function(t,e){return U({},lo,t,e)}),Capability:O(function(t,e){return U({},mo,t,e)})});var mo=S(ko,{Request:O(function(t,e){return U({},no,t,e)}),Exception:O(function(t,e){return U([],oo,t,e)}),Layer:O(function(t,e){return U({},po,t,e)})}),lo=S(ko,{Name:O(W),Title:O(W),Abstract:O(W),KeywordList:O(io),OnlineResource:O(bo),ContactInformation:O(function(t,e){return U({},qo,t,e)}),Fees:O(W),AccessConstraints:O(W),LayerLimit:O(nl),MaxWidth:O(nl),MaxHeight:O(nl)}),qo=S(ko,{ContactPersonPrimary:O(function(t,e){return U({},ro,t,e)}),ContactPosition:O(W),ContactAddress:O(function(t,e){return U({},so,t,e)}),ContactVoiceTelephone:O(W),ContactFacsimileTelephone:O(W),ContactElectronicMailAddress:O(W)}),ro=S(ko,{ContactPerson:O(W),ContactOrganization:O(W)}),so=S(ko,{AddressType:O(W),Address:O(W),City:O(W),StateOrProvince:O(W),PostCode:O(W),Country:O(W)}),oo=S(ko,{Format:Ik(W)}),po=S(ko,{Name:O(W),Title:O(W),Abstract:O(W),KeywordList:O(io),CRS:Kk(W),EX_GeographicBoundingBox:O(function(t,e){var i=U({},to,t,e);if(i){t=i.westBoundLongitude,e=i.southBoundLatitude;var n=i.eastBoundLongitude;if(i=i.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return[t,e,n,i]}}),BoundingBox:Kk(function(t){var e=[ml(t.getAttribute("minx")),ml(t.getAttribute("miny")),ml(t.getAttribute("maxx")),ml(t.getAttribute("maxy"))],i=[ml(t.getAttribute("resx")),ml(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:Kk(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),"default":t.getAttribute("default"),multipleValues:kl(t.getAttribute("multipleValues")),nearestValue:kl(t.getAttribute("nearestValue")),current:kl(t.getAttribute("current")),values:W(t)}}),Attribution:O(function(t,e){return U({},uo,t,e)}),AuthorityURL:Kk(function(t,e){return(e=co(t,e))?(e.name=t.getAttribute("name"),e):void 0}),Identifier:Kk(W),MetadataURL:Kk(function(t,e){return(e=co(t,e))?(e.type=t.getAttribute("type"),e):void 0}),DataURL:Kk(co),FeatureListURL:Kk(co),Style:Kk(function(t,e){return U({},vo,t,e)}),MinScaleDenominator:O(V),MaxScaleDenominator:O(V),Layer:Kk(function(t,e){var i=e[e.length-1],n=U({},po,t,e);return n?(e=kl(t.getAttribute("queryable")),void 0===e&&(e=i.queryable),n.queryable=void 0!==e?e:!1,e=pl(t.getAttribute("cascaded")),void 0===e&&(e=i.cascaded),n.cascaded=e,e=kl(t.getAttribute("opaque")),void 0===e&&(e=i.opaque),n.opaque=void 0!==e?e:!1,e=kl(t.getAttribute("noSubsets")),void 0===e&&(e=i.noSubsets),n.noSubsets=void 0!==e?e:!1,(e=ml(t.getAttribute("fixedWidth")))||(e=i.fixedWidth),n.fixedWidth=e,(t=ml(t.getAttribute("fixedHeight")))||(t=i.fixedHeight),n.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n):void 0})}),uo=S(ko,{Title:O(W),OnlineResource:O(bo),LogoURL:O(ho)}),to=S(ko,{westBoundLongitude:O(V),eastBoundLongitude:O(V),southBoundLatitude:O(V),northBoundLatitude:O(V)}),no=S(ko,{GetCapabilities:O(fo),GetMap:O(fo),GetFeatureInfo:O(fo)}),go=S(ko,{Format:Kk(W),DCPType:Kk(function(t,e){return U({},wo,t,e)})}),wo=S(ko,{HTTP:O(function(t,e){return U({},xo,t,e)})}),xo=S(ko,{Get:O(co),Post:O(co)}),vo=S(ko,{Name:O(W),Title:O(W),Abstract:O(W),LegendURL:Kk(ho),StyleSheetURL:O(co),StyleURL:O(co)}),eo=S(ko,{Format:O(W),OnlineResource:O(bo)}),jo=S(ko,{Keyword:Ik(W)}),yo=[null,"http://www.opengis.net/ows/1.1"];S(yo,{ServiceIdentification:O(function(t,e){return U({},zo,t,e)}),ServiceProvider:O(function(t,e){return U({},Ao,t,e)}),OperationsMetadata:O(function(t,e){return U({},Bo,t,e)})});var Co=S(yo,{DeliveryPoint:O(W),City:O(W),AdministrativeArea:O(W),PostalCode:O(W),Country:O(W),ElectronicMailAddress:O(W)}),Do=S(yo,{Value:Kk(function(t){return W(t)})}),Eo=S(yo,{AllowedValues:O(function(t,e){return U({},Do,t,e)})}),Go=S(yo,{Phone:O(function(t,e){return U({},Fo,t,e)}),Address:O(function(t,e){return U({},Co,t,e)})}),Io=S(yo,{HTTP:O(function(t,e){return U({},Ho,t,e)})}),Ho=S(yo,{Get:Kk(function(t,e){var i=bo(t);return i?U({href:i},Jo,t,e):void 0}),Post:void 0}),Ko=S(yo,{DCP:O(function(t,e){return U({},Io,t,e)})}),Bo=S(yo,{Operation:function(t,e){var i=t.getAttribute("name");(t=U({},Ko,t,e))&&(e[e.length-1][i]=t)}}),Fo=S(yo,{Voice:O(W),Facsimile:O(W)}),Jo=S(yo,{Constraint:Kk(function(t,e){var i=t.getAttribute("name");return i?U({name:i},Eo,t,e):void 0})}),Lo=S(yo,{IndividualName:O(W),PositionName:O(W),ContactInfo:O(function(t,e){return U({},Go,t,e)})}),zo=S(yo,{Abstract:O(W),AccessConstraints:O(W),Fees:O(W),Title:O(W),ServiceTypeVersion:O(W),ServiceType:O(W)}),Ao=S(yo,{ProviderName:O(W),ProviderSite:O(bo),ServiceContact:O(function(t,e){return U({},Lo,t,e)})}),No=[null,"http://www.opengis.net/wmts/1.0"],Oo=[null,"http://www.opengis.net/ows/1.1"];S(No,{Contents:O(function(t,e){return U({},Po,t,e)})});var Po=S(No,{Layer:Kk(function(t,e){return U({},Qo,t,e)}),TileMatrixSet:Kk(function(t,e){return U({},Ro,t,e)})}),Qo=S(No,{Style:Kk(function(t,e){return(e=U({},So,t,e))?(t="true"===t.getAttribute("isDefault"),e.isDefault=t,e):void 0}),Format:Kk(W),TileMatrixSetLink:Kk(function(t,e){return U({},To,t,e)}),Dimension:Kk(function(t,e){return U({},Uo,t,e)}),ResourceURL:Kk(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},S(Oo,{Title:O(W),Abstract:O(W),WGS84BoundingBox:O(function(t,e){return t=U([],Vo,t,e),2==t.length?va(t):void 0}),Identifier:O(W)})),So=S(No,{LegendURL:Kk(function(t){var e={};return e.format=t.getAttribute("format"),e.href=bo(t),e})},S(Oo,{Title:O(W),Identifier:O(W)})),To=S(No,{TileMatrixSet:O(W),TileMatrixSetLimits:O(function(t,e){return U([],Wo,t,e)})}),Wo=S(No,{TileMatrixLimits:Ik(function(t,e){return U({},Xo,t,e)})}),Xo=S(No,{TileMatrix:O(W),MinTileRow:O(nl),MaxTileRow:O(nl),MinTileCol:O(nl),MaxTileCol:O(nl)}),Uo=S(No,{Default:O(W),Value:Kk(W)},S(Oo,{Identifier:O(W)})),Vo=S(Oo,{LowerCorner:Ik(Mo),UpperCorner:Ik(Mo)}),Ro=S(No,{WellKnownScaleSet:O(W),TileMatrix:Kk(function(t,e){return U({},Yo,t,e)})},S(Oo,{SupportedCRS:O(W),Identifier:O(W)})),Yo=S(No,{TopLeftCorner:O(Mo),ScaleDenominator:O(V),TileWidth:O(nl),TileHeight:O(nl),MatrixWidth:O(nl),MatrixHeight:O(nl)},S(Oo,{Identifier:O(W)}));w(Zo,Rf),Zo.prototype.g=function(t,e){e=e.target.result;var i=this.A,n=this.j;n||(n=i.S().A),i=this.c;var s,o=[],r=0;for(s=i.length;s>r;++r){var a=new i[r],h={featureProjection:n};try{o=a.wb(e,h)}catch(l){o=null}if(o&&0<o.length)break}this.b&&(this.b.clear(),this.b.hc(o)),this.f(new bp(cp,t,o,n))},Zo.prototype.jb=function(t){Rf.prototype.jb.call(this,t),t?dp(this):ep(this)},Zo.prototype.setMap=function(t){ep(this),Rf.prototype.setMap.call(this,t),this.get("active")&&dp(this)};var cp="addfeatures";w(bp,tc),w(fp,Hf),fp.prototype.Ra=function(){return this.v};var bj="renderOrder";if(w(hp,D),hp.prototype.ua=fa,w(jp,hp),n=jp.prototype,n.hc=function(t){kp(this,t),this.D()},n.clear=function(t){if(t){for(var e in this.o)this.o[e].forEach(A);this.c||(this.o={},this.g={},this.l={})}else if(this.a){this.a.forEach(this.Kc,this);for(var i in this.b)this.Kc(this.b[i])}this.c&&this.c.clear(),this.a&&this.a.clear(),this.G.clear(),this.b={},this.f(new pp("clear")),this.D()},n.ve=function(t,e){return this.a?this.a.forEach(t,e):this.c?this.c.forEach(t,e):void 0},n.Dd=function(){if(this.c)var t=this.c.a;else this.a&&(t=hk(this.a),Va(this.b)||Qb(t,Ua(this.b)));return t},n.C=function(t){return this.a.C(t)},n.Ed=function(t){t=t.target;var e=x(t).toString(),i=t.T();i?(i=i.C(),e in this.b?(delete this.b[e],this.a&&this.a.fa(i,t)):this.a&&gk(this.a,i,t)):e in this.b||(this.a&&this.a.remove(t),this.b[e]=t),i=t.b,void 0!==i?(i=i.toString(),e in this.l?(delete this.l[e],this.g[i]=t):this.g[i]!==t&&(qp(this,t),this.g[i]=t)):e in this.l||(qp(this,t),this.l[e]=t),this.D(),this.f(new pp("changefeature",t))},n.nb=function(t){var e=x(t).toString();e in this.b?delete this.b[e]:this.a&&this.a.remove(t),this.Kc(t),this.D()},n.Kc=function(t){var e=x(t).toString();this.o[e].forEach(A),delete this.o[e];var i=t.b;void 0!==i?delete this.g[i.toString()]:delete this.l[e],this.f(new pp("removefeature",t))},w(pp,tc),w(rp,dg),n=rp.prototype,n.gc=function(t){var e=t.T();e&&e.F()in this.ka&&this.ka[e.F()].call(this,t,e),(e=this.A)&&e.b&&this.get("active")&&xp(this,this.Aa,e),B(t,"change",this.xd,this)},n.jb=function(t){this.b&&!t&&(this.B.da().nb(this.b),this.b=null),dg.prototype.jb.call(this,t)},n.setMap=function(t){this.B.setMap(t),dg.prototype.setMap.call(this,t)},n.Ze=function(t){t.feature&&this.l.push(t.feature)},n.bf=function(t){t.feature&&this.l.remove(t.feature)},n.Le=function(t){this.gc(t.element)},n.xd=function(t){this.j||(t=t.target,Ap(this,t),this.gc(t))},n.Me=function(t){Ap(this,t.element)},n.pg=function(t,e){var i=e.I();t={feature:t,geometry:e,V:[i,i]},this.a.fa(e.C(),t)},n.ng=function(t,e){var i,n=e.I(),s=0;for(i=n.length;i>s;++s){var o=n[s];o={feature:t,geometry:e,depth:[s],index:s,V:[o,o]},this.a.fa(e.C(),o)}},n.Wd=function(t,e){var i,n=e.I(),s=0;for(i=n.length-1;i>s;++s){var o=n.slice(s,s+2),r={feature:t,geometry:e,index:s,V:o};this.a.fa(va(o),r)}},n.mg=function(t,e){var i,n,s=e.I(),o=0;for(n=s.length;n>o;++o){var r=s[o],a=0;for(i=r.length-1;i>a;++a){var h=r.slice(a,a+2),l={feature:t,geometry:e,depth:[o],index:a,V:h};this.a.fa(va(h),l)}}},n.qg=function(t,e){var i,n,s=e.I(),o=0;for(n=s.length;n>o;++o){var r=s[o],a=0;for(i=r.length-1;i>a;++a){var h=r.slice(a,a+2),l={feature:t,geometry:e,depth:[o],index:a,V:h};this.a.fa(va(h),l)}}},n.og=function(t,e){var i,n,s,o=e.I(),r=0;for(s=o.length;s>r;++r){var a=o[r],h=0;for(n=a.length;n>h;++h){var l=a[h],c=0;for(i=l.length-1;i>c;++c){var u=l.slice(c,c+2),f={feature:t,geometry:e,depth:[h,r],index:c,V:u};this.a.fa(va(u),f)}}}},n.kg=function(t,e){var i=e.ea(),n={feature:t,geometry:e,index:0,V:[i,i]};t={feature:t,geometry:e,index:1,V:[i,i]},n.wc=t.wc=[n,t],this.a.fa(Fa(i),n),this.a.fa(e.C(),t)},n.lg=function(t,e){var i=e.a;for(e=0;e<i.length;++e)this.ka[i[e].F()].call(this,t,i[e])},n.hf=function(t,e){for(var i,n=t.V,s=t.feature,o=t.geometry,r=t.depth,a=t.index;e.length<o.$();)e.push(0);switch(o.F()){case"MultiLineString":i=o.I(),i[r[0]].splice(a+1,0,e);break;case"Polygon":i=o.I(),i[r[0]].splice(a+1,0,e);break;case"MultiPolygon":i=o.I(),i[r[1]][r[0]].splice(a+1,0,e);break;case"LineString":i=o.I(),i.splice(a+1,0,e);break;default:return}this.j=!0,o.ga(i),this.j=!1,i=this.a,i.remove(t),Fp(this,o,a,r,1),t={V:[n[0],e],feature:s,geometry:o,depth:r,index:a},i.fa(va(t.V),t),this.g.push([t,1]),e={V:[e,n[1]],feature:s,geometry:o,depth:r,index:a+1},i.fa(va(e.V),e),this.g.push([e,0]),this.M=!0},w(zp,tc),w(Hp,Hf),w(Mp,eh),Mp.prototype.fb=function(t){for(var e,i;fh(this);){e=this.i.bb,i=e.ha[0].toString();var n;if((n=i in t)&&(e=e.ha,n=ma(t[i],e[1],e[2])),n)break;sc(this.pop())}},w(Tp,Zj),Tp.prototype.Z=function(){1==this.state&&(this.pb.forEach(A),this.pb=null),Zj.prototype.Z.call(this)},Tp.prototype.U=function(){return this.v},Tp.prototype.Kd=function(){var t=[];if(this.i.forEach(function(e){e&&2==e.state&&t.push({extent:ac(this.c,e.ha),image:e.U()})},this),this.i.length=0,0===t.length)this.state=3;else{var e=this.l[0],i=ec(this.j,e),n="number"==typeof i?i:i[0];i="number"==typeof i?i:i[1],e=this.j.a[e];var s=this.c.a[this.g],o=ac(this.j,this.l);this.v=Pp(n,i,this.B,s,this.c.C(),e,o,this.o,t,this.A,this.G),this.state=2}ak(this)},Tp.prototype.load=function(){if(0==this.state){this.state=1,ak(this);var t=0;this.pb=[],this.i.forEach(function(e){var i=e.state;if(0==i||1==i){t++;var n=B(e,"change",function(){var i=e.state;(2==i||3==i||4==i)&&(A(n),t--,0===t&&(this.pb.forEach(A),this.pb=null,this.Kd()))},this);this.pb.push(n)}},this),this.i.forEach(function(t){0==t.state&&t.load()}),0===t&&setTimeout(this.Kd.bind(this),0)}},w(Up,hp),n=Up.prototype,n.Cd=function(){return fh(this.a)},n.fb=function(t,e){(t=this.tb(t))&&t.fb(e)},n.hd=function(){return 0},n.Cc=function(){return this.Aa},n.Ca=function(t){return this.tileGrid?this.tileGrid:hc(t)},n.tb=function(t){var e=this.j;return e&&!Jb(e,t)?null:this.a},n.Ib=function(){return this.Fa},n.Sd=fa,w(Wp,tc),w(Xp,Up),Xp.prototype.va=function(t){t=t.target;var e=x(t),i=t.state;if(1==i){this.B[e]=!0;var n="tileloadstart"}else e in this.B&&(delete this.B[e],n=3==i?"tileloaderror":2==i||5==i?"tileloadend":void 0);void 0!=n&&this.f(new Wp(n,t))},Xp.prototype.Sd=function(t,e,i){t=t+"/"+e+"/"+i,this.a.b.hasOwnProperty(t)&&this.a.get(t)},w(Zp,Xp),n=Zp.prototype,n.Cd=function(){if(fh(this.a))return!0;for(var t in this.b)if(fh(this.b[t]))return!0;return!1},n.fb=function(t,e){t=this.tb(t),this.a.fb(this.a==t?e:{});for(var i in this.b){var n=this.b[i];n.fb(n==t?e:{})}},n.hd=function(t){return this.j&&t&&!Jb(this.j,t)?0:this.Ac()},n.Ac=function(){return 0},n.Cc=function(t){return this.j&&t&&!Jb(this.j,t)?!1:Xp.prototype.Cc.call(this,t)},n.Ca=function(t){var e=this.j;return!this.tileGrid||e&&!Jb(e,t)?(e=x(t).toString(),e in this.A||(this.A[e]=hc(t)),this.A[e]):this.tileGrid},n.tb=function(t){var e=this.j;return!e||Jb(e,t)?this.a:(t=x(t).toString(),t in this.b||(this.b[t]=new Mp(this.a.highWaterMark)),this.b[t])},w(cq,Zp),w(eq,cq),li.Hc={},li.Hc.Pc=function(){},function(t){function e(t,e,i){return r?new ImageData(t,e,i):(e=h.createImageData(e,i),e.data.set(t),e)}function i(t){var e=!0;try{new ImageData(10,10)}catch(i){e=!1}return function(i){var n=i.buffers,s=i.meta,o=i.width,r=i.height,a=n.length,h=n[0].byteLength;if(i.imageOps){for(h=Array(a),i=0;a>i;++i){var l=i,c=new Uint8ClampedArray(n[i]),u=o,f=r;c=e?new ImageData(c,u,f):{data:c,width:u,height:f},h[l]=c}o=t(h,s).data}else{for(o=new Uint8ClampedArray(h),r=Array(a),l=Array(a),i=0;a>i;++i)r[i]=new Uint8ClampedArray(n[i]),l[i]=[0,0,0,0];for(n=0;h>n;n+=4){for(i=0;a>i;++i)c=r[i],l[i][0]=c[n],l[i][1]=c[n+1],l[i][2]=c[n+2],l[i][3]=c[n+3];i=t(l,s),o[n]=i[0],o[n+1]=i[1],o[n+2]=i[2],o[n+3]=i[3]}}return o.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n),n.addEventListener("message",e),n}function s(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function o(t){this.dc=!!t.Fg;var e;e=0===t.threads?0:this.dc?1:t.threads||1;var i=[];if(e)for(var o=0;e>o;++o)i[o]=n(t,this.Vc.bind(this,o));else i[0]=s(t,this.Vc.bind(this,0));this.Db=i,this.Wc=[],this.Cb=0,this.cb={},this.ec=null}var r=!0;try{new ImageData(10,10)}catch(a){r=!1}var h=document.createElement("canvas").getContext("2d");o.prototype.de=function(){if(0===this.Cb&&0<this.Wc.length){var t=this.ec=this.Wc.shift(),e=t.inputs[0].width,i=t.inputs[0].height,n=t.inputs.map(function(t){return t.data.buffer}),s=this.Db.length;if(this.Cb=s,1===s)this.Db[0].postMessage({buffers:n,meta:t.lf,imageOps:this.dc,width:e,height:i},n);else for(var o=4*Math.ceil(t.inputs[0].data.length/4/s),r=0;s>r;++r){for(var a=r*o,h=[],l=0,c=n.length;c>l;++l)h.push(n[r].slice(a,a+o));this.Db[r].postMessage({buffers:h,meta:t.lf,imageOps:this.dc,width:e,height:i},h)}}},o.prototype.Vc=function(t,e){this.Eg||(this.cb[t]=e.data,--this.Cb,0===this.Cb&&this.fe())},o.prototype.fe=function(){var t=this.ec,i=this.Db.length;if(1===i)var n=new Uint8ClampedArray(this.cb[0].buffer),s=this.cb[0].meta;else{var o=t.inputs[0].data.length;n=new Uint8ClampedArray(o),s=Array(o),o=4*Math.ceil(o/4/i);for(var r=0;i>r;++r){var a=r*o;n.set(new Uint8ClampedArray(this.cb[r].buffer),a),s[r]=this.cb[r].meta}}this.ec=null,this.cb={},t.callback(null,e(n,t.inputs[0].width,t.inputs[0].height),s),this.de()},t["default"]={Pc:o},t.Pc=o}(li.Hc=li.Hc||{}),w(fq,Zp),fq.prototype.Ac=function(){return this.M},fq.prototype.Ib=function(t){return this.K&&void 0!==this.o?t:1},fq.prototype.c=function(t,e,i){var n=this.tileGrid;if(n||(n=this.Ca(i)),!(n.a.length<=t[0])){1==e||this.K&&void 0!==this.o||(e=1);var s=n.a[t[0]],o=ac(n,t,this.la),r=ua(ec(n,t[0]),this.l);if(n=this.M,0!==n){var a=this.l;void 0===a&&(a=[0,0]),a[0]=r[0]+2*n,a[1]=r[1]+2*n,r=a,o=ya(o,s*n,o)}if(1!=e&&(r=ta(r,e,this.l)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Sa(s,this.g),n=r,r=e,e=this.urls){if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.G?"CRS":"SRS"]=i.Pa,"STYLES"in this.g||(s.STYLES=""),1!=r)switch(this.o){case"geoserver":n=90*r+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":s.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":s.DPI=90*r;break;default:y(!1,52)}i=i.$c,this.G&&"ne"==i.substr(0,2)&&(i=o[0],o[0]=o[1],o[1]=i,i=o[2],o[2]=o[3],o[3]=i),s.BBOX=o.join(","),t=dq(1==e.length?e[0]:e[ra((t[1]<<t[0])+t[2],e.length)],s)}else t=void 0;return t}},r("ol.layer.Group",qf),qf.prototype.getLayers=qf.prototype.Ob,r("ol.layer.Vector",fp),fp.prototype.getSource=fp.prototype.da,r("ol.source.Vector",jp),jp.prototype.getFeatures=jp.prototype.Dd,jp.prototype.addFeatures=jp.prototype.hc,jp.prototype.removeFeature=jp.prototype.nb,jp.prototype.forEachFeature=jp.prototype.ve,jp.prototype.clear=jp.prototype.clear,jp.prototype.getExtent=jp.prototype.C,r("ol.layer.Tile",Hp),of.prototype.setVisible=of.prototype.Mf,of.prototype.getVisible=of.prototype.ub,of.prototype.setMinResolution=of.prototype.cg,of.prototype.setMaxResolution=of.prototype.bg,r("ol.source.OSM",eq),r("ol.source.XYZ",cq),r("ol.source.TileWMS",fq),r("ol.Map",N),N.prototype.getView=N.prototype.S,N.prototype.addControl=N.prototype.he,N.prototype.on=N.prototype.lb,N.prototype.un=N.prototype.Zb,N.prototype.addOverlay=N.prototype.je,N.prototype.getEventPixel=N.prototype.Gb,N.prototype.getEventCoordinate=N.prototype.Ce,N.prototype.getPixelFromCoordinate=N.prototype.Ka,N.prototype.getInteractions=N.prototype.Ee,N.prototype.addInteraction=N.prototype.ie,N.prototype.removeInteraction=N.prototype.Yf,N.prototype.hasFeatureAtPixel=N.prototype.gf,N.prototype.getTarget=N.prototype.Fc,N.prototype.getViewport=N.prototype.Ie,N.prototype.forEachFeatureAtPixel=N.prototype.we,N.prototype.getSize=N.prototype.ib,N.prototype.getLayers=N.prototype.Jf,r("ol.control.defaults",Nf),r("ol.control.MousePosition",uk),r("ol.control.ScaleLine",zk),r("ol.interaction.DoubleClickZoom",Vf),r("ol.interaction.Modify",rp),Rf.prototype.setActive=Rf.prototype.jb,r("ol.coordinate.format",function(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}),r("ol.View",bf),bf.prototype.on=bf.prototype.lb,bf.prototype.un=bf.prototype.Zb,bf.prototype.getZoom=bf.prototype.md,bf.prototype.getProjection=bf.prototype.Kf,bf.prototype.fit=bf.prototype.ue,bf.prototype.getCenter=bf.prototype.ea,bf.prototype.setCenter=bf.prototype.Ia,bf.prototype.setZoom=bf.prototype.Od,bf.prototype.setRotation=bf.prototype.Nb,bf.prototype.getResolution=bf.prototype.sa,bf.prototype.getRotation=bf.prototype.wa,r("ol.Feature",sj),sj.prototype.getGeometry=sj.prototype.T,sj.prototype.setGeometry=sj.prototype.ob,sj.prototype.getStyle=sj.prototype.Cf,sj.prototype.setStyle=sj.prototype.td,sj.prototype.getProperties=sj.prototype.La,sj.prototype.setProperties=sj.prototype.ta,sj.prototype.getStyleFunction=sj.prototype.Ra,r("ol.geom.Point",Me),Me.prototype.getType=Me.prototype.F,Me.prototype.getCoordinates=Me.prototype.I,Me.prototype.transform=Me.prototype.Xa,r("ol.geom.MultiPoint",el),r("ol.geom.LineString",Wj),Wj.prototype.getType=Wj.prototype.F,Wj.prototype.transform=Wj.prototype.Xa,Wj.prototype.getCoordinates=Wj.prototype.I,Wj.prototype.setCoordinates=Wj.prototype.ga,Wj.prototype.getCoordinateAtM=Wj.prototype.Lf,Wj.prototype.appendCoordinate=Wj.prototype.ke,al.prototype.getType=al.prototype.F,r("ol.geom.Polygon",Te),ue.prototype.getExtent=ue.prototype.C,ue.prototype.on=ue.prototype.lb,ue.prototype.un=ue.prototype.Zb,r("ol.style.Style",mj),r("ol.style.Circle",jj),r("ol.style.Fill",kj),r("ol.style.Stroke",lj),r("ol.style.Text",Yj),r("ol.interaction.DragAndDrop",Zo),Zo.prototype.on=Zo.prototype.lb,r("ol.format.GPX",tl),tl.prototype.readFeatures=tl.prototype.wb,tl.prototype.writeFeatures=tl.prototype.Ud,r("ol.format.GeoJSON",$l),$l.prototype.readFeatures=$l.prototype.wb,$l.prototype.writeFeaturesObject=$l.prototype.i,r("ol.Overlay",lk),lk.prototype.setPosition=lk.prototype.wd,lk.prototype.setOffset=lk.prototype.Md,
r("ol.Collection",J),J.prototype.on=J.prototype.lb,J.prototype.setAt=J.prototype.ag,J.prototype.push=J.prototype.push,J.prototype.getArray=J.prototype.Be,J.prototype.removeAt=J.prototype.Jc,J.prototype.insertAt=J.prototype.Lb,J.prototype.getLength=J.prototype.Va,J.prototype.remove=J.prototype.remove,J.prototype.forEach=J.prototype.forEach,J.prototype.clear=J.prototype.clear,r("ol.proj.Projection",fb),fb.prototype.setExtent=fb.prototype.j,fb.prototype.getExtent=fb.prototype.C,r("ol.proj.setProj4",function(t){eb=t}),r("ol.proj.get",Cb),r("ol.proj.transform",Mb),r("ol.proj.transformExtent",Nb),r("ol.Geolocation",M),M.prototype.getAccuracy=M.prototype.xe,M.prototype.getAccuracyGeometry=M.prototype.ye,M.prototype.getAltitude=M.prototype.ze,M.prototype.getAltitudeAccuracy=M.prototype.Ae,M.prototype.getHeading=M.prototype.De,M.prototype.getPosition=M.prototype.Df,M.prototype.getProjection=M.prototype.ud,M.prototype.getSpeed=M.prototype.Ge,M.prototype.getTracking=M.prototype.kd,M.prototype.getTrackingOptions=M.prototype.ld,M.prototype.setProjection=M.prototype.vd,M.prototype.setTracking=M.prototype.Vb,M.prototype.setTrackingOptions=M.prototype.Nd,M.prototype.get=M.prototype.get,M.prototype.getKeys=M.prototype.If,M.prototype.getProperties=M.prototype.La,M.prototype.set=M.prototype.set,M.prototype.setProperties=M.prototype.ta,M.prototype.unset=M.prototype.ig,M.prototype.changed=M.prototype.D,M.prototype.dispatchEvent=M.prototype.f,M.prototype.getRevision=M.prototype.Fe,M.prototype.on=M.prototype.lb,M.prototype.once=M.prototype.once,M.prototype.un=M.prototype.Zb,r("ol.extent.getWidth",La),r("ol.tilegrid.TileGrid",Xb),r("ol.Sphere.getLength",Xa),r("ol.Sphere.getArea",ab),define("ol",function(t){return function(){var e;return e||t.ol}}(this)),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("proj4",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.proj4=t()}}(function(){return function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({"./includedProjections":[function(t,e,i){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd"),t("./lib/projections/ortho")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/ortho":57,"./lib/projections/poly":58,"./lib/projections/sinu":59,"./lib/projections/somerc":60,"./lib/projections/stere":61,"./lib/projections/sterea":62,"./lib/projections/tmerc":63,"./lib/projections/utm":64,"./lib/projections/vandg":65}],1:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var s=t.split(",");this.x=parseFloat(s[0],10),this.y=parseFloat(s[1],10),this.z=parseFloat(s[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var s=t("mgrs");n.fromMGRS=function(t){return new n(s.toPoint(t))},n.prototype.toMGRS=function(t){return s.forward([this.x,this.y],t)},e.exports=n},{mgrs:68}],2:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=s(t);if("object"!=typeof i)return void e(t);var r=a(i),h=n.projections.get(r.projName);h?(o(this,r),o(this,h),this.init(),e(null,this)):e(t)}var s=t("./parseCode"),o=t("./extend"),r=t("./projections"),a=t("./deriveConstants");n.projections=r,n.projections.start(),e.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,i){e.exports=function(t,e,i){var n,s,o,r=i.x,a=i.y,h=i.z||0;for(o=0;3>o;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=r,s="x"):1===o?(n=a,s="y"):(n=h,s="z"),t.axis[o]){case"e":i[s]=n;break;case"w":i[s]=-n;break;case"n":i[s]=n;break;case"s":i[s]=-n;break;case"u":void 0!==i[s]&&(i.z=n);break;case"d":void 0!==i[s]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(t,e,i){var n=Math.PI/2,s=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-s(t)*Math.PI}},{"./sign":21}],5:[function(t,e,i){var n=2*Math.PI,s=3.14159265359,o=t("./sign");e.exports=function(t){return Math.abs(t)<=s?t:t-o(t)*n}},{"./sign":21}],6:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e,i){e.exports=function(t,e,i,n,s){var o,r;o=t/e;for(var a=0;15>a;a++)if(r=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-s*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*s*Math.cos(6*o)),o+=r,Math.abs(r)<=1e-10)return o;return NaN}},{}],13:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var s,o,r,a,h=Math.asin(.5*e),l=0;30>l;l++)if(o=Math.sin(h),r=Math.cos(h),a=t*o,s=Math.pow(1-a*a,2)/(2*r)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),h+=s,Math.abs(s)<=1e-10)return h;return NaN}},{}],14:[function(t,e,i){e.exports=function(t,e,i,n,s){return t*s-e*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,s,o=.5*t,r=n-2*Math.atan(e),a=0;15>=a;a++)if(i=t*Math.sin(r),s=n-2*Math.atan(e*Math.pow((1-i)/(1+i),o))-r,r+=s,Math.abs(s)<=1e-10)return r;return-9999}},{}],17:[function(t,e,i){var n=1,s=.25,o=.046875,r=.01953125,a=.01068115234375,h=.75,l=.46875,c=.013020833333333334,u=.007120768229166667,f=.3645833333333333,p=.005696614583333333,d=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(s+t*(o+t*(r+t*a))),e[1]=t*(h-t*(o+t*(r+t*a)));var i=t*t;return e[2]=i*(l-t*(c+t*u)),i*=t,e[3]=i*(f-t*p),e[4]=i*t*d,e}},{}],18:[function(t,e,i){var n=t("./pj_mlfn"),s=1e-10,o=20;e.exports=function(t,e,i){for(var r=1/(1-e),a=t,h=o;h;--h){var l=Math.sin(a),c=1-e*l*l;if(c=(n(a,l,Math.cos(a),i)-t)*(c*Math.sqrt(c))*r,a-=c,Math.abs(c)<s)return a}return a}},{"./pj_mlfn":19}],19:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],21:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var s=t*i,o=.5*t;return s=Math.pow((1-s)/(1+s),o),Math.tan(.5*(n-e))/s}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=a(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):a(t,e,i)}function s(t){return t instanceof r?t:t.oProj?t.oProj:r(t)}function o(t,e,i){t=s(t);var o,r=!1;return"undefined"==typeof e?(e=t,t=h,r=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=h,r=!0),e=s(e),i?n(t,e,i):(o={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},r&&(o.oProj=e),o)}var r=t("./Proj"),a=t("./transform"),h=r("WGS84");e.exports=o},{"./Proj":2,"./transform":66}],30:[function(t,e,i){var n=Math.PI/2,s=1,o=2,r=3,a=4,h=5,l=484813681109536e-20,c=1.0026,u=.3826834323650898,f=function(t){return this instanceof f?(this.datum_type=a,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=h),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=s),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=o,this.datum_params[3]*=l,this.datum_params[4]*=l,this.datum_params[5]*=l,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?r:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===r&&(this.grids=t.grids)))):new f(t)};f.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===s?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===r||t.datum_type===r?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,s,o,r,a,h,l=t.x,c=t.y,u=t.z?t.z:0,f=0;if(-n>c&&c>-1.001*n)c=-n;else if(c>n&&1.001*n>c)c=n;else if(-n>c||c>n)return null;return l>Math.PI&&(l-=2*Math.PI),r=Math.sin(c),h=Math.cos(c),a=r*r,o=this.a/Math.sqrt(1-this.es*a),e=(o+u)*h*Math.cos(l),i=(o+u)*h*Math.sin(l),s=(o*(1-this.es)+u)*r,t.x=e,t.y=i,t.z=s,f},geocentric_to_geodetic:function(t){var e,i,s,o,r,a,h,l,c,u,f,p,d,g,m,v,y,b=1e-12,x=b*b,w=30,M=t.x,k=t.y,S=t.z?t.z:0;if(d=!1,e=Math.sqrt(M*M+k*k),i=Math.sqrt(M*M+k*k+S*S),e/this.a<b){if(d=!0,m=0,i/this.a<b)return v=n,void(y=-this.b)}else m=Math.atan2(k,M);s=S/i,o=e/i,r=1/Math.sqrt(1-this.es*(2-this.es)*o*o),l=o*(1-this.es)*r,c=s*r,g=0;do g++,h=this.a/Math.sqrt(1-this.es*c*c),y=e*l+S*c-h*(1-this.es*c*c),a=this.es*h/(h+y),r=1/Math.sqrt(1-a*(2-a)*o*o),u=o*(1-a)*r,f=s*r,p=f*l-u*c,l=u,c=f;while(p*p>x&&w>g);return v=Math.atan(f/Math.abs(u)),t.x=m,t.y=v,t.z=y,t},geocentric_to_geodetic_noniter:function(t){var e,i,s,o,r,a,h,l,f,p,d,g,m,v,y,b,x,w=t.x,M=t.y,k=t.z?t.z:0;if(w=parseFloat(w),M=parseFloat(M),k=parseFloat(k),x=!1,0!==w)e=Math.atan2(M,w);else if(M>0)e=n;else if(0>M)e=-n;else if(x=!0,e=0,k>0)i=n;else{if(!(0>k))return i=n,void(s=-this.b);i=-n}return r=w*w+M*M,o=Math.sqrt(r),a=k*c,l=Math.sqrt(a*a+r),p=a/l,g=o/l,d=p*p*p,h=k+this.b*this.ep2*d,b=o-this.a*this.es*g*g*g,f=Math.sqrt(h*h+b*b),m=h/f,v=b/f,y=this.a/Math.sqrt(1-this.es*m*m),s=v>=u?o/v-y:-u>=v?o/-v-y:k/m+y*(this.es-1),x===!1&&(i=Math.atan(m/v)),t.x=e,t.y=i,t.z=s,t},geocentric_to_wgs84:function(t){if(this.datum_type===s)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],a=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],c=l*(t.x-h*t.y+a*t.z)+e,u=l*(h*t.x+t.y-r*t.z)+i,f=l*(-a*t.x+r*t.y+t.z)+n;t.x=c,t.y=u,t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===s)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===o){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],a=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],c=(t.x-e)/l,u=(t.y-i)/l,f=(t.z-n)/l;t.x=c+h*u-a*f,t.y=-h*c+u+r*f,t.z=a*c-r*u+f}}},e.exports=f},{}],31:[function(t,e,i){var n=1,s=2,o=3,r=5,a=6378137,h=.006694379990141316;e.exports=function(t,e,i){function l(t){return t===n||t===s}var c,u,f;if(t.compare_datums(e))return i;if(t.datum_type===r||e.datum_type===r)return i;var p=t.a,d=t.es,g=e.a,m=e.es,v=t.datum_type;if(v===o)if(0===this.apply_gridshift(t,0,i))t.a=a,t.es=h;else{if(!t.datum_params)return t.a=p,t.es=t.es,i;for(c=1,u=0,f=t.datum_params.length;f>u;u++)c*=t.datum_params[u];if(0===c)return t.a=p,t.es=t.es,i;v=t.datum_params.length>3?s:n}return e.datum_type===o&&(e.a=a,e.es=h),(t.es!==e.es||t.a!==e.a||l(v)||l(e.datum_type))&&(t.geodetic_to_geocentric(i),l(t.datum_type)&&t.geocentric_to_wgs84(i),l(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===o&&this.apply_gridshift(e,1,i),t.a=p,t.es=d,e.a=g,e.es=m,i}},{}],32:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=o(arguments[1]):n[t]=r(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var s=t("./global"),o=t("./projString"),r=t("./wkt");s(n),e.exports=n},{"./global":35,"./projString":38,"./wkt":67}],33:[function(t,e,i){var n=t("./constants/Datum"),s=t("./constants/Ellipsoid"),o=t("./extend"),r=t("./datum"),a=1e-10,h=.16666666666666666,l=.04722222222222222,c=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=s[t.ellps]?s[t.ellps]:s.WGS84;o(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<a)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(h+t.es*(l+t.es*c)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=r(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],35:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":69,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"./includedProjections","./transform":66,mgrs:68}],37:[function(t,e,i){function n(t){return"string"==typeof t}function s(t){return t in h}function o(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function r(t){return"+"===t[0]}function a(t){return n(t)?s(t)?h[t]:o(t)?l(t):r(t)?c(t):void 0:t}var h=t("./defs"),l=t("./wkt"),c=t("./projString");e.exports=a},{"./defs":32,"./projString":38,"./wkt":67}],38:[function(t,e,i){var n=.017453292519943295,s=t("./constants/PrimeMeridian"),o=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var r,a,h,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,o[t]&&(e.to_meter=o[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(s[t]?s[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(r in i)a=i[r],r in l?(h=l[r],"function"==typeof h?h(a):e[h]=a):e[r]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,i){function n(t,e){var i=r.length;return t.names?(r[i]=t,t.names.forEach(function(t){o[t.toLowerCase()]=i}),this):(console.log(e),!0)}var s=[t("./projections/merc"),t("./projections/longlat")],o={},r=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof o[e]&&r[o[e]]?r[o[e]]:void 0},i.start=function(){s.forEach(n)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,i){var n=1e-10,s=t("../common/msfnz"),o=t("../common/qsfnz"),r=t("../common/adjust_lon"),a=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=s(this.e3,this.sin_po,this.cos_po),this.qs1=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=s(this.e3,this.sin_po,this.cos_po),this.qs2=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=o(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=o(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*r(e-this.long0),h=s*Math.sin(a)+this.x0,l=this.rh-s*Math.cos(a)+this.y0;return t.x=h,t.y=l,t},i.inverse=function(t){var e,i,n,s,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),s=0,0!==e&&(s=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),o=r(s/this.ns0+this.long0),t.x=o,t.y=a,t},i.phi1z=function(t,e){var i,s,o,r,h,l=a(.5*e);if(n>t)return l;for(var c=t*t,u=1;25>=u;u++)if(i=Math.sin(l),s=Math.cos(l),o=t*i,r=1-o*o,h=.5*r*r/s*(e/(1-c)-i/r+.5/t*Math.log((1-o)/(1+o))),l+=h,Math.abs(h)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,i){var n=t("../common/adjust_lon"),s=Math.PI/2,o=1e-10,r=t("../common/mlfn"),a=t("../common/e0fn"),h=t("../common/e1fn"),l=t("../common/e2fn"),c=t("../common/e3fn"),u=t("../common/gN"),f=t("../common/asinz"),p=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,f,p,d,g,m,v,y,b,x,w,M,k,S,_,C,P,E,j,T,A,O,N=t.x,L=t.y,D=Math.sin(t.y),R=Math.cos(t.y),I=n(N-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=o?(t.x=this.x0+this.a*(s-L)*Math.sin(I),t.y=this.y0-this.a*(s-L)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=o?(t.x=this.x0+this.a*(s+L)*Math.sin(I),t.y=this.y0+this.a*(s+L)*Math.cos(I),t):(P=this.sin_p12*D+this.cos_p12*R*Math.cos(I),_=Math.acos(P),C=_/Math.sin(_),t.x=this.x0+this.a*C*R*Math.sin(I),t.y=this.y0+this.a*C*(this.cos_p12*D-this.sin_p12*R*Math.cos(I)),t):(e=a(this.es),i=h(this.es),f=l(this.es),p=c(this.es),Math.abs(this.sin_p12-1)<=o?(d=this.a*r(e,i,f,p,s),g=this.a*r(e,i,f,p,L),t.x=this.x0+(d-g)*Math.sin(I),t.y=this.y0-(d-g)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=o?(d=this.a*r(e,i,f,p,s),g=this.a*r(e,i,f,p,L),t.x=this.x0+(d+g)*Math.sin(I),t.y=this.y0+(d+g)*Math.cos(I),t):(m=D/R,v=u(this.a,this.e,this.sin_p12),y=u(this.a,this.e,D),b=Math.atan((1-this.es)*m+this.es*v*this.sin_p12/(y*R)),x=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(I)),E=0===x?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(x)-Math.PI)<=o?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(I)*Math.cos(b)/Math.sin(x)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),k=w*M,S=M*M,j=E*E,T=j*E,A=T*E,O=A*E,_=v*E*(1-j*S*(1-S)/6+T/8*k*(1-2*S)+A/120*(S*(4-7*S)-3*w*w*(1-7*S))-O/48*k),t.x=this.x0+_*Math.sin(x),t.y=this.y0+_*Math.cos(x),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,d,g,m,v,y,b,x,w,M,k,S,_,C,P,E,j,T,A,O,N,L;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*s*this.a)return;return i=e/this.a,d=Math.sin(i),g=Math.cos(i),m=this.long0,Math.abs(e)<=o?v=this.lat0:(v=f(g*this.sin_p12+t.y*d*this.cos_p12/e),y=Math.abs(this.lat0)-s,m=n(Math.abs(y)<=o?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*g-t.y*this.sin_p12*d))),t.x=m,t.y=v,t}return b=a(this.es),x=h(this.es),w=l(this.es),M=c(this.es),Math.abs(this.sin_p12-1)<=o?(k=this.a*r(b,x,w,M,s),e=Math.sqrt(t.x*t.x+t.y*t.y),S=k-e,v=p(S/this.a,b,x,w,M),m=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=m,t.y=v,t):Math.abs(this.sin_p12+1)<=o?(k=this.a*r(b,x,w,M,s),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-k,v=p(S/this.a,b,x,w,M),m=n(this.long0+Math.atan2(t.x,t.y)),t.x=m,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),P=Math.atan2(t.x,t.y),_=u(this.a,this.e,this.sin_p12),E=Math.cos(P),j=this.e*this.cos_p12*E,T=-j*j/(1-this.es),A=3*this.es*(1-T)*this.sin_p12*this.cos_p12*E/(1-this.es),O=e/_,N=O-T*(1+T)*Math.pow(O,3)/6-A*(1+3*T)*Math.pow(O,4)/24,L=1-T*N*N/2-O*N*N*N/6,C=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*E),m=n(this.long0+Math.asin(Math.sin(P)*Math.sin(N)/Math.cos(C))),v=Math.atan((1-this.es*L*this.sin_p12/Math.sin(C))*Math.tan(C)/(1-this.es)),t.x=m,t.y=v,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var n=t("../common/mlfn"),s=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),a=t("../common/e3fn"),h=t("../common/gN"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),f=Math.PI/2,p=1e-10;i.init=function(){this.sphere||(this.e0=s(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,s=t.x,o=t.y;if(s=l(s-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(s)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(s))-this.lat0);else{var r=Math.sin(o),a=Math.cos(o),c=h(this.a,this.e,r),u=Math.tan(o)*Math.tan(o),f=s*Math.cos(o),p=f*f,d=this.es*a*a/(1-this.es),g=this.a*n(this.e0,this.e1,this.e2,this.e3,o);e=c*f*(1-p*u*(1/6-(8-u+8*d)*p/120)),i=g-this.ml0+c*r/a*p*(.5+(5-u+6*d)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,s=t.y/this.a;if(this.sphere){var o=s+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var r=this.ml0/this.a+s,a=u(r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=p)return t.x=this.long0,t.y=f,0>s&&(t.y*=-1),t;var d=h(this.a,this.e,Math.sin(a)),g=d*d*d/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(a),2),v=n*this.a/d,y=v*v;e=a-d*Math.tan(a)/g*v*v*(.5-(1+3*m)*v*v/24),i=v*(1-y*(m/3+(1+3*m)*m*y/15))/Math.cos(a)}return t.x=l(i+this.long0),t.y=c(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/qsfnz"),o=t("../common/msfnz"),r=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,o=t.x,r=t.y,a=n(o-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var h=s(this.e,Math.sin(r));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*h*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=r(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),r=s(i-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*r,
t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=s(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),r=t("../common/e3fn"),a=t("../common/msfnz"),h=t("../common/mlfn"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),f=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=r(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var s=h(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-s)}var o=this.ns*l(i-this.long0),r=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=r,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,s;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=l(this.long0+o/this.ns),n=c(this.g-i/this.a),t.x=s,t.y=n,t;var r=this.g-i/this.a;return n=u(r,this.e0,this.e1,this.e2,this.e3),s=l(this.long0+o/this.ns),t.x=s,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,i){var n=Math.PI/4,s=t("../common/srat"),o=Math.PI/2,r=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*s(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*s(this.e*Math.sin(i),this.ratexp))-o,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,a=t.y,h=Math.pow(Math.tan(.5*a+n)/this.K,1/this.C),l=r;l>0&&(a=2*Math.atan(h*s(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(a-t.y)<e));--l)t.y=a;return l?(t.x=i,t.y=a,t):null},i.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10,o=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,o,r,a,h,l,c,u=t.x,f=t.y;return o=n(u-this.long0),e=Math.sin(f),i=Math.cos(f),r=Math.cos(o),h=this.sin_p14*e+this.cos_p14*i*r,a=1,h>0||Math.abs(h)<=s?(l=this.x0+this.a*a*i*Math.sin(o)/h,c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*r)/h):(l=this.x0+this.infinity_dist*i*Math.sin(o),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,s,r,a,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),s=Math.cos(r),h=o(s*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i),a=n(this.long0+a)):(h=this.phic0,a=0),t.x=a,t.y=h,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,s,o,r,a,h,l=t.x,c=t.y,u=n(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),s=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),r=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(o)),a=this.n*r,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=h*Math.cos(a)/1,t.x=h*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,s,o,r,a,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),s=o/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(s)),i=Math.asin(Math.cos(n)*Math.sin(s)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,h=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(h=1),a=t.y,c+=1;while(0===h&&15>c);return c>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,i){var n=Math.PI/2,s=Math.PI/4,o=1e-10,r=t("../common/qsfnz"),a=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<o?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<o?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=r(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=r(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,h,l,c,u,f,p,d,g,m=t.x,v=t.y;if(m=a(m-this.long0),this.sphere){if(c=Math.sin(v),g=Math.cos(v),h=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+g*h:1+this.sinph0*c+this.cosph0*g*h,o>=i)return null;i=Math.sqrt(2/i),e=i*g*Math.sin(m),i*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*g*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(v+this.phi0)<o)return null;i=s-.5*v,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(m),i*=h}}else{switch(f=0,p=0,d=0,h=Math.cos(m),l=Math.sin(m),c=Math.sin(v),u=r(this.e,c),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=u/this.qp,p=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:d=1+this.sinb1*f+this.cosb1*p*h;break;case this.EQUIT:d=1+p*h;break;case this.N_POLE:d=n+v,u=this.qp-u;break;case this.S_POLE:d=v-n,u=this.qp+u}if(Math.abs(d)<o)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),i=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*f-this.sinb1*p*h):(d=Math.sqrt(2/(1+p*h)))*f*this.ymf,e=this.xmf*d*p*l;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(d=Math.sqrt(u))*l,i=h*(this.mode===this.S_POLE?d:-d)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,r,h,l,c,u=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,d=0,g=0;if(p=Math.sqrt(u*u+f*f),i=.5*p,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),d=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=o?0:Math.asin(f*g/p),u*=g,f=d*p;break;case this.OBLIQ:i=Math.abs(p)<=o?this.phi0:Math.asin(d*this.sinph0+f*g*this.cosph0/p),u*=g*this.cosph0,f=(d-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:f=-f,i=n-i;break;case this.S_POLE:i-=n}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,f):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,f*=this.dd,l=Math.sqrt(u*u+f*f),o>l)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*l/this.rq),s=Math.cos(r),u*=r=Math.sin(r),this.mode===this.OBLIQ?(c=s*this.sinb1+f*r*this.cosb1/l,h=this.qp*c,f=l*this.cosb1*s-f*this.sinb1*r):(c=f*r/l,h=this.qp*c,f=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),h=u*u+f*f,!h)return t.x=0,t.y=this.phi0,t;c=1-h/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(u,f),i=this.authlat(Math.asin(c),this.apa)}return t.x=a(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,i){var n=1e-10,s=t("../common/msfnz"),o=t("../common/tsfnz"),r=Math.PI/2,a=t("../common/sign"),h=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),r=s(this.e,e,i),a=o(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),c=s(this.e,h,l),u=o(this.e,this.lat2,h),f=o(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(r/c)/Math.log(a/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=a(i)*(r-2*n));var s,l,c=Math.abs(Math.abs(i)-r);if(c>n)s=o(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(s,this.ns);else{if(c=i*this.ns,0>=c)return null;l=0}var u=this.ns*h(e-this.long0);return t.x=this.k0*(l*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(u))+this.y0,t},i.inverse=function(t){var e,i,n,s,o,a=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+c*c),i=1):(e=-Math.sqrt(a*a+c*c),i=-1);var u=0;if(0!==e&&(u=Math.atan2(i*a,i*c)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),s=l(this.e,n),-9999===s)return null}else s=-r;return o=h(u/this.ns+this.long0),t.x=o,t.y=s,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],52:[function(t,e,i){var n=t("../common/msfnz"),s=Math.PI/2,o=1e-10,r=57.29577951308232,a=t("../common/adjust_lon"),h=Math.PI/4,l=t("../common/tsfnz"),c=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*r>90&&-90>i*r&&e*r>180&&-180>e*r)return null;var n,c;if(Math.abs(Math.abs(i)-s)<=o)return null;if(this.sphere)n=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var u=Math.sin(i),f=l(this.e,i,u);n=this.x0+this.a*this.k0*a(e-this.long0),c=this.y0-this.a*this.k0*Math.log(f)}return t.x=n,t.y=c,t},i.inverse=function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=s-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var r=Math.exp(-o/(this.a*this.k0));if(i=c(this.e,r),-9999===i)return null}return e=a(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,s=n(e-this.long0),o=this.x0+this.a*s,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=r,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,o=n(e-this.long0),r=i,a=Math.PI*Math.sin(i),h=0;!0;h++){var l=-(r+Math.sin(r)-a)/(1+Math.cos(r));if(r+=l,Math.abs(l)<s)break}r/=2,Math.PI/2-Math.abs(i)<s&&(o=0);var c=.900316316158*this.a*o*Math.cos(r)+this.x0,u=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=c,t.y=u,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var s=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));s<-Math.PI&&(s=-Math.PI),s>Math.PI&&(s=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return t.x=s,t.y=o,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,s=t.y,o=s-this.lat0,r=i-this.long0,a=o/n*1e-5,h=r,l=1,c=0;for(e=1;10>=e;e++)l*=a,c+=this.A[e]*l;var u,f,p=c,d=h,g=1,m=0,v=0,y=0;for(e=1;6>=e;e++)u=g*p-m*d,f=m*p+g*d,g=u,m=f,v=v+this.B_re[e]*g-this.B_im[e]*m,y=y+this.B_im[e]*g+this.B_re[e]*m;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t},i.inverse=function(t){var e,i,s,o=t.x,r=t.y,a=o-this.x0,h=r-this.y0,l=h/this.a,c=a/this.a,u=1,f=0,p=0,d=0;for(e=1;6>=e;e++)i=u*l-f*c,s=f*l+u*c,u=i,f=s,p=p+this.C_re[e]*u-this.C_im[e]*f,d=d+this.C_im[e]*u+this.C_re[e]*f;for(var g=0;g<this.iterations;g++){var m,v,y=p,b=d,x=l,w=c;for(e=2;6>=e;e++)m=y*p-b*d,v=b*p+y*d,y=m,b=v,x+=(e-1)*(this.B_re[e]*y-this.B_im[e]*b),w+=(e-1)*(this.B_im[e]*y+this.B_re[e]*b);y=1,b=0;var M=this.B_re[1],k=this.B_im[1];for(e=2;6>=e;e++)m=y*p-b*d,v=b*p+y*d,y=m,b=v,M+=e*(this.B_re[e]*y-this.B_im[e]*b),k+=e*(this.B_im[e]*y+this.B_re[e]*b);var S=M*M+k*k;p=(x*M+w*k)/S,d=(w*M-x*k)/S}var _=p,C=d,P=1,E=0;for(e=1;9>=e;e++)P*=_,E+=this.D[e]*P;var j=this.lat0+E*n*1e5,T=this.long0+C;return t.x=T,t.y=j,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,i){var n=t("../common/tsfnz"),s=t("../common/adjust_lon"),o=t("../common/phi2z"),r=Math.PI/2,a=Math.PI/4,h=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var o=n(this.e,this.lat0,t),r=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>r*r&&(r=1);var a,h;if(isNaN(this.longc)){var l=n(this.e,this.lat1,Math.sin(this.lat1)),c=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(r+Math.sqrt(r*r-1))*Math.pow(o,this.bl):this.el=(r-Math.sqrt(r*r-1))*Math.pow(o,this.bl);var u=Math.pow(l,this.bl),f=Math.pow(c,this.bl);a=this.el/u,h=.5*(a-1/a);var p=(this.el*this.el-f*u)/(this.el*this.el+f*u),d=(f-u)/(f+u),g=s(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*g)/d)/this.bl,this.long0=s(this.long0);var m=s(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*m)/h),this.alpha=Math.asin(r*Math.sin(this.gamma0))}else a=this.lat0>=0?r+Math.sqrt(r*r-1):r-Math.sqrt(r*r-1),this.el=a*Math.pow(o,this.bl),h=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/r),this.long0=this.longc-Math.asin(h*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,o,l=t.x,c=t.y,u=s(l-this.long0);if(Math.abs(Math.abs(c)-r)<=h)o=c>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(a+o*this.gamma0*.5)),e=-1*o*r*this.al/this.bl;else{var f=n(this.e,c,Math.sin(c)),p=this.el/Math.pow(f,this.bl),d=.5*(p-1/p),g=.5*(p+1/p),m=Math.sin(this.bl*u),v=(d*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/g;i=Math.abs(Math.abs(v)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=h?this.al*this.bl*u:this.al*Math.atan2(d*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),a=.5*(n-1/n),l=.5*(n+1/n),c=Math.sin(this.bl*e/this.al),u=(c*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/l,f=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<h?(t.x=this.long0,t.y=r):Math.abs(u+1)<h?(t.x=this.long0,t.y=-1*r):(t.y=o(this.e,f),t.x=s(this.long0-Math.atan2(a*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,i){var n=t("../common/adjust_lon"),s=1e-10,o=t("../common/asinz"),r=Math.PI/2;i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},i.forward=function(t){var e,i,o,r,a,h,l,c,u=t.x,f=t.y;return o=n(u-this.long0),e=Math.sin(f),i=Math.cos(f),r=Math.cos(o),h=this.sin_p14*e+this.cos_p14*i*r,a=1,(h>0||Math.abs(h)<=s)&&(l=this.a*a*i*Math.sin(o),c=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,a,h,l,c,u;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=o(e/this.a),a=Math.sin(i),h=Math.cos(i),c=this.long0,Math.abs(e)<=s?(u=this.lat0,t.x=c,t.y=u,t):(u=o(h*this.sin_p14+t.y*a*this.cos_p14/e),l=Math.abs(this.lat0)-r,Math.abs(l)<=s?(c=n(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=c,t.y=u,t):(c=n(this.long0+Math.atan2(t.x*a,e*this.cos_p14*h-t.y*this.sin_p14*a)),t.x=c,t.y=u,t))},i.names=["ortho"]},{"../common/adjust_lon":5,"../common/asinz":6}],58:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),r=t("../common/e3fn"),a=t("../common/adjust_lon"),h=t("../common/adjust_lat"),l=t("../common/mlfn"),c=1e-10,u=t("../common/gN"),f=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=r(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,s=t.x,o=t.y,r=a(s-this.long0);if(n=r*Math.sin(o),this.sphere)Math.abs(o)<=c?(e=this.a*r,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(h(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=c)e=this.a*r,i=-1*this.ml0;else{var f=u(this.a,this.e,Math.sin(o))/Math.tan(o);e=f*Math.sin(n),i=this.a*l(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+f*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,s,o,r,h,u,p;if(n=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=c)e=a(n/this.a+this.long0),i=0;else{r=this.lat0+s/this.a,h=n*n/this.a/this.a+r*r,u=r;var d;for(o=f;o;--o)if(d=Math.tan(u),p=-1*(r*(u*d+1)-u-.5*(u*u+h)*d)/((u-r)/d-1),u+=p,Math.abs(p)<=c){i=u;break}e=a(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=c)i=0,e=a(this.long0+n/this.a);else{r=(this.ml0+s)/this.a,h=n*n/this.a/this.a+r*r,u=r;var g,m,v,y,b;for(o=f;o;--o)if(b=this.e*Math.sin(u),g=Math.sqrt(1-b*b)*Math.tan(u),m=this.a*l(this.e0,this.e1,this.e2,this.e3,u),v=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),y=m/this.a,p=(r*(g*y+1)-y-.5*g*(y*y+h))/(this.es*Math.sin(2*u)*(y*y+h-2*r*y)/(4*g)+(r-y)*(g*v-2/Math.sin(2*u))-v),u-=p,Math.abs(p)<=c){i=u;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=a(this.long0+Math.asin(n*g/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],59:[function(t,e,i){var n=t("../common/adjust_lon"),s=t("../common/adjust_lat"),o=t("../common/pj_enfn"),r=20,a=t("../common/pj_mlfn"),h=t("../common/pj_inv_mlfn"),l=Math.PI/2,c=1e-10,u=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},i.forward=function(t){var e,i,s=t.x,o=t.y;if(s=n(s-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(o),l=r;l;--l){var u=(this.m*o+Math.sin(o)-h)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<c)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*s*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var f=Math.sin(o),p=Math.cos(o);i=this.a*a(o,f,p,this.en),e=this.a*s*p/Math.sqrt(1-this.es*f*f)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,r;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),o=n(o+this.long0),e=s(e)):(e=h(t.y/this.a,this.es,this.en),r=Math.abs(e),l>r?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),o=n(i)):l>r-c&&(o=this.long0)),t.x=o,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],60:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,s=1/n,o=2*s-Math.pow(s,2),r=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+r*e)/(1-r*e));this.K=a-this.alpha*h+this.alpha*r/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,s=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),r=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*r+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(n)),r=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+r/this.alpha,h=0,l=o,c=-1e3,u=0;Math.abs(l-c)>1e-7;){if(++u>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=a,t.y=l,t},i.names=["somerc"]},{}],61:[function(t,e,i){var n=Math.PI/2,s=1e-10,o=t("../common/sign"),r=t("../common/msfnz"),a=t("../common/tsfnz"),h=t("../common/phi2z"),l=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s&&(this.k0=.5*(1+o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=s&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s&&(this.k0=.5*this.cons*r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=r(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,o,r,h,c,u=t.x,f=t.y,p=Math.sin(f),d=Math.cos(f),g=l(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=s&&Math.abs(f+this.lat0)<=s?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*d*Math.cos(g)),t.x=this.a*e*d*Math.sin(g)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*d*Math.cos(g))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,p,this.e))-n,r=Math.cos(i),o=Math.sin(i),Math.abs(this.coslat0)<=s?(h=a(this.e,f*this.con,this.con*p),c=2*this.a*this.k0*h/this.cons,t.x=this.x0+c*Math.sin(u-this.long0),t.y=this.y0-this.con*c*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<s?(e=2*this.a*this.k0/(1+r*Math.cos(g)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*r*Math.cos(g))),t.y=e*(this.cosX0*o-this.sinX0*r*Math.cos(g))+this.y0),t.x=e*r*Math.sin(g)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,r,a,c=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(c/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,s>=c?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/c),e=l(Math.abs(this.coslat0)<s?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(u),c*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=s){if(s>=c)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,o=c*this.cons/(2*this.a*this.k0),i=this.con*h(this.e,o),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s>=c?a=this.X0:(a=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/c),e=l(this.long0+Math.atan2(t.x*Math.sin(r),c*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*h(this.e,Math.tan(.5*(n+a)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],62:[function(t,e,i){var n=t("./gauss"),s=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,o,r;return t.x=s(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),o=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*o),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,o,r,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(a,this.R2);e=Math.sin(h),i=Math.cos(h),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),o=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,o=0;return t.x=o,t.y=r,n.inverse.apply(this,[t]),t.x=s(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],63:[function(t,e,i){var n=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),r=t("../common/e3fn"),a=t("../common/mlfn"),h=t("../common/adjust_lon"),l=Math.PI/2,c=1e-10,u=t("../common/sign"),f=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=r(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,s=t.x,o=t.y,r=h(s-this.long0),l=Math.sin(o),c=Math.cos(o);if(this.sphere){var u=c*Math.sin(r);if(Math.abs(Math.abs(u)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+u)/(1-u)),e=Math.acos(c*Math.cos(r)/Math.sqrt(1-u*u)),0>o&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=c*r,p=Math.pow(f,2),d=this.ep2*Math.pow(c,2),g=Math.tan(o),m=Math.pow(g,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),y=this.a*a(this.e0,this.e1,this.e2,this.e3,o);i=this.k0*v*f*(1+p/6*(1-m+d+p/20*(5-18*m+Math.pow(m,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+v*g*(p*(.5+p/24*(5-m+9*d+4*Math.pow(d,2)+p/30*(61-58*m+Math.pow(m,2)+600*d-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,s,o,r,a=6;if(this.sphere){var p=Math.exp(t.x/(this.a*this.k0)),d=.5*(p-1/p),g=this.lat0+t.y/(this.a*this.k0),m=Math.cos(g);e=Math.sqrt((1-m*m)/(1+d*d)),o=f(e),0>g&&(o=-o),r=0===d&&0===m?this.long0:h(Math.atan2(d,m)+this.long0)}else{var v=t.x-this.x0,y=t.y-this.y0;for(e=(this.ml0+y/this.k0)/this.a,i=e,s=0;n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=c);s++)if(s>=a)return 95;if(Math.abs(i)<l){var b=Math.sin(i),x=Math.cos(i),w=Math.tan(i),M=this.ep2*Math.pow(x,2),k=Math.pow(M,2),S=Math.pow(w,2),_=Math.pow(S,2);e=1-this.es*Math.pow(b,2);var C=this.a/Math.sqrt(e),P=C*(1-this.es)/e,E=v/(C*this.k0),j=Math.pow(E,2);o=i-C*w*j/P*(.5-j/24*(5+3*S+10*M-4*k-9*this.ep2-j/30*(61+90*S+298*M+45*_-252*this.ep2-3*k))),
r=h(this.long0+E*(1-j/6*(1+2*S+M-j/20*(5-2*M+28*S-3*k+8*this.ep2+24*_)))/x)}else o=l*u(y),r=this.long0}return t.x=r,t.y=o,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],64:[function(t,e,i){var n=.017453292519943295,s=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,s.init.apply(this),this.forward=s.forward,this.inverse=s.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":63}],65:[function(t,e,i){var n=t("../common/adjust_lon"),s=Math.PI/2,o=1e-10,r=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,a=t.x,h=t.y,l=n(a-this.long0);Math.abs(h)<=o&&(e=this.x0+this.R*l,i=this.y0);var c=r(2*Math.abs(h/Math.PI));(Math.abs(l)<=o||Math.abs(Math.abs(h)-s)<=o)&&(e=this.x0,i=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var u=.5*Math.abs(Math.PI/l-l/Math.PI),f=u*u,p=Math.sin(c),d=Math.cos(c),g=d/(p+d-1),m=g*g,v=g*(2/p-1),y=v*v,b=Math.PI*this.R*(u*(g-y)+Math.sqrt(f*(g-y)*(g-y)-(y+f)*(m-y)))/(y+f);0>l&&(b=-b),e=this.x0+b;var x=f+g;return b=Math.PI*this.R*(v*x-u*Math.sqrt((y+f)*(f+1)-x*x))/(y+f),i=h>=0?this.y0+b:this.y0-b,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,s,r,a,h,l,c,u,f,p,d,g;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,s=t.x/p,r=t.y/p,a=s*s+r*r,h=-Math.abs(r)*(1+a),l=h-2*r*r+s*s,c=-2*h+1+2*r*r+a*a,g=r*r/c+(2*l*l*l/c/c/c-9*h*l/c/c)/27,u=(h-l*l/3/c)/c,f=2*Math.sqrt(-u/3),p=3*g/u/f,Math.abs(p)>1&&(p=p>=0?1:-1),d=Math.acos(p)/3,i=t.y>=0?(-f*Math.cos(d+Math.PI/3)-l/3/c)*Math.PI:-(-f*Math.cos(d+Math.PI/3)-l/3/c)*Math.PI,e=Math.abs(s)<o?this.long0:n(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(s*s-r*r)+a*a))/2/s),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],66:[function(t,e,i){var n=.017453292519943295,s=57.29577951308232,o=1,r=2,a=t("./datum_transform"),h=t("./adjust_axis"),l=t("./Proj"),c=t("./common/toPoint");e.exports=function u(t,e,i){function f(t,e){return(t.datum.datum_type===o||t.datum.datum_type===r)&&"WGS84"!==e.datumCode}var p;return Array.isArray(i)&&(i=c(i)),t.datum&&e.datum&&(f(t,e)||f(e,t))&&(p=new l("WGS84"),u(t,p,i),t=p),"enu"!==t.axis&&h(t,!1,i),"longlat"===t.projName?(i.x*=n,i.y*=n):(t.to_meter&&(i.x*=t.to_meter,i.y*=t.to_meter),t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=a(t.datum,e.datum,i),e.from_greenwich&&(i.x-=e.from_greenwich),"longlat"===e.projName?(i.x*=s,i.y*=s):(e.forward(i),e.to_meter&&(i.x/=e.to_meter,i.y/=e.to_meter)),"enu"!==e.axis&&h(e,!0,i),i}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],67:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return s(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function s(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[i]={},s(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):s(t,e[i])):e[i]=!0)):void(e[t]=!0)}function o(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function r(t){return t*h}function a(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return o(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",r],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",r],["lat0","latitude_of_origin",r],["lat0","standard_parallel_1",r],["lat1","standard_parallel_1",r],["lat2","standard_parallel_2",r],["alpha","azimuth",r],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=r(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var h=.017453292519943295,l=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]),i.unshift("output");var r={};return s(i,r),a(r.output),l(e,r.output)}},{"./extend":34}],68:[function(t,e,i){function n(t){return t*(Math.PI/180)}function s(t){return 180*(t/Math.PI)}function o(t){var e,i,s,o,r,h,l,c,u,f=t.lat,p=t.lon,d=6378137,g=.00669438,m=.9996,v=n(f),y=n(p);u=Math.floor((p+180)/6)+1,180===p&&(u=60),f>=56&&64>f&&p>=3&&12>p&&(u=32),f>=72&&84>f&&(p>=0&&9>p?u=31:p>=9&&21>p?u=33:p>=21&&33>p?u=35:p>=33&&42>p&&(u=37)),e=6*(u-1)-180+3,c=n(e),i=g/(1-g),s=d/Math.sqrt(1-g*Math.sin(v)*Math.sin(v)),o=Math.tan(v)*Math.tan(v),r=i*Math.cos(v)*Math.cos(v),h=Math.cos(v)*(y-c),l=d*((1-g/4-3*g*g/64-5*g*g*g/256)*v-(3*g/8+3*g*g/32+45*g*g*g/1024)*Math.sin(2*v)+(15*g*g/256+45*g*g*g/1024)*Math.sin(4*v)-35*g*g*g/3072*Math.sin(6*v));var b=m*s*(h+(1-o+r)*h*h*h/6+(5-18*o+o*o+72*r-58*i)*h*h*h*h*h/120)+5e5,x=m*(l+s*Math.tan(v)*(h*h/2+(5-o+9*r+4*r*r)*h*h*h*h/24+(61-58*o+o*o+600*r-330*i)*h*h*h*h*h*h/720));return 0>f&&(x+=1e7),{northing:Math.round(x),easting:Math.round(b),zoneNumber:u,zoneLetter:a(f)}}function r(t){var e=t.northing,i=t.easting,n=t.zoneLetter,o=t.zoneNumber;if(0>o||o>60)return null;var a,h,l,c,u,f,p,d,g,m,v=.9996,y=6378137,b=.00669438,x=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),w=i-5e5,M=e;"N">n&&(M-=1e7),d=6*(o-1)-180+3,a=b/(1-b),p=M/v,g=p/(y*(1-b/4-3*b*b/64-5*b*b*b/256)),m=g+(3*x/2-27*x*x*x/32)*Math.sin(2*g)+(21*x*x/16-55*x*x*x*x/32)*Math.sin(4*g)+151*x*x*x/96*Math.sin(6*g),h=y/Math.sqrt(1-b*Math.sin(m)*Math.sin(m)),l=Math.tan(m)*Math.tan(m),c=a*Math.cos(m)*Math.cos(m),u=y*(1-b)/Math.pow(1-b*Math.sin(m)*Math.sin(m),1.5),f=w/(h*v);var k=m-h*Math.tan(m)/u*(f*f/2-(5+3*l+10*c-4*c*c-9*a)*f*f*f*f/24+(61+90*l+298*c+45*l*l-252*a-3*c*c)*f*f*f*f*f*f/720);k=s(k);var S=(f-(1+2*l+c)*f*f*f/6+(5-2*c+28*l-3*c*c+8*a+24*l*l)*f*f*f*f*f/120)/Math.cos(m);S=d+s(S);var _;if(t.accuracy){var C=r({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:C.lat,right:C.lon,bottom:k,left:S}}else _={lat:k,lon:S};return _}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function l(t,e,i){var n=c(i),s=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return u(s,o,n)}function c(t){var e=t%m;return 0===e&&(e=m),e}function u(t,e,i){var n=i-1,s=v.charCodeAt(n),o=y.charCodeAt(n),r=s+t-1,a=o+e,h=!1;r>k&&(r=r-k+b-1,h=!0),(r===x||x>s&&r>x||(r>x||x>s)&&h)&&r++,(r===w||w>s&&r>w||(r>w||w>s)&&h)&&(r++,r===x&&r++),r>k&&(r=r-k+b-1),a>M?(a=a-M+b-1,h=!0):h=!1,(a===x||x>o&&a>x||(a>x||x>o)&&h)&&a++,(a===w||w>o&&a>w||(a>w||w>o)&&h)&&(a++,a===x&&a++),a>M&&(a=a-M+b-1);var l=String.fromCharCode(r)+String.fromCharCode(a);return l}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,s="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;s+=e,o++}var r=parseInt(s,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);for(var h=c(r),l=p(n.charAt(0),h),u=d(n.charAt(1),h);u<g(a);)u+=2e6;var f=i-o;if(f%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var m,v,y,b,x,w=f/2,M=0,k=0;return w>0&&(m=1e5/Math.pow(10,w),v=t.substring(o,o+w),M=parseFloat(v)*m,y=t.substring(o+w),k=parseFloat(y)*m),b=M+l,x=k+u,{easting:b,northing:x,zoneLetter:a,zoneNumber:r,accuracy:m}}function p(t,e){for(var i=v.charCodeAt(e-1),n=1e5,s=!1;i!==t.charCodeAt(0);){if(i++,i===x&&i++,i===w&&i++,i>k){if(s)throw"Bad character: "+t;i=b,s=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,s=!1;i!==t.charCodeAt(0);){if(i++,i===x&&i++,i===w&&i++,i>M){if(s)throw"Bad character: "+t;i=b,s=!0}n+=1e5}return n}function g(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var m=6,v="AJSAJS",y="AFAFAF",b=65,x=73,w=79,M=86,k=90;i.forward=function(t,e){return e=e||5,h(o({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=r(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=r(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],69:[function(t,e,i){e.exports={name:"proj4",version:"2.3.15",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}]},{},[36])(36)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("templator",[],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(){var t=v();return t.compile=function(e,i){return c.compile(e,i,t)},t.precompile=function(e,i){return c.precompile(e,i,t)},t.AST=h["default"],t.Compiler=c.Compiler,t.JavaScriptCompiler=f["default"],t.Parser=l.parser,t.parse=l.parse,t}var s=i(1)["default"];e.__esModule=!0;var o=i(2),r=s(o),a=i(21),h=s(a),l=i(22),c=i(27),u=i(28),f=s(u),p=i(25),d=s(p),g=i(20),m=s(g),v=r["default"].create,y=n();y.create=n,m["default"](y),y.Visitor=d["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,i){"use strict";function n(){var t=new a.HandlebarsEnvironment;return p.extend(t,a),t.SafeString=l["default"],t.Exception=u["default"],t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=g,t.template=function(e){return g.template(e,t)},t}var s=i(3)["default"],o=i(1)["default"];e.__esModule=!0;var r=i(4),a=s(r),h=i(18),l=o(h),c=i(6),u=o(c),f=i(5),p=s(f),d=i(19),g=s(d),m=i(20),v=o(m),y=n();y.create=n,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e},e.__esModule=!0},function(t,e,i){"use strict";function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},h.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var s=i(1)["default"];e.__esModule=!0,e.HandlebarsEnvironment=n;var o=i(5),r=i(6),a=s(r),h=i(7),l=i(15),c=i(17),u=s(c),f="4.0.5";e.VERSION=f;var p=7;e.COMPILER_REVISION=p;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var g="[object Object]";n.prototype={constructor:n,logger:u["default"],log:u["default"].log,registerHelper:function(t,e){if(o.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===g)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===g){if(e)throw new a["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=u["default"].log;e.log=m,e.createFrame=o.createFrame,e.logger=u["default"]},function(t,e){"use strict";function i(t){return c[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(u,i):t}function r(t){return t||0===t?g(t)&&0===t.length?!0:!1:!0}function a(t){var e=n({},t);return e._parent=t,e}function h(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=n,e.indexOf=s,e.escapeExpression=o,e.isEmpty=r,e.createFrame=a,e.blockParams=h,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},u=/[&<>"'`=]/g,f=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=d;var g=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===p.call(t):!1};e.isArray=g},function(t,e){"use strict";function i(t,e){var s=e&&e.loc,o=void 0,r=void 0;s&&(o=s.start.line,r=s.start.column,t+=" - "+o+":"+r);for(var a=Error.prototype.constructor.call(this,t),h=0;h<n.length;h++)this[n[h]]=a[n[h]];Error.captureStackTrace&&Error.captureStackTrace(this,i),s&&(this.lineNumber=o,this.column=r)}e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){r["default"](t),h["default"](t),c["default"](t),f["default"](t),d["default"](t),m["default"](t),y["default"](t)}var s=i(1)["default"];e.__esModule=!0,e.registerDefaultHelpers=n;var o=i(8),r=s(o),a=i(9),h=s(a),l=i(10),c=s(l),u=i(11),f=s(u),p=i(12),d=s(p),g=i(13),m=s(g),v=i(14),y=s(v)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,i){var s=i.inverse,o=i.fn;if(e===!0)return o(this);if(e===!1||null==e)return s(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):s(this);if(i.data&&i.ids){var r=n.createFrame(i.data);r.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:r}}return o(e,i)})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var s=i(5),o=i(6),r=n(o);e["default"]=function(t){t.registerHelper("each",function(t,e){function i(e,i,o){l&&(l.key=e,l.index=i,l.first=0===i,l.last=!!o,c&&(l.contextPath=c+e)),h+=n(t[e],{data:l,blockParams:s.blockParams([t[e],e],[c+e,null])})}if(!e)throw new r["default"]("Must pass iterator to #each");var n=e.fn,o=e.inverse,a=0,h="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=s.appendContextPath(e.data.contextPath,e.ids[0])+"."),s.isFunction(t)&&(t=t.call(this)),e.data&&(l=s.createFrame(e.data)),t&&"object"==typeof t)if(s.isArray(t))for(var u=t.length;u>a;a++)a in t&&i(a,a,a===t.length-1);else{var f=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==f&&i(f,a-1),f=p,a++);void 0!==f&&i(f,a-1,!0)}return 0===a&&(h=o(this)),h})},t.exports=e["default"]},function(t,e,i){"use strict";var n=i(1)["default"];e.__esModule=!0;var s=i(6),o=n(s);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var s=1;null!=i.hash.level?s=i.hash.level:i.data&&null!=i.data.level&&(s=i.data.level),e[0]=s,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var s=e.data;return e.data&&e.ids&&(s=n.createFrame(e.data),s.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:s,blockParams:n.blockParams([t],[s&&s.contextPath])})})},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){r["default"](t)}var s=i(1)["default"];e.__esModule=!0,e.registerDefaultDecorators=n;var o=i(16),r=s(o)},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e["default"]=function(t){t.registerDecorator("inline",function(t,e,i,s){var o=t;return e.partials||(e.partials={},o=function(s,o){var r=i.partials;i.partials=n.extend({},r,e.partials);var a=t(s,o);return i.partials=r,a}),e.partials[s.args[0]]=s.fn,o})},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(s.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=s.lookupLevel(t),"undefined"!=typeof console&&s.lookupLevel(s.level)<=t){var e=s.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;i>o;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){var e=t&&t[0]||1,i=v.COMPILER_REVISION;if(e!==i){if(i>e){var n=v.REVISION_CHANGES[i],s=v.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function s(t,e){function i(i,n,s){s.hash&&(n=d.extend({},n,s.hash),s.ids&&(s.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,s);var o=e.VM.invokePartial.call(this,i,n,s);if(null==o&&e.compile&&(s.partials[s.name]=e.compile(i,t.compilerOptions,e),o=s.partials[s.name](n,s)),null!=o){if(s.indent){for(var r=o.split("\n"),a=0,h=r.length;h>a&&(r[a]||a+1!==h);a++)r[a]=s.indent+r[a];o=r.join("\n")}return o}throw new m["default"]("The partial "+s.name+" could not be compiled when running in runtime-only mode")}function n(e){function i(e){return""+t.main(s,e,s.helpers,s.partials,r,h,a)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=o.data;n._setup(o),!o.partial&&t.useData&&(r=l(e,r));var a=void 0,h=t.useBlockParams?[]:void 0;return t.useDepths&&(a=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(i=c(t.main,i,s,o.depths||[],r,h))(e,o)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var s={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,s){var r=this.programs[t],a=this.fn(t);return e||s||n||i?r=o(this,t,a,e,i,n,s):r||(r=this.programs[t]=o(this,t,a)),r},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=d.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(s.helpers=i.helpers,s.partials=i.partials,s.decorators=i.decorators):(s.helpers=s.merge(i.helpers,e.helpers),t.usePartial&&(s.partials=s.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(s.decorators=s.merge(i.decorators,e.decorators)))},n._child=function(e,i,n,r){if(t.useBlockParams&&!n)throw new m["default"]("must pass block params");if(t.useDepths&&!r)throw new m["default"]("must pass parent depths");return o(s,e,t[e],i,0,n,r)},n}function o(t,e,i,n,s,o,r){function a(e){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=r;return r&&e!==r[0]&&(a=[e].concat(r)),i(t,e,t.helpers,t.partials,s.data||n,o&&[s.blockParams].concat(o),a)}return a=c(i,a,t,r,n,o),a.program=e,a.depth=r?r.length:0,a.blockParams=s||0,a}function r(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function a(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==h&&(i.data=v.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=d.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new m["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0}function h(){return""}function l(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,i,n,s,o){if(t.decorator){var r={};e=t.decorator(e,r,i,n&&n[0],s,o,n),d.extend(e,r)}return e}var u=i(3)["default"],f=i(1)["default"];e.__esModule=!0,e.checkRevision=n,e.template=s,e.wrapProgram=o,e.resolvePartial=r,e.invokePartial=a,e.noop=h;var p=i(5),d=u(p),g=i(6),m=f(g),v=i(4)},function(t,e){(function(i){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if("Program"===t.type)return t;a["default"].yy=p,p.locInfo=function(t){return new p.SourceLocation(e&&e.srcName,t)};var i=new l["default"](e);return i.accept(a["default"].parse(t))}var s=i(1)["default"],o=i(3)["default"];e.__esModule=!0,e.parse=n;var r=i(23),a=s(r),h=i(24),l=s(h),c=i(26),u=o(c),f=i(5);e.parser=a["default"];var p={};f.extend(p,u)},function(t,e){"use strict";var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,s,o,r){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=n.prepareProgram(o[a]);break;case 3:this.$=o[a];break;case 4:this.$=o[a];break;case 5:this.$=o[a];break;case 6:this.$=o[a];break;case 7:this.$=o[a];break;case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(o[a]),strip:n.stripFlags(o[a],o[a]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=n.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=n.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:n.stripFlags(o[a-5],o[a])};break;case 16:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:n.stripFlags(o[a-5],o[a])};break;case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:n.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:n.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var h=n.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),l=n.prepareProgram([h],o[a-1].loc);l.chained=!0,this.$={strip:o[a-2].strip,program:l,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:n.stripFlags(o[a-2],o[a])};break;case 22:this.$=n.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],n.stripFlags(o[a-4],o[a]),this._$);break;case 23:this.$=n.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],n.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:n.stripFlags(o[a-4],o[a]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:n.stripFlags(o[a-4],o[a])};break;case 27:this.$=o[a];break;case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",
pairs:o[a],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(o[a-2]),value:o[a],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(o[a-1]);break;case 33:this.$=o[a];break;case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:this.$=o[a];break;case 41:this.$=o[a];break;case 42:this.$=n.preparePath(!0,o[a],this._$);break;case 43:this.$=n.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:n.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:n.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[o[a]];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],o=[],r=this.table,a="",h=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,g,m,v,y,b,x,w,M={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=e()),m=r[g]&&r[g][p]),"undefined"==typeof m||!m.length||!m[0]){var k="";if(!c){w=[];for(y in r[g])this.terminals_[y]&&y>2&&w.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:n.push(p),s.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(m[1]),p=null,d?(p=d,d=null):(l=this.lexer.yyleng,a=this.lexer.yytext,h=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[m[1]][1],M.$=s[s.length-b],M._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},f&&(M._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(M,a,l,h,this.yy,m[1],s,o),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),s=s.slice(0,-1*b),o=o.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),s.push(M.$),o.push(M._$),x=r[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),r=0;r<o.length&&(i=this._input.match(this.rules[o[r]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=r,this.options.flex));r++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){function s(t,i){return e.yytext=e.yytext.substr(t,e.yyleng-i)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e["default"]=i},function(t,e,i){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function s(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],s=t[e-2];return n?"ContentStatement"===n.type?(s||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function o(t,e,i){void 0===e&&(e=-1);var n=t[e+1],s=t[e+2];return n?"ContentStatement"===n.type?(s||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function r(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var s=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==s}}function a(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var s=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==s,n.leftStripped}}var h=i(1)["default"];e.__esModule=!0;var l=i(25),c=h(l);n.prototype=new c["default"],n.prototype.Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,h=0,l=n.length;l>h;h++){var c=n[h],u=this.accept(c);if(u){var f=s(n,h,i),p=o(n,h,i),d=u.openStandalone&&f,g=u.closeStandalone&&p,m=u.inlineStandalone&&f&&p;u.close&&r(n,h,!0),u.open&&a(n,h,!0),e&&m&&(r(n,h),a(n,h)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(n[h-1].original)[1])),e&&d&&(r((c.program||c.inverse).body),a(n,h)),e&&g&&(r(n,h),a((c.inverse||c.program).body))}}return t},n.prototype.BlockStatement=n.prototype.DecoratorBlock=n.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,h=i;if(i&&i.chained)for(n=i.body[0].program;h.chained;)h=h.body[h.body.length-1].program;var l={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:s((n||e).body)};if(t.openStrip.close&&r(e.body,null,!0),i){var c=t.inverseStrip;c.open&&a(e.body,null,!0),c.close&&r(n.body,null,!0),t.closeStrip.open&&a(h.body,null,!0),!this.options.ignoreStandalone&&s(e.body)&&o(n.body)&&(a(e.body),r(n.body))}else t.closeStrip.open&&a(e.body,null,!0);return l},n.prototype.Decorator=n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(){this.parents=[]}function s(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function o(t){s.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function r(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=i(1)["default"];e.__esModule=!0;var h=i(6),l=a(h);n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!n.prototype[i.type])throw new l["default"]('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;i>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new l["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:o,DecoratorBlock:o,PartialStatement:r,PartialBlockStatement:function(t){r.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new m["default"](t.path.original+" doesn't match "+e,i)}}function s(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function o(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function r(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function a(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function h(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",s=[],o=0,r="",a=0,h=e.length;h>a;a++){var l=e[a].part,c=e[a].original!==l;if(n+=(e[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(s.length>0)throw new m["default"]("Invalid path: "+n,{loc:i});".."===l&&(o++,r+="../")}}return{type:"PathExpression",data:t,depth:o,parts:s,original:n,loc:i}}function l(t,e,i,n,s,o){var r=n.charAt(3)||n.charAt(2),a="{"!==r&&"&"!==r,h=/\*/.test(n);return{type:h?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:a,strip:s,loc:this.locInfo(o)}}function c(t,e,i,s){n(t,i),s=this.locInfo(s);var o={type:"Program",body:e,strip:{},loc:s};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}}function u(t,e,i,s,o,r){s&&s.path&&n(t,s);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var h=void 0,l=void 0;if(i){if(a)throw new m["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=s.strip),l=i.strip,h=i.program}return o&&(o=h,h=e,e=o),{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:h,openStrip:t.strip,inverseStrip:l,closeStrip:s&&s.strip,loc:this.locInfo(r)}}function f(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function p(t,e,i,s){return n(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(s)}}var d=i(1)["default"];e.__esModule=!0,e.SourceLocation=s,e.id=o,e.stripFlags=r,e.stripComment=a,e.preparePath=h,e.prepareMustache=l,e.prepareRawBlock=c,e.prepareBlock=u,e.prepareProgram=f,e.preparePartialBlock=p;var g=i(6),m=d(g)},function(t,e,i){"use strict";function n(){}function s(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=i.parse(t,e),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function o(t,e,i){function n(){var n=i.parse(t,e),s=(new i.Compiler).compile(n,e),o=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(o)}function s(t,e){return o||(o=n()),o.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;return s._setup=function(t){return o||(o=n()),o._setup(t)},s._child=function(t,e,i,s){return o||(o=n()),o._child(t,e,i,s)},s}function r(t,e){if(t===e)return!0;if(u.isArray(t)&&u.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!r(t[i],e[i]))return!1;return!0}}function a(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var h=i(1)["default"];e.__esModule=!0,e.Compiler=n,e.precompile=s,e.compile=o;var l=i(6),c=h(l),u=i(5),f=i(21),p=h(f),d=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!r(n.args,s.args))return!1}e=this.children.length;for(var i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(var n in i)n in i&&(e.knownHelpers[n]=i[n]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,i=e.compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[n]=i,this.useDepths=this.useDepths||i.useDepths,n},accept:function(t){if(!this[t.type])throw new c["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){a(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new c["default"]("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",
parts:[],depth:0}));var n=t.name.original,s="SubExpression"===t.name.type;s&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",s,n,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){a(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,s=n.parts[0],o=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",s,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.path,o=s.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",n.length,o);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,t);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",n.length,s.original,p["default"].helpers.simpleId(s))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=p["default"].helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");n>i;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=p["default"].helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&p["default"].helpers.helperExpression(t),s=!i&&(n||e);if(s&&!n){var o=t.path.parts[0],r=this.options;r.knownHelpers[o]?n=!0:r.knownHelpersOnly&&(s=!1)}return n?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;i>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||p["default"].helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else e=t.original||e,e.replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var s=t.params;return this.pushParams(s),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),s},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;i>e;e++){var n=this.options.blockParams[e],s=n&&u.indexOf(n,t);if(n&&s>=0)return[e,s]}}}},function(t,e,i){"use strict";function n(t){this.value=t}function s(){}function o(t,e,i,n){var s=e.popStack(),o=0,r=i.length;for(t&&r--;r>o;o++)s=e.nameLookup(s,i[o],n);return t?[e.aliasable("container.strict"),"(",s,", ",e.quotedString(i[o]),")"]:s}var r=i(1)["default"];e.__esModule=!0;var a=i(4),h=i(6),l=r(h),c=i(5),u=i(29),f=r(u);s.prototype={nameLookup:function(t,e){return s.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION,e=a.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,i){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var s=t.opcodes,o=void 0,r=void 0,a=void 0,h=void 0;for(a=0,h=s.length;h>a;a++)o=s[a],this.source.currentLocation=o.loc,r=r||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=r,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(n);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var f=this.context,p=f.programs,d=f.decorators;for(a=0,h=p.length;h>a;a++)p[a]&&(u[a]=p[a],d[a]&&(u[a+"_d"]=d[a],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new f["default"](this.options.srcName),this.decorators=new f["default"](this.options.srcName)},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));var n=0;for(var s in this.aliases){var o=this.aliases[s];this.aliases.hasOwnProperty(s)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++n+"="+s,o.children[0]="alias"+n)}var r=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths");var a=this.mergeSource(e);return t?(r.push(a),Function.apply(this,r)):this.source.wrap(["function(",r.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,s=void 0,o=void 0,r=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,r=t):(o&&(s?o.prepend("buffer += "):n=!0,r.add(";"),o=r=void 0),s=!0,e||(i=!1))}),i?o?(o.prepend("return "),r.add(";")):s||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var s=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[s++])),this.resolvePath("context",t,s,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(t,e,i,n,s){var r=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict&&s,this,e,t));for(var a=e.length;a>i;i++)this.replaceStack(function(s){var o=r.nameLookup(s,e[i],t);return n?[" && ",o]:[" != null ? ",o," : ",s]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),s=this.setupHelper(t,e),o=i?[s.name," || "]:"",r=["("].concat(o,n);this.options.strict||r.push(" || ",this.aliasable("helpers.helperMissing")),r.push(")"),this.push(this.source.functionCall(r,"call",s.callParams))},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),s=this.lastHelper=this.nameLookup("helpers",t,"helper"),o=["(","(helper = ",s," || ",i,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],s=this.setupParams(e,1,n);t&&(e=this.popStack(),delete s.name),i&&(s.indent=JSON.stringify(i)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),n.push(s),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,s=void 0;this.trackIds&&(s=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var o=this.hash;i&&(o.contexts[t]=i),n&&(o.types[t]=n),s&&(o.ids[t]=s),o.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:s,compileChildren:function(t,e){for(var i=t.children,n=void 0,s=void 0,o=0,r=i.length;r>o;o++){n=i[o],s=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=s.compile(n,e,this.context,!this.precompile),this.context.decorators[a]=s.decorators,this.context.environments[a]=n,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams):(n.index=a,n.name="program"+a,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,s=void 0,o=void 0;if(!this.isInline())throw new l["default"]("replaceStack on non-inline");var r=this.popStack(!0);if(r instanceof n)i=[r.value],e=["(",i],o=!0;else{s=!0;var a=this.incrStack();e=["((",this.push(a)," = ",r,")"],i=this.topStack()}var h=t.call(this,i);o||this.popStack(),s&&this.stackSlot--,this.push(e.concat(h,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var s=t[e];if(s instanceof n)this.compileStack.push(s);else{var o=this.incrStack();this.pushSource([o," = ",s,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[],s=this.setupHelperArgs(e,t,n,i),o=this.nameLookup("helpers",e,"helper"),r=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:n,paramsInit:s,name:o,callParams:[r].concat(n)}},setupParams:function(t,e,i){var n={},s=[],o=[],r=[],a=!i,h=void 0;a&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(n.fn=c||"container.noop",n.inverse=l||"container.noop");for(var u=e;u--;)h=this.popStack(),i[u]=h,this.trackIds&&(r[u]=this.popStack()),this.stringParams&&(o[u]=this.popStack(),s[u]=this.popStack());return a&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(r)),this.stringParams&&(n.types=this.source.generateArray(o),n.contexts=this.source.generateArray(s)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var s=this.setupParams(t,e,i);return s=this.objectLiteral(s),n?(this.useRegister("options"),i.push("options"),["options=",s]):i?(i.push(s),""):s}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=s.RESERVED_WORDS={},i=0,n=t.length;n>i;i++)e[t[i]]=!0}(),s.isValidJavaScriptVariableName=function(t){return!s.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t,e,i){if(o.isArray(t)){for(var n=[],s=0,r=t.length;r>s;s++)n.push(e.wrap(t[s],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function s(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=i(5),r=void 0;try{}catch(a){}r||(r=function(t,e,i,n){this.src="",n&&this.add(n)},r.prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,i=this.source.length;i>e;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new r(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof r?t:(t=n(t,this,e),new r(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var s=n(t[i],this);"undefined"!==s&&e.push([this.quotedString(i),":",s])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),i=0,s=t.length;s>i;i++)i&&e.add(","),e.add(n(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e["default"]=s,t.exports=e["default"]}])}),define("app/service/search/coordinates",[],function(){"use strict";function t(){this._formats=[{regexp:/^(34N)[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})[ ,;:]\s*([0-9]{6}|[0-9]{6}[,.]\d{0,9})\s*$/,srid:"EPSG:32634",srname:"UTM 34N",get:function(t){return[Number(t[3].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^(34N)[ ,;:]\s*?([0-9]{6}|[0-9]{6}[,.]\d{0,9})[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})\s*$/,srid:"EPSG:32634",srname:"UTM 34N",get:function(t){return[Number(t[2].replace(",",".")),Number(t[3].replace(",","."))]}},{regexp:/^(35N)[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})[ ,;:]\s*([0-9]{6}|[0-9]{6}[,.]\d{0,9})\s*$/,srid:"EPSG:32635",srname:"UTM 35N",get:function(t){return[Number(t[3].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^(35N)[ ,;:]\s*?([0-9]{6}|[0-9]{6}[,.]\d{0,9})[ ,;:]\s*([0-9]{7}|[0-9]{1,7}[,.]\d{0,9})\s*$/,srid:"EPSG:32635",srname:"UTM 35N",get:function(t){return[Number(t[2].replace(",",".")),Number(t[3].replace(",","."))]}},{regexp:/^(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\d{0,9})[ ,;:]\s*([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\d{0,9})\s*$/,srid:"EPSG:3301",srname:"L-EST97",get:function(t){return[Number(t[2].replace(",",".")),Number(t[1].replace(",","."))]}},{regexp:/^([3-7][0-9]{5}|[3-7][0-9]{5}[,.]\d{0,9})[ ,;:]\s*(6[3-6][0-9]{5}|6[3-6][0-9]{5}[,.]\d{0,9})\s*$/,srid:"EPSG:3301",srname:"L-EST97",get:function(t){return[Number(t[1].replace(",",".")),Number(t[2].replace(",","."))]}},{regexp:/^([\-NS])?\s*([0-8]\d?|90)[ ‚Äô'¬∞]+([0-9]{2})[ ‚Äô']+([0-9]{1,2}[,.]?\d{1,9})["]?[ ,;:]\s*([\-EW])?\s*([0-1]\d{0,2}|\d{2})[ ‚Äô'¬∞]+([0-9]{2})[ ‚Äô']+([0-9]{1,2}[,.]?\d{1,9})["]?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[6])+Number(t[7])/60+Number(t[8].replace(",","."))/60/60,Number(t[2])+Number(t[3])/60+Number(t[4].replace(",","."))/60/60];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[5]||"W"===t[5]?-e[0]:e[0],e}},{regexp:/^([\-NS])?\s*([0-8]\d?|90)[ .‚Äô'¬∞]+([0-9]{1,2}[,.]?\d{1,18})[‚Äô']?[ ,;:]\s*([\-EW])?\s*([0-1]\d{0,2}|\d{2})[ ‚Äô'¬∞]+([0-9]{1,2}[,.]?\d{1,18})[‚Äô']?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[5])+Number(t[6].replace(",","."))/60,Number(t[2])+Number(t[3].replace(",","."))/60];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[4]||"W"===t[4]?-e[0]:e[0],e}},{regexp:/^([\-NS])?\s*([1-8]?\d(?:[,.]\d{1,18})?|90(?:\.0{1,18})?)[‚Äô'¬∞]?[ ,;:]\s*([\-EW])?\s*((?:1[0-7]|[1-9])?\d(?:[,.]\d{1,18})?|180(?:\.0{1,18})?)[‚Äô'¬∞]?\s*$/,srid:"EPSG:4326",srname:"WGS84",get:function(t){var e=[Number(t[4].replace(",",".")),Number(t[2].replace(",","."))];return e[1]="-"===t[1]||"S"===t[1]?-e[1]:e[1],e[0]="-"===t[3]||"W"===t[3]?-e[0]:e[0],e}}]}return t.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){var e,i,n,s;for(i=0,n=this._formats.length;n>i;i++)if(e=t.match(this._formats[i].regexp),e&&e.length>0)return s=this._formats[i].get(e),{x:s[0],y:s[1],srid:this._formats[i].srid};return!1}},t}),define("app/service/search/nominatim",["jquery","app/service/search/coordinates"],function(t,e){"use strict";function i(t){this._url="https://nominatim.openstreetmap.org",this._mapmodule=t,this._coordinateParser=new e,this._results=null,this._id="nominatim",this._title='<i class="glyphicon glyphicon-map-marker"></i> Leitud aadressid',this._xhr=null}return i.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null,this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort()},find:function(t,e,i){var n,s=this._coordinateParser.test(t),o=this;this._results=null,s&&s.srid?(n=this._mapmodule.transform("point",[s.x,s.y],s.srid,"EPSG:3857"),this._mapmodule.addMarker(n,{WGS84:ol.coordinate.format([s.x,s.y],"{y}, {x}",5)}),this._mapmodule.setView("center",[n,15]),this.reverse([s.x,s.y],18,function(t){t&&t.place_id&&(t.boundingbox=[s.y,s.y,s.x,s.x],t=o.format([t]),o._results=t),"function"==typeof e&&e(o._title,o._results,i)})):this.geocode(t,function(t){t.length>0&&(t=o.format(t),o._results=t),"function"==typeof e&&e(o._title,o._results,i)})},geocode:function(e,i){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",crossDomain:!0,url:this._url+"/search/",data:{q:e,countrycodes:"ee",format:"json"},dataType:"json",context:this}).done(i).fail(function(t){i(null),"abort"===t.statusText})},reverse:function(e,i,n){this._xhr&&"function"==typeof this._xhr.abort&&this._xhr.abort(),this._xhr=t.ajax({type:"GET",url:this._url+"/reverse/",data:{lat:e[1],lon:e[0],format:"json",zoom:Math.round(i),addressdetails:1},dataType:"json",context:this}).done(n).fail(function(t){n(null),"abort"===t.statusText})},format:function(t){var e,i,n,s=[];for(e=0,i=t.length;i>e;e++)t[e]&&t[e].boundingbox&&4===t[e].boundingbox.length&&(n=[parseFloat(t[e].boundingbox[2]),parseFloat(t[e].boundingbox[0]),parseFloat(t[e].boundingbox[3]),parseFloat(t[e].boundingbox[1])],s.push({id:t[e].place_id,name:t[e].display_name,bbox:this._mapmodule.transform("extent",n,"EPSG:4326","EPSG:3857"),type:this._id}));return s},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},i}),define("app/service/featureinfo",["jquery","ol","app/service/search/nominatim"],function(t,e,i){"use strict";function n(t){this._mapmodule=t,this._map=t.get("map"),this._geocode=new i(t),this._tooltip=null,this._styleCache={},this._highlight=null,this._popup=null,this._infoHandlers={},this.init()}return n.prototype={get:function(t){return this["_"+t]},init:function(){this.createFeatureTooltip(),this.createFeatureInfo(),t("#statusbar .geolocation a.unlock").on("click",function(e){e.preventDefault(),t("#statusbar .geolocation").addClass("hidden").find("div").empty(),t("#statusbar .mouse-position").removeClass("hidden")}),t("#statusbar .mouse-position a.lock").on("click",function(e){e.preventDefault(),t("#statusbar .mouse-position").addClass("hidden"),t("#statusbar .geolocation").removeClass("hidden")})},createFeatureTooltip:function(){var t=this,i=!1;this._tooltip=new e.layer.Vector({map:t._map,source:new e.source.Vector({features:[]}),style:function(i,n){var s=i.get("name");return t._styleCache[s]||(t._styleCache[s]=[new e.style.Style({text:new e.style.Text({font:"12px Calibri,sans-serif",text:s,offsetY:-14,fill:new e.style.Fill({color:"#000"}),stroke:new e.style.Stroke({color:"#fff",width:3})})})]),t._styleCache[s]}}),this._map.on("pointermove",function(e){if(!e.dragging){var n=t._map.getEventPixel(e.originalEvent),s=t._map.hasFeatureAtPixel(n);s?(t._map.getTarget().style.cursor="pointer",i=t.showTooltip(e.pixel)):(t._map.getTarget().style.cursor=s?"pointer":"",i=t.showTooltip())}})},showTooltip:function(t){if(!t)return this._tooltip.getSource().clear(),this._highlight=null,!1;var e=this._map.forEachFeatureAtPixel(t,function(t,e){return t});return e!==this._highlight&&(this._tooltip.getSource().clear(),this._tooltip.getSource().addFeatures([e]),this._highlight=e),!0},createFeatureInfo:function(){this._popup=t('<div id="popup"></div>'),this._overlay=new e.Overlay({element:this._popup[0],autoPan:!0,positioning:"center-center",offset:[0,-16]}),this._map.addOverlay(this._overlay),this.enableClick()},enableClick:function(){this._map.on("click",this.clicked,this)},disableClick:function(){this._map.un("click",this.clicked,this)},clicked:function(e){var i,n=e.coordinate,s=this._map.forEachFeatureAtPixel(e.pixel,function(t,e){return e?[e,t]:void 0});this._popup.popover("destroy"),s?(this._tooltip.getSource().clear(),"Point"===s[1].getGeometry().getType()&&(n=s[1].getGeometry().getCoordinates()),s[0]&&this._infoHandlers[s[0].get("name")]?(i=this._infoHandlers[s[0].get("name")](s[1]),this._overlay.setOffset([0,-12])):(i=this.getContent(s[1],s[0]),this._overlay.setOffset([0,-18])),this._overlay.setPosition(n),this._popup.popover(i.definition).popover("show"),this._popup.on("shown.bs.popover",function(t){i.onShow(s,t)}),this._popup.on("hidden.bs.popover",i.onHide),this._popup.popover("show")):t("#statusbar .mouse-position").hasClass("hidden")&&this.setPositionInfo(n)},getContent:function(e,i){var n=this;if(e){var s,o=e.getProperties(),r=[];for(s in o)!o.hasOwnProperty(s)||"string"!=typeof o[s]&&"number"!=typeof o[s]||r.push(s+": "+o[s]);var a='<i class="fa fa-map-marker"></i> Kaardiobjekt<a href="#" class="remove-marker" title="Eemalda"><i class="fa fa-trash"></i></a>';return{definition:{placement:"top",animation:!1,html:!0,title:a,content:'<div class="small">'+r.join("<br>")+"</div>"},onShow:function(e,i){t(i.currentTarget.nextSibling).on("click",".remove-marker",function(t){t.preventDefault(),e[0]&&(e[0].getSource().removeFeature(e[1]),n._popup.popover("destroy"))})},onHide:function(){}}}},setPositionInfo:function(i){var n=this;t("#statusbar .geolocation").find("div").html(function(){var t=e.coordinate.format(n._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);return" "+t}),this._geocode.reverse(this._mapmodule.transform("point",i,"EPSG:3857","EPSG:4326"),this._mapmodule.get("map").getView().getZoom(),function(e){e&&e.display_name&&t('<i class="text-muted hidden-xs" style="display:none"> &mdash; '+e.display_name+"</i>").appendTo("#statusbar .geolocation div").fadeIn()})}},n}),define("app/service/geolocation",["jquery","ol"],function(t,e){"use strict";function i(i){this._mapmodule=i,this._map=i.get("map"),this._view=this._map.getView(),this._locator=null,this._deltaMean=500,this._previousM=0,this._markerEl=t('<img id="geolocation_marker" />'),this._markerEl.attr("src","css/img/geolocation_marker.png"),this._features={position:new e.Overlay({positioning:"center-center",element:this._markerEl[0],stopEvent:!1,offset:[0,0]}),anchor:new e.Overlay({positioning:"center-center",element:t('<div style="width:3px;height:3px;background-color:red" />')[0],stopEvent:!1,insertFirst:!1,offset:[0,0]}),track:new e.geom.LineString([],"XYZM"),accuracy:new e.Feature},this._features.accuracy.setStyle(new e.style.Style({fill:new e.style.Fill({color:"rgba(51, 153, 204, 0.2)"})})),this.trackingStatus=["","active","tracking"],this.currentStatus=0,this.firstPosition=!0,this.init()}return i.prototype={init:function(){var i=this;this._locator=new e.Geolocation({projection:this._map.getView().getProjection(),trackingOptions:{enableHighAccuracy:!0,maximumAge:1e4,timeout:6e5}}),this._locator.on("change",function(){var t=this._locator.getPosition(),e=this._locator.getAccuracy(),i=this._locator.getHeading()||0,n=this._locator.getSpeed()||0,s=Date.now();this.addPosition(t,i,s,n);var o=this._features.track.getCoordinates(),r=o.length;r>=2&&(this._deltaMean=(o[r-1][3]-o[0][3])/(r-1));["Position: "+t[0].toFixed(2)+", "+t[1].toFixed(2),"Accuracy: "+e,"Heading: "+Math.round(this._mapmodule.radToDeg(i))+"&deg;","Speed: "+(3.6*n).toFixed(1)+" km/h","Delta: "+Math.round(this._deltaMean)+"ms"].join("<br />");this._mapmodule.get("featureInfo").setPositionInfo(t)},this),this._locator.on("error",function(){console.error("geolocation error"),this.disable(),t("#statusbar a.btn-geolocation").removeClass(i.trackingStatus.join(" "))},this),t("#statusbar a.btn-geolocation").on("click",function(e){e.preventDefault(),i.currentStatus=i.currentStatus+1>=i.trackingStatus.length?0:i.currentStatus+1,0===i.currentStatus?(i.disable(),t(this).removeClass(i.trackingStatus.join(" "))):(i.enable(),t(this).addClass(i.trackingStatus[i.currentStatus]))})},enable:function(){if("active"===this.trackingStatus[this.currentStatus]){var e=this._mapmodule.get("overlay");e.getSource().clear(),e.getSource().addFeatures([this._features.accuracy]),this._map.addOverlay(this._features.position),this._map.addOverlay(this._features.anchor),this._locator.setTracking(!0),
t("#statusbar .mouse-position a.lock").trigger("click"),this._view.on("change:rotation",this.rotateMarker,this)}else"tracking"===this.trackingStatus[this.currentStatus]&&(this._view.un("change:rotation",this.rotateMarker,this),this._markerEl.css({"-webkit-transform":"rotate(0rad)","-moz-transform":"rotate(0rad)",transform:"rotate(0rad)"}),this._map.on("pointerdrag",this.disableTracking,this),this._map.on("postcompose",this.updateView,this),this._map.render())},disable:function(){var t=this._mapmodule.get("overlay");this._locator.setTracking(!1),this._features.position.setPosition(null),this._features.accuracy.setGeometry(null),this._mapmodule.get("map").getView().setRotation(0),t.getSource().clear(),this._map.un("postcompose",this.updateView,this),this._map.un("pointerdrag",this.disableTracking,this),this._markerEl.css({"-webkit-transform":"rotate(0rad)","-moz-transform":"rotate(0rad)",transform:"rotate(0rad)"}),this.firstPosition=!0},disableTracking:function(){this._map.un("postcompose",this.updateView,this),this._map.un("pointerdrag",this.disableTracking,this),this._view.on("change:rotation",this.rotateMarker,this),t("#statusbar a.btn-geolocation").removeClass(this.trackingStatus[this.currentStatus]),this.currentStatus=this.trackingStatus.indexOf("active")},mod:function(t){return(t%(2*Math.PI)+2*Math.PI)%(2*Math.PI)},addPosition:function(t,e,i,n){var s=t[0],o=t[1],r=this._features.track.getCoordinates(),a=r[r.length-1],h=a&&a[2];if(h){var l=e-this.mod(h);if(Math.abs(l)>Math.PI){var c=l>=0?1:-1;l=-c*(2*Math.PI-Math.abs(l))}e=h+l}if(this._features.track.appendCoordinate([s,o,e,i]),this._features.track.setCoordinates(this._features.track.getCoordinates().slice(-20)),"active"===this.trackingStatus[this.currentStatus]&&(this._features.position.setPosition([s,o]),this._features.anchor.setPosition([s,o]),this.firstPosition&&(this._view.setCenter([s,o]),this.firstPosition=!1)),n){if(this._markerEl.attr("src","css/img/geolocation_marker_heading.png"),"active"===this.trackingStatus[this.currentStatus]){var u=this._view.getRotation();e=u-e,this._markerEl.css({"-webkit-transform":"rotate("+e+"rad)","-moz-transform":"rotate("+e+"rad)",transform:"rotate("+e+"rad)"})}}else this._markerEl.attr("src","css/img/geolocation_marker.png")},getCenterWithHeading:function(t,e,i){var n=this._map.getSize(),s=n[1];return[t[0]-Math.sin(e)*s*i*1/4,t[1]+Math.cos(e)*s*i*1/4]},updateView:function(){var t=Date.now()-1.5*this._deltaMean;t=Math.max(t,this._previousM),this._previousM=t;var e=this._features.track.getCoordinateAtM(t,!0);e&&(this._view.setCenter(this.getCenterWithHeading(e,-e[2],this._view.getResolution())),this._view.setRotation(-e[2]),this._features.position.setPosition(e))},rotateMarker:function(){var t=this._view.getRotation();this._markerEl.css({"-webkit-transform":"rotate("+t+"rad)","-moz-transform":"rotate("+t+"rad)",transform:"rotate("+t+"rad)"})}},i}),define("text",["module"],function(t){"use strict";var e,i,n,s,o,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),u=l&&location.hostname,f=l&&(location.port||void 0),p={},d=t.config&&t.config()||{};return e={version:"2.0.14",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(h);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=r[e];try{t=new ActiveXObject(i)}catch(n){}if(t){r=[i];break}}return t},parseName:function(t){var e,i,n,s=!1,o=t.lastIndexOf("."),r=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!r||o>1)?(e=t.substring(0,o),i=t.substring(o+1)):e=t,n=i||e,o=n.indexOf("!"),-1!==o&&(s="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,s){var o,r,a,h=e.xdRegExp.exec(t);return h?(o=h[2],r=h[3],r=r.split(":"),a=r[1],r=r[0],!(o&&o!==i||r&&r.toLowerCase()!==n.toLowerCase()||(a||r)&&a!==s)):!0},finishLoad:function(t,i,n,s){n=i?e.strip(n):n,d.isBuild&&(p[t]=n),s(n)},load:function(t,i,n,s){if(s&&s.isBuild&&!s.inlineText)return void n();d.isBuild=s&&s.isBuild;var o=e.parseName(t),r=o.moduleName+(o.ext?"."+o.ext:""),a=i.toUrl(r),h=d.useXhr||e.useXhr;return 0===a.indexOf("empty:")?void n():void(!l||h(a,c,u,f)?e.get(a,function(i){e.finishLoad(t,o.strip,i,n)},function(t){n.error&&n.error(t)}):i([r],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,n)}))},write:function(t,i,n,s){if(p.hasOwnProperty(i)){var o=e.jsEscape(p[i]);n.asModule(t+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,i,n,s,o){var r=e.parseName(i),a=r.ext?"."+r.ext:"",h=r.moduleName+a,l=n.toUrl(r.moduleName+a)+".js";e.load(h,n,function(i){var n=function(t){return s(l,t)};n.asModule=function(t,e){return s.asModule(t,l,e)},e.write(t,h,n,o)},o)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),e.get=function(t,e,n){try{var s=i.readFileSync(t,"utf8");"\ufeff"===s[0]&&(s=s.substring(1)),e(s)}catch(o){n&&n(o)}}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,i,n,s){var o,r=e.createXhr();if(r.open("GET",t,!0),s)for(o in s)s.hasOwnProperty(o)&&r.setRequestHeader(o.toLowerCase(),s[o]);d.onXhr&&d.onXhr(r,t),r.onreadystatechange=function(e){var s,o;4===r.readyState&&(s=r.status||0,s>399&&600>s?(o=new Error(t+" HTTP status: "+s),o.xhr=r,n&&n(o)):i(r.responseText),d.onXhrComplete&&d.onXhrComplete(r,t))},r.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,s="utf-8",o=new java.io.File(t),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),s)),h="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=a.readLine());)i.append(r),i.append(n);h=String(i.toString())}finally{a.close()}e(h)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in n,e.get=function(t,e){var i,r,a,h={};o&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),i.init(a,1,0,!1),r=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),r.init(i,"utf-8",i.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(i.available(),h),r.close(),i.close(),e(h.value)}catch(l){throw new Error((a&&a.path||"")+": "+l)}}),e}),define("text!tmpl/map/layerswitcher.html",[],function(){return'<div class="btn-group pull-right layerswitcher">\r\n    <button type="button" class="btn btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\r\n        <span class="display-name hidden-xs">{{ layer_name }}</span>\r\n        <i class="fa fa-globe"></i>\r\n    </button>\r\n    <ul class="dropdown-menu" role="menu">\r\n        {{#each layers}}\r\n            <li class="{{state}}">\r\n                <a href="#" class="blayer" data-name="{{this.name}}" data-crs="{{this.crs}}">{{this.title}}</a>\r\n            </li>\r\n        {{/each}}\r\n    </ul>\r\n</div>\r\n'}),define("app/map",["jquery","ol","proj4","templator","app/service/featureinfo","app/service/geolocation","text!tmpl/map/layerswitcher.html"],function(t,e,i,n,s,o,r){"use strict";function a(t){var i=e.proj.get("EPSG:3301");i.setExtent([40500,5993e3,1064500,7017e3]),this._config=t,this._map=null,this._baseLayers=new e.layer.Group({layers:[]}),this._vectorLayers=new e.layer.Group({layers:[]}),this._activeBaseLayer=null,this._el=null,this._featureInfo=null,this._geoLocation=null,this._controls={mouseCoordinates:null},this._overlay=null,this._shouldUpdate=!0}return e.proj.setProj4(i),i.defs("EPSG:3301","+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.defs("EPSG:32634","+proj=utm +zone=34 +datum=WGS84 +units=m +no_defs"),i.defs("EPSG:32635","+proj=utm +zone=35 +datum=WGS84 +units=m +no_defs"),a.prototype={get:function(t){return this["_"+t]},radToDeg:function(t){return 360*t/(2*Math.PI)},degToRad:function(t){return t*Math.PI*2/360},init:function(){var i=this.getPermalink();this.createBaseLayers(this._config.baseLayers,i),this.createMap(i),this.createLayerSwitcher(this._config.baseLayers,i),this._config.mouseCoordinates&&this.createMouseCoordinatesControl(),this._config.scaleLine&&this.createScaleLineControl(),this._config.featureInfo&&(this._featureInfo=new s(this)),this._overlay=new e.layer.Vector({map:this._map,source:new e.source.Vector({features:[],useSpatialIndex:!1}),updateWhileAnimating:!0,updateWhileInteracting:!1}),this._config.locateEnabled&&(this._geoLocation=new o(this)),this.activatePermalink(),t(".ol-overlaycontainer-stopevent").on("pointermove",function(t){t.stopPropagation()})},createBaseLayers:function(t,i){var n,s,o,r,a=[],h=!1,l="Image";for(n in t)if(t.hasOwnProperty(n))if(h=n===i.blayer,a=[],"Group"===t[n].type){for(s=0,o=t[n].layers.length;o>s;s++)t[n].layers[s].projection||(t[n].layers[s].projection=t[n].projection),r=t[n].layers[s].type.slice(0,l.length)===l?this.createImageLayer(t[n].layers[s]):this.createTileLayer(t[n].layers[s]),a.push(r);this._baseLayers.getLayers().push(new e.layer.Group({id:n,title:t[n].title,layers:a,visible:h}))}else r=t[n].type.slice(0,l.length)===l?this.createImageLayer(t[n]):this.createTileLayer(t[n]),r.set("id",n),r.setVisible(h),this._baseLayers.getLayers().push(r);this._activeBaseLayer=i.blayer},createTileLayer:function(t){var i,n="WMS",s=1024;if(t.type.slice(-n.length)===n){for(var o=e.proj.get(t.projection).getExtent(),r=e.extent.getWidth(o)/s,a=new Array(22),h=0,l=a.length;l>h;++h)a[h]=r/Math.pow(2,h);var c=new e.tilegrid.TileGrid({extent:o,resolutions:a,tileSize:[s,s]});t.tileGrid=c}var i=new e.layer.Tile({title:t.title,source:new e.source[t.type](t)});return t.id&&i.set("id",t.id),t.minResolution&&i.setMinResolution(t.minResolution),t.maxResolution&&i.setMaxResolution(t.maxResolution),i},createImageLayer:function(t){var i=new e.layer.Image({title:t.title,source:new e.source[t.type](t)});return t.minResolution&&i.setMinResolution(t.minResolution),t.maxResolution&&i.setMaxResolution(t.maxResolution),i},createLayerSwitcher:function(e,i){var s,o=this,a=[],h=n.compile(r);for(s in e)e.hasOwnProperty(s)&&a.push({name:s,title:e[s].title,crs:e[s].projection,state:this.isVisible(e[s])?"":"disabled"});this._el=t(h({layer_name:e[i.blayer].title,layers:a,create_new_layer:"Lisa uus WMS kiht",confirm:"Lisa"})),t("#toolbar").append(this._el),this._el.on("click","a.blayer",function(e){e.preventDefault(),t(this).closest("li").hasClass("disabled")||o.changeBaseLayer(t(this).data("name"))}),this._map.getView().on("change:resolution",function(){Object.keys(e).forEach(function(t){o.isVisible(e[t])?o._el.find('li a[data-name="'+t+'"]').closest("li").removeClass("disabled"):o._el.find('li a[data-name="'+t+'"]').closest("li").addClass("disabled")})})},isVisible:function(t){return t.minResolution&&this._map.getView().getResolution()<t.minResolution?!1:t.maxResolution&&this._map.getView().getResolution()>t.maxResolution?!1:!0},changeBaseLayer:function(t){this._baseLayers.getLayers().forEach(function(e){e.set("visible",e.get("id")===t)}),this._el.find(".display-name").html(this._config.baseLayers[t].title),this._activeBaseLayer=t,this.updatePermalink()},createMap:function(t){var i=this;this._map=new e.Map({layers:[i._baseLayers,i._vectorLayers],controls:e.control.defaults({attribution:!1,rotate:!1,zoom:!1}),target:document.getElementById(i._config.el),moveTolerance:3,view:new e.View({projection:"EPSG:3857",center:i.transform("point",t.center,"EPSG:4326","EPSG:3857"),zoom:t.zoom,maxZoom:20})})},createMouseCoordinatesControl:function(){var i=new e.control.MousePosition({coordinateFormat:function(t){return e.coordinate.format(t,"{y}, {x}",5)},projection:"EPSG:4326",className:"pull-left",target:t("#statusbar .mouse-position")[0],undefinedHTML:""});this._map.addControl(i)},createScaleLineControl:function(){var i=new e.control.ScaleLine({className:"ol-scale-line",target:t("#statusbar .scale-line")[0]});this._map.addControl(i)},transform:function(t,n,s,o){if(i.defs(s)&&i.defs(o))switch(t){case"point":n=e.proj.transform(n,s,o);break;case"extent":n=e.proj.transformExtent(n,s,o)}return n},setView:function(t,e,i){var n;switch(t){case"bounds":this._map.getView().fit(e,this._map.getSize());break;case"center":e[1]?(n=e[1],i&&this._map.getView().getZoom()>n&&(n=this._map.getView().getZoom()),this._map.getView().setCenter(e[0]),this._map.getView().setZoom(n)):this._map.getView().setCenter(e[0])}},getAllFeatures:function(){var i=[];return this._vectorLayers.getLayers().forEach(function(n){n instanceof e.layer.Vector&&t.merge(i,n.getSource().getFeatures())}),i},addMarker:function(t,i){var n=this.createMarker(t,i),s=this._vectorLayers.getLayers().getArray().filter(function(t){return"markers"===t.get("name")?t:void 0})[0];s||(s=new e.layer.Vector({source:new e.source.Vector,name:"markers"})),s.getSource().addFeatures([n]),this._vectorLayers.getLayers().remove(s),this._vectorLayers.getLayers().push(s)},createMarker:function(t,i){var n=new e.Feature;return t?n.setGeometry(new e.geom.Point(t)):n.setGeometry(null),i&&n.setProperties(i),n.setStyle(new e.style.Style({text:new e.style.Text({text:"Ôâ∂",font:"normal 16px FontAwesome",textBaseline:"bottom",fill:new e.style.Fill({color:"black"}),stroke:new e.style.Stroke({color:"#fff",width:4})})})),n},getPermalink:function(){var t,e,i={blayer:this._config.activeBaseLayer,zoom:this._config.zoom,center:this._config.center};return""!==window.location.hash&&(t=window.location.hash.split("&hash="),t=t[0].replace("#map=",""),e=t.split("/"),e[0]&&(i.blayer=e[0]),e[1]&&(i.zoom=parseInt(e[1],10)),e[2]&&e[3]&&(i.center=[parseFloat(e[3]),parseFloat(e[2])])),i},activatePermalink:function(){var t=this,e=this._map.getView();this._map.on("moveend",this.updatePermalink,this),window.addEventListener("popstate",function(i){if(null!==i.state){var n=t.transform("point",i.state.center,"EPSG:4326","EPSG:3857");e.setCenter(n),e.setZoom(i.state.zoom),t._shouldUpdate=!1}})},updatePermalink:function(){var t,e=this._map.getView(),i=this.transform("point",e.getCenter(),"EPSG:3857","EPSG:4326");this._activBaseLayer;if(!this._shouldUpdate)return void(this._shouldUpdate=!0);t="#map="+this._activeBaseLayer+"/"+Math.round(100*e.getZoom())/100+"/"+Math.round(1e4*i[1])/1e4+"/"+Math.round(1e4*i[0])/1e4;var n={zoom:e.getZoom(),center:e.getCenter()};window.history.pushState(n,"map",t)}},a}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("store",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.store=t()}}(function(){return function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){"use strict";var n=t("../src/store-engine"),s=[t("../storages/localStorage"),t("../storages/sessionStorage"),t("../storages/cookieStorage"),t("../storages/memoryStorage")],o=[];e.exports=n.createStore(s,o)},{"../src/store-engine":2,"../storages/cookieStorage":4,"../storages/localStorage":5,"../storages/memoryStorage":6,"../storages/sessionStorage":7}],2:[function(t,e,i){"use strict";function n(t,e){var i={_seenPlugins:[],_namespacePrefix:"",_namespaceRegexp:null,_legalNamespace:/^[a-zA-Z0-9_\-]+$/,_storage:function(){if(!this.enabled)throw new Error("store.js: No supported storage has been added! Add one (e.g store.addStorage(require('store/storages/cookieStorage')) or use a build with more built-in storages (e.g https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)");return this._storage.resolved},_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var i=t.read(e)===e;return t.remove(e),i}catch(n){return!1}},_assignPluginFnProp:function(t,e){var i=this[e];this[e]=function(){function e(){if(i){var t=i.apply(s,e.args);return delete e.args,t}}var n=Array.prototype.slice.call(arguments,0),s=this,o=[e].concat(n);return e.args=n,t.apply(s,o)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var i="";try{i=JSON.parse(t)}catch(n){i=t}return void 0!==i?i:e}},n=a(i,u);return r(t,function(t){n.addStorage(t)}),r(e,function(t){n.addPlugin(t)}),n}var s=t("./util"),o=s.pluck,r=s.each,a=s.create,h=s.isList,l=s.isFunction,c=s.isObject;e.exports={createStore:n};var u={version:"2.0.3",enabled:!1,storage:null,addStorage:function(t){this.enabled||this._testStorage(t)&&(this._storage.resolved=t,this.enabled=!0,this.storage=t.name)},addPlugin:function(t){var e=this;if(h(t))return void r(t,function(t){e.addPlugin(t)});var i=o(this._seenPlugins,function(e){return t===e});if(!i){if(this._seenPlugins.push(t),!l(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!c(n))throw new Error("Plugins must return an object of function properties");r(n,function(i,n){if(!l(i))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(i,n)})}},get:function(t,e){var i=this._storage().read(this._namespacePrefix+t);return this._deserialize(i,e)},set:function(t,e){return void 0===e?this.remove(t):(this._storage().write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this._storage().remove(this._namespacePrefix+t)},each:function(t){var e=this;this._storage().each(function(i,n){t(e._deserialize(i),n.replace(e._namespaceRegexp,""))})},clearAll:function(){this._storage().clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},namespace:function(t){if(!this._legalNamespace.test(t))throw new Error("store.js namespaces can only have alhpanumerics + underscores and dashes");var e="__storejs_"+t+"_";return a(this,{_namespacePrefix:e,_namespaceRegexp:e?new RegExp("^"+e):null})},createStore:function(t,e){return n(t,e)}}},{"./util":3}],3:[function(t,e,i){(function(t){"use strict";function i(){return Object.assign?Object.assign:function(t,e,i,n){for(var s=1;s<arguments.length;s++)a(Object(arguments[s]),function(e,i){t[i]=e});return t}}function n(){if(Object.create)return function(t,e,i,n){var s=r(arguments,1);return p.apply(this,[Object.create(t)].concat(s))};var t=function(){};return function(e,i,n,s){var o=r(arguments,1);return t.prototype=e,p.apply(this,[new t].concat(o))}}function s(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function o(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}}function r(t,e){return Array.prototype.slice.call(t,e||0)}function a(t,e){l(t,function(t,i){return e(t,i),!1})}function h(t,e){var i=c(t)?[]:{};return l(t,function(t,n){return i[n]=e(t,n),!1}),i}function l(t,e){if(c(t)){for(var i=0;i<t.length;i++)if(e(t[i],i))return t[i]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function c(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function u(t){return t&&"[object Function]"==={}.toString.call(t)}function f(t){return t&&"[object Object]"==={}.toString.call(t)}var p=i(),d=n(),g=s(),m="undefined"!=typeof window?window:t;e.exports={assign:p,create:d,trim:g,bind:o,slice:r,each:a,map:h,pluck:l,isList:c,isFunction:u,isObject:f,Global:m}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,i){"use strict";function n(t){if(!t||!h(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(f.cookie.replace(new RegExp(e),"$1"))}function s(t){for(var e=f.cookie.split(/; ?/g),i=e.length-1;i>=0;i--)if(u(e[i])){var n=e[i].split("="),s=unescape(n[0]),o=unescape(n[1]);t(o,s)}}function o(t,e){t&&(f.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function r(t){t&&h(t)&&(f.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){s(function(t,e){r(e)})}function h(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(f.cookie)}var l=t("../src/util"),c=l.Global,u=l.trim;e.exports={name:"cookieStorage",read:n,write:o,each:s,remove:r,clearAll:a};var f=c.document},{"../src/util":3}],5:[function(t,e,i){"use strict";function n(){return c.localStorage}function s(t){return n().getItem(t)}function o(t,e){return n().setItem(t,e)}function r(t){for(var e=n().length-1;e>=0;e--){var i=n().key(e);t(s(i),i)}}function a(t){return n().removeItem(t)}function h(){return n().clear()}var l=t("../src/util"),c=l.Global;e.exports={name:"localStorage",read:s,write:o,each:r,remove:a,clearAll:h}},{"../src/util":3}],6:[function(t,e,i){"use strict";function n(t){return h[t]}function s(t,e){h[t]=e}function o(t){for(var e in h)h.hasOwnProperty(e)&&t(h[e],e)}function r(t){delete h[t]}function a(t){h={}}e.exports={name:"memoryStorage",read:n,write:s,each:o,remove:r,clearAll:a};var h={}},{}],7:[function(t,e,i){"use strict";function n(){return c.sessionStorage}function s(t){return n().getItem(t)}function o(t,e){return n().setItem(t,e)}function r(t){for(var e=n().length-1;e>=0;e--){var i=n().key(e);t(s(i),i)}}function a(t){return n().removeItem(t)}function h(){return n().clear()}var l=t("../src/util"),c=l.Global;e.exports={name:"sessionStorage",read:s,write:o,each:r,remove:a,clearAll:h}},{"../src/util":3}]},{},[1])(1)}),define("app/service/store",["store"],function(t){"use strict";var e=function(t,e){};return e.prototype.init=function(){},e}),define("text!tmpl/service/search/search.html",[],function(){return'<div class="input-group search pull-right ">\n    <input type="text" class="form-control input-sm" placeholder="{{search}}">\n    <span class="input-group-btn dropdown fill-width">\n        <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true" disabled>\n            <i class="fa fa-search"></i>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" role="menu"></ul>\n    </span>\n</div>'}),define("text!tmpl/service/search/search-item.html",[],function(){return'<li role="presentation" class="small">\n    <a role="menuitem" tabindex="-1" href="#" data-id="{{ id }}" data-type="{{ type }}">{{ name }}</a>\n</li>'}),define("app/service/search/map-features",["jquery"],function(t){"use strict";function e(t){this._mapmodule=t,this._results=null,this._id="mapfeatures",this._title='<i class="fa fa-cube"></i> Leitud aarded'}return e.prototype={get:function(t){return this["_"+t]},init:function(){},test:function(t){return!0},clear:function(){this._results=null},find:function(t,e,i){var n,s,o,r,a=this,h=[],l=null;setTimeout(function(){for(l=a._mapmodule.getAllFeatures(),n=0,s=l.length;s>n;n++)o=l[n].get("id"),r=l[n].get("name"),r&&r.search(new RegExp(t,"i"))>-1&&h.push({bbox:l[n].getGeometry().getExtent(),name:r,type:a._id,id:o});h.length>0&&(a._results=h),"function"==typeof e&&e(a._title,a._results,i)})},getResultItem:function(t){var e,i;for(e=0,i=this._results.length;i>e;e++)if(t===this._results[e].id)return this._results[e];return null}},e}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){r.detach().trigger("closed.bs.alert").remove()}var s=t(this),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var r=t(o);e&&e.preventDefault(),r.length||(r=s.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),o="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,o)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),r="string"==typeof e?e:o.slide;s||n.data("bs.carousel",s=new i(this,o)),"number"==typeof e?s.to(e):r?s[r]():o.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var s="prev"==t?-1:1,o=(i+s)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var s=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,s),r=this.interval,a="next"==e?"left":"right",h=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:l,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,s.addClass(a),o.addClass(a),s.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),s.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var s=function(i){var n,s=t(this),o=t(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){
var r=t.extend({},o.data(),s.data()),a=s.attr("data-slide-to");a&&(r.interval=!1),e.call(o,r),a&&o.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),s||i.data("bs.collapse",s=new n(this,o)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var h=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[r](this.$element[0][h])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION):s.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var o=e(s),r=o.data("bs.collapse"),a=r?"toggle":s.data();i.call(o,a)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(s).remove(),t(o).each(function(){var n=t(this),s=e(n),o={relatedTarget:this};s.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(s[0],i.target)||(s.trigger(i=t.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.6",r.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=e(s),r=o.hasClass("open");if(i(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},r.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=e(n),r=s.hasClass("open");if(!r&&27!=i.which||r&&27==i.which)return 27==i.which&&s.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",h=s.find(".dropdown-menu"+a);if(h.length){var l=h.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<h.length-1&&l++,~l||(l=0),h.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),o=s.data("bs.modal"),r=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);o||s.data("bs.modal",o=new i(this,r)),"string"==typeof e?o[e](n):r.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),o=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),o="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.tooltip",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),o=s.length;o--;){var r=s[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",h="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,o=this.tip(),r=this.getUID(this.type);this.setContent(),o.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,l=h.test(a);l&&(a=a.replace(h,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=o[0].offsetWidth,f=o[0].offsetHeight;if(l){var p=a,d=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+f>d.bottom?"top":"top"==a&&c.top-f<d.top?"bottom":"right"==a&&c.right+u>d.width?"left":"left"==a&&c.left-u<d.left?"right":a,o.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,c,u,f);this.applyPlacement(g,a);var m=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var h=n[0].offsetWidth,l=n[0].offsetHeight;"top"==i&&l!=o&&(e.top=e.top+o-l);var c=this.getViewportAdjustedDelta(i,e,h,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(i),f=u?2*c.left-s+h:2*c.top-o+l,p=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(f,n[0][p],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&o.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,o=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var o=n?{top:0,left:0}:e.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,r,a,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-r.scroll,h=e.top+o-r.scroll+n;a<r.top?s.top=r.top-a:h>r.top+r.height&&(s.top=r.top+r.height-h)}else{var l=e.left-o,c=e.left+o+i;l<r.left?s.left=r.left-l:c>r.right&&(s.left=r.left+r.width-c)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),o="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.popover",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),o="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,o)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),s=e.data("target")||e.attr("href"),o=/^#./.test(s)&&t(s);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return r!=(t=o[o.length-1])&&this.activate(t);if(r&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)r!=o[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(o),e.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var r=n.find("> .active"),a=s&&t.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),o="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,o)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),o=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s?"top":!1;if("bottom"==this.affixed)return null!=i?s+this.unpin<=o.top?!1:"bottom":t-n>=s+r?!1:"bottom";var a=null==this.affixed,h=a?s:o.top,l=a?r:e;return null!=i&&i>=s?"top":null!=n&&h+l>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,o=n.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(o=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var a=this.getState(r,e,s,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var h="affix"+(a?"-"+a:""),l=t.Event(h+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),define("jquery.bootstrap",["jquery"],function(){}),define("app/service/search/search",["jquery","templator","text!tmpl/service/search/search.html","text!tmpl/service/search/search-item.html","app/service/search/nominatim","app/service/search/map-features","jquery.bootstrap"],function(t,e,i,n,s,o){"use strict";function r(t){this._mapmodule=t,this._el=null,this._open=!1,this._result=!1,this._providers={nominatim:null,mapfeatures:null},this._counter=0}return r.prototype={get:function(t){return this["_"+t]},init:function(){this._providers.nominatim=new s(this._mapmodule),this._providers.mapfeatures=new o(this._mapmodule),this.createUi()},createUi:function(){var n=this,s=e.compile(i);this._el=t(s({search:"Otsi"})),t("#toolbar").append(this._el),this._el.find(".dropdown").on("shown.bs.dropdown",function(){n._open=!0}).on("hidden.bs.dropdown",function(){n._open=!1}),this._el.find("input").on("keyup",function(e){var i,s;if(n._result){for(s in n._providers)n._providers.hasOwnProperty(s)&&n._providers[s].clear();n._result=!1,n._el.find(".dropdown-menu").html(""),n._open&&n._el.find(".dropdown-menu").dropdown("toggle")}i=t.trim(n._el.find("input").val()),i.length>1?n._el.find(".dropdown-toggle").prop("disabled",!1):n._el.find(".dropdown-toggle").prop("disabled",!0),13===e.keyCode&&i.length>1&&n.search(i)}),this._el.find(".dropdown-toggle").on("click",function(e){var i=t.trim(n._el.find("input").val());!n._result&&i.length>1&&n.search(i)}),this._el.find(".dropdown-menu").on("click","li a",function(e){e.preventDefault();var i=t(this).attr("data-id"),s=t(this).attr("data-type"),o=n._providers[s].getResultItem(i);o&&o.bbox&&4===o.bbox.length&&(Math.abs(o.bbox[0]-o.bbox[2])<100||Math.abs(o.bbox[1]-o.bbox[3])<100?n._mapmodule.setView("center",[[o.bbox[0],o.bbox[1]],18]):n._mapmodule.setView("bounds",o.bbox))})},search:function(t){var e;this.searchStart();for(e in this._providers)this._providers.hasOwnProperty(e)&&(this._providers[e].find(t,this.showResults,this),this._counter++)},showResults:function(i,s,o){if(s&&s.length>0){o._result=!0;var r=o._el.find(".dropdown-menu"),a=e.compile(n);r.append('<li class="dropdown-header">'+i+"</li>"),t.each(s,function(t,e){r.append(a(e))}),o._open||o._el.find(".dropdown-menu").dropdown("toggle")}o._counter--,0===o._counter&&o.searchEnd()},searchStart:function(){this._el.find(".dropdown-toggle i").removeClass("fa-search").addClass("fa-spinner fa-pulse")},searchEnd:function(){this._el.find(".dropdown-toggle i").removeClass("fa-spinner fa-pulse").addClass("fa-search")}},r});var polyline={};polyline.decode=function(t,e){for(var i,n,s=0,o=0,r=0,a=[],h=0,l=0,c=null,u=Math.pow(10,e||5);s<t.length;){c=null,h=0,l=0;do c=t.charCodeAt(s++)-63,l|=(31&c)<<h,h+=5;while(c>=32);i=1&l?~(l>>1):l>>1,h=l=0;do c=t.charCodeAt(s++)-63,l|=(31&c)<<h,h+=5;while(c>=32);
n=1&l?~(l>>1):l>>1,o+=i,r+=n,a.push([o/u,r/u])}return a},polyline.encode=function(t,e){if(!t.length)return"";for(var i=Math.pow(10,e||5),n=encode(t[0][0],0,i)+encode(t[0][1],0,i),s=1;s<t.length;s++){var o=t[s],r=t[s-1];n+=encode(o[0],r[0],i),n+=encode(o[1],r[1],i)}return n},polyline.fromGeoJSON=function(t,e){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw new Error("Input must be a GeoJSON LineString");return polyline.encode(flipped(t.coordinates),e)},polyline.toGeoJSON=function(t,e){var i=polyline.decode(t,e);return{type:"LineString",coordinates:flipped(i)}},"object"==typeof module&&module.exports&&(module.exports=polyline),define("polyline",function(t){return function(){var e;return e||t.polyline}}(this)),function(t){t("jsonpack",[],function(){var t=-1,e=-2,i=-3,n=-4,s=-5,o=function(o,r){r=r||{};var h=r.verbose||!1;h&&console.log("Normalize the JSON Object"),o="string"==typeof o?this.JSON.parse(o):o,h&&console.log("Creating a empty dictionary");var c={strings:[],integers:[],floats:[]};h&&console.log("Creating the AST");var f=function m(o){h&&console.log("Calling recursiveAstBuilder with "+this.JSON.stringify(o));var r=typeof o;if(null===o)return{type:"null",index:i};if("undefined"==typeof o)return{type:"undefined",index:s};if(o instanceof Array){var f=["@"];for(var p in o)o.hasOwnProperty(p)&&f.push(m(o[p]));return f}if("object"===r){var f=["$"];for(var d in o)o.hasOwnProperty(d)&&(f.push(m(d)),f.push(m(o[d])));return f}if(""===o)return{type:"empty",index:n};if("string"===r){var g=u.call(c.strings,o);return-1==g&&(c.strings.push(a(o)),g=c.strings.length-1),{type:"strings",index:g}}if("number"===r&&o%1===0){var g=u.call(c.integers,o);return-1==g&&(c.integers.push(l(o)),g=c.integers.length-1),{type:"integers",index:g}}if("number"===r){var g=u.call(c.floats,o);return-1==g&&(c.floats.push(o),g=c.floats.length-1),{type:"floats",index:g}}if("boolean"===r)return{type:"boolean",index:o?t:e};throw new Error("Unexpected argument of type "+typeof o)}(o),p=c.strings.length,d=c.integers.length;c.floats.length;h&&console.log("Parsing the dictionary");var g=c.strings.join("|");return g+="^"+c.integers.join("|"),g+="^"+c.floats.join("|"),h&&console.log("Parsing the structure"),g+="^"+function v(t){if(h&&console.log("Calling a recursiveParser with "+this.JSON.stringify(t)),t instanceof Array){var e=t.shift();for(var o in t)t.hasOwnProperty(o)&&(e+=v(t[o])+"|");return("|"===e[e.length-1]?e.slice(0,-1):e)+"]"}var r=t.type,a=t.index;if("strings"===r)return l(a);if("integers"===r)return l(p+a);if("floats"===r)return l(p+d+a);if("boolean"===r)return t.index;if("null"===r)return i;if("undefined"===r)return s;if("empty"===r)return n;throw new TypeError("The item is alien!")}(f),h&&console.log("Ending parser"),r.debug?{dictionary:c,ast:f,packed:g}:g},r=function(o,r){r=r||{};var a=o.split("^");r.verbose&&console.log("Building dictionary");var l=[],u=a[0];if(""!==u){u=u.split("|"),r.verbose&&console.log("Parse the strings dictionary");for(var f=0,p=u.length;p>f;f++)l.push(h(u[f]))}if(u=a[1],""!==u){u=u.split("|"),r.verbose&&console.log("Parse the integers dictionary");for(var f=0,p=u.length;p>f;f++)l.push(c(u[f]))}if(u=a[2],""!==u){u=u.split("|"),r.verbose&&console.log("Parse the floats dictionary");for(var f=0,p=u.length;p>f;f++)l.push(parseFloat(u[f]))}u=null,r.verbose&&console.log("Tokenizing the structure");for(var d="",g=[],m=a[3].length,f=0;m>f;f++){var v=a[3].charAt(f);"|"===v||"$"===v||"@"===v||"]"===v?(d&&(g.push(c(d)),d=""),"|"!==v&&g.push(v)):d+=v}var y=g.length,b=0;return r.verbose&&console.log("Starting recursive parser"),function x(){var o=g[b++];if(r.verbose&&console.log("Reading collection type "+("$"===o?"object":"Array")),"@"===o){for(var a=[];y>b;b++){var h=g[b];if(r.verbose&&console.log("Read "+h+" symbol"),"]"===h)return a;if("@"===h||"$"===h)a.push(x());else switch(h){case t:a.push(!0);break;case e:a.push(!1);break;case i:a.push(null);break;case s:a.push(void 0);break;case n:a.push("");break;default:a.push(l[h])}}return r.verbose&&console.log("Parsed "+this.JSON.stringify(a)),a}if("$"===o){for(var a={};y>b;b++){var c=g[b];if("]"===c)return a;c=c===n?"":l[c];var h=g[++b];if("@"===h||"$"===h)a[c]=x();else switch(h){case t:a[c]=!0;break;case e:a[c]=!1;break;case i:a[c]=null;break;case s:a[c]=void 0;break;case n:a[c]="";break;default:a[c]=l[h]}}return r.verbose&&console.log("Parsed "+this.JSON.stringify(a)),a}throw new TypeError("Bad token "+o+" isn't a type")}()},a=function(t){return"string"!=typeof t?t:t.replace(/[\+ \|\^\%]/g,function(t){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[t]})},h=function(t){return"string"!=typeof t?t:t.replace(/\+|%2B|%7C|%5E|%25/g,function(t){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[t]})},l=function(t){return Number.prototype.toString.call(t,36).toUpperCase()},c=function(t){return parseInt(t,36)},u=Array.prototype.indexOf||function(t,e){for(var i=e||0,n=this.length;n>i;i++)if(this[i]===t)return i;return-1};return{JSON:JSON,pack:o,unpack:r}})}("undefined"!=typeof define&&define.amd?define:function(t,e){var i=e();if("undefined"!=typeof exports)for(var n in i)exports[n]=i[n];else window.jsonpack=i}),define("app/service/export",["jquery","ol"],function(t,e){"use strict";function i(e,i,n){if(this._link=t("#download-link"),this._filename=i,!this._link.attr("download")||!n||0===n.length)return!1;switch(this._link.removeAttr("href"),e){case"GPX":this.gpx(n)}this.forceDownload()}return i.prototype={gpx:function(t){var i=(new e.format.GPX).writeFeatures(t),n=this.strToBase64('<?xml version="1.0" encoding="utf-8"?>'+i);this._link.attr("download",this._filename),this._link.attr("href","data:text/gpx+xml;base64,"+n)},forceDownload:function(){var t=document.createEvent("MouseEvent");return t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.getElementById("download-link").dispatchEvent(t),!1},strToBase64:function(t){function e(t){return 26>t?t+65:52>t?t+71:62>t?t-4:62===t?43:63===t?47:65}function i(t){for(var i=2,n="",s=t.length,o=0,r=0;s>r;r++)i=r%3,r>0&&4*r/3%76===0&&(n+="\r\n"),o|=t[r]<<(16>>>i&24),(2===i||t.length-r===1)&&(n+=String.fromCharCode(e(o>>>18&63),e(o>>>12&63),e(o>>>6&63),e(63&o)),o=0);return n.substr(0,n.length-2+i)+(2===i?"":1===i?"=":"==")}function n(t){for(var e,i,n=t.length,s=0,o=0;n>o;o++)i=t.charCodeAt(o),s+=128>i?1:2048>i?2:65536>i?3:2097152>i?4:67108864>i?5:6;e=new Uint8Array(s);for(var r=0,a=0;s>r;a++)i=t.charCodeAt(a),128>i?e[r++]=i:2048>i?(e[r++]=192+(i>>>6),e[r++]=128+(63&i)):65536>i?(e[r++]=224+(i>>>12),e[r++]=128+(i>>>6&63),e[r++]=128+(63&i)):2097152>i?(e[r++]=240+(i>>>18),e[r++]=128+(i>>>12&63),e[r++]=128+(i>>>6&63),e[r++]=128+(63&i)):67108864>i?(e[r++]=248+(i>>>24),e[r++]=128+(i>>>18&63),e[r++]=128+(i>>>12&63),e[r++]=128+(i>>>6&63),e[r++]=128+(63&i)):(e[r++]=252+i/1073741824,e[r++]=128+(i>>>24&63),e[r++]=128+(i>>>18&63),e[r++]=128+(i>>>12&63),e[r++]=128+(i>>>6&63),e[r++]=128+(63&i));return e}return i(n(t))}},i}),define("text!tmpl/service/geocache/filter.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Filter</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-filter"></i> Filtreeri aardeid\n</li>\n{{#each collection}}\n<li class="divider"></li>\n{{#each this}}\n<li>\n    <label>\n        <input type="checkbox" name="{{@../key}}" data-filter="{{@../key}}" value="{{@key}}"> {{this}}\n    </label>\n</li>\n{{/each}}\n{{/each}}\n'}),define("app/service/filter",["jquery","templator","text!tmpl/service/geocache/filter.html"],function(t,e,i){"use strict";function n(n){this._layer=n,this._el=t("#toolbar .filter"),this._tmpl_filter=e.compile(i),this._features=n.getSource().getFeatures(),this._filters={fstatus:{0:"Leidmata",1:"Leitud",2:"Minu aare"},type:{"Tavaline aare":"Tavaline aare",Multiaare:"Multiaare",Veebikaamera:"Veebikaamera","Virtuaalne aare":"Virtuaalne aare","S√ºndmusaare":"S√ºndmusaare","Asukohata (tagurpidi) aare":"Asukohata aare","M√µistatusaare":"M√µistatusaare"}}}return n.prototype={get:function(t){return this["_"+t]},init:function(){var t=this.buildPropertyList();this.createUi(t)},buildPropertyList:function(){var t,e,i={};this._layer.getSource().forEachFeature(function(e){var n;t=e.getProperties();for(n in t)t.hasOwnProperty(n)&&this._filters.hasOwnProperty(n)&&(i[n]||(i[n]={}),this._filters[n][t[n]]&&!i[n][t[n]]&&(i[n][t[n]]=this._filters[n][t[n]]))},this);for(e in i)i.hasOwnProperty(e)&&Object.keys(i[e]).length<2&&delete i[e];return i},createUi:function(e){var i=this;this._el.find("ul").html(this._tmpl_filter({collection:e})),this._el.closest(".geocache").find("button.btn-filter").prop("disabled",!1).on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-geotrip").removeClass("active"),t(this).closest(".geocache").find(".geotrip").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".filter").toggleClass("open")}),this._el.find("ul button.close").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").toggleClass("active"),t(this).closest(".filter").toggleClass("open")}),this._el.find("ul li input").on("change",function(t){t.stopPropagation(),i.filter()})},off:function(){this._el.closest(".geocache").find("button.btn-filter").removeClass("active").off().find("b").text(""),this._el.find("ul button.close").off(),this._el.find("ul li input").off(),this._el.find("ul").html(""),this._el.removeClass("open")},filter:function(){var t,e=this.getChecked();this._layer.getSource().clear(),e.count>0?(t=this.query(e.query),this._layer.getSource().addFeatures(t),this._el.closest(".geocache").find("button.btn-filter b").text(t.length)):(this._layer.getSource().addFeatures(this._features),this._el.closest(".geocache").find("button.btn-filter b").text(""))},getChecked:function(){var e,i,n=this._el.find("input").serializeArray(),s={query:{},count:0};for(e=0,i=n.length;i>e;e++)s.query[n[e].name]||(s.query[n[e].name]=[]),-1===t.inArray(n[e].value,s.query[n[e].name])&&(s.query[n[e].name].push(n[e].value),s.count++);return s},query:function(e){var i,n,s,o,r=[],a=[];for(i=0,s=this._features.length;s>i;i++){o=this._features[i].getProperties(),a=[];for(n in e)e.hasOwnProperty(n)&&(o.hasOwnProperty(n)&&t.inArray(o[n],e[n])>-1?a.push(!0):a.push(!1));-1===t.inArray(!1,a)&&r.push(this._features[i])}return r}},n}),define("text!tmpl/service/geocache/tool_loader.html",[],function(){return'<div class="geocache">\n    <div class="btn-group pull-left">\n        <button class="btn btn-secondary btn-sm" type="button" data-toggle="modal" data-target="#modal_geocache">\n            <i class="fa fa-cube"></i>\n            <span class="hidden-xs">{{load_geocaches}}</span>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-filter" disabled title="Filtreeri">\n            <i class="fa fa-filter"></i> <b class="hidden-xs"></b>\n        </button>\n        <button type="button" class="btn btn-secondary btn-sm btn-geotrip" disabled title="Geotuur">\n            <i class="fa fa-thumb-tack"></i> <b class="hidden-xs"></b>\n        </button>\n    </div>\n    <div class="filter">\n        <ul class="dropdown-menu scrollable-menu" role="menu"></ul>\n    </div>\n    <div class="geotrip">\n        <ul class="dropdown-menu scrollable-menu sortable" role="menu"></ul>\n    </div>\n\n    <!-- Modal -->\n    <div class="modal fade" id="modal_geocache" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title">{{load_geocaches}}</h4>\n                </div>\n                <div class="modal-body">\n                    <ul class="list-group">\n                        <li class="list-group-item">\n                            <span class="badge">1</span>\n                            Mine <a href="{{auth_url}}" target="geopeitus">geopeitus.ee</a> lehele ja logi seal sisse\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">2</span>\n                            Ava <a href="{{features_url}}" target="geopeitus">link</a>\n                        </li>\n                        <li class="list-group-item">\n                            <span class="badge">3</span>\n                            Kopeeri siia tekstikasti kogu lehe sisu\n                        </li>\n                    </ul>\n                    <textarea class="form-control" rows="6"></textarea>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary confirm">{{confirm_geocaches}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!tmpl/service/geocache/geotrip.html",[],function(){return'<li class="dropdown-header">\n    <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n    <h5>Geotuur</h5>\n</li>\n<li class="dropdown-header small">\n    <i class="fa fa-thumb-tack"></i> Lisa aardeid kaardilt\n</li>\n<li class="divider"></li>\n{{#each collection}}\n{{#if this.id}}\n<li class="sort-item">\n    <a href="#" data-id="{{this.id}}">\n        <span>{{@key}}</span>. {{this.name}}\n    </a>\n</li>\n{{/if}}\n{{/each}}\n<li class="divider"></li>\n<li class="dropdown-header footer">\n    <div class="btn-group pull-right">\n        <button type="button" class="btn btn-xs btn-secondary share">\n            <i class="fa fa-share-alt"></i>\n        </button>\n        <a class="btn btn-xs btn-secondary export-gpx" download="geotuur.gpx">\n            <i class="fa fa-download"></i> GPX\n        </a>\n        <button type="button" class="btn btn-xs btn-secondary clear">\n            <i class="fa fa-trash-o"></i>\n        </button>\n    </div>\n    <div class="clearfix"></div>\n</li>\n'}),define("text!tmpl/service/geocache/featureinfo.html",[],function(){return'<p class="text-muted metadata small">\r\n    <i class="fa fa-clock-o"></i> {{date_hidden}}\r\n    <i class="fa fa-user"></i> {{user_id}}<br>\r\n    {{{type_text}}}\r\n    <i class="fa fa-area-chart"></i> {{terrain}}\r\n    <i class="fa fa-star"></i> {{difficulty}}\r\n    <i class="fa fa-expand"></i> {{size}}\r\n</p>\r\n<p>\r\n    \r\n</p>\r\n<p>{{{fstatus}}}</p>\r\n'}),define("text!tmpl/service/geocache/featureinfo_title.html",[],function(){return'<i class="{{type_class}}"></i>\r\n<a href="{{cache_url}}{{id}}" target="_blank">{{name}}</a>\r\n<a href="#" class="cache-toggle" data-id="{{id}}" title="Geotuur">\r\n    <i class="fa {{icon}}"></i>\r\n</a>'}),function(t){"use strict";"function"==typeof define&&define.amd?define("jquery.sortable",["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=y({},e),t[F]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var n in i)!(n in e)&&(e[n]=i[n]);X(e);for(var s in this)"_"===s.charAt(0)&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:$,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),z.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function i(t){M&&M.state!==t&&(h(M,"display",t?"none":""),!t&&M.state&&k.insertBefore(M,b),M.state=t)}function n(t,e,i){if(t){i=i||q,e=e.split(".");var n=e.shift().toUpperCase(),s=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");do if(">*"===n&&t.parentNode===i||(""===n||t.nodeName.toUpperCase()==n)&&(!e.length||((" "+t.className+" ").match(s)||[]).length==e.length))return t;while(t!==i&&(t=t.parentNode))}return null}function s(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function o(t,e,i){t.addEventListener(e,i,!1)}function r(t,e,i){t.removeEventListener(e,i,!1)}function a(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(I," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(I," ")}}function h(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return q.defaultView&&q.defaultView.getComputedStyle?i=q.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function l(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,o=n.length;if(i)for(;o>s;s++)i(n[s],s);return n}return[]}function c(t,e,i,n,s,o,r){var a=q.createEvent("Event"),h=(t||e[F]).options,l="on"+i.charAt(0).toUpperCase()+i.substr(1);a.initEvent(i,!0,!0),a.to=e,a.from=s||e,a.item=n||e,a.clone=M,a.oldIndex=o,a.newIndex=r,e.dispatchEvent(a),h[l]&&h[l].call(t,a)}function u(t,e,i,n,s,o){var r,a,h=t[F],l=h.options.onMove;return r=q.createEvent("Event"),r.initEvent("move",!0,!0),r.to=e,r.from=t,r.dragged=i,r.draggedRect=n,r.related=s||e,r.relatedRect=o||e.getBoundingClientRect(),t.dispatchEvent(r),l&&(a=l.call(h,r)),a}function f(t){t.draggable=!1}function p(){U=!1}function d(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return(e.clientY-(n.top+n.height)>5||e.clientX-(n.right+n.width)>5)&&i}function g(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function m(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function v(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function y(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var b,x,w,M,k,S,_,C,P,E,j,T,A,O,N,L,D,R={},I=/\s+/g,F="Sortable"+(new Date).getTime(),B=window,q=B.document,W=B.parseInt,$=!!("draggable"in q.createElement("div")),G=function(t){return t=q.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),U=!1,H=Math.abs,z=([].slice,[]),V=v(function(t,e,i){if(i&&e.scroll){var n,s,o,r,a=e.scrollSensitivity,h=e.scrollSpeed,l=t.clientX,c=t.clientY,u=window.innerWidth,f=window.innerHeight;if(C!==i&&(_=e.scroll,C=i,_===!0)){_=i;do if(_.offsetWidth<_.scrollWidth||_.offsetHeight<_.scrollHeight)break;while(_=_.parentNode)}_&&(n=_,s=_.getBoundingClientRect(),o=(H(s.right-l)<=a)-(H(s.left-l)<=a),r=(H(s.bottom-c)<=a)-(H(s.top-c)<=a)),o||r||(o=(a>=u-l)-(a>=l),r=(a>=f-c)-(a>=c),(o||r)&&(n=B)),(R.vx!==o||R.vy!==r||R.el!==n)&&(R.el=n,R.vx=o,R.vy=r,clearInterval(R.pid),n&&(R.pid=setInterval(function(){n===B?B.scrollTo(B.pageXOffset+o*h,B.pageYOffset+r*h):(r&&(n.scrollTop+=r*h),o&&(n.scrollLeft+=o*h))},24)))}},30),X=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};e.prototype={constructor:e,_onTapStart:function(t){var e=this,i=this.el,s=this.options,o=t.type,r=t.touches&&t.touches[0],a=(r||t).target,h=a,l=s.filter;if(!("mousedown"===o&&0!==t.button||s.disabled)&&(a=n(a,s.draggable,i))){if(T=m(a),"function"==typeof l){if(l.call(this,t,a,this))return c(e,h,"filter",a,i,T),void t.preventDefault()}else if(l&&(l=l.split(",").some(function(t){return t=n(h,t.trim(),i),t?(c(e,t,"filter",a,i,T),!0):void 0})))return void t.preventDefault();(!s.handle||n(h,s.handle,i))&&this._prepareDragStart(t,r,a)}},_prepareDragStart:function(t,e,i){var n,s=this,r=s.el,h=s.options,c=r.ownerDocument;i&&!b&&i.parentNode===r&&(N=t,k=r,b=i,x=b.parentNode,S=b.nextSibling,O=h.group,n=function(){s._disableDelayedDrag(),b.draggable=!0,a(b,s.options.chosenClass,!0),s._triggerDragStart(e)},h.ignore.split(",").forEach(function(t){l(b,t.trim(),f)}),o(c,"mouseup",s._onDrop),o(c,"touchend",s._onDrop),o(c,"touchcancel",s._onDrop),h.delay?(o(c,"mouseup",s._disableDelayedDrag),o(c,"touchend",s._disableDelayedDrag),o(c,"touchcancel",s._disableDelayedDrag),o(c,"mousemove",s._disableDelayedDrag),o(c,"touchmove",s._disableDelayedDrag),s._dragStartTimer=setTimeout(n,h.delay)):n())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),r(t,"mouseup",this._disableDelayedDrag),r(t,"touchend",this._disableDelayedDrag),r(t,"touchcancel",this._disableDelayedDrag),r(t,"mousemove",this._disableDelayedDrag),r(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(N={target:b,clientX:t.clientX,clientY:t.clientY},this._onDragStart(N,"touch")):this.nativeDraggable?(o(b,"dragend",this),o(k,"dragstart",this._onDragStart)):this._onDragStart(N,!0);try{q.selection?q.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){k&&b&&(a(b,this.options.ghostClass,!0),e.active=this,c(this,k,"start",b,k,T))},_emulateDragOver:function(){if(L){if(this._lastX===L.clientX&&this._lastY===L.clientY)return;this._lastX=L.clientX,this._lastY=L.clientY,G||h(w,"display","none");var t=q.elementFromPoint(L.clientX,L.clientY),e=t,i=" "+this.options.group.name,n=z.length;if(e)do{if(e[F]&&e[F].options.groups.indexOf(i)>-1){for(;n--;)z[n]({clientX:L.clientX,clientY:L.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);G||h(w,"display","")}},_onTouchMove:function(t){if(N){e.active||this._dragStarted(),this._appendGhost();var i=t.touches?t.touches[0]:t,n=i.clientX-N.clientX,s=i.clientY-N.clientY,o=t.touches?"translate3d("+n+"px,"+s+"px,0)":"translate("+n+"px,"+s+"px)";D=!0,L=i,h(w,"webkitTransform",o),h(w,"mozTransform",o),h(w,"msTransform",o),h(w,"transform",o),t.preventDefault()}},_appendGhost:function(){if(!w){var t,e=b.getBoundingClientRect(),i=h(b),n=this.options;w=b.cloneNode(!0),a(w,n.ghostClass,!1),a(w,n.fallbackClass,!0),h(w,"top",e.top-W(i.marginTop,10)),h(w,"left",e.left-W(i.marginLeft,10)),h(w,"width",e.width),h(w,"height",e.height),h(w,"opacity","0.8"),h(w,"position","fixed"),h(w,"zIndex","100000"),h(w,"pointerEvents","none"),n.fallbackOnBody&&q.body.appendChild(w)||k.appendChild(w),t=w.getBoundingClientRect(),h(w,"width",2*e.width-t.width),h(w,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),"clone"==O.pull&&(M=b.cloneNode(!0),h(M,"display","none"),k.insertBefore(M,b)),e?("touch"===e?(o(q,"touchmove",this._onTouchMove),o(q,"touchend",this._onDrop),o(q,"touchcancel",this._onDrop)):(o(q,"mousemove",this._onTouchMove),o(q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,b)),o(q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var e,s,o,r=this.el,a=this.options,l=a.group,c=l.put,f=O===l,g=a.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!a.dragoverBubble&&t.stopPropagation()),D=!0,O&&!a.disabled&&(f?g||(o=!k.contains(b)):O.pull&&c&&(O.name===l.name||c.indexOf&&~c.indexOf(O.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(V(t,a,this.el),U)return;if(e=n(t.target,a.draggable,r),s=b.getBoundingClientRect(),o)return i(!0),void(M||S?k.insertBefore(b,M||S):g||k.appendChild(b));if(0===r.children.length||r.children[0]===w||r===t.target&&(e=d(r,t))){if(e){if(e.animated)return;v=e.getBoundingClientRect()}i(f),u(k,r,b,s,e,v)!==!1&&(b.contains(r)||(r.appendChild(b),x=r),this._animate(s,b),e&&this._animate(v,e))}else if(e&&!e.animated&&e!==b&&void 0!==e.parentNode[F]){P!==e&&(P=e,E=h(e),j=h(e.parentNode));var m,v=e.getBoundingClientRect(),y=v.right-v.left,_=v.bottom-v.top,C=/left|right|inline/.test(E.cssFloat+E.display)||"flex"==j.display&&0===j["flex-direction"].indexOf("row"),T=e.offsetWidth>b.offsetWidth,A=e.offsetHeight>b.offsetHeight,N=(C?(t.clientX-v.left)/y:(t.clientY-v.top)/_)>.5,L=e.nextElementSibling,R=u(k,r,b,s,e,v);if(R!==!1){if(U=!0,setTimeout(p,30),i(f),1===R||-1===R)m=1===R;else if(C){var I=b.offsetTop,B=e.offsetTop;m=I===B?e.previousElementSibling===b&&!T||N&&T:B>I}else m=L!==b&&!A||N&&A;b.contains(r)||(m&&!L?r.appendChild(b):e.parentNode.insertBefore(b,m?L:e)),x=b.parentNode,this._animate(s,b),this._animate(v,e)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();h(e,"transition","none"),h(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,h(e,"transition","all "+i+"ms"),h(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){h(e,"transition",""),h(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;r(q,"touchmove",this._onTouchMove),r(t,"mouseup",this._onDrop),r(t,"touchend",this._onDrop),r(t,"touchcancel",this._onDrop)},_onDrop:function(t){var i=this.el,n=this.options;clearInterval(this._loopId),clearInterval(R.pid),clearTimeout(this._dragStartTimer),r(q,"mousemove",this._onTouchMove),this.nativeDraggable&&(r(q,"drop",this),r(i,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(D&&(t.preventDefault(),!n.dropBubble&&t.stopPropagation()),w&&w.parentNode.removeChild(w),b&&(this.nativeDraggable&&r(b,"dragend",this),f(b),a(b,this.options.ghostClass,!1),a(b,this.options.chosenClass,!1),k!==x?(A=m(b),A>=0&&(c(null,x,"sort",b,k,T,A),c(this,k,"sort",b,k,T,A),c(null,x,"add",b,k,T,A),c(this,k,"remove",b,k,T,A))):(M&&M.parentNode.removeChild(M),b.nextSibling!==S&&(A=m(b),A>=0&&(c(this,k,"update",b,k,T,A),c(this,k,"sort",b,k,T,A)))),e.active&&((null===A||-1===A)&&(A=T),c(this,k,"end",b,k,T,A),this.save())),k=b=x=w=S=M=_=C=N=L=D=A=P=E=O=e.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?b&&(this._onDragOver(t),s(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],i=this.el.children,s=0,o=i.length,r=this.options;o>s;s++)t=i[s],n(t,r.draggable,this.el)&&e.push(t.getAttribute(r.dataIdAttr)||g(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,s){var o=i.children[s];n(o,this.options.draggable,i)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;return void 0===e?i[t]:(i[t]=e,void("group"===t&&X(i)))},destroy:function(){var t=this.el;t[F]=null,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),z.splice(z.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},e.utils={on:o,off:r,css:h,find:l,is:function(t,e){return!!n(t,e,t)},extend:y,throttle:v,closest:n,toggleClass:a,index:m},e.create=function(t,i){return new e(t,i)},t.fn.sortable=function(i){var n,s=arguments;return this.each(function(){var o=t(this),r=o.data("sortable");if(r||!(i instanceof Object)&&i||(r=new e(this,i),o.data("sortable",r)),r){if("widget"===i)return r;"destroy"===i?(r.destroy(),o.removeData("sortable")):"function"==typeof r[i]?n=r[i].apply(r,[].slice.call(s,1)):i in r.options&&(n=r.option.apply(r,s))}}),void 0===n?this:n}}),define("app/service/geocache",["jquery","ol","templator","polyline","jsonpack","app/service/export","app/service/filter","text!tmpl/service/geocache/tool_loader.html","text!tmpl/service/geocache/geotrip.html","text!tmpl/service/geocache/featureinfo.html","text!tmpl/service/geocache/featureinfo_title.html","jquery.bootstrap","jquery.sortable"],function(t,e,i,n,s,o,r,a,h,l,c){"use strict";function u(t,n){this._name="geocache",this._config=t,this._mapmodule=n,this._el=null,this._filter=null,this._open=!1,this._results=null,this._layer=null,this._route=null,this._styleCache={},this._styleConfig={base:{text:"ÔÅÅ",font:"normal 16px FontAwesome",textBaseline:"middle",fill:new e.style.Fill({color:"black"}),stroke:new e.style.Stroke({color:"#fff",width:4})},text:{"Tavaline aare":{text:"ÔÜ≤","class":"fa fa-cube",font:"normal 12px FontAwesome"},Multiaare:{text:"ÔÜ≥","class":"fa fa-cubes",font:"normal 13px FontAwesome"},Veebikaamera:{text:"ÔÄ∞","class":"fa fa-camera",font:"normal 12px FontAwesome"},"Virtuaalne aare":{text:"Ôá´","class":"fa fa-wifi",font:"normal 12px FontAwesome"},"S√ºndmusaare":{text:"ÔÜú","class":"fa fa-university",font:"normal 12px FontAwesome"},"Asukohata (tagurpidi) aare":{text:"ÔÄ°","class":"fa fa-refresh",font:"normal 12px FontAwesome"},"M√µistatusaare":{text:"ÔÅô","class":"fa fa-question-circle",font:"normal 12px FontAwesome"}},color:{0:{fill:new e.style.Fill({color:"black"})},1:{fill:new e.style.Fill({color:"#4c9900"})},2:{fill:new e.style.Fill({color:"red"})}}},this._tmpl_geotrip=i.compile(h),this._tmpl_featureinfo=i.compile(l),this._tmpl_featureinfo_title=i.compile(c),this._geotrip=new e.Collection,this._geotrip.on("add",this.renderTrip,this),this._geotrip.on("remove",this.renderTrip,this)}return u.prototype={get:function(t){return this["_"+t]},init:function(){var t,e,i,n,o,r=this;this.createUi(),t=this._mapmodule.get("featureInfo").get("infoHandlers"),t&&(t[this._name]=function(t){return r.getContent(t)}),e=window.location.hash.split("&hash="),e[1]&&(i=s.unpack(decodeURIComponent(e[1])),i&&i.length&&(n={type:"FeatureCollection",features:i},this.clearTrip(),n&&(o=this.initTrip(n),o&&o.forEach(function(t){r._geotrip.push(t)}))))},createUi:function(){var n=this,r=i.compile(a);this._el=t(r(t.extend(this._config,{load_geocaches:"Lae aarded",confirm_geocaches:"Lisa aarded kaardile"}))),t("#toolbar").append(this._el),this._el.find(".modal").on("shown.bs.modal",function(t){}),this._el.find("#modal_geocache").on("click","button.confirm",function(e){var i,s=t(this).closest(".modal-content").find("textarea"),o=t.trim(s.val());if(n.clearTrip(),o.length>0)try{i=t.parseJSON(o)}catch(r){}i&&n.initTrip(i),s.val(""),t(this).closest(".modal").modal("hide")}),this._el.find("button.btn-geotrip").on("click",function(e){e.stopPropagation(),t(this).closest(".geocache").find("button.btn-filter").removeClass("active"),t(this).closest(".geocache").find(".filter").removeClass("open"),t(this).toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip button.close",function(e){e.stopPropagation(),n._el.find("button.btn-geotrip").toggleClass("active"),t(this).closest(".geocache").find(".geotrip").toggleClass("open")}),this._el.on("click",".geotrip ul li a",function(e){e.preventDefault();var i=t(this).data("id");n._geotrip.forEach(function(t,e){return Number(t.get("id"))===i?void n._mapmodule.setView("center",[t.getGeometry().getCoordinates(),16]):void 0})}),this._el.on("click",".geotrip ul li button.clear",function(t){n.clearTrip()}),this._el.on("click",".geotrip ul li a.export-gpx",function(t){t.preventDefault();var e,i=[],s=null,r=null;n._geotrip.forEach(function(t){s=t.clone(),s.getGeometry().transform("EPSG:3857","EPSG:4326"),i.push(s)}),r=n._route.getSource().getFeatures()[0],r&&(s=r.clone(),s.getGeometry().transform("EPSG:3857","EPSG:4326"),i.push(s)),e=new o("GPX","geotuur.gpx",i)}),this._el.on("click",".geotrip ul li button.share",function(t){var i=new e.format.GeoJSON,o=i.writeFeaturesObject(n._geotrip.getArray(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857",decimals:5}),r=s.pack(o.features);window.location.hash+="&hash="+r})},createLayer:function(i){var n,s,o=this;return i?(s=new e.format.GeoJSON,
n={features:s.readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}):n={format:new e.format.GeoJSON,url:"data/gp.geojson"},this._route=new e.layer.Vector({name:"route",source:new e.source.Vector,style:[new e.style.Style({stroke:new e.style.Stroke({color:"rgba(255, 255, 255, 0.6)",width:7})}),new e.style.Style({stroke:new e.style.Stroke({color:"rgba(0, 0, 0, 0.3)",width:5})})]}),this._mapmodule.get("vectorLayers").getLayers().push(this._route),this._layer=new e.layer.Vector({name:"geocache",source:new e.source.Vector(n),style:function(i,n){var s,r=i.get("type"),a=i.get("fstatus");return o._styleCache[r]||(o._styleCache[r]={}),o._styleCache[r][a]||(s=t.extend({},o._styleConfig.base,o._styleConfig.text[r],o._styleConfig.color[a]),o._styleCache[r][a]=[new e.style.Style({text:new e.style.Text(s)})]),o._styleCache[r][a]}}),this._mapmodule.get("vectorLayers").getLayers().push(this._layer),n.features||[]},removeLayer:function(){this._layer.getSource().clear(),this._route.getSource().clear(),this._mapmodule.get("vectorLayers").getLayers().remove(this._layer),this._mapmodule.get("vectorLayers").getLayers().remove(this._route),this._layer=null,this._route=null},getContent:function(e){var i=this,n={0:'<i class="fa fa-square-o"></i> Leidmata',1:'<i class="fa fa-check-square-o"></i> Leitud',2:'<i class="fa fa-user"></i> Minu aare'},s=e.getProperties(),o=t.inArray(e,this._geotrip.getArray());return s.fstatus=n[s.fstatus],s.type_text='<i class="'+this._styleConfig.text[s.type]["class"]+'"></i> '+s.type,{definition:{placement:"top",animation:!1,html:!0,title:this._tmpl_featureinfo_title({type_class:this._styleConfig.text[s.type]["class"],cache_url:this._config.cache_url,id:s.id,name:s.name,icon:o>-1?"fa-minus-square":"fa-thumb-tack"}),content:this._tmpl_featureinfo(s)},onShow:function(e){t("a.cache-toggle").on("click",function(n){n.preventDefault(),t(this).find("i").toggleClass("fa-thumb-tack fa-minus-square"),t.inArray(e[1],i._geotrip.getArray())>-1?i._geotrip.remove(e[1]):i._geotrip.push(e[1])})},onHide:function(){t("a.cache-toggle").off()}}},initTrip:function(t){this._layer&&this.removeLayer();var e=this.createLayer(t);return this._filter&&(this._filter.off(),this._filter=null),this._filter=new r(this._layer),this._filter.init(),e},renderTrip:function(t){var i=[""],n=this._geotrip.getLength(),s=[],o=this;this._geotrip.forEach(function(t,e){i.push(t.getProperties()),s.push(t.getGeometry().getCoordinates())}),0===n?(this._el.find("button.btn-geotrip").removeClass("active").prop("disabled",!0).find("b").text(""),this._el.find(".geotrip").removeClass("open")):this._el.find("button.btn-geotrip").is(":disabled")&&this._el.find("button.btn-geotrip").prop("disabled",!1),n>0&&this._el.find("button.btn-geotrip b").text(n),this._el.find(".geotrip ul").html(this._tmpl_geotrip({collection:i})),this._el.find(".geotrip .sortable").sortable({draggable:"li.sort-item",onUpdate:function(t){o.reorderTrip(),o.renderTrip()}}),this._route.getSource().clear(),this._el.find(".geotrip ul li a.export-gpx").removeAttr("href"),n>1&&this._route.getSource().addFeatures([new e.Feature({name:"Geotuur",geometry:new e.geom.LineString(s)})])},reorderTrip:function(){function e(t){var e;return r._geotrip.forEach(function(i,n){i.get("id")===t&&(e=i)}),e}var i,n,s=[],o=null,r=this;for(this._el.find(".geotrip .sortable li.sort-item").each(function(e,i){s.push(t(i).find("a").attr("data-id"))}),i=0,n=s.length;n>i;i++)o=e(s[i]),this._geotrip.remove(o),this._geotrip.insertAt(i,o)},clearTrip:function(){this._route&&this._route.getSource().clear(),this._geotrip.clear();var t=this._mapmodule.get("featureInfo").get("popup");t&&t.popover("destroy")}},u}),define("app/service/osm-edit",[],function(){"use strict";var t=function(t,e){var i="https://www.openstreetmap.org/edit?editor=id#background=custom:http://tiles.maaamet.ee/tm/tms/1.0.0/foto@GMC/{z}/{x}/{-y}.png&map=";t.append('<a href="#" id="osm-edit"><i class="fa fa-pencil"></i></a>'),t.on("click","a#osm-edit",function(t){t.preventDefault();var n=e.transform("point",e.get("map").getView().getCenter(),"EPSG:3857","EPSG:4326"),s=e.get("map").getView().getZoom();window.open(i+s+"/"+n[1]+"/"+n[0])})};return t}),define("app/service/data-import",["ol"],function(t){"use strict";var e=function(e){var i=e.get("map"),n={Point:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,255,0,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#ff0",width:1})})})],LineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:3})})],Polygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,255,255,0.5)"}),stroke:new t.style.Stroke({color:"#0ff",width:1})})],MultiPoint:[new t.style.Style({image:new t.style.Circle({fill:new t.style.Fill({color:"rgba(255,0,255,0.5)"}),radius:5,stroke:new t.style.Stroke({color:"#f0f",width:1})})})],MultiLineString:[new t.style.Style({stroke:new t.style.Stroke({color:"#f0f",width:1})})],MultiPolygon:[new t.style.Style({fill:new t.style.Fill({color:"rgba(0,0,255,0.5)"}),stroke:new t.style.Stroke({color:"#00f",width:1})})]},s=function(t,e){var i=t.getStyleFunction();return i?i.call(t,e):n[t.getGeometry().getType()]},o=new t.interaction.DragAndDrop({formatConstructors:[t.format.GPX,t.format.GeoJSON]}),r=new t.layer.Group({layers:[]}),a=[];i.getLayers().push(r),i.addInteraction(o),o.on("addfeatures",function(i){var n=new t.layer.Vector({source:new t.source.Vector({features:i.features,projection:i.projection}),style:s});r.getLayers().push(n),4===a.length?t.extent.extend(a,n.getSource().getExtent()):a=n.getSource().getExtent(),e.setView("bounds",a)})};return e}),define("app/service/fullscreen",["jquery"],function(t){"use strict";function e(e){this._active=!1,this._el=e;var i=this.test();i&&(this._el.on("click",t.proxy(this.toggle,this)),t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",t.proxy(this.toggleState,this)))}return e.prototype={test:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?(this._el.removeClass("disabled"),!0):!1},toggle:function(t){t.preventDefault(),this._active?this.off():this.on()},toggleState:function(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(this._active=!0,this._el.addClass("active")):(this._active=!1,this._el.removeClass("active"))},on:function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},off:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},e}),define("text!tmpl/service/wms-layers.html",[],function(){return'<li class="divider"></li>\n{{#each layers}}\n<li class="wms-layer">\n    <a href="#" class="toggle-layer" data-id="{{this.id}}">\n        <i class="fa {{this.checked}}"></i>\n        {{this.title}}\n    </a>\n    <a href="#" class="remove-layer" data-id="{{this.id}}"><i class="fa fa-close"></i></a>\n</li>\n{{/each}}\n<li>\n    <a href="#" class="add-wms-layer" data-toggle="modal" data-target="#modal_wmslayer">\n        <i class="fa fa-plus"></i> {{title}}\n    </a>\n</li>\n'}),define("text!tmpl/service/wms-modal.html",[],function(){return'<!-- Modal -->\n<div class="modal fade" id="modal_wmslayer" tabindex="-1" role="dialog" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">{{title}}</h4>\n            </div>\n            <div class="modal-body text-muted">\n                Sisesta siia kasti WMS (1.1.1) aadress koos LAYERS ja SRS parameetriga.\n                <textarea class="form-control" rows="3"></textarea>\n                <em class="small"><b>N√§ide:</b> (katastrikaart)<br>http://kaart.maaamet.ee/wms/alus?layers=TOPOYKSUS_6569,TOPOYKSUS_7793&SRS=EPSG:3301</em>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-secondary confirm">{{confirm}}</button>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("app/service/wms-layer",["jquery","templator","text!tmpl/service/wms-layers.html","text!tmpl/service/wms-modal.html"],function(t,e,i,n){"use strict";var s=function(s,o){this._parentEl=s,this._mapmodule=o,this._layer_conf={type:"TileWMS",url:null,projection:"EPSG:3301",gutter:20,crossOrigin:null},this._layer_conf_params={LAYERS:null,TILED:!0,FORMAT:"image/png",VERSION:"1.1.1"},this._tmpl={layers:e.compile(i),modal:e.compile(n)},this._layers=[],this._el=this.render(this._layers),this._modal=t(this._tmpl.modal({title:"Lisa WMS kiht",confirm:"Lisa"})),t("body").append(this._modal),this._modal.on("click","button.confirm",t.proxy(function(t){t.preventDefault();var e=this.createLayer(this._modal.find("textarea").val().trim());e&&(this.addLayer(e),this._modal.find("textarea").val(""),this._modal.modal("hide"))},this)),this._parentEl.on("click","li.wms-layer a.toggle-layer",t.proxy(function(e){e.preventDefault(),e.stopPropagation(),t(e.currentTarget).children("i").toggleClass("fa-check-square-o fa-square-o"),this.toggleLayer(t(e.currentTarget).data("id"))},this)),this._parentEl.on("click","li.wms-layer a.remove-layer",t.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.removeLayer(t(e.currentTarget).data("id"))},this))};return s.prototype={get:function(t){return this["_"+t]},createLayer:function(e){var i=null,n=null,s=null;return this.isUrlValid(e)?(n=this.parseUrl(e),i=t.extend({},this._layer_conf),i.params=t.extend({},this._layer_conf_params),n.query.LAYERS||n.query.layers?(i.params.LAYERS=n.query.LAYERS||n.query.layers,delete n.query.LAYERS,delete n.query.layers,n.query.SRS||n.query.srs?(i.projection=n.query.srs||n.query.SRS,delete n.query.SRS,delete n.query.srs,s=Object.keys(n.query).map(function(t){return t+"="+n.query}).join("&"),i.url=n.protocol+"//"+n.host+n.pathname+"?"+s,i.id=this.uuid(),i.title="Kiht "+(this._layers.length+1),this._mapmodule.createTileLayer(i)):void alert("WMS aadress peab sisaldama SRS parameetrit")):void alert("WMS aadress peab sisaldama LAYERS parameetrit")):void 0},addLayer:function(t){this._layers.push(t),this._mapmodule.get("vectorLayers").getLayers().push(t),this._el&&this._el.remove(),this._el=this.render(this._layers)},render:function(e){var i=t(this._tmpl.layers({title:"Lisa WMS kiht",layers:e.map(function(t){return{id:t.get("id"),title:t.get("title"),checked:t.getVisible()?"fa-check-square-o":"fa-square-o"}})}));return this._parentEl.append(i),i},toggleLayer:function(t){var e=this._layers.find(function(e){return e.get("id")===t});e&&e.setVisible(!e.getVisible())},removeLayer:function(t){var e=this._layers.find(function(e){return e.get("id")===t});e&&(this._mapmodule.get("vectorLayers").getLayers().remove(e),this._layers.splice(this._layers.indexOf(e),1),this._el&&this._el.remove(),this._el=this.render(this._layers))},isUrlValid:function(t){var e=t.match(/(http(s)?:\/\/.)?(www\.)?[\-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([\-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);return null!==e},parseUrl:function(t){var e=document.createElement("a");return e.href=t,{protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host,query:JSON.parse('{"'+e.search.substr(1).replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)})}},uuid:function(){return Math.random().toString(36).substr(2,10)}},s}),define("app/service/measure",["ol","jquery"],function(t,e){"use strict";function i(e){this._name="measure",this._mapmodule=e,this._map=e.get("map"),this._source=new t.source.Vector,this._layer=new t.layer.Vector({source:this._source,style:[new t.style.Style({stroke:new t.style.Stroke({color:"black",width:1})}),new t.style.Style({image:new t.style.Circle({radius:4,stroke:new t.style.Stroke({color:"black",width:1}),fill:new t.style.Fill({color:"white"})}),geometry:function(e){var i=e.getGeometry().getCoordinates();return new t.geom.MultiPoint(i)}})]}),this._drawing=new t.Feature({geometry:new t.geom.LineString([])}),this._sketch=new t.Feature({geometry:new t.geom.LineString([])}),this._snap=10,this._modify=new t.interaction.Modify({features:new t.Collection([this._drawing]),style:new t.style.Style({image:new t.style.Circle({radius:5,stroke:new t.style.Stroke({color:"black",width:1}),fill:new t.style.Fill({color:"white"})})})})}return i.prototype={get:function(t){return this["_"+t]},init:function(e){this.createUi(),this.reset(),this._mapmodule.get("featureInfo").disableClick(),this._mapmodule.get("vectorLayers").getLayers().push(this._layer),this._source.addFeatures([this._drawing,this._sketch]),e&&this._drawing.getGeometry().setCoordinates([e]),this.enableClick(),this._map.getInteractions().getArray().forEach(function(e){e instanceof t.interaction.DoubleClickZoom&&e.setActive(!1)})},createUi:function(){var t=this;this._el&&this._el.alert("close"),this._el=e('<div class="alert alert-warning alert-dismissible measure" role="alert"></div>'),this._el.append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),this._el.append('<div class="small" />');var i="Vahemaa: l√µpeta joone viimases punktis";i+="<br>Pindala: l√µpeta joone alguses",this._el.find("div").html(i),e("body").append(this._el),this._el.on("closed.bs.alert",function(){t.reset()})},enableClick:function(){this._map.on("singleclick",this.clicked,this),this._map.on("pointermove",this.mousemoved,this)},disableClick:function(){this._map.un("singleclick",this.clicked,this),this._map.un("pointermove",this.mousemoved,this)},clicked:function(t){var e=this._drawing.getGeometry().getCoordinates(),i=this.getSnappedCoordinate(t.coordinate,e,this._snap);this._sketch.getGeometry().setCoordinates([]),e.length>1&&e[0][0]===i[0]&&e[0][1]===i[1]?(e.push(i),this._drawing.getGeometry().setCoordinates(e),this.finish()):e.length>1&&e[e.length-1][0]===i[0]&&e[e.length-1][1]===i[1]?this.finish():(e.push(i),this._drawing.getGeometry().setCoordinates(e))},mousemoved:function(t){var e=this._drawing.getGeometry().getCoordinates(),i=e[e.length-1],n=this.getSnappedCoordinate(t.coordinate,e,this._snap);this._sketch.getGeometry().setCoordinates([i,n])},finish:function(){this.disableClick(),this._sketch.getGeometry().setCoordinates([]),this.updateResults(),this._map.addInteraction(this._modify),this._drawing.getGeometry().on("change",this.updateResults,this)},reset:function(){this._drawing.getGeometry().un("change",this.updateResults,this),this._map.removeInteraction(this._modify),this.disableClick(),this._mapmodule.get("featureInfo").enableClick(),this._drawing.getGeometry().setCoordinates([]),this._sketch.getGeometry().setCoordinates([]),this._source.clear(),this._mapmodule.get("vectorLayers").getLayers().remove(this._layer),this._map.getInteractions().getArray().forEach(function(e){e instanceof t.interaction.DoubleClickZoom&&e.setActive(!0)})},getSnappedCoordinate:function(t,e,i){var n=t,s=this._map.getPixelFromCoordinate(t),o=this;return e.forEach(function(t){var e=o._map.getPixelFromCoordinate(t),r=Math.abs(e[0]-s[0]),a=Math.abs(e[1]-s[1]),h=Math.sqrt(r*r+a*a);i>=h&&(n=t)}),n},updateResults:function(){var e=this.formatLength(this._drawing.getGeometry()),i="Vahemaa: "+e,n=this._drawing.getGeometry().getCoordinates();if(n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]){var s=this.formatArea(new t.geom.Polygon([n]));i+="<br>Pindala: "+s}else i+="<br>Pindala: l√µpeta joone alguses";this._el.find("div").html(i)},formatLength:function(e){var i,n=t.Sphere.getLength(e);return i=n>1e4?Math.round(n/1e3*100)/100+" km":Math.round(100*n)/100+" m"},formatArea:function(e){var i,n=t.Sphere.getArea(e);return i=n>1e6?Math.round(n/1e6*100)/100+" km<sup>2</sup>":Math.round(100*n)/100+" m<sup>2</sup>"}},i}),define("app/service/contextmenu",[],function(){"use strict";function t(t){this._name="contextmenu",this._map=t.get("map"),this._mapmodule=t}return t.prototype={get:function(t){return this["_"+t]},init:function(t){var e=this;this._items=t,this.createUi(),this._map.on("click",function(t){this._popup.popover("destroy")},this),this._map.getViewport().addEventListener("contextmenu",function(t){t.preventDefault();var i,n=e._map.getEventCoordinate(t),s=e._map.forEachFeatureAtPixel(e._map.getEventPixel(t),function(t,e){return e?[e,t]:void 0});s&&s[1].getGeometry()instanceof ol.geom.Point?(n=s[1].getGeometry().getCoordinates(),i=e.getContent(n)):i=e.getContent(n),e.open(n,i)})},createUi:function(){this._popup=$('<div id="contextmenu"></div>'),this._overlay=new ol.Overlay({element:this._popup[0],autoPan:!0,autoPanMargin:50,positioning:"center-center",offset:[0,0]}),this._map.addOverlay(this._overlay)},open:function(t,e){this._popup.popover("destroy"),this._overlay.setPosition(t),this._popup.popover(e.definition),this._popup.on("shown.bs.popover",function(t){e.onShow(t)}),this._popup.on("hidden.bs.popover",e.onHide),this._popup.popover("show")},getContent:function(t){var e=this,i=this._items.map(function(e,i){var n='<i class="'+(e.icon?e.icon:"fa fa-chevron-circle-right")+'"></i>',s="function"==typeof e.content?e.content(t):e.content;return'<li class="list-group-item item-'+i+'">'+n+" "+s+"</li>"});return{definition:{placement:"right",animation:!1,html:!0,content:i.join(""),template:'<div class="popover contextmenu"><div class="arrow"></div><div class="popover-content small"></div></div>'},onShow:function(i){e._items.forEach(function(n,s){"function"==typeof n.onclick&&$(i.currentTarget.nextSibling).on("click",".item-"+s,function(s){i.preventDefault(),n.onclick(s,t),n.closeonclick&&e._popup.popover("destroy")})})},onHide:function(){}}}},t}),define("app/main",["jquery","config/settings","app/map","app/service/store","app/service/search/search","app/service/geocache","app/service/osm-edit","app/service/data-import","app/service/fullscreen","app/service/wms-layer","app/service/measure","app/service/contextmenu"],function(t,e,i,n,s,o,r,a,h,l,c,u){"use strict";function f(t){this._settings=t}f.prototype={get:function(t){return this["_"+t]},init:function(){}},t(function(){function p(){var e=t("body").height(),i=t("header").outerHeight(!0),n=t("footer").outerHeight(!0);t("body").find(".scrollable-menu").css("max-height",e-(i+n)+"px")}var d,g=new f(e);g.init(),g.store=new n(g),g.store.init(),g.mapmodule=new i(g.get("settings").map),g.mapmodule.init(),d=new r(t('.layerswitcher a[data-name="osm"]').closest("li"),g.mapmodule),g.wms=new l(t(".layerswitcher ul"),g.mapmodule),g.get("settings").map.geocodingEnabled&&(g.geocoding=new s(g.mapmodule),g.geocoding.init()),g.geocache=new o(g.get("settings").geocache,g.mapmodule),g.geocache.init(),g.dataimport=new a(g.mapmodule),g.fullscreen=new h(t(".btn-fullscreen")),g.get("settings").map.measureTool&&(g.measure=new c(g.mapmodule));var m=[{icon:"fa fa-map-marker",content:function(t){return ol.coordinate.format(g.mapmodule.transform("point",t,"EPSG:3857","EPSG:4326"),"{y}, {x}",5)},onclick:function(t,e){var i=ol.coordinate.format(g.mapmodule.transform("point",e,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);g.mapmodule.addMarker(e,{WGS84:i})},closeonclick:!0},{icon:"fa fa-street-view",content:function(t){var e=ol.coordinate.format(g.mapmodule.transform("point",t,"EPSG:3857","EPSG:4326"),"{y}, {x}",5);return'<a target="streetview" href="'+g.get("settings").streetview_url+e+'">Streetview</a>'}}];g.get("settings").map.measureTool&&m.push({icon:"gp-icon gp-icon-ruler",content:"M√µ√µda",onclick:function(t,e){g.measure.init(e)},closeonclick:!0}),g.contextmenu=new u(g.mapmodule),g.contextmenu.init(m),t("#statusbar a.info-toggle").on("click",function(e){e.preventDefault(),t("#statusbar .info").toggleClass("hidden")}),p(),t(window).on("resize",p)})});